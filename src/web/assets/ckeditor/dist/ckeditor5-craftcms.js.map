{"version":3,"file":"ckeditor5-craftcms.js","mappings":"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","sources":["webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/table.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/theme/todolist.css","webpack://CKEditor5.craftcms/../../../../../node_modules/css-loader/dist/runtime/api.js","webpack://CKEditor5.craftcms/delegated \"./src/clipboard.js\" from dll-reference CKEditor5.dll","webpack://CKEditor5.craftcms/delegated \"./src/icons.js\" from dll-reference CKEditor5.dll","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/theme/code.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/theme/linkimage.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imageuploadicon.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tableediting.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imageuploadloader.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/theme/linktoolbar.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/theme/linkproperties.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://CKEditor5.craftcms/delegated \"./src/core.js\" from dll-reference CKEditor5.dll","webpack://CKEditor5.craftcms/delegated \"./src/engine.js\" from dll-reference CKEditor5.dll","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-page-break/theme/pagebreak.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imageresize.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tablecaption.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-editor-classic/theme/classiceditor.css","webpack://CKEditor5.craftcms/delegated \"./src/undo.js\" from dll-reference CKEditor5.dll","webpack://CKEditor5.craftcms/../../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-heading/theme/heading.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/theme/listproperties.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-block-quote/theme/blockquote.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tablecellproperties.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tableselection.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/theme/datafilter.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembedediting.css","webpack://CKEditor5.craftcms/delegated \"./src/upload.js\" from dll-reference CKEditor5.dll","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imagestyle.css","webpack://CKEditor5.craftcms/../../../../../node_modules/ieee754/index.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaform.css","webpack://CKEditor5.craftcms/delegated \"./src/utils.js\" from dll-reference CKEditor5.dll","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imageinsert.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tablecolumnresize.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/formrow.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/components/form/form.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-code-block/theme/codeblock.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-find-and-replace/theme/findandreplace.css","webpack://CKEditor5.craftcms/delegated \"./src/paragraph.js\" from dll-reference CKEditor5.dll","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-find-and-replace/theme/findandreplaceform.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/theme/style.css","webpack://CKEditor5.craftcms/delegated \"./src/enter.js\" from dll-reference CKEditor5.dll","webpack://CKEditor5.craftcms/../../../../../node_modules/vue-style-loader/lib/listToStyles.js","webpack://CKEditor5.craftcms/../../../../../node_modules/vue-style-loader/lib/addStylesClient.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/theme/link.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/theme/liststyles.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tableform.css","webpack://CKEditor5.craftcms/../../../../../node_modules/buffer/index.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tablelayout.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tableproperties.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/theme/stylepanel.css","webpack://CKEditor5.craftcms/../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-source-editing/theme/sourceediting.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imageuploadprogress.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/theme/stylegroup.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imageplaceholder.css","webpack://CKEditor5.craftcms/delegated \"./src/ui.js\" from dll-reference CKEditor5.dll","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/theme/documentlist.css","webpack://CKEditor5.craftcms/../../../../../node_modules/base64-js/index.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/theme/list.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/inserttable.css","webpack://CKEditor5.craftcms/delegated \"./src/typing.js\" from dll-reference CKEditor5.dll","webpack://CKEditor5.craftcms/delegated \"./src/widget.js\" from dll-reference CKEditor5.dll","webpack://CKEditor5.craftcms/./ckeditor5-craftcms.css?48d2","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imagecaption.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/theme/fontsize.css","webpack://CKEditor5.craftcms/external var \"CKEditor5.dll\"","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembed.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/colorinput.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/theme/linkprovideritems.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/theme/linkform.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/textalternativeform.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-horizontal-line/theme/horizontalline.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/theme/stylegrid.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imagecustomresizeform.css","webpack://CKEditor5.craftcms/delegated \"./src/select-all.js\" from dll-reference CKEditor5.dll","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-embed/theme/htmlembed.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/image.css","webpack://CKEditor5.craftcms/webpack/bootstrap","webpack://CKEditor5.craftcms/webpack/runtime/compat get default export","webpack://CKEditor5.craftcms/webpack/runtime/define property getters","webpack://CKEditor5.craftcms/webpack/runtime/hasOwnProperty shorthand","webpack://CKEditor5.craftcms/webpack/runtime/make namespace object","webpack://CKEditor5.craftcms/webpack/runtime/nonce","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-alignment/src/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-alignment/src/alignmentcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-alignment/src/alignmentediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-alignment/src/alignmentui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-alignment/src/alignment.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/image/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imageutils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/autoimage.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imagetextalternative/imagetextalternativecommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imagetextalternative/imagetextalternativeediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/textalternativeform.css?f1b7","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css?8e9a","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/components/form/form.css?ff2b","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imagetextalternative/ui/textalternativeformview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/image/ui/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imagetextalternative/imagetextalternativeui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imagetextalternative.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/image/converters.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/image/imageloadobserver.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/image/insertimagecommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/image/replaceimagesourcecommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/image/imageediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imagesizeattributes.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/image/imagetypecommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imageplaceholder.css?1773","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/image/imageplaceholder.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/image/imageblockediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imageinsert.css?bf22","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imageinsert/ui/imageinsertformview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imageinsert/imageinsertui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/image.css?2a08","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imageblock.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/image/imageinlineediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imageinline.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/image.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imagecaption/imagecaptionutils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imagecaption/toggleimagecaptioncommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imagecaption/imagecaptionediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imagecaption/imagecaptionui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imagecaption.css?6974","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imagecaption.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imageuploadprogress.css?c3d4","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imageuploadicon.css?f008","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imageuploadloader.css?a46c","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imageupload/imageuploadprogress.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imageupload/uploadimagecommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imageupload/imageuploadediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imageinsert/ui/imageinserturlview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imageresize/resizeimagecommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imageresize/imageresizeediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imageresize/imageresizebuttons.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imagecustomresizeform.css?2166","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imageresize/ui/imagecustomresizeformview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imageresize.css?00ad","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imagestyle/imagestylecommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imagestyle/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imagestyle/converters.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imagestyle/imagestyleediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/es-toolkit/dist/compat/predicate/isObject.mjs","webpack://CKEditor5.craftcms/../../../../../node_modules/es-toolkit/dist/function/identity.mjs","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imagestyle.css?cf93","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imagestyle/imagestyleui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imagestyle.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imagetoolbar.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-autoformat/src/blockautoformatediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-autoformat/src/inlineautoformatediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-autoformat/src/autoformat.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-block-quote/src/blockquotecommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-block-quote/src/blockquoteediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-block-quote/theme/blockquote.css?45d6","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-block-quote/src/blockquoteui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-block-quote/src/blockquote.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/attributecommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/bold/boldediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/bold/boldui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/bold.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/code/codeediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/theme/code.css?6027","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/code/codeui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/code.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/italic/italicediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/italic/italicui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/italic.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/strikethrough/strikethroughediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/strikethrough/strikethroughui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/strikethrough.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/subscript/subscriptediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/subscript/subscriptui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/subscript.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/superscript/superscriptediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/superscript/superscriptui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/superscript.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/underline/underlineediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/underline/underlineui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/underline.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-editor-classic/src/classiceditorui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-editor-classic/theme/classiceditor.css?b7a5","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-editor-classic/src/classiceditoruiview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/es-toolkit/dist/compat/predicate/isObjectLike.mjs","webpack://CKEditor5.craftcms/../../../../../node_modules/es-toolkit/dist/compat/predicate/isPlainObject.mjs","webpack://CKEditor5.craftcms/../../../../../node_modules/es-toolkit/dist/compat/predicate/isElement.mjs","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-editor-classic/src/classiceditor.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-code-block/src/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-code-block/src/codeblockcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-code-block/src/indentcodeblockcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-code-block/src/outdentcodeblockcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-code-block/src/converters.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-code-block/src/codeblockediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-code-block/theme/codeblock.css?063e","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-code-block/src/codeblockui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-code-block/src/codeblock.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-essentials/src/essentials.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-find-and-replace/theme/findandreplaceform.css?7855","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-find-and-replace/src/ui/findandreplaceformview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-find-and-replace/src/findandreplaceui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-find-and-replace/src/findcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-find-and-replace/src/findandreplacestate.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-find-and-replace/src/replacecommandbase.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-find-and-replace/src/replacecommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-find-and-replace/src/replaceallcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-find-and-replace/src/findnextcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-find-and-replace/src/findpreviouscommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/es-toolkit/dist/compat/util/toString.mjs","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-find-and-replace/src/findandreplaceutils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/es-toolkit/dist/compat/string/escapeRegExp.mjs","webpack://CKEditor5.craftcms/../../../../../node_modules/es-toolkit/dist/string/escapeRegExp.mjs","webpack://CKEditor5.craftcms/../../../../../node_modules/es-toolkit/dist/compat/function/debounce.mjs","webpack://CKEditor5.craftcms/../../../../../node_modules/es-toolkit/dist/function/debounce.mjs","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-find-and-replace/theme/findandreplace.css?77b0","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-find-and-replace/src/findandreplaceediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-find-and-replace/src/findandreplace.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontfamily/fontfamilycommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontfamily/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontfamily/fontfamilyediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontfamily/fontfamilyui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontfamily.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontsize/fontsizecommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontsize/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontsize/fontsizeediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/theme/fontsize.css?f7bd","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontsize/fontsizeui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontsize.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontcolor/fontcolorcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontcolor/fontcolorediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/ui/colorui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontcolor/fontcolorui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontcolor.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontbackgroundcolor/fontbackgroundcolorcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontbackgroundcolor/fontbackgroundcolorediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontbackgroundcolor/fontbackgroundcolorui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontbackgroundcolor.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/font.js","webpack://CKEditor5.craftcms/../../../../../node_modules/es-toolkit/dist/compat/_internal/getSymbols.mjs","webpack://CKEditor5.craftcms/../../../../../node_modules/es-toolkit/dist/compat/_internal/getTag.mjs","webpack://CKEditor5.craftcms/../../../../../node_modules/es-toolkit/dist/compat/_internal/tags.mjs","webpack://CKEditor5.craftcms/../../../../../node_modules/es-toolkit/dist/predicate/isPrimitive.mjs","webpack://CKEditor5.craftcms/../../../../../node_modules/es-toolkit/dist/predicate/isTypedArray.mjs","webpack://CKEditor5.craftcms/../../../../../node_modules/es-toolkit/dist/object/cloneDeepWith.mjs","webpack://CKEditor5.craftcms/../../../../../node_modules/es-toolkit/dist/compat/object/cloneDeep.mjs","webpack://CKEditor5.craftcms/../../../../../node_modules/es-toolkit/dist/compat/object/cloneDeepWith.mjs","webpack://CKEditor5.craftcms/../../../../../node_modules/es-toolkit/dist/string/words.mjs","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/es-toolkit/dist/compat/string/startCase.mjs","webpack://CKEditor5.craftcms/../../../../../node_modules/es-toolkit/dist/compat/_internal/normalizeForCase.mjs","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/converters.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/schemadefinitions.js","webpack://CKEditor5.craftcms/../../../../../node_modules/es-toolkit/dist/compat/predicate/isArguments.mjs","webpack://CKEditor5.craftcms/../../../../../node_modules/es-toolkit/dist/compat/object/mergeWith.mjs","webpack://CKEditor5.craftcms/../../../../../node_modules/es-toolkit/dist/object/clone.mjs","webpack://CKEditor5.craftcms/../../../../../node_modules/es-toolkit/dist/compat/predicate/isTypedArray.mjs","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/dataschema.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/theme/datafilter.css?8703","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/datafilter.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/integrations/codeblock.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/integrations/dualcontent.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/integrations/heading.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/integrations/integrationutils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/integrations/image.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/integrations/mediaembed.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/integrations/script.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/integrations/table.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/integrations/style.js","webpack://CKEditor5.craftcms/../../../../../node_modules/es-toolkit/dist/predicate/isPlainObject.mjs","webpack://CKEditor5.craftcms/../../../../../node_modules/es-toolkit/dist/predicate/isEqualWith.mjs","webpack://CKEditor5.craftcms/../../../../../node_modules/es-toolkit/dist/compat/util/eq.mjs","webpack://CKEditor5.craftcms/../../../../../node_modules/es-toolkit/dist/function/noop.mjs","webpack://CKEditor5.craftcms/../../../../../node_modules/es-toolkit/dist/predicate/isEqual.mjs","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/integrations/list.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/integrations/horizontalline.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/integrations/customelement.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/generalhtmlsupport.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/htmlcomment.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/htmlpagedataprocessor.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/fullpage.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-heading/src/headingcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-heading/src/headingediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-heading/theme/heading.css?ec3c","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-heading/src/headingui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-heading/src/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-heading/src/heading.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-heading/src/title.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-horizontal-line/src/horizontallinecommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-horizontal-line/theme/horizontalline.css?a24e","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-horizontal-line/src/horizontallineediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-horizontal-line/src/horizontallineui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-horizontal-line/src/horizontalline.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-embed/src/htmlembedcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-embed/theme/htmlembed.css?c2fd","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-embed/src/htmlembedediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-embed/src/htmlembedui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-embed/src/htmlembed.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-indent/src/indentediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-indent/src/indentui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-indent/src/indent.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-indent/src/indentblockcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-indent/src/indentcommandbehavior/indentusingoffset.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-indent/src/indentcommandbehavior/indentusingclasses.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-indent/src/indentblock.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/src/utils/automaticdecorators.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/src/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/src/linkcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/src/unlinkcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/src/utils/manualdecorator.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/theme/link.css?bbf9","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/src/linkediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/es-toolkit/dist/compat/string/upperFirst.mjs","webpack://CKEditor5.craftcms/../../../../../node_modules/es-toolkit/dist/string/upperFirst.mjs","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/src/ui/linkpreviewbuttonview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/theme/linkform.css?4dae","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/src/ui/linkformview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-icons/theme/icons/previous-arrow.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/theme/linkprovideritems.css?3806","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/src/ui/linkprovideritemsview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/theme/linkproperties.css?d55e","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/src/ui/linkpropertiesview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/src/ui/linkbuttonview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-icons/theme/icons/next-arrow.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/theme/linktoolbar.css?7c1c","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/src/linkui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/src/autolink.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/src/linkimageediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/src/linkimageui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/theme/linkimage.css?64e1","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/src/linkimage.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/list/utils/listwalker.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/list/utils/model.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/list/listindentcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/list/listcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/list/listmergecommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/list/listsplitcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/list/listutils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/list/utils/view.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/list/utils/postfixers.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/list/converters.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/theme/documentlist.css?94cb","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/theme/list.css?8a64","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/list/listediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/list/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/list/listui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/list.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/listproperties/liststartcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/listproperties/utils/style.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/listproperties/liststylecommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/listproperties/listreversedcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/listproperties/converters.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/listproperties/listpropertiesutils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/listproperties/utils/config.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/listproperties/listpropertiesediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/theme/listproperties.css?590c","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/listproperties/ui/listpropertiesview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/theme/liststyles.css?d1ec","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/listproperties/listpropertiesui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/listproperties.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/todolist/checktodolistcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/todolist/todocheckboxchangeobserver.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/todolist/todolistediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/todolist/todolistui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/theme/todolist.css?f9e8","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/todolist.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-media-embed/src/converters.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-media-embed/src/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/legacylist/legacylistcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/legacylist/legacyindentcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/legacylist/legacylistutils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/legacylist/legacylistediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/legacylistproperties/legacyliststylecommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/legacylistproperties/legacylistreversedcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/legacylistproperties/legacyliststartcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/legacylistproperties/legacylistpropertiesediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/legacytodolist/legacychecktodolistcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/documentlist.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/documentlistproperties.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/tododocumentlist.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-media-embed/src/mediaembedcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-media-embed/src/mediaregistry.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembedediting.css?6332","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-media-embed/src/mediaembedediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-media-embed/src/automediaembed.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaform.css?17fd","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-media-embed/src/ui/mediaformview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-media-embed/src/mediaembedui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembed.css?17ad","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-media-embed/src/mediaembed.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-media-embed/src/mediaembedtoolbar.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-page-break/src/pagebreakcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-page-break/theme/pagebreak.css?0ad9","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-page-break/src/pagebreakediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-page-break/src/pagebreakui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-page-break/src/pagebreak.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-paste-from-office/src/filters/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-paste-from-office/src/filters/list.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-paste-from-office/src/normalizers/mswordnormalizer.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-paste-from-office/src/filters/bookmark.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-paste-from-office/src/filters/image.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-paste-from-office/src/filters/removemsattributes.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-paste-from-office/src/filters/br.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-paste-from-office/src/normalizers/googledocsnormalizer.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-paste-from-office/src/filters/removeboldwrapper.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-paste-from-office/src/normalizers/googlesheetsnormalizer.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-paste-from-office/src/filters/removegooglesheetstag.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-paste-from-office/src/filters/removexmlns.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-paste-from-office/src/filters/removeinvalidtablewidth.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-paste-from-office/src/filters/removestyleblock.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-paste-from-office/src/filters/space.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-paste-from-office/src/pastefromoffice.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-paste-from-office/src/filters/parse.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-remove-format/src/removeformatui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-remove-format/src/removeformatcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-remove-format/src/removeformatediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-remove-format/src/removeformat.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-source-editing/src/utils/formathtml.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-source-editing/theme/sourceediting.css?df84","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-source-editing/src/sourceediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/src/ui/stylegridbuttonview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/theme/stylegrid.css?9e24","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/src/ui/stylegridview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/theme/stylegroup.css?e9c7","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/src/ui/stylegroupview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/theme/stylepanel.css?705c","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/src/ui/stylepanelview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/src/styleutils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/theme/style.css?472b","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/src/styleui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/src/stylecommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/src/integrations/list.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/src/integrations/table.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/src/integrations/link.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/src/styleediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/src/style.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/converters/tableproperties.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/utils/common.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/converters/upcasttable.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablewalker.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/converters/downcast.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/commands/inserttablecommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/commands/insertrowcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/commands/insertcolumncommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/commands/splitcellcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/utils/structure.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/commands/mergecellcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/commands/removerowcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/commands/removecolumncommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/commands/setheaderrowcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/commands/setheadercolumncommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecolumnresize/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tableutils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/commands/mergecellscommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/commands/selectrowcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/commands/selectcolumncommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/converters/table-layout-post-fixer.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/converters/table-cell-paragraph-post-fixer.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/converters/table-cell-refresh-handler.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tableediting.css?4d2c","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tableediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/converters/table-headings-refresh-handler.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/inserttable.css?d21b","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/ui/inserttableview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tableui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tableselection.css?e446","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tableselection.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tableclipboard.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablekeyboard.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablemouse/mouseeventsobserver.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablemouse.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/table.css?8c43","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/table.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/utils/ui/widget.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tabletoolbar.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/colorinput.css?fb43","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/ui/colorinputview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/utils/ui/table-properties.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/formrow.css?709e","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tableform.css?a063","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tablecellproperties.css?5640","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecellproperties/ui/tablecellpropertiesview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/utils/ui/contextualballoon.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/utils/table-properties.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecellproperties/tablecellpropertiesui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecellproperties/commands/tablecellpropertycommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecellwidth/commands/tablecellwidthcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecellwidth/tablecellwidthediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecellproperties/commands/tablecellpaddingcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecellproperties/commands/tablecellheightcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecellproperties/commands/tablecellbackgroundcolorcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecellproperties/commands/tablecellverticalalignmentcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecellproperties/commands/tablecellhorizontalalignmentcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecellproperties/commands/tablecellborderstylecommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecellproperties/commands/tablecellbordercolorcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecellproperties/commands/tablecellborderwidthcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecellproperties/tablecellpropertiesediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecellproperties.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecolumnresize/tablewidthscommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecolumnresize/tablecolumnresizeediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tablecolumnresize.css?db84","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tablelayout.css?dd32","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tableproperties/commands/tablepropertycommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tableproperties/commands/tablebackgroundcolorcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tableproperties/commands/tablebordercolorcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tableproperties/commands/tableborderstylecommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tableproperties/commands/tableborderwidthcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tableproperties/commands/tablewidthcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tableproperties/commands/tableheightcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tableproperties/commands/tablealignmentcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tableproperties/tablepropertiesediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tableproperties.css?fb86","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tableproperties/ui/tablepropertiesview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tableproperties/tablepropertiesui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tableproperties.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecaption/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecaption/toggletablecaptioncommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecaption/tablecaptionediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/converters/table-caption-post-fixer.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecaption/tablecaptionui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tablecaption.css?8b74","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecaption.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-word-count/src/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-word-count/src/wordcount.js","webpack://CKEditor5.craftcms/../../../../../node_modules/es-toolkit/dist/compat/function/throttle.mjs","webpack://CKEditor5.craftcms/./image/imageinsert/imageinsertui.js","webpack://CKEditor5.craftcms/./link/linkui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-icons/theme/icons/link.svg","webpack://CKEditor5.craftcms/./image/imagetransform/transformimagecommand.js","webpack://CKEditor5.craftcms/./image/imagetransform/imagetransformediting.js","webpack://CKEditor5.craftcms/./image/imagetransform/imagetransformui.js","webpack://CKEditor5.craftcms/./image/imagetransform.js","webpack://CKEditor5.craftcms/./image/imageeditor/imageeditorcommand.js","webpack://CKEditor5.craftcms/./image/imageeditor/imageeditorediting.js","webpack://CKEditor5.craftcms/./image/imageeditor/imageeditorui.js","webpack://CKEditor5.craftcms/./image/imageeditor.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-language/src/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-language/src/textpartlanguagecommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-language/src/textpartlanguageediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-language/src/textpartlanguageui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-language/src/textpartlanguage.js","webpack://CKEditor5.craftcms/./ckeditor5-craftcms.js"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-content figure.table:not(.layout-table){display:table}.ck-content figure.table:not(.layout-table)>table{height:100%;width:100%}.ck-content figure.table:not(.layout-table),.ck-content table.table:not(.layout-table){margin:.9em auto}.ck-content figure.table:not(.layout-table)>table,.ck-content table.table:not(.layout-table){border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0}.ck-content figure.table:not(.layout-table)>table>tbody>tr>th,.ck-content figure.table:not(.layout-table)>table>thead>tr>th,.ck-content table.table:not(.layout-table)>tbody>tr>th,.ck-content table.table:not(.layout-table)>thead>tr>th{background:rgba(0,0,0,.05);font-weight:700}.ck-content figure.table:not(.layout-table)>table>tbody>tr>td,.ck-content figure.table:not(.layout-table)>table>tbody>tr>th,.ck-content figure.table:not(.layout-table)>table>thead>tr>td,.ck-content figure.table:not(.layout-table)>table>thead>tr>th,.ck-content table.table:not(.layout-table)>tbody>tr>td,.ck-content table.table:not(.layout-table)>tbody>tr>th,.ck-content table.table:not(.layout-table)>thead>tr>td,.ck-content table.table:not(.layout-table)>thead>tr>th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}@media print{.ck-content figure.table>table{height:auto}}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-table/theme/table.css\"],\"names\":[],\"mappings\":\"AAQC,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,4CACC,aAMD,CAJC,kDAEC,WAAY,CADZ,UAED,CAGD,uFAKC,gBACD,CAEA,6FAQC,yBAAkC,CALlC,wBAAyB,CACzB,gBA+BD,CAlBG,0OAEC,0BAA+B,CAD/B,eAED,CAEA,odASC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAiBJ,aACC,+BACC,WACD,CACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n.ck-content {\\n\\t/* Text alignment of the table header should match the editor settings and override the native browser styling,\\n\\twhen content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */\\n\\t&[dir=\\\"rtl\\\"] .table th {\\n\\t\\ttext-align: right;\\n\\t}\\n\\n\\t&[dir=\\\"ltr\\\"] .table th {\\n\\t\\ttext-align: left;\\n\\t}\\n\\n\\t& figure.table:not(.layout-table) {\\n\\t\\tdisplay: table;\\n\\n\\t\\t& > table {\\n\\t\\t\\twidth: 100%;\\n\\t\\t\\theight: 100%;\\n\\t\\t}\\n\\t}\\n\\n\\t& figure.table:not(.layout-table),\\n\\t& table.table:not(.layout-table) {\\n\\t\\t/* Give the table widget some air and center it horizontally */\\n\\t\\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\\n\\t\\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\\n\\t\\tmargin: 0.9em auto;\\n\\t}\\n\\n\\t& table.table:not(.layout-table),\\n\\t& figure.table:not(.layout-table) > table {\\n\\t\\t/* The table cells should have slight borders */\\n\\t\\tborder-collapse: collapse;\\n\\t\\tborder-spacing: 0;\\n\\n\\t\\t/* The outer border of the table should be slightly darker than the inner lines.\\n\\t\\tAlso see https://github.com/ckeditor/ckeditor5-table/issues/50. */\\n\\t\\tborder: 1px double hsl(0, 0%, 70%);\\n\\n\\t\\t& > thead,\\n\\t\\t& > tbody {\\n\\t\\t\\t/* The linter is disabled here because linter is confused when resolving the `table.table:not(.layout-table)`\\n\\t\\t\\tand `figure.table:not(.layout-table) > table` selectors combined with below selectors.\\n\\t\\t\\tThere is no need to split it into two large structures with same code just to make linter happy. */\\n\\t\\t\\t/* stylelint-disable no-descending-specificity */\\n\\t\\t\\t& > tr {\\n\\t\\t\\t\\t& > th {\\n\\t\\t\\t\\t\\tfont-weight: bold;\\n\\t\\t\\t\\t\\tbackground: hsla(0, 0%, 0%, 5%);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t& > td,\\n\\t\\t\\t\\t& > th {\\n\\t\\t\\t\\t\\t/* stylelint-enable no-descending-specificity */\\n\\t\\t\\t\\t\\tmin-width: 2em;\\n\\t\\t\\t\\t\\tpadding: .4em;\\n\\n\\t\\t\\t\\t\\t/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.\\n\\t\\t\\t\\t\\tHowever, the border is a content style, so it should use .ck-content (so it works outside the editor).\\n\\t\\t\\t\\t\\tHence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */\\n\\t\\t\\t\\t\\tborder: 1px solid hsl(0, 0%, 75%);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\\n/**\\n * Expanding the table to the full height of the parent container is necessary because tables\\n * are rendered inside <figure> elements, which is kinda buggy in table height calculation.\\n * While setting `height: 100%` fixes the issue in the editing mode described here:\\n * https://github.com/ckeditor/ckeditor5/issues/6186\\n *\\n * it's causing another issue with the table height in the print preview mode here:\\n * https://github.com/ckeditor/ckeditor5/issues/16856\\n *\\n * For now, resetting the height to `initial` in the print mode works as a workaround.\\n */\\n@media print {\\n\\t.ck-content figure.table > table {\\n\\t\\theight: initial;\\n\\t}\\n}\\n\\n.ck-editor__editable .ck-table-bogus-paragraph {\\n\\t/*\\n\\t * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.\\n\\t * See https://github.com/ckeditor/ckeditor5/issues/6062.\\n\\t */\\n\\tdisplay: inline-block;\\n\\n\\t/*\\n\\t * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.\\n\\t * See https://github.com/ckeditor/ckeditor5/issues/9117.\\n\\t */\\n\\twidth: 100%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size);[dir=rtl]&{left:0;margin-left:-15px;margin-right:0;right:-25px}}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:\\\"\\\";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-content .todo-list .todo-list__label>input:before{transition:none}}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:\\\"\\\";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size);[dir=rtl]&{left:0;margin-left:-15px;margin-right:0;right:-25px}}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:\\\"\\\";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{transition:none}}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:\\\"\\\";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-list/theme/todolist.css\"],\"names\":[],\"mappings\":\"AAKA,MACC,kCACD,CA4EA,uBACC,eAwBD,CAtBC,0BAEC,iBAAkB,CADlB,iBAMD,CAHC,qCACC,cACD,CAIA,+CAtFD,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAAyC,CAczC,WACC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAED,CAkEC,CAhED,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sDAYE,eAEF,CADC,CAGD,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAwBA,wEACC,qBACD,CAEA,mGACC,iBACD,CAYD,kKAEC,cAKD,CAHC,4LACC,mCACD,CAMD,+FAxHA,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAAyC,CAczC,WACC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAED,CAoGA,CAlGA,sGAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sGAYE,eAEF,CADC,CAGD,qGAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+GACC,kBAA8B,CAC9B,oBACD,CAEA,8GACC,iBACD,CA2DA,uHACC,iBACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n:root {\\n\\t--ck-todo-list-checkmark-size: 16px;\\n}\\n\\n@define-mixin todo-list-checkbox {\\n\\t-webkit-appearance: none;\\n\\tdisplay: inline-block;\\n\\tposition: relative;\\n\\twidth: var(--ck-todo-list-checkmark-size);\\n\\theight: var(--ck-todo-list-checkmark-size);\\n\\tvertical-align: middle;\\n\\n\\t/* Needed on iOS */\\n\\tborder: 0;\\n\\n\\t/* LTR styles */\\n\\tleft: -25px;\\n\\tmargin-right: -15px;\\n\\tright: 0;\\n\\tmargin-left: 0;\\n\\n\\t/* RTL styles */\\n\\t[dir=rtl]& {\\n\\t\\tleft: 0;\\n\\t\\tmargin-right: 0;\\n\\t\\tright: -25px;\\n\\t\\tmargin-left: -15px;\\n\\t}\\n\\n\\t&::before {\\n\\t\\tdisplay: block;\\n\\t\\tposition: absolute;\\n\\t\\tbox-sizing: border-box;\\n\\t\\tcontent: '';\\n\\t\\twidth: 100%;\\n\\t\\theight: 100%;\\n\\t\\tborder: 1px solid hsl(0, 0%, 20%);\\n\\t\\tborder-radius: 2px;\\n\\t\\ttransition: 250ms ease-in-out box-shadow;\\n\\n\\t\\t@media (prefers-reduced-motion: reduce) {\\n\\t\\t\\ttransition: none;\\n\\t\\t}\\n\\t}\\n\\n\\t&::after {\\n\\t\\tdisplay: block;\\n\\t\\tposition: absolute;\\n\\t\\tbox-sizing: content-box;\\n\\t\\tpointer-events: none;\\n\\t\\tcontent: '';\\n\\n\\t\\t/* Calculate tick position, size and border-width proportional to the checkmark size. */\\n\\t\\tleft: calc( var(--ck-todo-list-checkmark-size) / 3 );\\n\\t\\ttop: calc( var(--ck-todo-list-checkmark-size) / 5.3 );\\n\\t\\twidth: calc( var(--ck-todo-list-checkmark-size) / 5.3 );\\n\\t\\theight: calc( var(--ck-todo-list-checkmark-size) / 2.6 );\\n\\t\\tborder-style: solid;\\n\\t\\tborder-color: transparent;\\n\\t\\tborder-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;\\n\\t\\ttransform: rotate(45deg);\\n\\t}\\n\\n\\t&[checked] {\\n\\t\\t&::before {\\n\\t\\t\\tbackground: hsl(126, 64%, 41%);\\n\\t\\t\\tborder-color: hsl(126, 64%, 41%);\\n\\t\\t}\\n\\n\\t\\t&::after {\\n\\t\\t\\tborder-color: hsl(0, 0%, 100%);\\n\\t\\t}\\n\\t}\\n}\\n\\n/*\\n * To-do list content styles.\\n */\\n.ck-content .todo-list {\\n\\tlist-style: none;\\n\\n\\t& li {\\n\\t\\tposition: relative;\\n\\t\\tmargin-bottom: 5px;\\n\\n\\t\\t& .todo-list {\\n\\t\\t\\tmargin-top: 5px;\\n\\t\\t}\\n\\t}\\n\\n\\t& .todo-list__label {\\n\\t\\t& > input {\\n\\t\\t\\t@mixin todo-list-checkbox;\\n\\t\\t}\\n\\n\\t\\t& .todo-list__label__description {\\n\\t\\t\\tvertical-align: middle;\\n\\t\\t}\\n\\n\\t\\t&.todo-list__label_without-description input[type=checkbox] {\\n\\t\\t\\tposition: absolute;\\n\\t\\t}\\n\\t}\\n}\\n\\n/*\\n * To-do list editing view styles.\\n */\\n.ck-editor__editable.ck-content .todo-list .todo-list__label {\\n\\t/*\\n\\t * To-do list should be interactive only during the editing\\n\\t * (https://github.com/ckeditor/ckeditor5/issues/2090).\\n\\t */\\n\\t& > input,\\n\\t& > span[contenteditable=false] > input {\\n\\t\\tcursor: pointer;\\n\\n\\t\\t&:hover::before {\\n\\t\\t\\tbox-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);\\n\\t\\t}\\n\\t}\\n\\n\\t/*\\n\\t * Document Lists - editing view has an additional span around checkbox.\\n\\t */\\n\\t& > span[contenteditable=false] > input {\\n\\t\\t@mixin todo-list-checkbox;\\n\\t}\\n\\n\\t&.todo-list__label_without-description {\\n\\t\\t& input[type=checkbox] {\\n\\t\\t\\tposition: absolute;\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join(\"\");\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === \"string\") {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, \"\"]];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};","module.exports = (__webpack_require__(9237))(\"./src/clipboard.js\");","module.exports = (__webpack_require__(9237))(\"./src/icons.js\");","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/theme/code.css\"],\"names\":[],\"mappings\":\"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n.ck-content code {\\n\\tbackground-color: hsla(0, 0%, 78%, 0.3);\\n\\tpadding: .15em;\\n\\tborder-radius: 2px;\\n}\\n\\n.ck.ck-editor__editable .ck-code_selected  {\\n\\tbackground-color: hsla(0, 0%, 78%, 0.5);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url(\\\"data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+\\\");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:\\\"\\\";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-link/theme/linkimage.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css\"],\"names\":[],\"mappings\":\"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,83BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n.ck.ck-editor__editable {\\n\\t/* Linked image indicator */\\n\\t& figure.image > a,\\n\\t& a span.image-inline {\\n\\t\\t&::after {\\n\\t\\t\\tdisplay: block;\\n\\t\\t\\tposition: absolute;\\n\\t\\t}\\n\\t}\\n}\\n\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n:root {\\n\\t/* Match the icon size with the upload indicator brought by the image upload feature. */\\n\\t--ck-link-image-indicator-icon-size: 20;\\n\\t--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);\\n}\\n\\n.ck.ck-editor__editable {\\n\\t/* Linked image indicator */\\n\\t& figure.image > a,\\n\\t& a span.image-inline {\\n\\t\\t&::after {\\n\\t\\t\\tcontent: \\\"\\\";\\n\\n\\t\\t\\t/*\\n\\t\\t\\t * Smaller images should have the icon closer to the border.\\n\\t\\t\\t * Match the icon position with the upload indicator brought by the image upload feature.\\n\\t\\t\\t */\\n\\t\\t\\ttop: min(var(--ck-spacing-medium), 6%);\\n\\t\\t\\tright: min(var(--ck-spacing-medium), 6%);\\n\\n\\t\\t\\tbackground-color: hsla(0, 0%, 0%, .4);\\n\\t\\t\\tbackground-image: url(\\\"data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+\\\");\\n\\t\\t\\tbackground-size: 14px;\\n\\t\\t\\tbackground-repeat: no-repeat;\\n\\t\\t\\tbackground-position: center;\\n\\t\\t\\tborder-radius: 100%;\\n\\n\\t\\t\\t/*\\n\\t\\t\\t* Use CSS math to simulate container queries.\\n\\t\\t\\t* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things\\n\\t\\t\\t*/\\n\\t\\t\\toverflow: hidden;\\n\\t\\t\\twidth: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));\\n\\t\\t\\theight: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));\\n\\t\\t}\\n\\t}\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:\\\"\\\";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@media (prefers-reduced-motion:reduce){.ck-image-upload-complete-icon{animation-duration:0ms}.ck-image-upload-complete-icon:after{animation:none;height:.45em;opacity:1;width:.3em}}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imageuploadicon.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css\"],\"names\":[],\"mappings\":\"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFAqCD,CAjCC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAEA,uCA7CD,+BA8CE,sBASF,CAPE,qCACC,cAAe,CAGf,YAAc,CAFd,SAAU,CACV,UAED,CACD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n.ck-image-upload-complete-icon {\\n\\tdisplay: block;\\n\\tposition: absolute;\\n\\n\\t/*\\n\\t * Smaller images should have the icon closer to the border.\\n\\t * Match the icon position with the linked image indicator brought by the link image feature.\\n\\t */\\n\\ttop: min(var(--ck-spacing-medium), 6%);\\n\\tright: min(var(--ck-spacing-medium), 6%);\\n\\tborder-radius: 50%;\\n\\tz-index: 1;\\n\\n\\t&::after {\\n\\t\\tcontent: \\\"\\\";\\n\\t\\tposition: absolute;\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n:root {\\n\\t--ck-color-image-upload-icon: hsl(0, 0%, 100%);\\n\\t--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);\\n\\n\\t/* Match the icon size with the linked image indicator brought by the link image feature. */\\n\\t--ck-image-upload-icon-size: 20;\\n\\t--ck-image-upload-icon-width: 2px;\\n\\t--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);\\n}\\n\\n.ck-image-upload-complete-icon {\\n\\topacity: 0;\\n\\tbackground: var(--ck-color-image-upload-icon-background);\\n\\tanimation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;\\n\\tanimation-fill-mode: forwards, forwards;\\n\\tanimation-duration: 500ms, 500ms;\\n\\n\\t/* To make animation scalable. */\\n\\tfont-size: calc(1px * var(--ck-image-upload-icon-size));\\n\\n\\t/* Hide completed upload icon after 3 seconds. */\\n\\tanimation-delay: 0ms, 3000ms;\\n\\n\\t/*\\n\\t * Use CSS math to simulate container queries.\\n\\t * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things\\n\\t */\\n\\toverflow: hidden;\\n\\twidth: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));\\n\\theight: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));\\n\\n\\t/* This is check icon element made from border-width mixed with animations. */\\n\\t&::after {\\n\\t\\t/* Because of border transformation we need to \\\"hard code\\\" left position. */\\n\\t\\tleft: 25%;\\n\\n\\t\\ttop: 50%;\\n\\t\\topacity: 0;\\n\\t\\theight: 0;\\n\\t\\twidth: 0;\\n\\n\\t\\ttransform: scaleX(-1) rotate(135deg);\\n\\t\\ttransform-origin: left top;\\n\\t\\tborder-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);\\n\\t\\tborder-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);\\n\\n\\t\\tanimation-name: ck-upload-complete-icon-check;\\n\\t\\tanimation-duration: 500ms;\\n\\t\\tanimation-delay: 500ms;\\n\\t\\tanimation-fill-mode: forwards;\\n\\n\\t\\t/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */\\n\\t\\tbox-sizing: border-box;\\n\\t}\\n\\n\\t@media (prefers-reduced-motion: reduce) {\\n\\t\\tanimation-duration: 0ms;\\n\\n\\t\\t&::after {\\n\\t\\t\\tanimation: none;\\n\\t\\t\\topacity: 1;\\n\\t\\t\\twidth: 0.3em;\\n\\t\\t\\theight: 0.45em;\\n\\t\\t}\\n\\t}\\n}\\n\\n@keyframes ck-upload-complete-icon-show {\\n\\tfrom {\\n\\t\\topacity: 0;\\n\\t}\\n\\n\\tto {\\n\\t\\topacity: 1;\\n\\t}\\n}\\n\\n@keyframes ck-upload-complete-icon-hide {\\n\\tfrom {\\n\\t\\topacity: 1;\\n\\t}\\n\\n\\tto {\\n\\t\\topacity: 0;\\n\\t}\\n}\\n\\n@keyframes ck-upload-complete-icon-check {\\n\\t0% {\\n\\t\\topacity: 1;\\n\\t\\twidth: 0;\\n\\t\\theight: 0;\\n\\t}\\n\\t33% {\\n\\t\\twidth: 0.3em;\\n\\t\\theight: 0;\\n\\t}\\n\\t100% {\\n\\t\\topacity: 1;\\n\\t\\twidth: 0.3em;\\n\\t\\theight: 0.45em;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css\"],\"names\":[],\"mappings\":\"AAKA,MACC,gEACD,CAWE,8QAGC,2DAA4D,CAC5D,8CAA+C,CAC/C,mBACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n:root {\\n\\t--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);\\n}\\n\\n.ck-widget.table {\\n\\t& td,\\n\\t& th {\\n\\t\\t/**\\n\\t\\t * While setting outline is fine, the border should not be modified here\\n\\t\\t * because it overrides the default table cell border color which is not expected.\\n\\t\\t * So do not use `@mixin ck-focus-ring;` here, or any other border styles.\\n\\t\\t * See more: https://github.com/ckeditor/ckeditor5/issues/16979\\n\\t\\t */\\n\\t\\t&.ck-editor__nested-editable.ck-editor__nested-editable_focused,\\n\\t\\t&.ck-editor__nested-editable:focus {\\n\\t\\t\\t/* A very slight background to highlight the focused cell */\\n\\t\\t\\tbackground: var(--ck-color-selector-focused-cell-background);\\n\\t\\t\\toutline: 1px solid var(--ck-color-focus-border);\\n\\t\\t\\toutline-offset: -1px; /* progressive enhancement - no IE support */\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:\\\"\\\";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imageuploadloader.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css\"],\"names\":[],\"mappings\":\"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n.ck .ck-upload-placeholder-loader {\\n\\tposition: absolute;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\ttop: 0;\\n\\tleft: 0;\\n\\n\\t&::before {\\n\\t\\tcontent: '';\\n\\t\\tposition: relative;\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n:root {\\n\\t--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);\\n\\t--ck-upload-placeholder-loader-size: 32px;\\n\\t--ck-upload-placeholder-image-aspect-ratio: 2.8;\\n}\\n\\n.ck .ck-image-upload-placeholder {\\n\\t/* We need to control the full width of the SVG gray background. */\\n\\twidth: 100%;\\n\\tmargin: 0;\\n\\n\\t&.image-inline {\\n\\t\\twidth: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );\\n\\t}\\n\\n\\t& img {\\n\\t\\t/*\\n\\t\\t * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.\\n\\t\\t * There's nothing special about this number except that it should make the image placeholder look like\\n\\t\\t * a real image during this short period after the upload started and before the image was read from the\\n\\t\\t * file system (and a rich preview was loaded).\\n\\t\\t */\\n\\t\\taspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);\\n\\t}\\n}\\n\\n.ck .ck-upload-placeholder-loader {\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\n\\t&::before {\\n\\t\\twidth: var(--ck-upload-placeholder-loader-size);\\n\\t\\theight: var(--ck-upload-placeholder-loader-size);\\n\\t\\tborder-radius: 50%;\\n\\t\\tborder-top: 3px solid var(--ck-color-upload-placeholder-loader);\\n\\t\\tborder-right: 2px solid transparent;\\n\\t\\tanimation: ck-upload-placeholder-loader 1s linear infinite;\\n\\t}\\n}\\n\\n@keyframes ck-upload-placeholder-loader {\\n\\tto {\\n\\t\\ttransform: rotate( 360deg );\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-link-toolbar__preview{display:inline-block}.ck.ck-link-toolbar__preview .ck-button__label{overflow:hidden}:root{--ck-link-bookmark-icon-size:calc(var(--ck-icon-size)*0.7)}.ck.ck-toolbar.ck-link-toolbar>.ck-toolbar__items{flex-wrap:nowrap}a.ck.ck-button.ck-link-toolbar__preview{color:var(--ck-color-link-default);cursor:pointer;justify-content:center;padding:0 var(--ck-spacing-medium)}a.ck.ck-button.ck-link-toolbar__preview .ck.ck-button__label{max-width:var(--ck-input-width);text-overflow:ellipsis}a.ck.ck-button.ck-link-toolbar__preview,a.ck.ck-button.ck-link-toolbar__preview:active,a.ck.ck-button.ck-link-toolbar__preview:focus,a.ck.ck-button.ck-link-toolbar__preview:hover{background:none}a.ck.ck-button.ck-link-toolbar__preview:active{box-shadow:none}a.ck.ck-button.ck-link-toolbar__preview:focus,a.ck.ck-button.ck-link-toolbar__preview:hover{text-decoration:underline}a.ck.ck-button.ck-link-toolbar__preview.ck-button_with-text .ck.ck-icon.ck-button__icon{height:var(--ck-link-bookmark-icon-size);width:var(--ck-link-bookmark-icon-size);[dir=ltr] &{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-tiny)}[dir=rtl] &{margin-left:var(--ck-spacing-tiny);margin-right:var(--ck-spacing-small)}}a.ck.ck-button.ck-link-toolbar__preview:has(.ck-icon){padding-left:var(--ck-spacing-extra-tiny )}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-link/theme/linktoolbar.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linktoolbar.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_dir.css\"],\"names\":[],\"mappings\":\"AAKA,6BACC,oBAKD,CAHC,+CACC,eACD,CCHD,MACC,0DACD,CAGC,kDACC,gBACD,CAGD,wCAEC,kCAAmC,CACnC,cAAe,CACf,sBAAuB,CAHvB,kCA+CD,CA1CC,6DAKC,+BAAgC,CAJhC,sBAKD,CAEA,mLAIC,eACD,CAEA,+CACC,eACD,CAEA,4FAEC,yBACD,CAEA,wFAEC,wCAAyC,CADzC,uCAAwC,CC1CzC,YD+CE,mCAAoC,CADpC,mCC5CF,CAFA,YDmDE,kCAAmC,CACnC,oCClDF,CDoDA,CAEA,sDACC,0CACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n.ck.ck-link-toolbar__preview {\\n\\tdisplay: inline-block;\\n\\n\\t& .ck-button__label {\\n\\t\\toverflow: hidden;\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_dir.css\\\";\\n\\n:root {\\n\\t--ck-link-bookmark-icon-size: calc( var(--ck-icon-size) * 0.7); /* 0.7 = 14/20 cause default the icon size is 20px */\\n}\\n\\n.ck.ck-toolbar.ck-link-toolbar {\\n\\t& > .ck-toolbar__items {\\n\\t\\tflex-wrap: nowrap;\\n\\t}\\n}\\n\\na.ck.ck-button.ck-link-toolbar__preview {\\n\\tpadding: 0 var(--ck-spacing-medium);\\n\\tcolor: var(--ck-color-link-default);\\n\\tcursor: pointer;\\n\\tjustify-content: center;\\n\\n\\t& .ck.ck-button__label {\\n\\t\\ttext-overflow: ellipsis;\\n\\n\\t\\t/* Match the box model of the link editor form's input so the balloon\\n\\t\\tdoes not change width when moving between actions and the form. */\\n\\t\\tmax-width: var(--ck-input-width);\\n\\t}\\n\\n\\t&,\\n\\t&:hover,\\n\\t&:focus,\\n\\t&:active {\\n\\t\\tbackground: none;\\n\\t}\\n\\n\\t&:active {\\n\\t\\tbox-shadow: none;\\n\\t}\\n\\n\\t&:hover,\\n\\t&:focus {\\n\\t\\ttext-decoration: underline;\\n\\t}\\n\\n\\t&.ck-button_with-text .ck.ck-icon.ck-button__icon {\\n\\t\\twidth: var(--ck-link-bookmark-icon-size);\\n\\t\\theight: var(--ck-link-bookmark-icon-size);\\n\\n\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\tmargin-right: var(--ck-spacing-tiny);\\n\\t\\t\\tmargin-left: var(--ck-spacing-small);\\n\\t\\t}\\n\\n\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\tmargin-left: var(--ck-spacing-tiny);\\n\\t\\t\\tmargin-right: var(--ck-spacing-small);\\n\\t\\t}\\n\\t}\\n\\n\\t&:has( .ck-icon ) {\\n\\t\\tpadding-left: var(--ck-spacing-extra-tiny );\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n@define-mixin ck-dir $direction {\\n\\t[dir=\\\"$(direction)\\\"] & {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root{--ck-link-properties-width:340px}@media screen and (max-width:600px){:root{--ck-link-properties-width:300px}}.ck.ck-link-properties{width:var(--ck-link-properties-width)}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkproperties.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\"],\"names\":[],\"mappings\":\"AAOA,MACC,gCACD,CCHC,oCDMA,MACC,gCACD,CCNA,CDSD,uBACC,qCACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\\\";\\n\\n:root {\\n\\t--ck-link-properties-width: 340px;\\n}\\n\\n@mixin ck-media-phone {\\n\\t:root {\\n\\t\\t--ck-link-properties-width: 300px;\\n\\t}\\n}\\n\\n.ck.ck-link-properties {\\n\\twidth: var(--ck-link-properties-width);\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n@define-mixin ck-media-phone {\\n\\t@media screen and (max-width: 600px) {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck-vertical-form .ck-button:after{bottom:-1px;content:\\\"\\\";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:\\\"\\\";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}.ck.ck-responsive-form{[dir=ltr] &>:not(:first-child){margin-left:var(--ck-spacing-standard)}[dir=rtl] &>:not(:last-child){margin-left:var(--ck-spacing-standard)}}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-number,.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){[dir=ltr] &,[dir=rtl] &{margin-left:0}[dir=rtl] &:last-of-type{border-right:1px solid var(--ck-color-base-border)}}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_dir.css\"],\"names\":[],\"mappings\":\"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAoED,CAlEC,6BAEC,YACD,CAND,uBASE,+BACC,sCACD,CAIA,8BACC,sCACD,CAoDF,CD3EC,oCCMD,uBAqBE,SAAU,CACV,oCA+CF,CA7CE,8CACC,wDAYD,CAVC,4HAEC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,iGCpDD,wBDmEG,aCjEH,CDmEG,yBACC,kDACD,CAEF,CDvED\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\\\";\\n\\n.ck-vertical-form .ck-button {\\n\\t&::after {\\n\\t\\tcontent: \\\"\\\";\\n\\t\\twidth: 0;\\n\\t\\tposition: absolute;\\n\\t\\tright: -1px;\\n\\t\\ttop: -1px;\\n\\t\\tbottom: -1px;\\n\\t\\tz-index: 1;\\n\\t}\\n\\n\\t&:focus::after {\\n\\t\\tdisplay: none;\\n\\t}\\n}\\n\\n.ck.ck-responsive-form {\\n\\t@mixin ck-media-phone {\\n\\t\\t& .ck-button {\\n\\t\\t\\t&::after {\\n\\t\\t\\t\\tcontent: \\\"\\\";\\n\\t\\t\\t\\twidth: 0;\\n\\t\\t\\t\\tposition: absolute;\\n\\t\\t\\t\\tright: -1px;\\n\\t\\t\\t\\ttop: -1px;\\n\\t\\t\\t\\tbottom: -1px;\\n\\t\\t\\t\\tz-index: 1;\\n\\t\\t\\t}\\n\\n\\t\\t\\t&:focus::after {\\n\\t\\t\\t\\tdisplay: none;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n@define-mixin ck-media-phone {\\n\\t@media screen and (max-width: 600px) {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\\\";\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_dir.css\\\";\\n\\n.ck-vertical-form > .ck-button:nth-last-child(2)::after {\\n\\tborder-right: 1px solid var(--ck-color-base-border);\\n}\\n\\n.ck.ck-responsive-form {\\n\\tpadding: var(--ck-spacing-large);\\n\\n\\t&:focus {\\n\\t\\t/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */\\n\\t\\toutline: none;\\n\\t}\\n\\n\\t@mixin ck-dir ltr {\\n\\t\\t& > :not(:first-child) {\\n\\t\\t\\tmargin-left: var(--ck-spacing-standard);\\n\\t\\t}\\n\\t}\\n\\n\\t@mixin ck-dir rtl {\\n\\t\\t& > :not(:last-child) {\\n\\t\\t\\tmargin-left: var(--ck-spacing-standard);\\n\\t\\t}\\n\\t}\\n\\n\\t@mixin ck-media-phone {\\n\\t\\tpadding: 0;\\n\\t\\twidth: calc(.8 * var(--ck-input-width));\\n\\n\\t\\t& .ck-labeled-field-view {\\n\\t\\t\\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) 0;\\n\\n\\t\\t\\t& .ck-input-text,\\n\\t\\t\\t& .ck-input-number {\\n\\t\\t\\t\\tmin-width: 0;\\n\\t\\t\\t\\twidth: 100%;\\n\\t\\t\\t}\\n\\n\\t\\t\\t/* Let the long error messages wrap in the narrow form. */\\n\\t\\t\\t& .ck-labeled-field-view__error {\\n\\t\\t\\t\\twhite-space: normal;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */\\n\\t\\t& > .ck-button:nth-last-child(2) {\\n\\t\\t\\t&::after {\\n\\t\\t\\t\\tborder-right: 1px solid var(--ck-color-base-border);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t& > .ck-button:nth-last-child(1),\\n\\t\\t& > .ck-button:nth-last-child(2) {\\n\\t\\t\\tpadding: var(--ck-spacing-standard);\\n\\t\\t\\tmargin-top: var(--ck-spacing-large);\\n\\t\\t\\tborder-radius: 0;\\n\\n\\t\\t\\t&:not(:focus) {\\n\\t\\t\\t\\tborder-top: 1px solid var(--ck-color-base-border);\\n\\t\\t\\t}\\n\\n\\t\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\t\\tmargin-left: 0;\\n\\t\\t\\t}\\n\\n\\t\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\t\\tmargin-left: 0;\\n\\n\\t\\t\\t\\t&:last-of-type {\\n\\t\\t\\t\\t\\tborder-right: 1px solid var(--ck-color-base-border);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n@define-mixin ck-dir $direction {\\n\\t[dir=\\\"$(direction)\\\"] & {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","module.exports = (__webpack_require__(9237))(\"./src/core.js\");","module.exports = (__webpack_require__(9237))(\"./src/engine.js\");","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck-content .page-break{align-items:center;clear:both;display:flex;justify-content:center;padding:5px 0;position:relative}.ck-content .page-break:after{border-bottom:2px dashed #c4c4c4;content:\\\"\\\";position:absolute;width:100%}.ck-content .page-break__label{background:#fff;border:1px solid #c4c4c4;border-radius:2px;box-shadow:2px 2px 1px rgba(0,0,0,.15);color:#333;display:block;font-family:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;font-size:.75em;font-weight:700;padding:.3em .6em;position:relative;text-transform:uppercase;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1}@media print{.ck-content .page-break{padding:0}.ck-content .page-break:after{display:none}.ck-content :has(+.page-break){margin-bottom:0}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-page-break/theme/pagebreak.css\"],\"names\":[],\"mappings\":\"AAKA,wBAKC,kBAAmB,CAHnB,UAAW,CAEX,YAAa,CAEb,sBAAuB,CAHvB,aAAc,CAFd,iBAaD,CANC,8BAGC,gCAAyC,CAFzC,UAAW,CACX,iBAAkB,CAElB,UACD,CAGD,+BAYC,eAA4B,CAN5B,wBAAiC,CACjC,iBAAkB,CAMlB,sCAA6C,CAF7C,UAAsB,CAPtB,aAAc,CAId,qDAA0D,CAC1D,eAAiB,CACjB,eAAiB,CAPjB,iBAAkB,CAFlB,iBAAkB,CAIlB,wBAAyB,CAWzB,wBAAyB,CACzB,qBAAsB,CACtB,oBAAqB,CACrB,gBAAiB,CAjBjB,SAkBD,CAGA,aACC,wBACC,SAKD,CAHC,8BACC,YACD,CASD,+BACC,eACD,CACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n.ck-content .page-break {\\n\\tposition: relative;\\n\\tclear: both;\\n\\tpadding: 5px 0;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\n\\t&::after {\\n\\t\\tcontent: '';\\n\\t\\tposition: absolute;\\n\\t\\tborder-bottom: 2px dashed hsl(0, 0%, 77%);\\n\\t\\twidth: 100%;\\n\\t}\\n}\\n\\n.ck-content .page-break__label {\\n\\tposition: relative;\\n\\tz-index: 1;\\n\\tpadding: .3em .6em;\\n\\tdisplay: block;\\n\\ttext-transform: uppercase;\\n\\tborder: 1px solid hsl(0, 0%, 77%);\\n\\tborder-radius: 2px;\\n\\tfont-family: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;\\n\\tfont-size: 0.75em;\\n\\tfont-weight: bold;\\n\\tcolor: hsl(0, 0%, 20%);\\n\\tbackground: hsl(0, 0%, 100%);\\n\\tbox-shadow: 2px 2px 1px hsla(0, 0%, 0%, 0.15);\\n\\n\\t/* Disable the possibility to select the label text by the user. */\\n\\t-webkit-user-select: none;\\n\\t-moz-user-select: none;\\n\\t-ms-user-select: none;\\n\\tuser-select: none;\\n}\\n\\n/* Do not show the page break element inside the print preview window. */\\n@media print {\\n\\t.ck-content .page-break {\\n\\t\\tpadding: 0;\\n\\n\\t\\t&::after {\\n\\t\\t\\tdisplay: none;\\n\\t\\t}\\n\\t}\\n\\n\\t/*\\n\\t * From time to time placing page-break directly after a block element with margin causes appending a new blank page in pagination mode.\\n\\t * Removing margin-bottom from the block element fixes that issue and the margin is not being moved to the next blank page.\\n\\t *\\n\\t * Keep this in sync with the pagination plugins.\\n\\t */\\n\\t.ck-content *:has(+ .page-break) {\\n\\t\\tmargin-bottom: 0;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imageresize.css\"],\"names\":[],\"mappings\":\"AAMA,8BACC,WACD,CAEA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n/* Preserve aspect ratio of the resized image after introducing image height attribute. */\\n.ck-content img.image_resized {\\n\\theight: auto;\\n}\\n\\n.ck-content .image.image_resized {\\n\\tmax-width: 100%;\\n\\t/*\\n\\tThe `<figure>` element for resized images must not use `display:table` as browsers do not support `max-width` for it well.\\n\\tSee https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.\\n\\tFortunately, since we control the width, there is no risk that the image will look bad.\\n\\t*/\\n\\tdisplay: block;\\n\\tbox-sizing: border-box;\\n\\n\\t& img {\\n\\t\\t/* For resized images it is the `<figure>` element that determines the image width. */\\n\\t\\twidth: 100%;\\n\\t}\\n\\n\\t& > figcaption {\\n\\t\\t/* The `<figure>` element uses `display:block`, so `<figcaption>` also has to. */\\n\\t\\tdisplay: block;\\n\\t}\\n}\\n\\n.ck.ck-editor__editable {\\n\\t/* The resized inline image nested in the table should respect its parent size.\\n\\tSee https://github.com/ckeditor/ckeditor5/issues/9117. */\\n\\t& td,\\n\\t& th {\\n\\t\\t& .image-inline.image_resized img {\\n\\t\\t\\tmax-width: 100%;\\n\\t\\t}\\n\\t}\\n}\\n\\n[dir=\\\"ltr\\\"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {\\n\\tmargin-right: var(--ck-spacing-standard);\\n}\\n\\n[dir=\\\"rtl\\\"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {\\n\\tmargin-left: var(--ck-spacing-standard);\\n}\\n\\n.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {\\n\\twidth: 4em;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}@media (forced-colors:active){.ck-content .table>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tablecaption.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css\"],\"names\":[],\"mappings\":\"AAOA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAaD,CCxBC,8BACC,8BDoBA,sBAAuB,CACvB,WCnBA,CACD,CAIA,4BDqBC,qEACC,iDACD,CCnBD,CDsBA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css\\\";\\n\\n:root {\\n\\t--ck-color-selector-caption-background: hsl(0, 0%, 97%);\\n\\t--ck-color-selector-caption-text: hsl(0, 0%, 20%);\\n\\t--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);\\n}\\n\\n/* Content styles */\\n.ck-content .table > figcaption {\\n\\tdisplay: table-caption;\\n\\tcaption-side: top;\\n\\tword-break: break-word;\\n\\ttext-align: center;\\n\\tcolor: var(--ck-color-selector-caption-text);\\n\\tbackground-color: var(--ck-color-selector-caption-background);\\n\\tpadding: .6em;\\n\\tfont-size: .75em;\\n\\toutline-offset: -1px;\\n\\n\\t/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */\\n\\t@mixin ck-media-forced-colors {\\n\\t\\tbackground-color: unset;\\n\\t\\tcolor: unset;\\n\\t}\\n}\\n\\n/* Editing styles */\\n.ck.ck-editor__editable .table > figcaption {\\n\\t@mixin ck-media-default-colors {\\n\\t\\t&.table__caption_highlighted {\\n\\t\\t\\tanimation: ck-table-caption-highlight .6s ease-out;\\n\\t\\t}\\n\\t}\\n\\n\\t&.ck-placeholder::before {\\n\\t\\tpadding-left: inherit;\\n\\t\\tpadding-right: inherit;\\n\\n\\t\\t/*\\n\\t\\t * Make sure the table caption placeholder doesn't overflow the placeholder area.\\n\\t\\t * See https://github.com/ckeditor/ckeditor5/issues/9162.\\n\\t\\t */\\n\\t\\twhite-space: nowrap;\\n\\t\\toverflow: hidden;\\n\\t\\ttext-overflow: ellipsis;\\n\\t}\\n}\\n\\n@keyframes ck-table-caption-highlight {\\n\\t0% {\\n\\t\\tbackground-color: var(--ck-color-selector-caption-highlighted-background);\\n\\t}\\n\\n\\t100% {\\n\\t\\tbackground-color: var(--ck-color-selector-caption-background);\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n@define-mixin ck-media-forced-colors {\\n\\t@media (forced-colors: active) {\\n\\t\\t& {\\n\\t\\t\\t@mixin-content;\\n\\t\\t}\\n\\t}\\n}\\n\\n@define-mixin ck-media-default-colors {\\n\\t@media (forced-colors: none) {\\n\\t\\t& {\\n\\t\\t\\t@mixin-content;\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-panel)}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border:solid var(--ck-color-base-border);border-radius:0;border-width:1px 1px 0;&.ck-rounded-corners,.ck-rounded-corners &{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-sticky-panel__content_sticky{border-bottom-width:1px}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-menu-bar{border:0;border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-toolbar{border:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0;&.ck-rounded-corners,.ck-rounded-corners &{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-editor-classic/theme/classiceditor.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css\"],\"names\":[],\"mappings\":\"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,8DAOC,wCAAsB,CCLxB,eAAgB,CDKd,sBAAsB,CCHxB,2CAEC,qCAAsC,CDJpC,2BAA4B,CAC5B,4BCKH,CDaC,CAZC,8FACC,uBACD,CAEA,2EACC,QAAS,CACT,mDACD,CAEA,0EACC,QACD,CAMH,yCAEC,0CAA2C,CC1B3C,eAAgB,CAEhB,2CAEC,qCAAsC,CDyBtC,wBAAyB,CACzB,yBCxBD,CD8BD,CAHC,0DACC,wCACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n.ck.ck-editor {\\n\\t/* All the elements within `.ck-editor` are positioned relatively to it.\\n\\t If any element needs to be positioned with respect to the <body>, etc.,\\n\\t it must land outside of the `.ck-editor` in DOM. */\\n\\tposition: relative;\\n\\n\\t& .ck-editor__top .ck-sticky-panel .ck-toolbar {\\n\\t\\t/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */\\n\\t\\tz-index: var(--ck-z-panel);\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n@import \\\"../mixins/_rounded.css\\\";\\n\\n.ck.ck-editor__top {\\n\\t& .ck-sticky-panel {\\n\\t\\t& .ck-sticky-panel__content {\\n\\t\\t\\t@mixin ck-rounded-corners {\\n\\t\\t\\t\\tborder-bottom-left-radius: 0;\\n\\t\\t\\t\\tborder-bottom-right-radius: 0;\\n\\t\\t\\t}\\n\\n\\t\\t\\tborder: 1px solid var(--ck-color-base-border);\\n\\t\\t\\tborder-bottom-width: 0;\\n\\n\\t\\t\\t&.ck-sticky-panel__content_sticky {\\n\\t\\t\\t\\tborder-bottom-width: 1px;\\n\\t\\t\\t}\\n\\n\\t\\t\\t& .ck-menu-bar {\\n\\t\\t\\t\\tborder: 0;\\n\\t\\t\\t\\tborder-bottom: 1px solid var(--ck-color-base-border);\\n\\t\\t\\t}\\n\\n\\t\\t\\t& .ck-toolbar {\\n\\t\\t\\t\\tborder: 0;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\\n/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */\\n.ck.ck-editor__main > .ck-editor__editable {\\n\\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */\\n\\tbackground: var(--ck-color-base-background);\\n\\n\\t@mixin ck-rounded-corners {\\n\\t\\tborder-top-left-radius: 0;\\n\\t\\tborder-top-right-radius: 0;\\n\\t}\\n\\n\\t&:not(.ck-focused) {\\n\\t\\tborder-color: var(--ck-color-base-border);\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n/**\\n * Implements rounded corner interface for .ck-rounded-corners class.\\n *\\n * @see $ck-border-radius\\n */\\n@define-mixin ck-rounded-corners {\\n\\tborder-radius: 0;\\n\\n\\t.ck-rounded-corners &,\\n\\t&.ck-rounded-corners {\\n\\t\\tborder-radius: var(--ck-border-radius);\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","module.exports = (__webpack_require__(9237))(\"./src/undo.js\");","\"use strict\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]); if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nmodule.exports = function cssWithMappingToString(item) {\n  var _item = _slicedToArray(item, 4),\n      content = _item[1],\n      cssMapping = _item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (typeof btoa === \"function\") {\n    // eslint-disable-next-line no-undef\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || \"\").concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\");\n  }\n\n  return [content].join(\"\\n\");\n};","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-heading_heading1 .ck-button__label{font-size:20px}.ck.ck-heading_heading2 .ck-button__label{font-size:17px}.ck.ck-heading_heading3 .ck-button__label{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-heading/theme/heading.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css\"],\"names\":[],\"mappings\":\"AAKA,0CACC,cACD,CAEA,0CACC,cACD,CAEA,0CACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n.ck.ck-heading_heading1 .ck-button__label {\\n\\tfont-size: 20px;\\n}\\n\\n.ck.ck-heading_heading2 .ck-button__label {\\n\\tfont-size: 17px;\\n}\\n\\n.ck.ck-heading_heading3 .ck-button__label {\\n\\tfont-size: 14px;\\n}\\n\\n.ck[class*=\\\"ck-heading_heading\\\"] {\\n\\tfont-weight: bold;\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n/* Resize dropdown's button label. */\\n.ck.ck-dropdown.ck-heading-dropdown {\\n\\t& .ck-dropdown__button .ck-button__label {\\n\\t\\twidth: 8em;\\n\\t}\\n\\n\\t& .ck-dropdown__panel .ck-list__item {\\n\\t\\tmin-width: 18em;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css\"],\"names\":[],\"mappings\":\"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n.ck.ck-list-properties {\\n\\t/* When there are no list styles and there is no collapsible. */\\n\\t&.ck-list-properties_without-styles {\\n\\t\\tpadding: var(--ck-spacing-large);\\n\\n\\t\\t& > * {\\n\\t\\t\\tmin-width: 14em;\\n\\n\\t\\t\\t& + * {\\n\\t\\t\\t\\tmargin-top: var(--ck-spacing-standard);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t/*\\n\\t * When the numbered list property fields (start at, reversed) should be displayed,\\n\\t * more horizontal space is needed. Reconfigure the style grid to create that space.\\n\\t */\\n\\t&.ck-list-properties_with-numbered-properties {\\n\\t\\t& > .ck-list-styles-list {\\n\\t\\t\\tgrid-template-columns: repeat( 4, auto );\\n\\t\\t}\\n\\n\\t\\t/* When list styles are rendered and property fields are in a collapsible. */\\n\\t\\t& > .ck-collapsible {\\n\\t\\t\\tborder-top: 1px solid var(--ck-color-base-border);\\n\\n\\t\\t\\t& > .ck-collapsible__children {\\n\\t\\t\\t\\t& > * {\\n\\t\\t\\t\\t\\twidth: 100%;\\n\\n\\t\\t\\t\\t\\t& + * {\\n\\t\\t\\t\\t\\t\\tmargin-top: var(--ck-spacing-standard);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t& .ck.ck-numbered-list-properties__start-index .ck-input {\\n\\t\\tmin-width: auto;\\n\\t\\twidth: 100%;\\n\\t}\\n\\n\\t& .ck.ck-numbered-list-properties__reversed-order {\\n\\t\\tbackground: transparent;\\n\\t\\tpadding-left: 0;\\n\\t\\tpadding-right: 0;\\n\\t\\tmargin-bottom: calc(-1 * var(--ck-spacing-tiny));\\n\\n\\t\\t&:active, &:hover {\\n\\t\\t\\tbox-shadow: none;\\n\\t\\t\\tborder-color: transparent;\\n\\t\\t\\tbackground: none;\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-block-quote/theme/blockquote.css\"],\"names\":[],\"mappings\":\"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n.ck-content blockquote {\\n\\t/* See #12 */\\n\\toverflow: hidden;\\n\\n\\t/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */\\n\\tpadding-right: 1.5em;\\n\\tpadding-left: 1.5em;\\n\\n\\tmargin-left: 0;\\n\\tmargin-right: 0;\\n\\tfont-style: italic;\\n\\tborder-left: solid 5px hsl(0, 0%, 80%);\\n}\\n\\n.ck-content[dir=\\\"rtl\\\"] blockquote {\\n\\tborder-left: 0;\\n\\tborder-right: solid 5px hsl(0, 0%, 80%);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tablecellproperties.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css\"],\"names\":[],\"mappings\":\"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n.ck.ck-table-cell-properties-form {\\n\\t& .ck-form__row {\\n\\t\\t&.ck-table-cell-properties-form__alignment-row {\\n\\t\\t\\tflex-wrap: wrap;\\n\\n\\t\\t\\t& .ck.ck-toolbar {\\n\\t\\t\\t\\t&:first-of-type {\\n\\t\\t\\t\\t\\t/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */\\n\\t\\t\\t\\t\\tflex-grow: 0.57;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t&:last-of-type {\\n\\t\\t\\t\\t\\t/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */\\n\\t\\t\\t\\t\\tflex-grow: 0.43;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t& .ck-button {\\n\\t\\t\\t\\t\\tflex-grow: 1;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n.ck.ck-table-cell-properties-form {\\n\\twidth: 320px;\\n\\n\\t& .ck-form__row {\\n\\t\\t&.ck-table-cell-properties-form__padding-row {\\n\\t\\t\\talign-self: flex-end;\\n\\t\\t\\tpadding: 0;\\n\\t\\t\\twidth: 25%;\\n\\t\\t}\\n\\n\\t\\t&.ck-table-cell-properties-form__alignment-row {\\n\\t\\t\\t& .ck.ck-toolbar {\\n\\t\\t\\t\\tbackground: none;\\n\\n\\t\\t\\t\\t/* Compensate for missing input label that would push the margin (toolbar has no inputs). */\\n\\t\\t\\t\\tmargin-top: var(--ck-spacing-standard);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:\\\"\\\";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css\"],\"names\":[],\"mappings\":\"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n:root {\\n\\t--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);\\n}\\n\\n.ck.ck-editor__editable .table table {\\n\\t& td.ck-editor__editable_selected,\\n\\t& th.ck-editor__editable_selected {\\n\\t\\tposition: relative;\\n\\t\\tcaret-color: transparent;\\n\\t\\toutline: unset;\\n\\t\\tbox-shadow: unset;\\n\\n\\t\\t/* https://github.com/ckeditor/ckeditor5/issues/6446 */\\n\\t\\t&:after {\\n\\t\\t\\tcontent: '';\\n\\t\\t\\tpointer-events: none;\\n\\t\\t\\tbackground-color: var(--ck-table-selected-cell-background);\\n\\t\\t\\tposition: absolute;\\n\\t\\t\\ttop: 0;\\n\\t\\t\\tleft: 0;\\n\\t\\t\\tright: 0;\\n\\t\\t\\tbottom: 0;\\n\\t\\t}\\n\\n\\t\\t& ::selection,\\n\\t\\t&:focus {\\n\\t\\t\\tbackground-color: transparent;\\n\\t\\t}\\n\\n\\t\\t/*\\n\\t\\t * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.\\n\\t\\t * See https://github.com/ckeditor/ckeditor5/issues/9491.\\n\\t\\t */\\n\\t\\t& .ck-widget {\\n\\t\\t\\toutline: unset;\\n\\n\\t\\t\\t& > .ck-widget__selection-handle {\\n\\t\\t\\t\\tdisplay: none;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root{--ck-html-object-embed-unfocused-outline-width:1px}.ck-widget.html-object-embed{background-color:var(--ck-color-base-foreground);font-size:var(--ck-font-size-base);min-width:calc(76px + var(--ck-spacing-standard));padding:var(--ck-spacing-small);padding-top:calc(var(--ck-font-size-tiny) + var(--ck-spacing-large))}.ck-widget.html-object-embed:not(.ck-widget_selected):not(:hover){outline:var(--ck-html-object-embed-unfocused-outline-width) dashed var(--ck-color-widget-blurred-border)}.ck-widget.html-object-embed:before{background:#999;border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius);color:var(--ck-color-base-background);content:attr(data-html-object-embed-label);font-family:var(--ck-font-face);font-size:var(--ck-font-size-tiny);font-style:normal;font-weight:400;left:var(--ck-spacing-standard);padding:calc(var(--ck-spacing-tiny) + var(--ck-html-object-embed-unfocused-outline-width)) var(--ck-spacing-small) var(--ck-spacing-tiny);position:absolute;top:0;transition:background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck-widget.html-object-embed .ck-widget__type-around .ck-widget__type-around__button.ck-widget__type-around__button_before{margin-left:50px}.ck-widget.html-object-embed .html-object-embed__content{pointer-events:none}div.ck-widget.html-object-embed{margin:1em auto}span.ck-widget.html-object-embed{display:inline-block}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-html-support/theme/datafilter.css\"],\"names\":[],\"mappings\":\"AAKA,MACC,kDACD,CAEA,6BAEC,gDAAiD,CADjD,kCAAmC,CAKnC,iDAAkD,CAHlD,+BAAgC,CAEhC,oEAgCD,CA7BC,kEACC,wGACD,CAEA,oCAOC,eAA4B,CAG5B,iEAAkE,CAClE,qCAAsC,CAPtC,0CAA2C,CAS3C,+BAAgC,CADhC,kCAAmC,CAVnC,iBAAkB,CADlB,eAAmB,CAKnB,+BAAgC,CAGhC,yIAA0I,CAN1I,iBAAkB,CAElB,KAAM,CAGN,0GAMD,CAGA,2HACC,gBACD,CAEA,yDAEC,mBACD,CAGD,gCACC,eACD,CAEA,iCACC,oBACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n:root {\\n\\t--ck-html-object-embed-unfocused-outline-width: 1px;\\n}\\n\\n.ck-widget.html-object-embed {\\n\\tfont-size: var(--ck-font-size-base);\\n\\tbackground-color: var(--ck-color-base-foreground);\\n\\tpadding: var(--ck-spacing-small);\\n\\t/* Leave space for label */\\n\\tpadding-top: calc(var(--ck-font-size-tiny) + var(--ck-spacing-large));\\n\\tmin-width: calc(76px + var(--ck-spacing-standard));\\n\\n\\t&:not(.ck-widget_selected):not(:hover) {\\n\\t\\toutline: var(--ck-html-object-embed-unfocused-outline-width) dashed var(--ck-color-widget-blurred-border);\\n\\t}\\n\\n\\t&::before {\\n\\t\\tfont-weight: normal;\\n\\t\\tfont-style: normal;\\n\\t\\tposition: absolute;\\n\\t\\tcontent: attr(data-html-object-embed-label);\\n\\t\\ttop: 0;\\n\\t\\tleft: var(--ck-spacing-standard);\\n\\t\\tbackground: hsl(0deg 0% 60%);\\n\\t\\ttransition: background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\\n\\t\\tpadding: calc(var(--ck-spacing-tiny) + var(--ck-html-object-embed-unfocused-outline-width)) var(--ck-spacing-small) var(--ck-spacing-tiny);\\n\\t\\tborder-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);\\n\\t\\tcolor: var(--ck-color-base-background);\\n\\t\\tfont-size: var(--ck-font-size-tiny);\\n\\t\\tfont-family: var(--ck-font-face);\\n\\t}\\n\\n\\t/* Make space for label. */\\n\\t& .ck-widget__type-around .ck-widget__type-around__button.ck-widget__type-around__button_before {\\n\\t\\tmargin-left: 50px;\\n\\t}\\n\\n\\t& .html-object-embed__content {\\n\\t\\t/* Disable user interaction with embed content */\\n\\t\\tpointer-events: none;\\n\\t}\\n}\\n\\ndiv.ck-widget.html-object-embed {\\n\\tmargin: 1em auto;\\n}\\n\\nspan.ck-widget.html-object-embed {\\n\\tdisplay: inline-block;\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*=\\\"facebook.com\\\"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*=\\\"goo.gl/maps\\\"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*=\\\"google.com/maps\\\"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*=\\\"instagram.com\\\"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*=\\\"maps.app.goo.gl\\\"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*=\\\"maps.google.com\\\"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*=\\\"twitter.com\\\"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder){pointer-events:none}.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*=\\\"open.spotify.com\\\"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*=\\\"goo.gl/maps\\\"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*=\\\"google.com/maps\\\"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*=\\\"maps.app.goo.gl\\\"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*=\\\"maps.google.com\\\"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*=\\\"facebook.com\\\"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*=\\\"facebook.com\\\"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*=\\\"facebook.com\\\"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*=\\\"facebook.com\\\"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*=\\\"instagram.com\\\"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*=\\\"instagram.com\\\"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*=\\\"instagram.com\\\"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*=\\\"instagram.com\\\"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*=\\\"twitter.com\\\"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*=\\\"twitter.com\\\"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*=\\\"twitter.com\\\"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*=\\\"twitter.com\\\"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembedediting.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css\"],\"names\":[],\"mappings\":\"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAMF,wFACC,mBACD,CAIA,mGACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n.ck-media__wrapper {\\n\\t& .ck-media__placeholder {\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\t\\talign-items: center;\\n\\n\\t\\t& .ck-media__placeholder__url {\\n\\t\\t\\t/* Otherwise the URL will overflow when the content is very narrow. */\\n\\t\\t\\tmax-width: 100%;\\n\\n\\t\\t\\tposition: relative;\\n\\n\\t\\t\\t& .ck-media__placeholder__url__text {\\n\\t\\t\\t\\toverflow: hidden;\\n\\t\\t\\t\\tdisplay: block;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t&[data-oembed-url*=\\\"twitter.com\\\"],\\n\\t&[data-oembed-url*=\\\"google.com/maps\\\"],\\n\\t&[data-oembed-url*=\\\"goo.gl/maps\\\"],\\n\\t&[data-oembed-url*=\\\"maps.google.com\\\"],\\n\\t&[data-oembed-url*=\\\"maps.app.goo.gl\\\"],\\n\\t&[data-oembed-url*=\\\"facebook.com\\\"],\\n\\t&[data-oembed-url*=\\\"instagram.com\\\"] {\\n\\t\\t& .ck-media__placeholder__icon * {\\n\\t\\t\\tdisplay: none;\\n\\t\\t}\\n\\t}\\n}\\n\\n/* Disable all mouse interaction as long as the editor is not read–only.\\n   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */\\n.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {\\n\\tpointer-events: none;\\n}\\n\\n/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).\\n   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */\\n.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {\\n\\tpointer-events: none;\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n:root {\\n\\t--ck-media-embed-placeholder-icon-size: 3em;\\n\\n\\t--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);\\n\\t--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);\\n}\\n\\n.ck-media__wrapper {\\n\\tmargin: 0 auto;\\n\\n\\t& .ck-media__placeholder {\\n\\t\\tpadding: calc( 3 * var(--ck-spacing-standard) );\\n\\t\\tbackground: var(--ck-color-base-foreground);\\n\\n\\t\\t& .ck-media__placeholder__icon {\\n\\t\\t\\tmin-width: var(--ck-media-embed-placeholder-icon-size);\\n\\t\\t\\theight: var(--ck-media-embed-placeholder-icon-size);\\n\\t\\t\\tmargin-bottom: var(--ck-spacing-large);\\n\\t\\t\\tbackground-position: center;\\n\\t\\t\\tbackground-size: cover;\\n\\n\\t\\t\\t& .ck-icon {\\n\\t\\t\\t\\twidth: 100%;\\n\\t\\t\\t\\theight: 100%;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t& .ck-media__placeholder__url__text {\\n\\t\\t\\tcolor: var(--ck-color-media-embed-placeholder-url-text);\\n\\t\\t\\twhite-space: nowrap;\\n\\t\\t\\ttext-align: center;\\n\\t\\t\\tfont-style: italic;\\n\\t\\t\\ttext-overflow: ellipsis;\\n\\n\\t\\t\\t&:hover {\\n\\t\\t\\t\\tcolor: var(--ck-color-media-embed-placeholder-url-text-hover);\\n\\t\\t\\t\\tcursor: pointer;\\n\\t\\t\\t\\ttext-decoration: underline;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t&[data-oembed-url*=\\\"open.spotify.com\\\"] {\\n\\t\\tmax-width: 300px;\\n\\t\\tmax-height: 380px;\\n\\t}\\n\\n\\t&[data-oembed-url*=\\\"google.com/maps\\\"] .ck-media__placeholder__icon,\\n\\t&[data-oembed-url*=\\\"goo.gl/maps\\\"] .ck-media__placeholder__icon,\\n\\t&[data-oembed-url*=\\\"maps.google.com\\\"] .ck-media__placeholder__icon,\\n\\t&[data-oembed-url*=\\\"maps.app.goo.gl\\\"] .ck-media__placeholder__icon {\\n\\t\\tbackground-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);\\n\\t}\\n\\n\\t&[data-oembed-url*=\\\"facebook.com\\\"] .ck-media__placeholder {\\n\\t\\tbackground: hsl(220, 46%, 48%);\\n\\n\\t\\t& .ck-media__placeholder__icon {\\n\\t\\t\\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);\\n\\t\\t}\\n\\n\\t\\t& .ck-media__placeholder__url__text {\\n\\t\\t\\tcolor: hsl(220, 100%, 90%);\\n\\n\\t\\t\\t&:hover {\\n\\t\\t\\t\\tcolor: hsl(0, 0%, 100%);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t&[data-oembed-url*=\\\"instagram.com\\\"] .ck-media__placeholder {\\n\\t\\tbackground: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));\\n\\n\\t\\t& .ck-media__placeholder__icon {\\n\\t\\t\\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);\\n\\t\\t}\\n\\n\\t\\t/* stylelint-disable-next-line no-descending-specificity */\\n\\t\\t& .ck-media__placeholder__url__text {\\n\\t\\t\\tcolor: hsl(302, 100%, 94%);\\n\\n\\t\\t\\t&:hover {\\n\\t\\t\\t\\tcolor: hsl(0, 0%, 100%);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t&[data-oembed-url*=\\\"twitter.com\\\"] .ck.ck-media__placeholder {\\n\\t\\t/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */\\n\\t\\tbackground: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );\\n\\n\\t\\t& .ck-media__placeholder__icon {\\n\\t\\t\\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);\\n\\t\\t}\\n\\n\\t\\t& .ck-media__placeholder__url__text {\\n\\t\\t\\tcolor: hsl(201, 100%, 86%);\\n\\n\\t\\t\\t&:hover {\\n\\t\\t\\t\\tcolor: hsl(0, 0%, 100%);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","module.exports = (__webpack_require__(9237))(\"./src/upload.js\");","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image.image-style-block-align-left,.ck-content .image.image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image.image-style-align-left,.ck-content .image.image-style-align-right{clear:none}.ck-content .image.image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image.image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image.image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image.image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image.image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content p+.image.image-style-align-left,.ck-content p+.image.image-style-align-right,.ck-content p+.image.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imagestyle.css\"],\"names\":[],\"mappings\":\"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAQE,iGAEC,oDACD,CAIA,qFAEC,UACD,CAEA,oCACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,0CACC,UAAW,CACX,0CACD,CAEA,2CACC,WAAY,CACZ,yCACD,CAEA,iDAEC,gBAAiB,CADjB,cAED,CAEA,gDACC,aAAc,CACd,iBACD,CAGD,sCACC,gBAAiB,CACjB,iBACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAGA,+HAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n:root {\\n\\t--ck-image-style-spacing: 1.5em;\\n\\t--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);\\n}\\n\\n.ck-content {\\n\\t/* See: https://github.com/ckeditor/ckeditor5/issues/16317 */\\n\\t& .image {\\n\\t\\t/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback\\n\\t\\tconfirming successful application of the style if image width exceeds the editor's size.\\n\\t\\tSee https://github.com/ckeditor/ckeditor5/issues/9342 */\\n\\t\\t&.image-style-block-align-left,\\n\\t\\t&.image-style-block-align-right {\\n\\t\\t\\tmax-width: calc(100% - var(--ck-image-style-spacing));\\n\\t\\t}\\n\\n\\t\\t/* Allows displaying multiple floating images in the same line.\\n\\t\\tSee https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */\\n\\t\\t&.image-style-align-left,\\n\\t\\t&.image-style-align-right {\\n\\t\\t\\tclear: none;\\n\\t\\t}\\n\\n\\t\\t&.image-style-side {\\n\\t\\t\\tfloat: right;\\n\\t\\t\\tmargin-left: var(--ck-image-style-spacing);\\n\\t\\t\\tmax-width: 50%;\\n\\t\\t}\\n\\n\\t\\t&.image-style-align-left {\\n\\t\\t\\tfloat: left;\\n\\t\\t\\tmargin-right: var(--ck-image-style-spacing);\\n\\t\\t}\\n\\n\\t\\t&.image-style-align-right {\\n\\t\\t\\tfloat: right;\\n\\t\\t\\tmargin-left: var(--ck-image-style-spacing);\\n\\t\\t}\\n\\n\\t\\t&.image-style-block-align-right {\\n\\t\\t\\tmargin-right: 0;\\n\\t\\t\\tmargin-left: auto;\\n\\t\\t}\\n\\n\\t\\t&.image-style-block-align-left {\\n\\t\\t\\tmargin-left: 0;\\n\\t\\t\\tmargin-right: auto;\\n\\t\\t}\\n\\t}\\n\\n\\t& .image-style-align-center {\\n\\t\\tmargin-left: auto;\\n\\t\\tmargin-right: auto;\\n\\t}\\n\\n\\t& .image-style-align-left {\\n\\t\\tfloat: left;\\n\\t\\tmargin-right: var(--ck-image-style-spacing);\\n\\t}\\n\\n\\t& .image-style-align-right {\\n\\t\\tfloat: right;\\n\\t\\tmargin-left: var(--ck-image-style-spacing);\\n\\t}\\n\\n\\t/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */\\n\\t& p + .image.image-style-align-left,\\n\\t& p + .image.image-style-align-right,\\n\\t& p + .image.image-style-side {\\n\\t\\tmargin-top: 0;\\n\\t}\\n\\n\\t& .image-inline {\\n\\t\\t&.image-style-align-left,\\n\\t\\t&.image-style-align-right {\\n\\t\\t\\tmargin-top: var(--ck-inline-image-style-spacing);\\n\\t\\t\\tmargin-bottom: var(--ck-inline-image-style-spacing);\\n\\t\\t}\\n\\n\\t\\t&.image-style-align-left {\\n\\t\\t\\tmargin-right: var(--ck-inline-image-style-spacing);\\n\\t\\t}\\n\\n\\t\\t&.image-style-align-right {\\n\\t\\t\\tmargin-left: var(--ck-inline-image-style-spacing);\\n\\t\\t}\\n\\t}\\n}\\n\\n.ck.ck-splitbutton {\\n\\t/* The button should display as a regular drop-down if the action button\\n\\tis forced to fire the same action as the arrow button. */\\n\\t&.ck-splitbutton_flatten {\\n\\t\\t&:hover,\\n\\t\\t&.ck-splitbutton_open {\\n\\t\\t\\t& > .ck-splitbutton__action:not(.ck-disabled),\\n\\t\\t\\t& > .ck-splitbutton__arrow:not(.ck-disabled),\\n\\t\\t\\t& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {\\n\\t\\t\\t\\tbackground-color: var(--ck-color-button-on-background);\\n\\n\\t\\t\\t\\t&::after {\\n\\t\\t\\t\\t\\tdisplay: none;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t&.ck-splitbutton_open:hover {\\n\\t\\t\\t& > .ck-splitbutton__action:not(.ck-disabled),\\n\\t\\t\\t& > .ck-splitbutton__arrow:not(.ck-disabled),\\n\\t\\t\\t& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {\\n\\t\\t\\t\\tbackground-color: var(--ck-color-button-on-hover-background);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap;width:400px}.ck.ck-media-form .ck-labeled-field-view{display:inline-block;width:100%}.ck.ck-media-form .ck-label{display:none}.ck.ck-media-form .ck-input{width:100%}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaform.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\"],\"names\":[],\"mappings\":\"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAAiB,CACjB,WA0BD,CAxBC,yCACC,oBAAqB,CACrB,UACD,CAEA,4BACC,YACD,CAEA,4BACC,UACD,CCnBA,oCDCD,kBAqBE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CC5BD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\\\";\\n\\n.ck.ck-media-form {\\n\\tdisplay: flex;\\n\\talign-items: flex-start;\\n\\tflex-direction: row;\\n\\tflex-wrap: nowrap;\\n\\twidth: 400px;\\n\\n\\t& .ck-labeled-field-view {\\n\\t\\tdisplay: inline-block;\\n\\t\\twidth: 100%;\\n\\t}\\n\\n\\t& .ck-label {\\n\\t\\tdisplay: none;\\n\\t}\\n\\n\\t& .ck-input {\\n\\t\\twidth: 100%;\\n\\t}\\n\\n\\t@mixin ck-media-phone {\\n\\t\\tflex-wrap: wrap;\\n\\n\\t\\t& .ck-labeled-field-view {\\n\\t\\t\\tflex-basis: 100%;\\n\\t\\t}\\n\\n\\t\\t& .ck-button {\\n\\t\\t\\tflex-basis: 50%;\\n\\t\\t}\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n@define-mixin ck-media-phone {\\n\\t@media screen and (max-width: 600px) {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","module.exports = (__webpack_require__(9237))(\"./src/utils.js\");","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-image-insert-url{padding:var(--ck-spacing-large) var(--ck-spacing-large) 0;width:400px}.ck.ck-image-insert-url .ck-image-insert-url__action-row{display:grid;grid-template-columns:repeat(2,1fr)}:root{--ck-image-insert-insert-by-url-width:250px}.ck.ck-image-insert-url{--ck-input-width:100%}.ck.ck-image-insert-url .ck-image-insert-url__action-row{grid-column-gap:var(--ck-spacing-large);margin-top:var(--ck-spacing-large)}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-cancel,.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-save{justify-content:center;min-width:auto}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}.ck.ck-image-insert-form>.ck.ck-button{display:block;width:100%;[dir=ltr] &{text-align:left}[dir=rtl] &{text-align:right}}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:first-child){border-top:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:last-child){border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible,.ck.ck-image-insert-form>.ck.ck-image-insert-url{min-width:var(--ck-image-insert-insert-by-url-width)}.ck.ck-image-insert-form>.ck.ck-image-insert-url{padding:var(--ck-spacing-large)}.ck.ck-image-insert-form:focus{outline:none}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imageinsert.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageinsert.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_dir.css\"],\"names\":[],\"mappings\":\"AAKA,wBAEC,yDAA0D,CAD1D,WAOD,CAJC,yDACC,YAAa,CACb,mCACD,CCLD,MACC,2CACD,CAEA,wBACC,qBAgBD,CAdC,yDACC,uCAAwC,CACxC,kCAWD,CATC,oJAEC,sBAAuB,CACvB,cACD,CAEA,sFACC,0BACD,CAKD,uCACC,aAAc,CACd,UAAW,CC3BZ,YD8BE,eC5BF,CAFA,YDkCE,gBChCF,CDkCA,CAGC,8DACC,gDACD,CAEA,6DACC,mDACD,CAMD,6FAJC,oDAOD,CAHA,iDAEC,+BACD,CAEA,+BACC,YACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n.ck.ck-image-insert-url {\\n\\twidth: 400px;\\n\\tpadding: var(--ck-spacing-large) var(--ck-spacing-large) 0;\\n\\n\\t& .ck-image-insert-url__action-row {\\n\\t\\tdisplay: grid;\\n\\t\\tgrid-template-columns: repeat(2, 1fr);\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_dir.css\\\";\\n\\n:root {\\n\\t--ck-image-insert-insert-by-url-width: 250px;\\n}\\n\\n.ck.ck-image-insert-url {\\n\\t--ck-input-width: 100%;\\n\\n\\t& .ck-image-insert-url__action-row {\\n\\t\\tgrid-column-gap: var(--ck-spacing-large);\\n\\t\\tmargin-top: var(--ck-spacing-large);\\n\\n\\t\\t& .ck-button-save,\\n\\t\\t& .ck-button-cancel {\\n\\t\\t\\tjustify-content: center;\\n\\t\\t\\tmin-width: auto;\\n\\t\\t}\\n\\n\\t\\t& .ck-button .ck-button__label {\\n\\t\\t\\tcolor: var(--ck-color-text);\\n\\t\\t}\\n\\t}\\n}\\n\\n.ck.ck-image-insert-form {\\n\\t& > .ck.ck-button {\\n\\t\\tdisplay: block;\\n\\t\\twidth: 100%;\\n\\n\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\ttext-align: left;\\n\\t\\t}\\n\\n\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\ttext-align: right;\\n\\t\\t}\\n\\t}\\n\\n\\t& > .ck.ck-collapsible {\\n\\t\\t&:not(:first-child) {\\n\\t\\t\\tborder-top: 1px solid var(--ck-color-base-border);\\n\\t\\t}\\n\\n\\t\\t&:not(:last-child) {\\n\\t\\t\\tborder-bottom: 1px solid var(--ck-color-base-border);\\n\\t\\t}\\n\\n\\t\\tmin-width: var(--ck-image-insert-insert-by-url-width);\\n\\t}\\n\\n\\t/* This is the case when there are no other integrations configured than insert by URL */\\n\\t& > .ck.ck-image-insert-url {\\n\\t\\tmin-width: var(--ck-image-insert-insert-by-url-width);\\n\\t\\tpadding: var(--ck-spacing-large);\\n\\t}\\n\\n\\t&:focus {\\n\\t\\toutline: none;\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n@define-mixin ck-dir $direction {\\n\\t[dir=\\\"$(direction)\\\"] & {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word}.ck.ck-editor__editable .table td,.ck.ck-editor__editable .table th{position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);opacity:.25}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tablecolumnresize.css\"],\"names\":[],\"mappings\":\"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,4CAIC,wBACD,CAEA,oEAGC,iBACD,CAEA,wDAGC,QAAS,CAGT,iBAAkB,CALlB,iBAAkB,CAGlB,oDAAqD,CAFrD,KAAM,CAKN,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAC/D,WACD,CAEA,iEACC,mDAAoD,CACpD,WACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n:root {\\n\\t--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);\\n\\t--ck-table-column-resizer-width: 7px;\\n\\n\\t/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.\\n\\t   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */\\n\\t--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);\\n}\\n\\n.ck-content .table .ck-table-resized {\\n\\ttable-layout: fixed;\\n}\\n\\n.ck-content .table td,\\n.ck-content .table th {\\n\\t/* To prevent text overflowing beyond its cell when columns are resized by resize handler\\n\\t(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */\\n\\toverflow-wrap: break-word;\\n}\\n\\n.ck.ck-editor__editable .table td,\\n.ck.ck-editor__editable .table th {\\n\\t/* The resizer element is placed inside each cell, so it must be positioned relatively to the cell. */\\n\\tposition: relative;\\n}\\n\\n.ck.ck-editor__editable .table .ck-table-column-resizer {\\n\\tposition: absolute;\\n\\ttop: 0;\\n\\tbottom: 0;\\n\\tright: var(--ck-table-column-resizer-position-offset);\\n\\twidth: var(--ck-table-column-resizer-width);\\n\\tcursor: col-resize;\\n\\tuser-select: none;\\n\\tz-index: var(--ck-z-default);\\n}\\n\\n.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {\\n\\tdisplay: none;\\n}\\n\\n/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,\\n   all resizers must be hidden while the table is dragged. */\\n.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {\\n\\tdisplay: none;\\n}\\n\\n.ck.ck-editor__editable .table .ck-table-column-resizer:hover,\\n.ck.ck-editor__editable .table .ck-table-column-resizer__active {\\n\\tbackground-color: var(--ck-color-selector-column-resizer-hover);\\n\\topacity: 0.25;\\n}\\n\\n.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {\\n\\tleft: var(--ck-table-column-resizer-position-offset);\\n\\tright: unset;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row>:not(.ck-label)+*{margin-inline-start:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-table/theme/formrow.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css\"],\"names\":[],\"mappings\":\"AAOE,wHAEC,sBACD,CCAA,mCACC,2CACD,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n.ck.ck-form__row {\\n\\t&.ck-table-form__action-row {\\n\\t\\t& .ck-button-save,\\n\\t\\t& .ck-button-cancel {\\n\\t\\t\\tjustify-content: center;\\n\\t\\t}\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_dir.css\\\";\\n\\n.ck.ck-form__row {\\n\\t/* Ignore labels that work as fieldset legends */\\n\\t& > *:not(.ck-label) {\\n\\t\\t& + * {\\n\\t\\t\\tmargin-inline-start: var(--ck-spacing-large);\\n\\t\\t}\\n\\t}\\n\\n\\t& > .ck-label {\\n\\t\\twidth: 100%;\\n\\t\\tmin-width: 100%;\\n\\t}\\n\\n\\t&.ck-table-form__action-row {\\n\\t\\tmargin-top: var(--ck-spacing-large);\\n\\n\\t\\t& .ck-button .ck-button__label {\\n\\t\\t\\tcolor: var(--ck-color-text);\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root{--ck-form-default-width:340px}.ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form.ck-form_default-width{width:var(--ck-form-default-width)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-number,.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}@media screen and (max-width:600px){.ck.ck-form.ck-responsive-form .ck.ck-form__row.ck-form__row_with-submit{align-items:stretch;flex-direction:column;padding:0}}.ck.ck-form.ck-responsive-form .ck.ck-form__row.ck-form__row_with-submit{@media screen and (max-width:600px){>.ck{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck-button_with-text{justify-content:center}}}@media screen and (max-width:600px){.ck.ck-form.ck-responsive-form .ck.ck-form__row.ck-form__row_large-bottom-padding{padding-bottom:var(--ck-spacing-large)}}.ck.ck-form.ck-responsive-form{[dir=ltr] &>:not(:first-child){margin-left:0}[dir=rtl] &>:not(:last-child){margin-left:0}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/components/form/form.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\"],\"names\":[],\"mappings\":\"AAQA,MACC,6BACD,CAEA,YACC,mCAyED,CAvEC,kCACC,kCACD,CAEA,kBACC,YACD,CAEA,8DAEC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD,CCjCF,oCDwCE,yEAGE,mBAAoB,CADpB,qBAAsB,CAEtB,SAcF,CCxDF,CDsCE,yECxCF,oCD+CG,KAEE,wDAEF,CAEA,qBAEE,sBAEF,CCvDH,CDwDE,CC1DF,oCD4DE,kFAEE,sCAEF,CC9DF,CDoCA,+BA8BE,+BACC,aACD,CAIA,8BACC,aACD,CAEF\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\\\";\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_dir.css\\\";\\n\\n:root {\\n\\t--ck-form-default-width: 340px;\\n}\\n\\n.ck.ck-form {\\n\\tpadding: 0 0 var(--ck-spacing-large);\\n\\n\\t&.ck-form_default-width {\\n\\t\\twidth: var(--ck-form-default-width);\\n\\t}\\n\\n\\t&:focus {\\n\\t\\toutline: none;\\n\\t}\\n\\n\\t& .ck.ck-input-text,\\n\\t& .ck.ck-input-number {\\n\\t\\tmin-width: 100%;\\n\\t\\twidth: 0;\\n\\t}\\n\\n\\t& .ck.ck-dropdown {\\n\\t\\tmin-width: 100%;\\n\\n\\t\\t& .ck-dropdown__button {\\n\\t\\t\\t&:not(:focus) {\\n\\t\\t\\t\\tborder: 1px solid var(--ck-color-base-border);\\n\\t\\t\\t}\\n\\n\\t\\t\\t& .ck-button__label {\\n\\t\\t\\t\\twidth: 100%;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t/* Default `ck-responsive-form` customization when it lies next to `ck-form` class */\\n\\t&.ck-responsive-form {\\n\\t\\t& .ck.ck-form__row {\\n\\t\\t\\t&.ck-form__row_with-submit {\\n\\t\\t\\t\\t@mixin ck-media-phone {\\n\\t\\t\\t\\t\\tflex-direction: column;\\n\\t\\t\\t\\t\\talign-items: stretch;\\n\\t\\t\\t\\t\\tpadding: 0;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t> .ck {\\n\\t\\t\\t\\t\\t@mixin ck-media-phone {\\n\\t\\t\\t\\t\\t\\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) 0;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t.ck-button_with-text {\\n\\t\\t\\t\\t\\t@mixin ck-media-phone {\\n\\t\\t\\t\\t\\t\\tjustify-content: center;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t&.ck-form__row_large-bottom-padding {\\n\\t\\t\\t\\t@mixin ck-media-phone {\\n\\t\\t\\t\\t\\tpadding-bottom: var(--ck-spacing-large);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\t& > :not(:first-child) {\\n\\t\\t\\t\\tmargin-left: 0;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\t& > :not(:last-child) {\\n\\t\\t\\t\\tmargin-left: 0;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\t/* End of `ck-responsive-form` customization */\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n@define-mixin ck-media-phone {\\n\\t@media screen and (max-width: 600px) {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck-content pre{background:hsla(0,0%,78%,.3);border:1px solid #c4c4c4;border-radius:2px;color:#353535;direction:ltr;font-style:normal;min-width:200px;padding:1em;tab-size:4;text-align:left;white-space:pre-wrap}.ck-content pre code{background:unset;border-radius:0;padding:0}.ck.ck-editor__editable pre{position:relative}.ck.ck-editor__editable pre[data-language]:after{content:attr(data-language);position:absolute}:root{--ck-color-code-block-label-background:#757575}.ck.ck-editor__editable pre[data-language]:after{background:var(--ck-color-code-block-label-background);color:#fff;font-family:var(--ck-font-face);font-size:10px;line-height:16px;padding:var(--ck-spacing-tiny) var(--ck-spacing-medium);right:10px;top:-1px;white-space:nowrap}.ck.ck-code-block-dropdown .ck-dropdown__panel{max-height:250px;overflow-x:hidden;overflow-y:auto}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-code-block/theme/codeblock.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-code-block/codeblock.css\"],\"names\":[],\"mappings\":\"AAKA,gBAGC,4BAAiC,CACjC,wBAAiC,CACjC,iBAAkB,CAHlB,aAAwB,CAOxB,aAAc,CAMd,iBAAkB,CAGlB,eAAgB,CAjBhB,WAAY,CAUZ,UAAW,CAHX,eAAgB,CAIhB,oBAaD,CALC,qBACC,gBAAiB,CAEjB,eAAgB,CADhB,SAED,CAGD,4BACC,iBAMD,CAJC,iDACC,2BAA4B,CAC5B,iBACD,CCjCD,MACC,8CACD,CAEA,iDAGC,sDAAuD,CAMvD,UAAuB,CAHvB,+BAAgC,CADhC,cAAe,CAEf,gBAAiB,CACjB,uDAAwD,CANxD,UAAW,CADX,QAAS,CAST,kBACD,CAEA,+CAEC,gBAAiB,CAEjB,iBAAkB,CADlB,eAED\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n.ck-content pre {\\n\\tpadding: 1em;\\n\\tcolor: hsl(0, 0%, 20.8%);\\n\\tbackground: hsla(0, 0%, 78%, 0.3);\\n\\tborder: 1px solid hsl(0, 0%, 77%);\\n\\tborder-radius: 2px;\\n\\n\\t/* Code block are language direction–agnostic. */\\n\\ttext-align: left;\\n\\tdirection: ltr;\\n\\n\\ttab-size: 4;\\n\\twhite-space: pre-wrap;\\n\\n\\t/* Don't inherit the style, e.g. when in a block quote. */\\n\\tfont-style: normal;\\n\\n\\t/* Don't let the code be squashed e.g. when in a table cell. */\\n\\tmin-width: 200px;\\n\\n\\t& code {\\n\\t\\tbackground: unset;\\n\\t\\tpadding: 0;\\n\\t\\tborder-radius: 0;\\n\\t}\\n}\\n\\n.ck.ck-editor__editable pre {\\n\\tposition: relative;\\n\\n\\t&[data-language]::after {\\n\\t\\tcontent: attr(data-language);\\n\\t\\tposition: absolute;\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n:root {\\n\\t--ck-color-code-block-label-background: hsl(0, 0%, 46%);\\n}\\n\\n.ck.ck-editor__editable pre[data-language]::after {\\n\\ttop: -1px;\\n\\tright: 10px;\\n\\tbackground: var(--ck-color-code-block-label-background);\\n\\n\\tfont-size: 10px;\\n\\tfont-family: var(--ck-font-face);\\n\\tline-height: 16px;\\n\\tpadding: var(--ck-spacing-tiny) var(--ck-spacing-medium);\\n\\tcolor: hsl(0, 0%, 100%);\\n\\twhite-space: nowrap;\\n}\\n\\n.ck.ck-code-block-dropdown .ck-dropdown__panel {\\n\\t/* There could be dozens of languages available. Use scroll to prevent a 10e6px dropdown. */\\n\\tmax-height: 250px;\\n\\toverflow-y: auto;\\n\\toverflow-x: hidden;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck-find-result{background:var(--ck-color-highlight-background);color:var(--ck-color-text)}.ck-find-result_selected{background:#ff9633}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-find-and-replace/theme/findandreplace.css\"],\"names\":[],\"mappings\":\"AAKA,gBACC,+CAAgD,CAChD,0BACD,CAEA,yBACC,kBACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n.ck-find-result {\\n\\tbackground: var(--ck-color-highlight-background);\\n\\tcolor: var(--ck-color-text);\\n}\\n\\n.ck-find-result_selected {\\n\\tbackground: hsl(29, 100%, 60%);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","module.exports = (__webpack_require__(9237))(\"./src/paragraph.js\");","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-find-and-replace-form{max-width:100%;& .ck-find-and-replace-form__inputs,.ck-find-and-replace-form__actions{display:flex}& .ck-find-and-replace-form__inputs.ck-find-and-replace-form__inputs .ck-results-counter,.ck-find-and-replace-form__actions.ck-find-and-replace-form__inputs .ck-results-counter{position:absolute}}.ck.ck-find-and-replace-form{width:400px}.ck.ck-find-and-replace-form:focus{outline:none}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions,.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs{align-content:stretch;align-items:center;flex:1 1 auto;flex-direction:row;flex-wrap:wrap;margin:0;padding:var(--ck-spacing-large)}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions>.ck-button,.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>.ck-button{flex:0 0 auto}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions,.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs{[dir=ltr] &>*+*{margin-left:var(--ck-spacing-standard)}[dir=rtl] &>*+*{margin-right:var(--ck-spacing-standard)}}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions .ck-labeled-field-view,.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs .ck-labeled-field-view{flex:1 1 auto}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions .ck-labeled-field-view .ck-input,.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs .ck-labeled-field-view .ck-input{min-width:50px;width:100%}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs{align-items:flex-start}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>.ck-button-prev>.ck-icon{transform:rotate(90deg)}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>.ck-button-next>.ck-icon{transform:rotate(-90deg)}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs .ck-results-counter{color:var(--ck-color-base-border);top:50%;transform:translateY(-50%);[dir=ltr] &{right:var(--ck-spacing-standard)}[dir=rtl] &{left:var(--ck-spacing-standard)}}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>.ck-labeled-field-replace{flex:0 0 100%;padding-top:var(--ck-spacing-standard);[dir=ltr] &{margin-left:0}[dir=rtl] &{margin-right:0}}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions{flex-wrap:wrap;justify-content:flex-end;margin-top:calc(var(--ck-spacing-large)*-1)}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions>.ck-button-find{font-weight:700}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions>.ck-button-find .ck-button__label{padding-left:var(--ck-spacing-large);padding-right:var(--ck-spacing-large)}.ck.ck-find-and-replace-form .ck-switchbutton{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;width:100%}@media screen and (max-width:600px){.ck.ck-find-and-replace-form{max-width:100%;width:300px}.ck.ck-find-and-replace-form.ck-find-and-replace-form__input{flex-wrap:wrap}.ck.ck-find-and-replace-form.ck-find-and-replace-form__input .ck-labeled-field-view{flex:1 0 auto;margin-bottom:var(--ck-spacing-standard);width:100%}.ck.ck-find-and-replace-form.ck-find-and-replace-form__input>.ck-button{text-align:center}.ck.ck-find-and-replace-form.ck-find-and-replace-form__input>.ck-button:first-of-type{flex:1 1 auto;[dir=ltr] &{margin-left:0}[dir=rtl] &{margin-right:0}}.ck.ck-find-and-replace-form.ck-find-and-replace-form__input>.ck-button:first-of-type .ck-button__label{text-align:center;width:100%}.ck.ck-find-and-replace-form.ck-find-and-replace-form__actions>:not(.ck-labeled-field-view){flex:1 1 auto;flex-wrap:wrap}.ck.ck-find-and-replace-form.ck-find-and-replace-form__actions>:not(.ck-labeled-field-view)>.ck-button{text-align:center}.ck.ck-find-and-replace-form.ck-find-and-replace-form__actions>:not(.ck-labeled-field-view)>.ck-button:first-of-type{flex:1 1 auto;[dir=ltr] &{margin-left:0}[dir=rtl] &{margin-right:0}}.ck.ck-find-and-replace-form.ck-find-and-replace-form__actions>:not(.ck-labeled-field-view)>.ck-button .ck-button__label{text-align:center;width:100%}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-find-and-replace/theme/findandreplaceform.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-find-and-replace/findandreplaceform.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_dir.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\"],\"names\":[],\"mappings\":\"AAKA,6BACC,cAAe,CAEf,uEACC,YAMD,CAHC,iLACC,iBACD,CAEF,CCRA,6BACC,WAoHD,CA9GC,mCACC,YACD,CAGA,+HAMC,qBAAsB,CADtB,kBAAmB,CAHnB,aAAc,CACd,kBAAmB,CACnB,cAAe,CAKf,QAAS,CADT,+BA4BD,CAzBC,qJACC,aACD,CAbD,+HAgBE,gBACC,sCACD,CAIA,gBACC,uCACD,CAYF,CATC,6KACC,aAMD,CAJC,iMAEC,cAAe,CADf,UAED,CAMF,+DAEC,sBAqCD,CAnCC,wFACC,uBACD,CAEA,wFACC,wBACD,CAEA,mFAYC,iCAAkC,CAXlC,OAAQ,CACR,0BAA2B,CCnE7B,YDsEG,gCCpEH,CAFA,YD0EG,+BCxEH,CD4EC,CAEA,yFACC,aAAc,CACd,sCAAuC,CClFzC,YDqFG,aCnFH,CAFA,YDyFG,cCvFH,CDyFC,CAID,gEACC,cAAe,CACf,wBAAyB,CACzB,2CAWD,CATC,gFACC,eAOD,CAJC,kGACC,oCAAqC,CACrC,qCACD,CAIF,8CAMC,kBAAmB,CAJnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAJ9B,UAMD,CEtHA,oCF0HA,6BAIC,cAAe,CAHf,WA+DD,CAzDC,6DACC,cA4BD,CA1BC,oFACC,aAAc,CAEd,wCAAyC,CADzC,UAED,CAEA,wEACC,iBAkBD,CAhBC,sFACC,aAAc,CC9IlB,YDiJK,aC/IL,CAFA,YDqJK,cCnJL,CD0JG,CAJC,wGAEC,iBAAkB,CADlB,UAED,CAMH,4FAEC,aAAc,CADd,cAuBD,CApBC,uGACC,iBAkBD,CAhBC,qHACC,aAAc,CCzKlB,YD4KK,aC1KL,CAFA,YDgLK,cC9KL,CDgLG,CAEA,yHAEC,iBAAkB,CADlB,UAED,CErLH\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n.ck.ck-find-and-replace-form {\\n\\tmax-width: 100%;\\n\\n\\t& .ck-find-and-replace-form__inputs, .ck-find-and-replace-form__actions {\\n\\t\\tdisplay: flex;\\n\\n\\t\\t/* The inputs area styles */\\n\\t\\t&.ck-find-and-replace-form__inputs .ck-results-counter {\\n\\t\\t\\tposition: absolute;\\n\\t\\t}\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\\\";\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_dir.css\\\";\\n\\n.ck.ck-find-and-replace-form {\\n\\twidth: 400px;\\n\\n\\t/*\\n\\t * The <form> needs tabindex=\\\"-1\\\" for proper Esc handling after being clicked\\n\\t * but the side effect is that this creates a nasty focus outline in some browsers.\\n\\t */\\n\\t&:focus {\\n\\t\\toutline: none;\\n\\t}\\n\\n\\t/* Generic styles for the form inputs and actions. */\\n\\t& .ck-find-and-replace-form__inputs,\\n\\t& .ck-find-and-replace-form__actions {\\n\\t\\tflex: 1 1 auto;\\n\\t\\tflex-direction: row;\\n\\t\\tflex-wrap: wrap;\\n\\t\\talign-items: center;\\n\\t\\talign-content: stretch;\\n\\n\\t\\tpadding: var(--ck-spacing-large);\\n\\t\\tmargin: 0;\\n\\n\\t\\t& > .ck-button {\\n\\t\\t\\tflex: 0 0 auto;\\n\\t\\t}\\n\\n\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\t& > * + * {\\n\\t\\t\\t\\tmargin-left: var(--ck-spacing-standard);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\t& > * + * {\\n\\t\\t\\t\\tmargin-right: var(--ck-spacing-standard);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t& .ck-labeled-field-view {\\n\\t\\t\\tflex: 1 1 auto;\\n\\n\\t\\t\\t& .ck-input {\\n\\t\\t\\t\\twidth: 100%;\\n\\t\\t\\t\\tmin-width: 50px;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t}\\n\\n\\t/* Styles specific for inputs area. */\\n\\t& .ck-find-and-replace-form__inputs {\\n\\t\\t/* To display all controls in line when there's an error under the input */\\n\\t\\talign-items: flex-start;\\n\\n\\t\\t& > .ck-button-prev > .ck-icon {\\n\\t\\t\\ttransform: rotate(90deg);\\n\\t\\t}\\n\\n\\t\\t& > .ck-button-next > .ck-icon {\\n\\t\\t\\ttransform: rotate(-90deg);\\n\\t\\t}\\n\\n\\t\\t& .ck-results-counter {\\n\\t\\t\\ttop: 50%;\\n\\t\\t\\ttransform: translateY(-50%);\\n\\n\\t\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\t\\tright: var(--ck-spacing-standard);\\n\\t\\t\\t}\\n\\n\\t\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\t\\tleft: var(--ck-spacing-standard);\\n\\t\\t\\t}\\n\\n\\t\\t\\tcolor: var(--ck-color-base-border);\\n\\t\\t}\\n\\n\\t\\t& > .ck-labeled-field-replace {\\n\\t\\t\\tflex: 0 0 100%;\\n\\t\\t\\tpadding-top: var(--ck-spacing-standard);\\n\\n\\t\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\t\\tmargin-left: 0;\\n\\t\\t\\t}\\n\\n\\t\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\t\\tmargin-right: 0;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t/* Styles specific for actions area. */\\n\\t& .ck-find-and-replace-form__actions {\\n\\t\\tflex-wrap: wrap;\\n\\t\\tjustify-content: flex-end;\\n\\t\\tmargin-top: calc( -1 * var(--ck-spacing-large) );\\n\\n\\t\\t& > .ck-button-find {\\n\\t\\t\\tfont-weight: bold;\\n\\n\\t\\t\\t/* Beef the find button up a little. It's the main action button in the form */\\n\\t\\t\\t& .ck-button__label {\\n\\t\\t\\t\\tpadding-left: var(--ck-spacing-large);\\n\\t\\t\\t\\tpadding-right: var(--ck-spacing-large);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t& .ck-switchbutton {\\n\\t\\twidth: 100%;\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: row;\\n\\t\\tflex-wrap: nowrap;\\n\\t\\tjustify-content: space-between;\\n\\t\\talign-items: center;\\n\\t}\\n}\\n\\n@mixin ck-media-phone {\\n\\t.ck.ck-find-and-replace-form {\\n\\t\\twidth: 300px;\\n\\n\\t\\t/* Don't let the form overflow from the dialog (https://github.com/cksource/ckeditor5-commercial/issues/5913) */\\n\\t\\tmax-width: 100%;\\n\\n\\t\\t/* Styles specific for inputs area. */\\n\\t\\t&.ck-find-and-replace-form__input {\\n\\t\\t\\tflex-wrap: wrap;\\n\\n\\t\\t\\t& .ck-labeled-field-view {\\n\\t\\t\\t\\tflex: 1 0 auto;\\n\\t\\t\\t\\twidth: 100%;\\n\\t\\t\\t\\tmargin-bottom: var(--ck-spacing-standard);\\n\\t\\t\\t}\\n\\n\\t\\t\\t& > .ck-button {\\n\\t\\t\\t\\ttext-align: center;\\n\\n\\t\\t\\t\\t&:first-of-type {\\n\\t\\t\\t\\t\\tflex: 1 1 auto;\\n\\n\\t\\t\\t\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\t\\t\\t\\tmargin-left: 0;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\t\\t\\t\\tmargin-right: 0;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t& .ck-button__label {\\n\\t\\t\\t\\t\\t\\twidth: 100%;\\n\\t\\t\\t\\t\\t\\ttext-align: center;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/* Styles specific for actions area. */\\n\\t\\t&.ck-find-and-replace-form__actions > :not(.ck-labeled-field-view) {\\n\\t\\t\\tflex-wrap: wrap;\\n\\t\\t\\tflex: 1 1 auto;\\n\\n\\t\\t\\t& > .ck-button {\\n\\t\\t\\t\\ttext-align: center;\\n\\n\\t\\t\\t\\t&:first-of-type {\\n\\t\\t\\t\\t\\tflex: 1 1 auto;\\n\\n\\t\\t\\t\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\t\\t\\t\\tmargin-left: 0;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\t\\t\\t\\tmargin-right: 0;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t& .ck-button__label {\\n\\t\\t\\t\\t\\twidth: 100%;\\n\\t\\t\\t\\t\\ttext-align: center;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n@define-mixin ck-dir $direction {\\n\\t[dir=\\\"$(direction)\\\"] & {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n@define-mixin ck-media-phone {\\n\\t@media screen and (max-width: 600px) {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-dropdown.ck-style-dropdown.ck-style-dropdown_multiple-active>.ck-button>.ck-button__label{font-style:italic}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-style/style.css\"],\"names\":[],\"mappings\":\"AAKA,iGACC,iBACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n.ck.ck-dropdown.ck-style-dropdown.ck-style-dropdown_multiple-active > .ck-button > .ck-button__label {\\n\\tfont-style: italic;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","module.exports = (__webpack_require__(9237))(\"./src/enter.js\");","/**\n * Translates the list format produced by css-loader into something\n * easier to manipulate.\n */\nexport default function listToStyles (parentId, list) {\n  var styles = []\n  var newStyles = {}\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i]\n    var id = item[0]\n    var css = item[1]\n    var media = item[2]\n    var sourceMap = item[3]\n    var part = {\n      id: parentId + ':' + i,\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    }\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = { id: id, parts: [part] })\n    } else {\n      newStyles[id].parts.push(part)\n    }\n  }\n  return styles\n}\n","/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n  Modified by Evan You @yyx990803\n*/\n\nimport listToStyles from './listToStyles'\n\nvar hasDocument = typeof document !== 'undefined'\n\nif (typeof DEBUG !== 'undefined' && DEBUG) {\n  if (!hasDocument) {\n    throw new Error(\n    'vue-style-loader cannot be used in a non-browser environment. ' +\n    \"Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.\"\n  ) }\n}\n\n/*\ntype StyleObject = {\n  id: number;\n  parts: Array<StyleObjectPart>\n}\n\ntype StyleObjectPart = {\n  css: string;\n  media: string;\n  sourceMap: ?string\n}\n*/\n\nvar stylesInDom = {/*\n  [id: number]: {\n    id: number,\n    refs: number,\n    parts: Array<(obj?: StyleObjectPart) => void>\n  }\n*/}\n\nvar head = hasDocument && (document.head || document.getElementsByTagName('head')[0])\nvar singletonElement = null\nvar singletonCounter = 0\nvar isProduction = false\nvar noop = function () {}\nvar options = null\nvar ssrIdKey = 'data-vue-ssr-id'\n\n// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n// tags it will allow on a page\nvar isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\b/.test(navigator.userAgent.toLowerCase())\n\nexport default function addStylesClient (parentId, list, _isProduction, _options) {\n  isProduction = _isProduction\n\n  options = _options || {}\n\n  var styles = listToStyles(parentId, list)\n  addStylesToDom(styles)\n\n  return function update (newList) {\n    var mayRemove = []\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i]\n      var domStyle = stylesInDom[item.id]\n      domStyle.refs--\n      mayRemove.push(domStyle)\n    }\n    if (newList) {\n      styles = listToStyles(parentId, newList)\n      addStylesToDom(styles)\n    } else {\n      styles = []\n    }\n    for (var i = 0; i < mayRemove.length; i++) {\n      var domStyle = mayRemove[i]\n      if (domStyle.refs === 0) {\n        for (var j = 0; j < domStyle.parts.length; j++) {\n          domStyle.parts[j]()\n        }\n        delete stylesInDom[domStyle.id]\n      }\n    }\n  }\n}\n\nfunction addStylesToDom (styles /* Array<StyleObject> */) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i]\n    var domStyle = stylesInDom[item.id]\n    if (domStyle) {\n      domStyle.refs++\n      for (var j = 0; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j])\n      }\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j]))\n      }\n      if (domStyle.parts.length > item.parts.length) {\n        domStyle.parts.length = item.parts.length\n      }\n    } else {\n      var parts = []\n      for (var j = 0; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j]))\n      }\n      stylesInDom[item.id] = { id: item.id, refs: 1, parts: parts }\n    }\n  }\n}\n\nfunction createStyleElement () {\n  var styleElement = document.createElement('style')\n  styleElement.type = 'text/css'\n  head.appendChild(styleElement)\n  return styleElement\n}\n\nfunction addStyle (obj /* StyleObjectPart */) {\n  var update, remove\n  var styleElement = document.querySelector('style[' + ssrIdKey + '~=\"' + obj.id + '\"]')\n\n  if (styleElement) {\n    if (isProduction) {\n      // has SSR styles and in production mode.\n      // simply do nothing.\n      return noop\n    } else {\n      // has SSR styles but in dev mode.\n      // for some reason Chrome can't handle source map in server-rendered\n      // style tags - source maps in <style> only works if the style tag is\n      // created and inserted dynamically. So we remove the server rendered\n      // styles and inject new ones.\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  if (isOldIE) {\n    // use singleton mode for IE9.\n    var styleIndex = singletonCounter++\n    styleElement = singletonElement || (singletonElement = createStyleElement())\n    update = applyToSingletonTag.bind(null, styleElement, styleIndex, false)\n    remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true)\n  } else {\n    // use multi-style-tag mode in all other cases\n    styleElement = createStyleElement()\n    update = applyToTag.bind(null, styleElement)\n    remove = function () {\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  update(obj)\n\n  return function updateStyle (newObj /* StyleObjectPart */) {\n    if (newObj) {\n      if (newObj.css === obj.css &&\n          newObj.media === obj.media &&\n          newObj.sourceMap === obj.sourceMap) {\n        return\n      }\n      update(obj = newObj)\n    } else {\n      remove()\n    }\n  }\n}\n\nvar replaceText = (function () {\n  var textStore = []\n\n  return function (index, replacement) {\n    textStore[index] = replacement\n    return textStore.filter(Boolean).join('\\n')\n  }\n})()\n\nfunction applyToSingletonTag (styleElement, index, remove, obj) {\n  var css = remove ? '' : obj.css\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = replaceText(index, css)\n  } else {\n    var cssNode = document.createTextNode(css)\n    var childNodes = styleElement.childNodes\n    if (childNodes[index]) styleElement.removeChild(childNodes[index])\n    if (childNodes.length) {\n      styleElement.insertBefore(cssNode, childNodes[index])\n    } else {\n      styleElement.appendChild(cssNode)\n    }\n  }\n}\n\nfunction applyToTag (styleElement, obj) {\n  var css = obj.css\n  var media = obj.media\n  var sourceMap = obj.sourceMap\n\n  if (media) {\n    styleElement.setAttribute('media', media)\n  }\n  if (options.ssrId) {\n    styleElement.setAttribute(ssrIdKey, obj.id)\n  }\n\n  if (sourceMap) {\n    // https://developer.chrome.com/devtools/docs/javascript-debugging\n    // this makes source maps inside style tags work properly in Chrome\n    css += '\\n/*# sourceURL=' + sourceMap.sources[0] + ' */'\n    // http://stackoverflow.com/a/26603875\n    css += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + ' */'\n  }\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild)\n    }\n    styleElement.appendChild(document.createTextNode(css))\n  }\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/link.css\"],\"names\":[],\"mappings\":\"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n/* Class added to span element surrounding currently selected link. */\\n.ck .ck-link_selected {\\n\\tbackground: var(--ck-color-link-selected-background);\\n\\n\\t/* Give linked inline images some outline to let the user know they are also part of the link. */\\n\\t& span.image-inline {\\n\\t\\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);\\n\\t}\\n}\\n\\n/*\\n * Classes used by the \\\"fake visual selection\\\" displayed in the content when an input\\n * in the link UI has focus (the browser does not render the native selection in this state).\\n */\\n.ck .ck-fake-link-selection {\\n\\tbackground: var(--ck-color-link-fake-selection);\\n}\\n\\n/* A collapsed fake visual selection. */\\n.ck .ck-fake-link-selection_collapsed {\\n\\theight: 100%;\\n\\tborder-right: 1px solid var(--ck-color-base-text);\\n\\tmargin-right: -1px;\\n\\toutline: solid 1px hsla(0, 0%, 100%, .5);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-list/theme/liststyles.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css\"],\"names\":[],\"mappings\":\"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n.ck.ck-list-styles-list {\\n\\tdisplay: grid;\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n:root {\\n\\t--ck-list-style-button-size: 44px;\\n}\\n\\n.ck.ck-list-styles-list {\\n\\tgrid-template-columns: repeat( 3, auto );\\n\\trow-gap: var(--ck-spacing-medium);\\n\\tcolumn-gap: var(--ck-spacing-medium);\\n\\tpadding: var(--ck-spacing-large);\\n\\n\\t& .ck-button {\\n\\t\\t/* Make the button look like a thumbnail (the icon \\\"takes it all\\\"). */\\n\\t\\twidth: var(--ck-list-style-button-size);\\n\\t\\theight: var(--ck-list-style-button-size);\\n\\t\\tpadding: 0;\\n\\n\\t\\t/*\\n\\t\\t * Buttons are aligned by the grid so disable default button margins to not collide with the\\n\\t\\t * gaps in the grid.\\n\\t\\t */\\n\\t\\tmargin: 0;\\n\\n\\t\\t/*\\n\\t\\t * Make sure the button border (which is displayed on focus, BTW) does not steal pixels\\n\\t\\t * from the button dimensions and, as a result, decrease the size of the icon\\n\\t\\t * (which becomes blurry as it scales down).\\n\\t\\t */\\n\\t\\tbox-sizing: content-box;\\n\\n\\t\\t& .ck-icon {\\n\\t\\t\\twidth: var(--ck-list-style-button-size);\\n\\t\\t\\theight: var(--ck-list-style-button-size);\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck-form__row>:not(.ck-label,.ck-table-form__dimension-operator){flex-grow:1}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:\\\"\\\";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);border-radius:0;color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center;&.ck-rounded-corners,.ck-rounded-corners &{border-radius:var(--ck-border-radius)}}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}@media (prefers-reduced-motion:reduce){.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:none}}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tableform.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css\"],\"names\":[],\"mappings\":\"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAKD,mFACC,WACD,CAGD,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CCtDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCA6BD,CA3BC,8EAGC,qCAAsC,CC3CxC,eAAgB,CD4Cd,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAAkB,CC7CpB,2CAEC,qCAED,CDuDC,CAXC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEAKD,CAHC,uCAlBD,8EAmBE,cAEF,CADC,CAID,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n.ck.ck-table-form {\\n\\t& .ck-form__row {\\n\\t\\t&.ck-table-form__border-row {\\n\\t\\t\\tflex-wrap: wrap;\\n\\t\\t}\\n\\n\\t\\t&.ck-table-form__background-row {\\n\\t\\t\\tflex-wrap: wrap;\\n\\t\\t}\\n\\n\\t\\t&.ck-table-form__dimensions-row {\\n\\t\\t\\tflex-wrap: wrap;\\n\\t\\t\\talign-items: center;\\n\\n\\t\\t\\t& .ck-labeled-field-view {\\n\\t\\t\\t\\tdisplay: flex;\\n\\t\\t\\t\\tflex-direction: column-reverse;\\n\\t\\t\\t\\talign-items: center;\\n\\n\\t\\t\\t\\t& .ck.ck-dropdown {\\n\\t\\t\\t\\t\\tflex-grow: 0;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t& .ck-table-form__dimension-operator {\\n\\t\\t\\t\\tflex-grow: 0;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/* Ignore labels that work as fieldset legends */\\n\\t\\t/* Fallback for table dimension operator */\\n\\t\\t& > *:not(.ck-label, .ck-table-form__dimension-operator) {\\n\\t\\t\\tflex-grow: 1;\\n\\t\\t}\\n\\t}\\n\\n\\t& .ck.ck-labeled-field-view {\\n\\t\\t/* Allow absolute positioning of the status (error) balloons. */\\n\\t\\tposition: relative;\\n\\n\\t\\t& .ck.ck-labeled-field-view__status {\\n\\t\\t\\tposition: absolute;\\n\\t\\t\\tleft: 50%;\\n\\t\\t\\tbottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );\\n\\t\\t\\ttransform: translate(-50%,100%);\\n\\n\\t\\t\\t/* Make sure the balloon status stays on top of other form elements. */\\n\\t\\t\\tz-index: 1;\\n\\n\\t\\t\\t/* The arrow pointing towards the field. */\\n\\t\\t\\t&::after {\\n\\t\\t\\t\\tcontent: \\\"\\\";\\n\\t\\t\\t\\tposition: absolute;\\n\\t\\t\\t\\ttop: calc( -1 * var(--ck-table-properties-error-arrow-size) );\\n\\t\\t\\t\\tleft: 50%;\\n\\t\\t\\t\\ttransform: translateX( -50% );\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n@import \\\"../mixins/_rounded.css\\\";\\n\\n:root {\\n\\t--ck-table-properties-error-arrow-size: 6px;\\n\\t--ck-table-properties-min-error-width: 150px;\\n}\\n\\n.ck.ck-table-form {\\n\\t& .ck-form__row {\\n\\t\\t&.ck-table-form__border-row {\\n\\t\\t\\t& .ck-labeled-field-view {\\n\\t\\t\\t\\t& > .ck-label {\\n\\t\\t\\t\\t\\tfont-size: var(--ck-font-size-tiny);\\n\\t\\t\\t\\t\\ttext-align: center;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t& .ck-table-form__border-style,\\n\\t\\t\\t& .ck-table-form__border-width {\\n\\t\\t\\t\\twidth: 80px;\\n\\t\\t\\t\\tmin-width: 80px;\\n\\t\\t\\t\\tmax-width: 80px;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t&.ck-table-form__dimensions-row {\\n\\t\\t\\tpadding: 0;\\n\\n\\t\\t\\t& .ck-table-form__dimensions-row__width,\\n\\t\\t\\t& .ck-table-form__dimensions-row__height {\\n\\t\\t\\t\\tmargin: 0\\n\\t\\t\\t}\\n\\n\\t\\t\\t& .ck-table-form__dimension-operator {\\n\\t\\t\\t\\talign-self: flex-end;\\n\\t\\t\\t\\tdisplay: inline-block;\\n\\t\\t\\t\\theight: var(--ck-ui-component-min-height);\\n\\t\\t\\t\\tline-height: var(--ck-ui-component-min-height);\\n\\t\\t\\t\\tmargin: 0 var(--ck-spacing-small);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t& .ck.ck-labeled-field-view {\\n\\t\\tpadding-top: var(--ck-spacing-standard);\\n\\n\\t\\t& .ck.ck-labeled-field-view__status {\\n\\t\\t\\t@mixin ck-rounded-corners;\\n\\n\\t\\t\\tbackground: var(--ck-color-base-error);\\n\\t\\t\\tcolor: var(--ck-color-base-background);\\n\\t\\t\\tpadding: var(--ck-spacing-small) var(--ck-spacing-medium);\\n\\t\\t\\tmin-width: var(--ck-table-properties-min-error-width);\\n\\t\\t\\ttext-align: center;\\n\\n\\t\\t\\t/* The arrow pointing towards the field. */\\n\\t\\t\\t&::after {\\n\\t\\t\\t\\tborder-color: transparent transparent var(--ck-color-base-error) transparent;\\n\\t\\t\\t\\tborder-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);\\n\\t\\t\\t\\tborder-style: solid;\\n\\t\\t\\t}\\n\\n\\t\\t\\tanimation: ck-table-form-labeled-view-status-appear .15s ease both;\\n\\n\\t\\t\\t@media (prefers-reduced-motion: reduce) {\\n\\t\\t\\t\\tanimation: none;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */\\n\\t\\t& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {\\n\\t\\t\\tdisplay: none;\\n\\t\\t}\\n\\t}\\n}\\n\\n@keyframes ck-table-form-labeled-view-status-appear {\\n\\t0% {\\n\\t\\topacity: 0;\\n\\t}\\n\\n\\t100% {\\n\\t\\topacity: 1;\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n/**\\n * Implements rounded corner interface for .ck-rounded-corners class.\\n *\\n * @see $ck-border-radius\\n */\\n@define-mixin ck-rounded-corners {\\n\\tborder-radius: 0;\\n\\n\\t.ck-rounded-corners &,\\n\\t&.ck-rounded-corners {\\n\\t\\tborder-radius: var(--ck-border-radius);\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck-editor__editable.ck-editor__editable_inline>.ck-widget.ck-widget_with-selection-handle.layout-table:first-child{margin-top:var(--ck-spacing-large)}.ck-editor__editable.ck-editor__editable_inline>.ck-widget.ck-widget_with-selection-handle.layout-table:last-child,.ck-editor__editable.ck-editor__editable_inline>.ck-widget.ck-widget_with-selection-handle.layout-table:nth-last-child(2):has(+.ck-fake-selection-container){margin-bottom:var(--ck-spacing-large)}.ck-editor__editable .table.layout-table{display:table;margin:0}.ck-editor__editable .table.layout-table.ck-widget:hover{z-index:var(--ck-z-default)}.ck-editor__editable .table.layout-table.ck-widget:hover>.ck-widget__selection-handle{opacity:.75;visibility:visible}.ck-editor__editable .table.layout-table.ck-widget:hover>.ck-widget__selection-handle:hover{opacity:1}.ck-editor__editable .table.layout-table.ck-widget:has(.ck-widget.table:hover)>.ck-widget__selection-handle{opacity:0;visibility:hidden}.ck-editor__editable .table.layout-table.ck-widget.ck-widget_selected{z-index:var(--ck-z-default)}.ck-content figure.table.layout-table,.ck-content table.table.layout-table{margin-bottom:0;margin-top:0}.ck-content figure.table.layout-table>table,.ck-content table.table.layout-table{border-spacing:0}:root{--ck-table-layout-widget-type-around-button-size:16px;--ck-table-layout-widget-type-around-icon-width:10px;--ck-table-layout-widget-type-around-icon-height:8px;--ck-table-layout-widget-handler-icon-size:10px;--ck-table-layout-default-border-color:#d4d4d4}.ck-editor__editable .table.layout-table>table{border-collapse:revert;height:100%;width:100%}.ck-editor__editable .table.layout-table>table:not([style*=\\\"border:\\\"],[style*=border-top],[style*=border-bottom],[style*=border-left],[style*=border-right],[style*=border-width],[style*=border-style],[style*=border-color]){border-color:transparent;border-width:0;outline:none}.ck-editor__editable .table.layout-table>table>tbody>tr>td{box-shadow:revert;min-width:2em;padding:revert;text-indent:1px}.ck-editor__editable .table.layout-table>table>tbody>tr>td[style*=\\\" width:\\\"],.ck-editor__editable .table.layout-table>table>tbody>tr>td[style*=\\\"'width:\\\"],.ck-editor__editable .table.layout-table>table>tbody>tr>td[style*=\\\";width:\\\"],.ck-editor__editable .table.layout-table>table>tbody>tr>td[style^=\\\"width:\\\"]{min-width:auto}.ck-editor__editable .table.layout-table>table>tbody>tr>td:focus{background-color:transparent}.ck-editor__editable .table.layout-table>table>tbody>tr>td:not([style*=\\\"border:\\\"],[style*=border-top],[style*=border-bottom],[style*=border-left],[style*=border-right],[style*=border-width],[style*=border-style],[style*=border-color]){border-color:transparent;border-width:0;outline:var(--ck-table-layout-default-border-color) 1px dashed;outline-offset:-1px}.ck-editor__editable .table.layout-table>table>tbody>tr>td:not([style*=\\\"border:\\\"],[style*=border-top],[style*=border-bottom],[style*=border-left],[style*=border-right],[style*=border-width],[style*=border-style],[style*=border-color]):focus{outline:var(--ck-color-focus-border) 1px solid}.ck-editor__editable .table.layout-table>table>tbody>tr>td>.ck-table-bogus-paragraph{text-indent:0;width:calc(100% - 1px)}.ck-editor__editable .table.layout-table.ck-widget>.ck-widget__type-around{--ck-widget-type-around-button-size:var(--ck-table-layout-widget-type-around-button-size)}.ck-editor__editable .table.layout-table.ck-widget>.ck-widget__type-around>.ck-widget__type-around__button.ck-widget__type-around__button_after,.ck-editor__editable .table.layout-table.ck-widget>.ck-widget__type-around>.ck-widget__type-around__button.ck-widget__type-around__button_before{transform:translateY(0);z-index:2}.ck-editor__editable .table.layout-table.ck-widget>.ck-widget__type-around>.ck-widget__type-around__button.ck-widget__type-around__button_before{border-radius:0 0 100px 100px;left:min(10%,30px);margin-left:var(--ck-table-layout-widget-type-around-button-size)}.ck-editor__editable .table.layout-table.ck-widget>.ck-widget__type-around>.ck-widget__type-around__button.ck-widget__type-around__button_before:after{border-radius:0 0 100px 100px}.ck-editor__editable .table.layout-table.ck-widget>.ck-widget__type-around>.ck-widget__type-around__button.ck-widget__type-around__button_after,.ck-editor__editable .table.layout-table.ck-widget>.ck-widget__type-around>.ck-widget__type-around__button.ck-widget__type-around__button_after:after{border-radius:100px 100px 0 0}.ck-editor__editable .table.layout-table.ck-widget>.ck-widget__type-around>.ck-widget__type-around__button svg{height:var(--ck-table-layout-widget-type-around-icon-height);width:var(--ck-table-layout-widget-type-around-icon-width)}.ck-editor__editable .table.layout-table.ck-widget.ck-widget_with-selection-handle>.ck-widget__selection-handle{--ck-widget-handler-icon-size:var(--ck-table-layout-widget-handler-icon-size);transform:translateY(calc(0px - var(--ck-widget-outline-thickness)));z-index:3}.ck-editor__editable .table.layout-table.ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{top:0}.ck-editor__editable .table.layout-table.ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:0}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tablelayout.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tablelayout.css\"],\"names\":[],\"mappings\":\"AAQG,oHACC,kCACD,CAKA,gRAGC,qCACD,CAIF,yCACC,aAAc,CACd,QAiCD,CA7BE,yDAGC,2BACD,CAEA,sFACC,WAAa,CACb,kBAKD,CAHC,4FACC,SACD,CAMD,4GACC,SAAU,CACV,iBACD,CAEA,sEAGC,2BACD,CAMF,2EAIC,eAAgB,CADhB,YAED,CAEA,iFAEC,gBACD,CCnED,MACC,qDAAsD,CACtD,oDAAqD,CACrD,oDAAqD,CACrD,+CAAgD,CAChD,8CAED,CAIE,+CAKC,sBAAuB,CAHvB,WAAY,CADZ,UAoBD,CAbC,+NASC,wBAAyB,CACzB,cAAe,CACf,YACD,CAGD,2DACC,iBAAkB,CAElB,aAAc,CADd,cAAe,CAGf,eA0CD,CAvCC,mTAIC,cACD,CAGA,iEACC,4BACD,CAIA,2OASC,wBAAyB,CAEzB,cAAe,CACf,8DAA+D,CAC/D,mBAKD,CAHC,iPACC,8CACD,CAID,qFAEC,aAAc,CADd,sBAED,CAKA,2EACC,yFAiCD,CA9BE,iSAEC,uBAAwB,CAExB,SACD,CAEA,iJAGC,6BAA8B,CAD9B,kBAAoB,CADpB,iEAOD,CAHC,uJACC,6BACD,CAMA,sSACC,6BACD,CAGD,+GAEC,4DAA6D,CAD7D,0DAED,CAKD,gHACC,6EAA8E,CAE9E,oEAAqE,CAGrE,SACD,CAMC,4JACC,KACD,CAOA,2JACC,QACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n.ck-editor__editable {\\n\\t&.ck-editor__editable_inline {\\n\\t\\t& > .ck-widget.ck-widget_with-selection-handle.layout-table {\\n\\t\\t\\t&:first-child {\\n\\t\\t\\t\\tmargin-top: var(--ck-spacing-large);\\n\\t\\t\\t}\\n\\t\\t\\t/*\\n\\t\\t\\t* This value should match with the default margins of the block elements (like .media, .image or .table)\\n\\t\\t\\t* to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).\\n\\t\\t\\t*/\\n\\t\\t\\t&:last-child,\\n\\t\\t\\t/* Fallback for hidden fake selection div */\\n\\t\\t\\t&:nth-last-child(2):has( + .ck-fake-selection-container) {\\n\\t\\t\\t\\tmargin-bottom: var(--ck-spacing-large);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t& .table.layout-table {\\n\\t\\tdisplay: table;\\n\\t\\tmargin: 0;\\n\\n\\t\\t/* Widget type around overrides. */\\n\\t\\t&.ck-widget {\\n\\t\\t\\t&:hover {\\n\\t\\t\\t\\t/* To prevent the widget outline from being cut off at the bottom\\n\\t\\t\\t\\twhen the next cell or table has a background color, for example. */\\n\\t\\t\\t\\tz-index: var(--ck-z-default);\\n\\t\\t\\t}\\n\\n\\t\\t\\t&:hover > .ck-widget__selection-handle {\\n\\t\\t\\t\\topacity: 0.75;\\n\\t\\t\\t\\tvisibility: visible;\\n\\n\\t\\t\\t\\t&:hover {\\n\\t\\t\\t\\t\\topacity: 1;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t/* Because of setting the opacity to 0.75 to the selection handle for the layout table,\\n\\t\\t\\tit overrides the similar selector in widget (specificity is higher),\\n\\t\\t\\tthats why we must override it here also. */\\n\\t\\t\\t&:has( .ck-widget.table:hover ) > .ck-widget__selection-handle {\\n\\t\\t\\t\\topacity: 0;\\n\\t\\t\\t\\tvisibility: hidden;\\n\\t\\t\\t}\\n\\n\\t\\t\\t&.ck-widget_selected {\\n\\t\\t\\t\\t/* To prevent the widget outline from being cut off at the bottom\\n\\t\\t\\t\\twhen the next cell or table has a background color, for example. */\\n\\t\\t\\t\\tz-index: var(--ck-z-default);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\\n.ck-content {\\n\\t& table.table.layout-table,\\n\\t& figure.table.layout-table {\\n\\t\\t/* Do not reserve space above and below the layout table. */\\n\\t\\tmargin-top: 0;\\n\\t\\tmargin-bottom: 0;\\n\\t}\\n\\n\\t& table.table.layout-table,\\n\\t& figure.table.layout-table > table {\\n\\t\\tborder-spacing: 0;\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n:root {\\n\\t--ck-table-layout-widget-type-around-button-size: 16px;\\n\\t--ck-table-layout-widget-type-around-icon-width: 10px;\\n\\t--ck-table-layout-widget-type-around-icon-height: 8px;\\n\\t--ck-table-layout-widget-handler-icon-size: 10px;\\n\\t--ck-table-layout-default-border-color: hsl(0, 0%, 83%);\\n\\n}\\n\\n.ck-editor__editable {\\n\\t& .table.layout-table {\\n\\t\\t& > table {\\n\\t\\t\\twidth: 100%;\\n\\t\\t\\theight: 100%;\\n\\n\\t\\t\\t/* Resetting `border-collapse` property to the user agent styles. */\\n\\t\\t\\tborder-collapse: revert;\\n\\n\\t\\t\\t/* The default table layout style in the editing view when the border is unset. */\\n\\t\\t\\t&:not(\\n\\t\\t\\t[style*=\\\"border:\\\"],\\n\\t\\t\\t[style*=\\\"border-top\\\"],\\n\\t\\t\\t[style*=\\\"border-bottom\\\"],\\n\\t\\t\\t[style*=\\\"border-left\\\"],\\n\\t\\t\\t[style*=\\\"border-right\\\"],\\n\\t\\t\\t[style*=\\\"border-width\\\"],\\n\\t\\t\\t[style*=\\\"border-style\\\"],\\n\\t\\t\\t[style*=\\\"border-color\\\"]) {\\n\\t\\t\\t\\tborder-color: transparent;\\n\\t\\t\\t\\tborder-width: 0;\\n\\t\\t\\t\\toutline: none;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t& > table > tbody > tr > td {\\n\\t\\t\\tbox-shadow: revert;\\n\\t\\t\\tpadding: revert;\\n\\t\\t\\tmin-width: 2em;\\n\\t\\t\\t/* To make the caret visible. */\\n\\t\\t\\ttext-indent: 1px;\\n\\n\\t\\t\\t/* Resets the `min-width` style attribute that was added by the content table style. */\\n\\t\\t\\t&[style^=\\\"width:\\\"],\\n\\t\\t\\t&[style*=\\\" width:\\\"],\\n\\t\\t\\t&[style*=\\\";width:\\\"],\\n\\t\\t\\t&[style*=\\\"'width:\\\"] {\\n\\t\\t\\t\\tmin-width: auto;\\n\\t\\t\\t}\\n\\n\\t\\t\\t/* Remove the default background color from the focused table cell. */\\n\\t\\t\\t&:focus {\\n\\t\\t\\t\\tbackground-color: transparent;\\n\\t\\t\\t}\\n\\n\\t\\t\\t/* The default table layout cell style in the editing view when the border is unset.\\n\\t\\t\\tBut it need to be more strict cause of style attributes like `border-collapse`, `border-spacing`, etc. */\\n\\t\\t\\t&:not(\\n\\t\\t\\t[style*=\\\"border:\\\"],\\n\\t\\t\\t[style*=\\\"border-top\\\"],\\n\\t\\t\\t[style*=\\\"border-bottom\\\"],\\n\\t\\t\\t[style*=\\\"border-left\\\"],\\n\\t\\t\\t[style*=\\\"border-right\\\"],\\n\\t\\t\\t[style*=\\\"border-width\\\"],\\n\\t\\t\\t[style*=\\\"border-style\\\"],\\n\\t\\t\\t[style*=\\\"border-color\\\"]) {\\n\\t\\t\\t\\tborder-color: transparent;\\n\\t\\t\\t\\t/* Resetting `border-width` property to the user agent styles. */\\n\\t\\t\\t\\tborder-width: 0;\\n\\t\\t\\t\\toutline: var(--ck-table-layout-default-border-color) 1px dashed;\\n\\t\\t\\t\\toutline-offset: -1px;\\n\\n\\t\\t\\t\\t&:focus {\\n\\t\\t\\t\\t\\toutline: var(--ck-color-focus-border) 1px solid;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t/* Reset the `width` and `text-indent` of the bogus paragraph because <td> has 1px text indent. */\\n\\t\\t\\t& > .ck-table-bogus-paragraph {\\n\\t\\t\\t\\twidth: calc(100% - 1px);\\n\\t\\t\\t\\ttext-indent: 0;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/* Widget type around overrides. */\\n\\t\\t&.ck-widget {\\n\\t\\t\\t& > .ck-widget__type-around {\\n\\t\\t\\t\\t--ck-widget-type-around-button-size: var(--ck-table-layout-widget-type-around-button-size);\\n\\n\\t\\t\\t\\t& > .ck-widget__type-around__button {\\n\\t\\t\\t\\t\\t&.ck-widget__type-around__button_before,\\n\\t\\t\\t\\t\\t&.ck-widget__type-around__button_after {\\n\\t\\t\\t\\t\\t\\ttransform: translateY(0);\\n\\t\\t\\t\\t\\t\\t/* Same value as inline-image widget because it is after the inline-image in HTML structure */\\n\\t\\t\\t\\t\\t\\tz-index: 2;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t&.ck-widget__type-around__button_before {\\n\\t\\t\\t\\t\\t\\tmargin-left: var(--ck-table-layout-widget-type-around-button-size);\\n\\t\\t\\t\\t\\t\\tleft: min(10%, 30px);\\n\\t\\t\\t\\t\\t\\tborder-radius: 0 0 100px 100px;\\n\\n\\t\\t\\t\\t\\t\\t&::after {\\n\\t\\t\\t\\t\\t\\t\\tborder-radius: 0 0 100px 100px;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t&.ck-widget__type-around__button_after {\\n\\t\\t\\t\\t\\t\\tborder-radius: 100px 100px 0 0;\\n\\n\\t\\t\\t\\t\\t\\t&::after {\\n\\t\\t\\t\\t\\t\\t\\tborder-radius: 100px 100px 0 0;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t& svg {\\n\\t\\t\\t\\t\\t\\twidth: var(--ck-table-layout-widget-type-around-icon-width);\\n\\t\\t\\t\\t\\t\\theight: var(--ck-table-layout-widget-type-around-icon-height);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t&.ck-widget_with-selection-handle {\\n\\t\\t\\t\\t& > .ck-widget__selection-handle {\\n\\t\\t\\t\\t\\t--ck-widget-handler-icon-size: var(--ck-table-layout-widget-handler-icon-size);\\n\\n\\t\\t\\t\\t\\ttransform: translateY(calc(0px - var(--ck-widget-outline-thickness)));\\n\\t\\t\\t\\t\\t/* Value increased by 1 as in selected inline-image widget\\n\\t\\t\\t\\t\\tbecause it is before the inline-image in HTML structure. */\\n\\t\\t\\t\\t\\tz-index: 3;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t/* Show fake caret on border not above. */\\n\\t\\t\\t&.ck-widget_type-around_show-fake-caret_before {\\n\\t\\t\\t\\t& > .ck-widget__type-around {\\n\\t\\t\\t\\t\\t& > .ck-widget__type-around__fake-caret {\\n\\t\\t\\t\\t\\t\\ttop: 0;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t/* Show fake caret on border not below. */\\n\\t\\t\\t&.ck-widget_type-around_show-fake-caret_after {\\n\\t\\t\\t\\t& > .ck-widget__type-around {\\n\\t\\t\\t\\t\\t& > .ck-widget__type-around__fake-caret {\\n\\t\\t\\t\\t\\t\\tbottom: 0;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tableproperties.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css\"],\"names\":[],\"mappings\":\"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n.ck.ck-table-properties-form {\\n\\t& .ck-form__row {\\n\\t\\t&.ck-table-properties-form__alignment-row {\\n\\t\\t\\tflex-wrap: wrap;\\n\\t\\t\\tflex-basis: 0;\\n\\t\\t\\talign-content: baseline;\\n\\n\\t\\t\\t& .ck.ck-toolbar .ck-toolbar__items {\\n\\t\\t\\t\\tflex-wrap: nowrap;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n.ck.ck-table-properties-form {\\n\\twidth: 320px;\\n\\n\\t& .ck-form__row {\\n\\t\\t&.ck-table-properties-form__alignment-row {\\n\\t\\t\\talign-self: flex-end;\\n\\t\\t\\tpadding: 0;\\n\\n\\t\\t\\t& .ck.ck-toolbar {\\n\\t\\t\\t\\tbackground: none;\\n\\n\\t\\t\\t\\t/* Compensate for missing input label that would push the margin (toolbar has no inputs). */\\n\\t\\t\\t\\tmargin-top: var(--ck-spacing-standard);\\n\\n\\t\\t\\t\\t& .ck-toolbar__items > * {\\n\\t\\t\\t\\t\\twidth: 40px;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root{--ck-style-panel-max-height:470px}.ck.ck-style-panel{max-height:var(--ck-style-panel-max-height);overflow-y:auto;padding:var(--ck-spacing-large)}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-style/stylepanel.css\"],\"names\":[],\"mappings\":\"AAKA,MACC,iCACD,CAEA,mBAGC,2CAA4C,CAD5C,eAAgB,CADhB,+BAGD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n:root {\\n\\t--ck-style-panel-max-height: 470px;\\n}\\n\\n.ck.ck-style-panel {\\n\\tpadding: var(--ck-spacing-large);\\n\\toverflow-y: auto;\\n\\tmax-height: var(--ck-style-panel-max-height);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && typeof btoa !== 'undefined') {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck-source-editing-area{overflow:hidden;position:relative}.ck-source-editing-area textarea,.ck-source-editing-area:after{border:1px solid transparent;font-family:monospace;font-size:var(--ck-font-size-normal);line-height:var(--ck-line-height-base);margin:0;padding:var(--ck-spacing-large);white-space:pre-wrap}.ck-source-editing-area:after{content:attr(data-value) \\\" \\\";display:block;visibility:hidden}.ck-source-editing-area textarea{border-color:var(--ck-color-base-border);border-radius:0;box-sizing:border-box;height:100%;outline:none;overflow:hidden;position:absolute;resize:none;width:100%;&.ck-rounded-corners,.ck-rounded-corners &{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}}.ck-source-editing-area textarea:not([readonly]):focus{border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-source-editing/theme/sourceediting.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css\"],\"names\":[],\"mappings\":\"AASA,wBAEC,eAAgB,CADhB,iBAED,CAEA,+DAIC,4BAA6B,CAG7B,qBAAsB,CADtB,oCAAqC,CADrC,sCAAuC,CAFvC,QAAS,CADT,+BAAgC,CAMhC,oBACD,CAEA,8BACC,4BAA6B,CAE7B,aAAc,CADd,iBAED,CAEA,iCASC,wCAAyC,CC7BzC,eAAgB,CD2BhB,qBAAsB,CAJtB,WAAY,CAEZ,YAAa,CACb,eAAgB,CALhB,iBAAkB,CAGlB,WAAY,CAFZ,UAAW,CCpBX,2CAEC,qCAAsC,CD4BtC,wBAAyB,CACzB,yBC3BD,CDkCD,CAJC,uDEpCA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFwCA\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n@import \\\"@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css\\\";\\n@import \\\"@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css\\\";\\n@import \\\"@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css\\\";\\n\\n.ck-source-editing-area {\\n\\tposition: relative;\\n\\toverflow: hidden;\\n}\\n\\n.ck-source-editing-area::after,\\n.ck-source-editing-area textarea {\\n\\tpadding: var(--ck-spacing-large);\\n\\tmargin: 0;\\n\\tborder: 1px solid transparent;\\n\\tline-height: var(--ck-line-height-base);\\n\\tfont-size: var(--ck-font-size-normal);\\n\\tfont-family: monospace;\\n\\twhite-space: pre-wrap;\\n}\\n\\n.ck-source-editing-area::after {\\n\\tcontent: attr(data-value) \\\" \\\";\\n\\tvisibility: hidden;\\n\\tdisplay: block;\\n}\\n\\n.ck-source-editing-area textarea {\\n\\tposition: absolute;\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tresize: none;\\n\\toutline: none;\\n\\toverflow: hidden;\\n\\tbox-sizing: border-box;\\n\\n\\tborder-color: var(--ck-color-base-border);\\n\\n\\t@mixin ck-rounded-corners {\\n\\t\\tborder-top-left-radius: 0;\\n\\t\\tborder-top-right-radius: 0;\\n\\t}\\n\\n\\t&:not([readonly]):focus {\\n\\t\\t@mixin ck-focus-ring;\\n\\t\\t@mixin ck-box-shadow var(--ck-inner-shadow);\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n/**\\n * Implements rounded corner interface for .ck-rounded-corners class.\\n *\\n * @see $ck-border-radius\\n */\\n@define-mixin ck-rounded-corners {\\n\\tborder-radius: 0;\\n\\n\\t.ck-rounded-corners &,\\n\\t&.ck-rounded-corners {\\n\\t\\tborder-radius: var(--ck-border-radius);\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n/**\\n * A visual style of focused element's border.\\n */\\n@define-mixin ck-focus-ring {\\n\\t/* Disable native outline. */\\n\\toutline: none;\\n\\tborder: var(--ck-focus-ring)\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n/**\\n * A helper to combine multiple shadows.\\n */\\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\\n\\tbox-shadow: $shadowA, $shadowB;\\n}\\n\\n/**\\n * Gives an element a drop shadow so it looks like a floating panel.\\n */\\n@define-mixin ck-drop-shadow {\\n\\t@mixin ck-box-shadow var(--ck-drop-shadow);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:none;opacity:1}}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imageuploadprogress.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css\"],\"names\":[],\"mappings\":\"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBAMD,CAJC,uCAHD,yFAKE,cAAe,CADf,SAGF,CADC,CAKF,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n.ck.ck-editor__editable {\\n\\t& .image,\\n\\t& .image-inline {\\n\\t\\tposition: relative;\\n\\t}\\n\\n\\t/* Upload progress bar. */\\n\\t& .image .ck-progress-bar,\\n\\t& .image-inline .ck-progress-bar {\\n\\t\\tposition: absolute;\\n\\t\\ttop: 0;\\n\\t\\tleft: 0;\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n.ck.ck-editor__editable {\\n\\t& .image,\\n\\t& .image-inline {\\n\\t\\t/* Showing animation. */\\n\\t\\t&.ck-appear {\\n\\t\\t\\tanimation: fadeIn 700ms;\\n\\n\\t\\t\\t@media (prefers-reduced-motion: reduce) {\\n\\t\\t\\t\\topacity: 1;\\n\\t\\t\\t\\tanimation: none;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t/* Upload progress bar. */\\n\\t& .image .ck-progress-bar,\\n\\t& .image-inline .ck-progress-bar {\\n\\t\\theight: 2px;\\n\\t\\twidth: 0;\\n\\t\\tbackground: var(--ck-color-upload-bar-background);\\n\\t\\ttransition: width 100ms;\\n\\t}\\n}\\n\\n@keyframes fadeIn {\\n\\tfrom { opacity: 0; }\\n\\tto   { opacity: 1; }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-style-panel .ck-style-panel__style-group>.ck-label{margin:var(--ck-spacing-large) 0}.ck.ck-style-panel .ck-style-panel__style-group:first-child>.ck-label{margin-top:0}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-style/stylegroup.css\"],\"names\":[],\"mappings\":\"AAMC,0DACC,gCACD,CAGC,sEACC,YACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n.ck.ck-style-panel .ck-style-panel__style-group {\\n\\t& > .ck-label {\\n\\t\\tmargin: var(--ck-spacing-large) 0;\\n\\t}\\n\\n\\t&:first-child {\\n\\t\\t& > .ck-label {\\n\\t\\t\\tmargin-top: 0;\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-editor__editable img.image_placeholder{background-size:100% 100%}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imageplaceholder.css\"],\"names\":[],\"mappings\":\"AAMC,8CACC,yBACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n.ck.ck-editor__editable {\\n\\t& img.image_placeholder {\\n\\t\\tbackground-size: 100% 100%;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","module.exports = (__webpack_require__(9237))(\"./src/ui.js\");","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck-editor__editable .ck-list-bogus-paragraph{display:block}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-list/theme/documentlist.css\"],\"names\":[],\"mappings\":\"AAKA,8CACC,aACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n.ck-editor__editable .ck-list-bogus-paragraph {\\n\\tdisplay: block;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-list/theme/list.css\"],\"names\":[],\"mappings\":\"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n.ck-content ol {\\n\\tlist-style-type: decimal;\\n\\n\\t& ol {\\n\\t\\tlist-style-type: lower-latin;\\n\\n\\t\\t& ol {\\n\\t\\t\\tlist-style-type: lower-roman;\\n\\n\\t\\t\\t& ol {\\n\\t\\t\\t\\tlist-style-type: upper-latin;\\n\\n\\t\\t\\t\\t& ol {\\n\\t\\t\\t\\t\\tlist-style-type: upper-roman;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\\n.ck-content ul {\\n\\tlist-style-type: disc;\\n\\n\\t& ul {\\n\\t\\tlist-style-type: circle;\\n\\n\\t\\t& ul {\\n\\t\\t\\tlist-style-type: square;\\n\\n\\t\\t\\t& ul {\\n\\t\\t\\t\\tlist-style-type: square;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}@media (prefers-reduced-motion:reduce){.ck .ck-insert-table-dropdown-grid-box{transition:none}}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-table/theme/inserttable.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css\"],\"names\":[],\"mappings\":\"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAcD,CAZC,uCATD,uCAUE,eAWF,CAVC,CAEA,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n.ck .ck-insert-table-dropdown__grid {\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\tflex-wrap: wrap;\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n:root {\\n\\t--ck-insert-table-dropdown-padding: 10px;\\n\\t--ck-insert-table-dropdown-box-height: 11px;\\n\\t--ck-insert-table-dropdown-box-width: 12px;\\n\\t--ck-insert-table-dropdown-box-margin: 1px;\\n}\\n\\n.ck .ck-insert-table-dropdown__grid {\\n\\t/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */\\n\\twidth: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);\\n\\tpadding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;\\n}\\n\\n.ck .ck-insert-table-dropdown__label,\\n.ck[dir=rtl] .ck-insert-table-dropdown__label {\\n\\ttext-align: center;\\n}\\n\\n.ck .ck-insert-table-dropdown-grid-box {\\n\\tmin-width: var(--ck-insert-table-dropdown-box-width);\\n\\tmin-height: var(--ck-insert-table-dropdown-box-height);\\n\\tmargin: var(--ck-insert-table-dropdown-box-margin);\\n\\tborder: 1px solid var(--ck-color-base-border);\\n\\tborder-radius: 1px;\\n\\toutline: none;\\n\\ttransition: none;\\n\\n\\t@media (prefers-reduced-motion: reduce) {\\n\\t\\ttransition: none;\\n\\t}\\n\\n\\t&:focus {\\n\\t\\tbox-shadow: none;\\n\\t}\\n\\n\\t&.ck-on {\\n\\t\\tborder-color: var(--ck-color-focus-border);\\n\\t\\tbackground: var(--ck-color-focus-outer-shadow);\\n\\t}\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","module.exports = (__webpack_require__(9237))(\"./src/typing.js\");","module.exports = (__webpack_require__(9237))(\"./src/widget.js\");","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ruleSet[1].rules[3].use[1]!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[3].use[3]!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[4]!./ckeditor5-craftcms.css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"df0a2240\", content, true, {});","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highlighted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}@media (forced-colors:active){.ck-content .image>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:none}}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highlighted-background)}to{background-color:var(--ck-color-image-caption-background)}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imagecaption.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css\"],\"names\":[],\"mappings\":\"AAOA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,oDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAYD,CAJC,8BAXD,8BAYE,sBAAuB,CACvB,WAEF,CADC,CCdA,4BACC,qEDmBA,iDCjBA,CACD,CDmBA,uCALD,qEAME,cAEF,CADC,CAGD,sCACC,GACC,qEACD,CAEA,GACC,yDACD,CACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css\\\";\\n\\n:root {\\n\\t--ck-color-image-caption-background: hsl(0, 0%, 97%);\\n\\t--ck-color-image-caption-text: hsl(0, 0%, 20%);\\n\\t--ck-color-image-caption-highlighted-background: hsl(52deg 100% 50%);\\n}\\n\\n/* Content styles */\\n.ck-content .image > figcaption {\\n\\tdisplay: table-caption;\\n\\tcaption-side: bottom;\\n\\tword-break: break-word;\\n\\tcolor: var(--ck-color-image-caption-text);\\n\\tbackground-color: var(--ck-color-image-caption-background);\\n\\tpadding: .6em;\\n\\tfont-size: .75em;\\n\\toutline-offset: -1px;\\n\\n\\t/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */\\n\\t@media (forced-colors: active) {\\n\\t\\tbackground-color: unset;\\n\\t\\tcolor: unset;\\n\\t}\\n}\\n\\n/* Editing styles */\\n.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {\\n\\t@mixin ck-media-default-colors {\\n\\t\\tanimation: ck-image-caption-highlight .6s ease-out;\\n\\t}\\n\\n\\t@media (prefers-reduced-motion: reduce) {\\n\\t\\tanimation: none;\\n\\t}\\n}\\n\\n@keyframes ck-image-caption-highlight {\\n\\t0% {\\n\\t\\tbackground-color: var(--ck-color-image-caption-highlighted-background);\\n\\t}\\n\\n\\t100% {\\n\\t\\tbackground-color: var(--ck-color-image-caption-background);\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n@define-mixin ck-media-forced-colors {\\n\\t@media (forced-colors: active) {\\n\\t\\t& {\\n\\t\\t\\t@mixin-content;\\n\\t\\t}\\n\\t}\\n}\\n\\n@define-mixin ck-media-default-colors {\\n\\t@media (forced-colors: none) {\\n\\t\\t& {\\n\\t\\t\\t@mixin-content;\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck-content .text-tiny{font-size:.7em}.ck-content .text-small{font-size:.85em}.ck-content .text-big{font-size:1.4em}.ck-content .text-huge{font-size:1.8em}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-font/theme/fontsize.css\"],\"names\":[],\"mappings\":\"AAUC,uBACC,cACD,CAEA,wBACC,eACD,CAEA,sBACC,eACD,CAEA,uBACC,eACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n/* The values should be synchronized with the \\\"FONT_SIZE_PRESET_UNITS\\\" object in the \\\"/src/fontsize/utils.js\\\" file. */\\n\\n/* Styles should be prefixed with the `.ck-content` class.\\nSee https://github.com/ckeditor/ckeditor5/issues/6636 */\\n.ck-content {\\n\\t& .text-tiny {\\n\\t\\tfont-size: .7em;\\n\\t}\\n\\n\\t& .text-small {\\n\\t\\tfont-size: .85em;\\n\\t}\\n\\n\\t& .text-big {\\n\\t\\tfont-size: 1.4em;\\n\\t}\\n\\n\\t& .text-huge {\\n\\t\\tfont-size: 1.8em;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","module.exports = CKEditor5.dll;","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembed.css\"],\"names\":[],\"mappings\":\"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n.ck-content .media {\\n\\t/* Don't allow floated content overlap the media.\\n\\thttps://github.com/ckeditor/ckeditor5-media-embed/issues/53 */\\n\\tclear: both;\\n\\n\\t/* Make sure there is some space between the content and the media. */\\n\\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\\n\\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\\n\\tmargin: 0.9em 0;\\n\\n\\t/* Make sure media is not overriden with Bootstrap default `flex` value.\\n\\tSee: https://github.com/ckeditor/ckeditor5/issues/1373. */\\n\\tdisplay: block;\\n\\n\\t/* Give the media some minimal width in the content to prevent them\\n\\tfrom being \\\"squashed\\\" in tight spaces, e.g. in table cells (#44) */\\n\\tmin-width: 15em;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}.ck.ck-input-color>.ck.ck-input-text{[dir=ltr] &{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] &{border-bottom-left-radius:0;border-top-left-radius:0}}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0;[dir=ltr] &{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] &:not(:focus){border-left:1px solid transparent}[dir=rtl] &{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] &:not(:focus){border-right:1px solid transparent}}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);border-radius:0;height:20px;width:20px;&.ck-rounded-corners,.ck-rounded-corners &{border-radius:var(--ck-border-radius)}}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}.ck.ck-input-color .ck.ck-input-color__remove-color{[dir=ltr] &{border-top-right-radius:0}[dir=rtl] &{border-top-left-radius:0}}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard);[dir=rtl] &{margin-left:var(--ck-spacing-standard);margin-right:0}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-table/theme/colorinput.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_dir.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css\"],\"names\":[],\"mappings\":\"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,qCCHA,YDME,4BAA6B,CAD7B,yBCHF,CAFA,YDWE,2BAA4B,CAD5B,wBCRF,CDiBA,CAHC,2CACC,SACD,CAIA,wEACC,SAAU,CCvBZ,YD2BG,2BAA4B,CAD5B,wBCxBH,CD2BG,wBACC,iCACD,CC/BH,YDoCG,4BAA6B,CAD7B,yBCjCH,CDoCG,wBACC,kCACD,CAyBF,CAtBC,oFACC,oDACD,CAEA,4GAKC,6CAA8C,CE/CjD,eAAgB,CF8Cb,WAAY,CADZ,UAAW,CE3Cd,2CAEC,qCAED,CFqDE,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,oDCpEA,YDgFE,yBC9EF,CAFA,YDoFE,wBClFF,CD6FA,CARC,gEACC,uCAAwC,CCxF1C,YD4FG,sCAAuC,CADvC,cCzFH,CD4FC\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n.ck.ck-input-color {\\n\\twidth: 100%;\\n\\tdisplay: flex;\\n\\tflex-direction: row-reverse;\\n\\n\\t& > input.ck.ck-input-text {\\n\\t\\tmin-width: auto;\\n\\t\\tflex-grow: 1;\\n\\t}\\n\\n\\t& > div.ck.ck-dropdown {\\n\\t\\tmin-width: auto;\\n\\n\\t\\t/* This dropdown has no arrow but a color preview instead. */\\n\\t\\t& > .ck-input-color__button .ck-dropdown__arrow {\\n\\t\\t\\tdisplay: none;\\n\\t\\t}\\n\\t}\\n\\n\\t& .ck.ck-input-color__button {\\n\\t\\t/* Resolving issue with misaligned buttons on Safari (see #10589) */\\n\\t\\tdisplay: flex;\\n\\n\\t\\t& .ck.ck-input-color__button__preview {\\n\\t\\t\\tposition: relative;\\n\\t\\t\\toverflow: hidden;\\n\\n\\t\\t\\t& > .ck.ck-input-color__button__preview__no-color-indicator {\\n\\t\\t\\t\\tposition: absolute;\\n\\t\\t\\t\\tdisplay: block;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_dir.css\\\";\\n@import \\\"../mixins/_rounded.css\\\";\\n\\n.ck.ck-input-color {\\n\\t& > .ck.ck-input-text {\\n\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\tborder-top-right-radius: 0;\\n\\t\\t\\tborder-bottom-right-radius: 0;\\n\\t\\t}\\n\\n\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\tborder-top-left-radius: 0;\\n\\t\\t\\tborder-bottom-left-radius: 0;\\n\\t\\t}\\n\\n\\t\\t/* Make sure the focused input is always on top of the dropdown button so its\\n\\t\\t   outline and border are never cropped (also when the input is read-only). */\\n\\t\\t&:focus {\\n\\t\\t\\tz-index: 0;\\n\\t\\t}\\n\\t}\\n\\n\\t& > .ck.ck-dropdown {\\n\\t\\t& > .ck.ck-button.ck-input-color__button {\\n\\t\\t\\tpadding: 0;\\n\\n\\t\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\t\\tborder-top-left-radius: 0;\\n\\t\\t\\t\\tborder-bottom-left-radius: 0;\\n\\n\\t\\t\\t\\t&:not(:focus) {\\n\\t\\t\\t\\t\\tborder-left: 1px solid transparent;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\t\\tborder-top-right-radius: 0;\\n\\t\\t\\t\\tborder-bottom-right-radius: 0;\\n\\n\\t\\t\\t\\t&:not(:focus) {\\n\\t\\t\\t\\t\\tborder-right: 1px solid transparent;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t&.ck-disabled {\\n\\t\\t\\t\\tbackground: var(--ck-color-input-disabled-background);\\n\\t\\t\\t}\\n\\n\\t\\t\\t& > .ck.ck-input-color__button__preview {\\n\\t\\t\\t\\t@mixin ck-rounded-corners;\\n\\n\\t\\t\\t\\twidth: 20px;\\n\\t\\t\\t\\theight: 20px;\\n\\t\\t\\t\\tborder: 1px solid var(--ck-color-input-border);\\n\\n\\t\\t\\t\\t& > .ck.ck-input-color__button__preview__no-color-indicator {\\n\\t\\t\\t\\t\\ttop: -30%;\\n\\t\\t\\t\\t\\tleft: 50%;\\n\\t\\t\\t\\t\\theight: 150%;\\n\\t\\t\\t\\t\\twidth: 8%;\\n\\t\\t\\t\\t\\tbackground: hsl(0, 100%, 50%);\\n\\t\\t\\t\\t\\tborder-radius: 2px;\\n\\t\\t\\t\\t\\ttransform: rotate(45deg);\\n\\t\\t\\t\\t\\ttransform-origin: 50%;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t& .ck.ck-input-color__remove-color {\\n\\t\\twidth: 100%;\\n\\t\\tpadding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);\\n\\n\\t\\tborder-bottom-left-radius: 0;\\n\\t\\tborder-bottom-right-radius: 0;\\n\\n\\t\\t&:not(:focus) {\\n\\t\\t\\tborder-bottom: 1px solid var(--ck-color-input-border);\\n\\t\\t}\\n\\n\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\tborder-top-right-radius: 0;\\n\\t\\t}\\n\\n\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\tborder-top-left-radius: 0;\\n\\t\\t}\\n\\n\\t\\t& .ck.ck-icon {\\n\\t\\t\\tmargin-right: var(--ck-spacing-standard);\\n\\n\\t\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\t\\tmargin-right: 0;\\n\\t\\t\\t\\tmargin-left: var(--ck-spacing-standard);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n@define-mixin ck-dir $direction {\\n\\t[dir=\\\"$(direction)\\\"] & {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n/**\\n * Implements rounded corner interface for .ck-rounded-corners class.\\n *\\n * @see $ck-border-radius\\n */\\n@define-mixin ck-rounded-corners {\\n\\tborder-radius: 0;\\n\\n\\t.ck-rounded-corners &,\\n\\t&.ck-rounded-corners {\\n\\t\\tborder-radius: var(--ck-border-radius);\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-link-providers>.ck-link-providers__list{overflow-x:hidden;overflow-y:auto;overscroll-behavior:contain}.ck.ck-link-providers>.ck-link-providers__list .ck-button>.ck-icon{flex-shrink:0}:root{--ck-link-providers-width:340px;--ck-link-list-view-max-height:240px;--ck-link-list-view-icon-size:calc(var(--ck-icon-size)*0.8)}@media screen and (max-width:600px){:root{--ck-link-providers-width:300px}}.ck.ck-link-providers{width:var(--ck-link-providers-width)}.ck.ck-link-providers .ck-form__header__label{overflow:hidden;text-overflow:ellipsis}.ck.ck-link-providers>.ck-link-providers__list{max-height:min(var(--ck-link-list-view-max-height),40vh)}.ck.ck-link-providers>.ck-link-providers__list .ck-button>.ck-icon{height:var(--ck-link-list-view-icon-size);width:var(--ck-link-list-view-icon-size)}.ck.ck-link-providers>.ck-link-providers__list .ck-button>.ck-button__label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ck.ck-link-providers .ck-link__empty-list-info{font-style:italic;padding:calc(var(--ck-spacing-large)*2) var(--ck-spacing-medium);text-align:center}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-link/theme/linkprovideritems.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkprovideritems.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\"],\"names\":[],\"mappings\":\"AAMC,+CACC,iBAAkB,CAClB,eAAgB,CAChB,2BAOD,CAJE,mEACC,aACD,CCPH,MACC,+BAAgC,CAChC,oCAAqC,CACrC,2DACD,CCLC,oCDQA,MACC,+BACD,CCRA,CDWD,sBACC,oCA6BD,CA3BC,8CACC,eAAgB,CAChB,sBACD,CAEA,+CACC,wDAcD,CAXE,mEAEC,yCAA0C,CAD1C,wCAED,CAEA,4EACC,eAAgB,CAChB,sBAAuB,CACvB,kBACD,CAIF,gDAGC,iBAAkB,CAFlB,gEAAqE,CACrE,iBAED\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n.ck.ck-link-providers {\\n\\t& > .ck-link-providers__list {\\n\\t\\toverflow-x: hidden;\\n\\t\\toverflow-y: auto;\\n\\t\\toverscroll-behavior: contain;\\n\\n\\t\\t& .ck-button {\\n\\t\\t\\t& > .ck-icon {\\n\\t\\t\\t\\tflex-shrink: 0;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\\\";\\n\\n:root {\\n\\t--ck-link-providers-width: 340px;\\n\\t--ck-link-list-view-max-height: 240px;\\n\\t--ck-link-list-view-icon-size: calc( var(--ck-icon-size) * 0.8); /* 0.8 = 16/20 cause default the icon size is 20px */\\n}\\n\\n@mixin ck-media-phone {\\n\\t:root {\\n\\t\\t--ck-link-providers-width: 300px;\\n\\t}\\n}\\n\\n.ck.ck-link-providers {\\n\\twidth: var(--ck-link-providers-width);\\n\\n\\t& .ck-form__header__label {\\n\\t\\toverflow: hidden;\\n\\t\\ttext-overflow: ellipsis;\\n\\t}\\n\\n\\t& > .ck-link-providers__list {\\n\\t\\tmax-height: min( var(--ck-link-list-view-max-height), 40vh );\\n\\n\\t\\t& .ck-button {\\n\\t\\t\\t& > .ck-icon {\\n\\t\\t\\t\\twidth: var(--ck-link-list-view-icon-size);\\n\\t\\t\\t\\theight: var(--ck-link-list-view-icon-size);\\n\\t\\t\\t}\\n\\n\\t\\t\\t& > .ck-button__label {\\n\\t\\t\\t\\toverflow: hidden;\\n\\t\\t\\t\\ttext-overflow: ellipsis;\\n\\t\\t\\t\\twhite-space: nowrap;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t& .ck-link__empty-list-info {\\n\\t\\tpadding: calc( 2 * var(--ck-spacing-large) ) var(--ck-spacing-medium);\\n\\t\\ttext-align: center;\\n\\t\\tfont-style: italic;\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n@define-mixin ck-media-phone {\\n\\t@media screen and (max-width: 600px) {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-link-form .ck-link-form__providers-list{display:flex;flex-direction:column}.ck.ck-link-form .ck-link-form__providers-list .ck-link__button>.ck-button__label{flex-grow:1}.ck.ck-link-form .ck-link__items:empty{display:none}:root{--ck-link-panel-width:340px;--ck-link-provider-list-item-text-height:calc(var(--ck-line-height-base)*var(--ck-font-size-base));--ck-link-provider-list-item-height:calc(var(--ck-link-provider-list-item-text-height) + var(--ck-spacing-small) + var(--ck-spacing-small))}@media screen and (max-width:600px){:root{--ck-link-panel-width:300px}}.ck.ck-form.ck-link-form{padding-bottom:0;width:var(--ck-link-panel-width)}@media screen and (max-width:600px){.ck.ck-form.ck-link-form.ck-responsive-form .ck-labeled-field-view{margin:0}}.ck.ck-form.ck-link-form .ck-link-form__providers-list{border-top:1px solid var(--ck-color-base-border)}.ck.ck-form.ck-link-form .ck-link-form__providers-list:has(.ck-list__item:nth-child(n+5)){max-height:calc(var(--ck-link-provider-list-item-height)*4 + var(--ck-spacing-large) + 1px);overflow:auto}.ck.ck-form.ck-link-form .ck-link-form__providers-list .ck-link__button{border-radius:0;padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form.ck-link-form .ck-link-form__providers-list .ck-link__button>.ck-button__label{overflow:hidden;text-overflow:ellipsis}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-link/theme/linkform.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\"],\"names\":[],\"mappings\":\"AASC,+CACC,YAAa,CACb,qBAOD,CAJE,kFACC,WACD,CAIF,uCACC,YACD,CCdD,MACC,2BAA4B,CAE5B,kGAAqG,CAErG,2IACD,CCRC,oCDWA,MACC,2BACD,CCXA,CDeD,yBAEC,gBAAiB,CADjB,gCAiCD,CCnDC,oCDsBC,mEAEE,QAEF,CCxBD,CD2BA,uDACC,gDAoBD,CAjBC,0FAKC,2FAA8F,CAJ9F,aAKD,CAEA,wEAEC,eAAgB,CADhB,uDAOD,CAJC,0FACC,eAAgB,CAChB,sBACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\\\";\\n\\n/* Generic class that wraps each link balloon view. */\\n.ck.ck-link-form {\\n\\t& .ck-link-form__providers-list {\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\n\\t\\t& .ck-link__button {\\n\\t\\t\\t& > .ck-button__label {\\n\\t\\t\\t\\tflex-grow: 1;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t& .ck-link__items:empty {\\n\\t\\tdisplay: none;\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_dir.css\\\";\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\\\";\\n\\n:root {\\n\\t--ck-link-panel-width: 340px;\\n\\t/* The height of the text inside the link providers list button. */\\n\\t--ck-link-provider-list-item-text-height: calc(var(--ck-line-height-base) * var(--ck-font-size-base));\\n\\t/* The height of the link providers list item contained paddings. */\\n\\t--ck-link-provider-list-item-height: calc(var(--ck-link-provider-list-item-text-height) + var(--ck-spacing-small) + var(--ck-spacing-small));\\n}\\n\\n@mixin ck-media-phone {\\n\\t:root {\\n\\t\\t--ck-link-panel-width: 300px;\\n\\t}\\n}\\n\\n/* Generic class that wraps each link balloon view. */\\n.ck.ck-form.ck-link-form {\\n\\twidth: var(--ck-link-panel-width);\\n\\tpadding-bottom: 0;\\n\\n\\t&.ck-responsive-form {\\n\\t\\t& .ck-labeled-field-view {\\n\\t\\t\\t@mixin ck-media-phone {\\n\\t\\t\\t\\tmargin: 0;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t& .ck-link-form__providers-list {\\n\\t\\tborder-top: 1px solid var(--ck-color-base-border);\\n\\n\\t\\t/* The list should be scrollable when there are more than 4 items. */\\n\\t\\t&:has(.ck-list__item:nth-child(n + 5)) {\\n\\t\\t\\toverflow: auto;\\n\\t\\t\\t/* Scroll should appear when there are more than 5 item on the list.\\n\\t\\t\\t* var(--ck-spacing-large) - is a form padding.\\n\\t\\t\\t* 1px - is a border width. */\\n\\t\\t\\tmax-height: calc(var(--ck-link-provider-list-item-height) * 4 + var(--ck-spacing-large) + 1px);\\n\\t\\t}\\n\\n\\t\\t& .ck-link__button {\\n\\t\\t\\tpadding: var(--ck-spacing-small) var(--ck-spacing-large);\\n\\t\\t\\tborder-radius: 0;\\n\\n\\t\\t\\t& > .ck-button__label {\\n\\t\\t\\t\\toverflow: hidden;\\n\\t\\t\\t\\ttext-overflow: ellipsis;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n@define-mixin ck-media-phone {\\n\\t@media screen and (max-width: 600px) {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root{--ck-text-alternative-form-width:340px}@media screen and (max-width:600px){:root{--ck-text-alternative-form-width:300px}}.ck.ck-text-alternative-form.ck-responsive-form{width:var(--ck-text-alternative-form-width)}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/textalternativeform.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\"],\"names\":[],\"mappings\":\"AAOA,MACC,sCACD,CCHC,oCDMA,MACC,sCACD,CCNA,CDUA,gDACC,2CACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\\\";\\n\\n:root {\\n\\t--ck-text-alternative-form-width: 340px;\\n}\\n\\n@mixin ck-media-phone {\\n\\t:root {\\n\\t\\t--ck-text-alternative-form-width: 300px;\\n\\t}\\n}\\n\\n.ck.ck-text-alternative-form {\\n\\t&.ck-responsive-form {\\n\\t\\twidth: var(--ck-text-alternative-form-width);\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n@define-mixin ck-media-phone {\\n\\t@media screen and (max-width: 600px) {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck-editor__editable .ck-horizontal-line{display:flow-root}.ck-content hr{background:#dedede;border:0;height:4px;margin:15px 0}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-horizontal-line/theme/horizontalline.css\"],\"names\":[],\"mappings\":\"AAMA,yCAEC,iBACD,CAEA,eAGC,kBAA2B,CAC3B,QAAS,CAFT,UAAW,CADX,aAID\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n\\n.ck-editor__editable .ck-horizontal-line {\\n\\t/* Necessary to render properly next to floated objects, e.g. side image case. */\\n\\tdisplay: flow-root;\\n}\\n\\n.ck-content hr {\\n\\tmargin: 15px 0;\\n\\theight: 4px;\\n\\tbackground: hsl(0, 0%, 87%);\\n\\tborder: 0;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root{--ck-style-panel-columns:3}.ck.ck-style-panel .ck-style-grid{display:grid;grid-template-columns:repeat(var(--ck-style-panel-columns),auto);justify-content:start}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button{display:flex;flex-direction:column;justify-content:space-between}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button .ck-style-grid__button__preview{align-content:center;align-items:center;display:flex;flex-basis:100%;flex-grow:1;justify-content:flex-start}:root{--ck-style-panel-button-width:120px;--ck-style-panel-button-height:80px;--ck-style-panel-button-label-background:#f0f0f0;--ck-style-panel-button-hover-label-background:#ebebeb;--ck-style-panel-button-hover-border-color:#b3b3b3}.ck.ck-style-panel .ck-style-grid{column-gap:var(--ck-spacing-large);row-gap:var(--ck-spacing-large)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button{--ck-color-button-default-hover-background:var(--ck-color-base-background);--ck-color-button-default-active-background:var(--ck-color-base-background);height:var(--ck-style-panel-button-height);padding:0;width:var(--ck-style-panel-button-width)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button .ck-button__label{flex-shrink:0;height:22px;line-height:22px;overflow:hidden;padding:0 var(--ck-spacing-medium);text-overflow:ellipsis;width:100%}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button .ck-style-grid__button__preview{background:var(--ck-color-base-background);border:2px solid var(--ck-color-base-background);opacity:.9;overflow:hidden;padding:var(--ck-spacing-medium);width:100%}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button.ck-disabled{--ck-color-button-default-disabled-background:var(--ck-color-base-foreground)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button.ck-disabled:not(:focus){border-color:var(--ck-style-panel-button-label-background)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button.ck-disabled .ck-style-grid__button__preview{border-color:var(--ck-color-base-foreground);filter:saturate(.3);opacity:.4}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button.ck-on{border-color:var(--ck-color-base-active)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button.ck-on .ck-button__label{box-shadow:0 -1px 0 var(--ck-color-base-active);z-index:1}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button.ck-on:hover{border-color:var(--ck-color-base-active-focus)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button:not(.ck-on) .ck-button__label{background:var(--ck-style-panel-button-label-background)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button:not(.ck-on):hover .ck-button__label{background:var(--ck-style-panel-button-hover-label-background)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button:hover:not(.ck-disabled):not(.ck-on){border-color:var(--ck-style-panel-button-hover-border-color)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button:hover:not(.ck-disabled):not(.ck-on) .ck-style-grid__button__preview{opacity:1}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-style/theme/stylegrid.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-style/stylegrid.css\"],\"names\":[],\"mappings\":\"AAKA,MACC,0BACD,CAEA,kCACC,YAAa,CACb,gEAAiE,CACjE,qBAgBD,CAdC,yDACC,YAAa,CAEb,qBAAsB,CADtB,6BAWD,CARC,yFAEC,oBAAqB,CAErB,kBAAmB,CAHnB,YAAa,CAKb,eAAgB,CADhB,WAAY,CAFZ,0BAID,CCrBF,MACC,mCAAoC,CACpC,mCAAoC,CACpC,gDAA2D,CAC3D,sDAAiE,CACjE,kDACD,CAEA,kCAEC,kCAAmC,CADnC,+BAmFD,CAhFC,yDACC,0EAA2E,CAC3E,2EAA4E,CAI5E,0CAA2C,CAF3C,SAAU,CACV,wCA0ED,CAtEC,qEACC,4CACD,CAEA,2EAOC,aAAc,CANd,WAAY,CACZ,gBAAiB,CAGjB,eAAgB,CADhB,kCAAmC,CAEnC,sBAAuB,CAHvB,UAKD,CAEA,yFAMC,0CAA2C,CAC3C,gDAAiD,CAJjD,UAAW,CADX,eAAgB,CAGhB,gCAAiC,CAJjC,UAOD,CAEA,qEACC,6EAaD,CAVC,iFACC,0DACD,CAEA,qGAGC,4CAA6C,CAC7C,mBAAoB,CAHpB,UAID,CAGD,+DACC,wCAUD,CARC,iFACC,+CAAgD,CAChD,SACD,CAEA,qEACC,8CACD,CAIA,uFACC,wDACD,CAEA,6FACC,8DACD,CAGD,6FACC,4DAKD,CAHC,6HACC,SACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n:root {\\n\\t--ck-style-panel-columns: 3;\\n}\\n\\n.ck.ck-style-panel .ck-style-grid {\\n\\tdisplay: grid;\\n\\tgrid-template-columns: repeat(var(--ck-style-panel-columns),auto);\\n\\tjustify-content: start;\\n\\n\\t& .ck-style-grid__button {\\n\\t\\tdisplay: flex;\\n\\t\\tjustify-content: space-between;\\n\\t\\tflex-direction: column;\\n\\n\\t\\t& .ck-style-grid__button__preview {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\talign-content: center;\\n\\t\\t\\tjustify-content: flex-start;\\n\\t\\t\\talign-items: center;\\n\\t\\t\\tflex-grow: 1;\\n\\t\\t\\tflex-basis: 100%;\\n\\t\\t}\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n:root {\\n\\t--ck-style-panel-button-width: 120px;\\n\\t--ck-style-panel-button-height: 80px;\\n\\t--ck-style-panel-button-label-background: hsl(0, 0%, 94.1%);\\n\\t--ck-style-panel-button-hover-label-background: hsl(0, 0%, 92.1%);\\n\\t--ck-style-panel-button-hover-border-color: hsl(0, 0%, 70%);\\n}\\n\\n.ck.ck-style-panel .ck-style-grid {\\n\\trow-gap: var(--ck-spacing-large);\\n\\tcolumn-gap: var(--ck-spacing-large);\\n\\n\\t& .ck-style-grid__button {\\n\\t\\t--ck-color-button-default-hover-background: var(--ck-color-base-background);\\n\\t\\t--ck-color-button-default-active-background: var(--ck-color-base-background);\\n\\n\\t\\tpadding: 0;\\n\\t\\twidth: var(--ck-style-panel-button-width);\\n\\t\\theight: var(--ck-style-panel-button-height);\\n\\n\\t\\t/* Let default .ck-button :focus styles apply */\\n\\t\\t&:not(:focus) {\\n\\t\\t\\tborder: 1px solid var(--ck-color-base-border);\\n\\t\\t}\\n\\n\\t\\t& .ck-button__label {\\n\\t\\t\\theight: 22px;\\n\\t\\t\\tline-height: 22px;\\n\\t\\t\\twidth: 100%;\\n\\t\\t\\tpadding: 0 var(--ck-spacing-medium);\\n\\t\\t\\toverflow: hidden;\\n\\t\\t\\ttext-overflow: ellipsis;\\n\\t\\t\\tflex-shrink: 0;\\n\\t\\t}\\n\\n\\t\\t& .ck-style-grid__button__preview {\\n\\t\\t\\twidth: 100%;\\n\\t\\t\\toverflow: hidden;\\n\\t\\t\\topacity: .9;\\n\\n\\t\\t\\tpadding: var(--ck-spacing-medium);\\n\\t\\t\\tbackground: var(--ck-color-base-background);\\n\\t\\t\\tborder: 2px solid var(--ck-color-base-background);\\n\\t\\t}\\n\\n\\t\\t&.ck-disabled {\\n\\t\\t\\t--ck-color-button-default-disabled-background: var(--ck-color-base-foreground);\\n\\n\\t\\t\\t/* Let default .ck-button :focus styles apply */\\n\\t\\t\\t&:not(:focus) {\\n\\t\\t\\t\\tborder-color: var(--ck-style-panel-button-label-background);\\n\\t\\t\\t}\\n\\n\\t\\t\\t& .ck-style-grid__button__preview {\\n\\t\\t\\t\\topacity: .4;\\n\\n\\t\\t\\t\\tborder-color: var(--ck-color-base-foreground);\\n\\t\\t\\t\\tfilter: saturate(.3);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t&.ck-on {\\n\\t\\t\\tborder-color: var(--ck-color-base-active);\\n\\n\\t\\t\\t& .ck-button__label {\\n\\t\\t\\t\\tbox-shadow: 0 -1px 0 var(--ck-color-base-active);\\n\\t\\t\\t\\tz-index: 1; /* Stay on top of the preview with the shadow. */\\n\\t\\t\\t}\\n\\n\\t\\t\\t&:hover {\\n\\t\\t\\t\\tborder-color: var(--ck-color-base-active-focus);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t&:not(.ck-on) {\\n\\t\\t\\t& .ck-button__label {\\n\\t\\t\\t\\tbackground: var(--ck-style-panel-button-label-background);\\n\\t\\t\\t}\\n\\n\\t\\t\\t&:hover .ck-button__label {\\n\\t\\t\\t\\tbackground: var(--ck-style-panel-button-hover-label-background);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t&:hover:not(.ck-disabled):not(.ck-on) {\\n\\t\\t\\tborder-color: var(--ck-style-panel-button-hover-border-color);\\n\\n\\t\\t\\t& .ck-style-grid__button__preview {\\n\\t\\t\\t\\topacity: 1;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root{--ck-image-custom-resize-form-width:340px}@media screen and (max-width:600px){:root{--ck-image-custom-resize-form-width:300px}}.ck.ck-image-custom-resize-form.ck-responsive-form{width:var(--ck-image-custom-resize-form-width)}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imagecustomresizeform.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\"],\"names\":[],\"mappings\":\"AAOA,MACC,yCACD,CCHC,oCDMA,MACC,yCACD,CCNA,CDUA,mDACC,8CACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\\\";\\n\\n:root {\\n\\t--ck-image-custom-resize-form-width: 340px;\\n}\\n\\n@mixin ck-media-phone {\\n\\t:root {\\n\\t\\t--ck-image-custom-resize-form-width: 300px;\\n\\t}\\n}\\n\\n.ck.ck-image-custom-resize-form {\\n\\t&.ck-responsive-form {\\n\\t\\twidth: var(--ck-image-custom-resize-form-width);\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n@define-mixin ck-media-phone {\\n\\t@media screen and (max-width: 600px) {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","module.exports = (__webpack_require__(9237))(\"./src/select-all.js\");","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck-widget.raw-html-embed{display:flow-root;font-style:normal;margin:.9em auto;min-width:15em;position:relative}.ck-widget.raw-html-embed:before{position:absolute;z-index:1}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper{display:flex;flex-direction:column;position:absolute}.ck-widget.raw-html-embed .raw-html-embed__preview{display:flex;overflow:hidden;position:relative}.ck-widget.raw-html-embed .raw-html-embed__preview-content{border-collapse:separate;border-spacing:7px;display:table;margin:auto;position:relative;width:100%}.ck-widget.raw-html-embed .raw-html-embed__preview-placeholder{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}:root{--ck-html-embed-content-width:calc(100% - var(--ck-icon-size)*1.5);--ck-html-embed-source-height:10em;--ck-html-embed-unfocused-outline-width:1px;--ck-html-embed-content-min-height:calc(var(--ck-icon-size) + var(--ck-spacing-standard));--ck-html-embed-source-disabled-background:var(--ck-color-base-foreground);--ck-html-embed-source-disabled-color:#737373}.ck-widget.raw-html-embed{background-color:var(--ck-color-base-foreground);font-size:var(--ck-font-size-base)}.ck-widget.raw-html-embed:not(.ck-widget_selected):not(:hover){outline:var(--ck-html-embed-unfocused-outline-width) dashed var(--ck-color-widget-blurred-border)}.ck-widget.raw-html-embed[dir=ltr]{text-align:left}.ck-widget.raw-html-embed[dir=rtl]{text-align:right}.ck-widget.raw-html-embed:before{background:#999;border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius);color:var(--ck-color-base-background);content:attr(data-html-embed-label);font-family:var(--ck-font-face);font-size:var(--ck-font-size-tiny);left:var(--ck-spacing-standard);padding:calc(var(--ck-spacing-tiny) + var(--ck-html-embed-unfocused-outline-width)) var(--ck-spacing-small) var(--ck-spacing-tiny);top:calc(var(--ck-html-embed-unfocused-outline-width)*-1);transition:background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck-widget.raw-html-embed[dir=rtl]:before{left:auto;right:var(--ck-spacing-standard)}.ck-widget.raw-html-embed[dir=ltr] .ck-widget__type-around .ck-widget__type-around__button.ck-widget__type-around__button_before{margin-left:50px}.ck-widget.raw-html-embed{.ck.ck-editor__editable.ck-blurred &.ck-widget_selected:before{padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}.ck.ck-editor__editable:not(.ck-blurred) &.ck-widget_selected:before{background:var(--ck-color-focus-border);padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}.ck.ck-editor__editable &:not(.ck-widget_selected):hover:before{padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}}.ck-widget.raw-html-embed .raw-html-embed__content-wrapper{padding:var(--ck-spacing-standard)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper{right:var(--ck-spacing-standard);top:var(--ck-spacing-standard)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button.raw-html-embed__save-button{color:var(--ck-color-button-save)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button.raw-html-embed__cancel-button{color:var(--ck-color-button-cancel)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button:not(:first-child){margin-top:var(--ck-spacing-small)}.ck-widget.raw-html-embed[dir=rtl] .raw-html-embed__buttons-wrapper{left:var(--ck-spacing-standard);right:auto}.ck-widget.raw-html-embed .raw-html-embed__source{box-sizing:border-box;direction:ltr;font-family:monospace;font-size:var(--ck-font-size-base);height:var(--ck-html-embed-source-height);min-width:0;padding:var(--ck-spacing-standard);resize:none;tab-size:4;text-align:left;white-space:pre-wrap;width:var(--ck-html-embed-content-width)}.ck-widget.raw-html-embed .raw-html-embed__source[disabled]{-webkit-text-fill-color:var(--ck-html-embed-source-disabled-color);background:var(--ck-html-embed-source-disabled-background);color:var(--ck-html-embed-source-disabled-color);opacity:1}.ck-widget.raw-html-embed .raw-html-embed__preview{min-height:var(--ck-html-embed-content-min-height);width:var(--ck-html-embed-content-width);.ck-editor__editable:not(.ck-read-only) &{pointer-events:none}}.ck-widget.raw-html-embed .raw-html-embed__preview-content{background-color:var(--ck-color-base-foreground);box-sizing:border-box}.ck-widget.raw-html-embed .raw-html-embed__preview-content>*{margin-left:auto;margin-right:auto}.ck-widget.raw-html-embed .raw-html-embed__preview-placeholder{color:var(--ck-html-embed-source-disabled-color)}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-html-embed/theme/htmlembed.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-html-embed/htmlembed.css\"],\"names\":[],\"mappings\":\"AAMA,0BAMC,iBAAkB,CAOlB,iBAAkB,CATlB,gBAAkB,CAMlB,cAAe,CALf,iBAwDD,CA5CC,iCACC,iBAAkB,CAGlB,SACD,CAKA,2DAEC,YAAa,CACb,qBAAsB,CAFtB,iBAGD,CAEA,mDAGC,YAAa,CADb,eAAgB,CADhB,iBAGD,CAEA,2DAOC,wBAAyB,CACzB,kBAAmB,CAFnB,aAAc,CAHd,WAAY,CADZ,iBAAkB,CADlB,UAQD,CAEA,+DAQC,kBAAmB,CAHnB,QAAS,CAET,YAAa,CAEb,sBAAuB,CAPvB,MAAO,CADP,iBAAkB,CAGlB,OAAQ,CADR,KAOD,CC7DD,MACC,kEAAqE,CACrE,kCAAmC,CACnC,2CAA4C,CAC5C,yFAA0F,CAE1F,0EAA2E,CAC3E,6CACD,CAGA,0BAEC,gDAAiD,CADjD,kCA0ID,CAvIC,+DACC,iGACD,CAGA,mCACC,eACD,CAEA,mCACC,gBACD,CAIA,iCAIC,eAA4B,CAG5B,iEAAkE,CAClE,qCAAsC,CAPtC,mCAAoC,CASpC,+BAAgC,CADhC,kCAAmC,CANnC,+BAAgC,CAGhC,kIAAmI,CAJnI,yDAA4D,CAG5D,0GAMD,CAEA,0CACC,SAAU,CACV,gCACD,CAGA,iIACC,gBACD,CAxCD,0BA0CC,+DAEC,sDAAuD,CADvD,KAED,CAEA,qEAGC,uCAAwC,CADxC,sDAAuD,CADvD,KAGD,CAEA,gEAEC,sDAAuD,CADvD,KAED,CAmFD,CA/EC,2DACC,kCACD,CAGA,2DAEC,gCAAiC,CADjC,8BAcD,CAXC,kGACC,iCACD,CAEA,oGACC,mCACD,CAEA,wFACC,kCACD,CAGD,oEACC,+BAAgC,CAChC,UACD,CAGA,kDACC,qBAAsB,CActB,aAAc,CAPd,qBAAsB,CAGtB,kCAAmC,CATnC,yCAA0C,CAG1C,WAAY,CACZ,kCAAmC,CAFnC,WAAY,CAKZ,UAAW,CAKX,eAAgB,CAJhB,oBAAqB,CAPrB,wCAsBD,CARC,4DAKC,kEAAmE,CAJnE,0DAA2D,CAC3D,gDAAiD,CAIjD,SACD,CAID,mDACC,kDAAmD,CACnD,wCAAyC,CAGzC,0CACC,mBACD,CACD,CAEA,2DAEC,gDAAiD,CADjD,qBAOD,CAJC,6DACC,gBAAiB,CACjB,iBACD,CAGD,+DACC,gDACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n/* The feature container. */\\n.ck-widget.raw-html-embed {\\n\\t/* Give the embed some air. */\\n\\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\\n\\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\\n\\tmargin: 0.9em auto;\\n\\tposition: relative;\\n\\tdisplay: flow-root;\\n\\n\\t/* Give the html embed some minimal width in the content to prevent them\\n\\tfrom being \\\"squashed\\\" in tight spaces, e.g. in table cells (https://github.com/ckeditor/ckeditor5/issues/8331) */\\n\\tmin-width: 15em;\\n\\n\\t/* Don't inherit the style, e.g. when in a block quote. */\\n\\tfont-style: normal;\\n\\n\\t/* ----- Emebed label in the upper left corner ----------------------------------------------- */\\n\\n\\t&::before {\\n\\t\\tposition: absolute;\\n\\n\\t\\t/* Make sure the content does not cover the label. */\\n\\t\\tz-index: 1;\\n\\t}\\n\\n\\t/* ----- Emebed internals --------------------------------------------------------------------- */\\n\\n\\t/* The switch mode button wrapper. */\\n\\t& .raw-html-embed__buttons-wrapper {\\n\\t\\tposition: absolute;\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\t}\\n\\n\\t& .raw-html-embed__preview {\\n\\t\\tposition: relative;\\n\\t\\toverflow: hidden;\\n\\t\\tdisplay: flex;\\n\\t}\\n\\n\\t& .raw-html-embed__preview-content {\\n\\t\\twidth: 100%;\\n\\t\\tposition: relative;\\n\\t\\tmargin: auto;\\n\\n\\t\\t/* Gives spacing to the small renderable elements, so they always cover the placeholder. */\\n\\t\\tdisplay: table;\\n\\t\\tborder-collapse: separate;\\n\\t\\tborder-spacing: 7px;\\n\\t}\\n\\n\\t& .raw-html-embed__preview-placeholder {\\n\\t\\tposition: absolute;\\n\\t\\tleft: 0;\\n\\t\\ttop: 0;\\n\\t\\tright: 0;\\n\\t\\tbottom: 0;\\n\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: center;\\n\\t\\tjustify-content: center;\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n:root {\\n\\t--ck-html-embed-content-width: calc(100% - 1.5 * var(--ck-icon-size));\\n\\t--ck-html-embed-source-height: 10em;\\n\\t--ck-html-embed-unfocused-outline-width: 1px;\\n\\t--ck-html-embed-content-min-height: calc(var(--ck-icon-size) + var(--ck-spacing-standard));\\n\\n\\t--ck-html-embed-source-disabled-background: var(--ck-color-base-foreground);\\n\\t--ck-html-embed-source-disabled-color: hsl(0deg 0% 45%);\\n}\\n\\n/* The feature container. */\\n.ck-widget.raw-html-embed {\\n\\tfont-size: var(--ck-font-size-base);\\n\\tbackground-color: var(--ck-color-base-foreground);\\n\\n\\t&:not(.ck-widget_selected):not(:hover) {\\n\\t\\toutline: var(--ck-html-embed-unfocused-outline-width) dashed var(--ck-color-widget-blurred-border);\\n\\t}\\n\\n\\t/* HTML embed widget itself should respect UI language direction */\\n\\t&[dir=\\\"ltr\\\"] {\\n\\t\\ttext-align: left;\\n\\t}\\n\\n\\t&[dir=\\\"rtl\\\"] {\\n\\t\\ttext-align: right;\\n\\t}\\n\\n\\t/* ----- Embed label in the upper left corner ----------------------------------------------- */\\n\\n\\t&::before {\\n\\t\\tcontent: attr(data-html-embed-label);\\n\\t\\ttop: calc(-1 * var(--ck-html-embed-unfocused-outline-width));\\n\\t\\tleft: var(--ck-spacing-standard);\\n\\t\\tbackground: hsl(0deg 0% 60%);\\n\\t\\ttransition: background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\\n\\t\\tpadding: calc(var(--ck-spacing-tiny) + var(--ck-html-embed-unfocused-outline-width)) var(--ck-spacing-small) var(--ck-spacing-tiny);\\n\\t\\tborder-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);\\n\\t\\tcolor: var(--ck-color-base-background);\\n\\t\\tfont-size: var(--ck-font-size-tiny);\\n\\t\\tfont-family: var(--ck-font-face);\\n\\t}\\n\\n\\t&[dir=\\\"rtl\\\"]::before {\\n\\t\\tleft: auto;\\n\\t\\tright: var(--ck-spacing-standard);\\n\\t}\\n\\n\\t/* Make space for label but it only collides in LTR languages */\\n\\t&[dir=\\\"ltr\\\"] .ck-widget__type-around .ck-widget__type-around__button.ck-widget__type-around__button_before {\\n\\t\\tmargin-left: 50px;\\n\\t}\\n\\n\\t.ck.ck-editor__editable.ck-blurred &.ck-widget_selected::before {\\n\\t\\ttop: 0px;\\n\\t\\tpadding: var(--ck-spacing-tiny) var(--ck-spacing-small);\\n\\t}\\n\\n\\t.ck.ck-editor__editable:not(.ck-blurred) &.ck-widget_selected::before {\\n\\t\\ttop: 0;\\n\\t\\tpadding: var(--ck-spacing-tiny) var(--ck-spacing-small);\\n\\t\\tbackground: var(--ck-color-focus-border);\\n\\t}\\n\\n\\t.ck.ck-editor__editable &:not(.ck-widget_selected):hover::before {\\n\\t\\ttop: 0px;\\n\\t\\tpadding: var(--ck-spacing-tiny) var(--ck-spacing-small);\\n\\t}\\n\\n\\t/* ----- Emebed internals --------------------------------------------------------------------- */\\n\\n\\t& .raw-html-embed__content-wrapper {\\n\\t\\tpadding: var(--ck-spacing-standard);\\n\\t}\\n\\n\\t/* The switch mode button wrapper. */\\n\\t& .raw-html-embed__buttons-wrapper {\\n\\t\\ttop: var(--ck-spacing-standard);\\n\\t\\tright: var(--ck-spacing-standard);\\n\\n\\t\\t& .ck-button.raw-html-embed__save-button {\\n\\t\\t\\tcolor: var(--ck-color-button-save);\\n\\t\\t}\\n\\n\\t\\t& .ck-button.raw-html-embed__cancel-button {\\n\\t\\t\\tcolor: var(--ck-color-button-cancel);\\n\\t\\t}\\n\\n\\t\\t& .ck-button:not(:first-child) {\\n\\t\\t\\tmargin-top: var(--ck-spacing-small);\\n\\t\\t}\\n\\t}\\n\\n\\t&[dir=\\\"rtl\\\"] .raw-html-embed__buttons-wrapper {\\n\\t\\tleft: var(--ck-spacing-standard);\\n\\t\\tright: auto;\\n\\t}\\n\\n\\t/* The edit source element. */\\n\\t& .raw-html-embed__source {\\n\\t\\tbox-sizing: border-box;\\n\\t\\theight: var(--ck-html-embed-source-height);\\n\\t\\twidth: var(--ck-html-embed-content-width);\\n\\t\\tresize: none;\\n\\t\\tmin-width: 0;\\n\\t\\tpadding: var(--ck-spacing-standard);\\n\\n\\t\\tfont-family: monospace;\\n\\t\\ttab-size: 4;\\n\\t\\twhite-space: pre-wrap;\\n\\t\\tfont-size: var(--ck-font-size-base); /* Safari needs this. */\\n\\n\\t\\t/* HTML code is direction–agnostic. */\\n\\t\\ttext-align: left;\\n\\t\\tdirection: ltr;\\n\\n\\t\\t&[disabled] {\\n\\t\\t\\tbackground: var(--ck-html-embed-source-disabled-background);\\n\\t\\t\\tcolor: var(--ck-html-embed-source-disabled-color);\\n\\n\\t\\t\\t/* Safari needs this for the proper text color in disabled input (https://github.com/ckeditor/ckeditor5/issues/8320). */\\n\\t\\t\\t-webkit-text-fill-color: var(--ck-html-embed-source-disabled-color);\\n\\t\\t\\topacity: 1;\\n\\t\\t}\\n\\t}\\n\\n\\t/* The preview data container. */\\n\\t& .raw-html-embed__preview {\\n\\t\\tmin-height: var(--ck-html-embed-content-min-height);\\n\\t\\twidth: var(--ck-html-embed-content-width);\\n\\n\\t\\t/* Disable all mouse interaction as long as the editor is not read–only. */\\n\\t\\t.ck-editor__editable:not(.ck-read-only) & {\\n\\t\\t\\tpointer-events: none;\\n\\t\\t}\\n\\t}\\n\\n\\t& .raw-html-embed__preview-content {\\n\\t\\tbox-sizing: border-box;\\n\\t\\tbackground-color: var(--ck-color-base-foreground);\\n\\n\\t\\t& > * {\\n\\t\\t\\tmargin-left: auto;\\n\\t\\t\\tmargin-right: auto;\\n\\t\\t}\\n\\t}\\n\\n\\t& .raw-html-embed__preview-placeholder {\\n\\t\\tcolor: var(--ck-html-embed-source-disabled-color)\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-image/theme/image.css\"],\"names\":[],\"mappings\":\"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBA2BD,CAjBC,uBAEC,aAAc,CAad,WAAY,CAVZ,aAAc,CAGd,cAAe,CAGf,cAKD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAKA,+BACC,SASD,CAHC,kDACC,SACD,CAMD,sCACC,SAkBD,CAZC,yDACC,SAUD,CAHC,qEACC,YACD,CAMF,0CACC,WACD,CAMC,0FACC,cACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\\n */\\n\\n.ck-content {\\n\\t& .image {\\n\\t\\tdisplay: table;\\n\\t\\tclear: both;\\n\\t\\ttext-align: center;\\n\\n\\t\\t/* Make sure there is some space between the content and the image. Center image by default. */\\n\\t\\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\\n\\t \\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\\n\\t\\tmargin: 0.9em auto;\\n\\n\\t\\t/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */\\n\\t\\tmin-width: 50px;\\n\\n\\t\\t& img {\\n\\t\\t\\t/* Prevent unnecessary margins caused by line-height (see #44). */\\n\\t\\t\\tdisplay: block;\\n\\n\\t\\t\\t/* Center the image if its width is smaller than the content's width. */\\n\\t\\t\\tmargin: 0 auto;\\n\\n\\t\\t\\t/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */\\n\\t\\t\\tmax-width: 100%;\\n\\n\\t\\t\\t/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */\\n\\t\\t\\tmin-width: 100%;\\n\\n\\t\\t\\t/* Keep proportions of the block image if the height is set and the image is wider than the editor width.\\n\\t\\t\\tSee https://github.com/ckeditor/ckeditor5/issues/14542. */\\n\\t\\t\\theight: auto;\\n\\t\\t}\\n\\t}\\n\\n\\t& .image-inline {\\n\\t\\t/*\\n\\t\\t * Normally, the .image-inline would have \\\"display: inline-block\\\" and \\\"img { width: 100% }\\\" (to follow the wrapper while resizing).\\n\\t\\t * Unfortunately, together with \\\"srcset\\\", it gets automatically stretched up to the width of the editing root.\\n\\t\\t * This strange behavior does not happen with inline-flex.\\n\\t\\t */\\n\\t\\tdisplay: inline-flex;\\n\\n\\t\\t/* While being resized, don't allow the image to exceed the width of the editing root. */\\n\\t\\tmax-width: 100%;\\n\\n\\t\\t/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */\\n\\t\\talign-items: flex-start;\\n\\n\\t\\t/* When the picture is present it must act as a flex container to let the img resize properly */\\n\\t\\t& picture {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t}\\n\\n\\t\\t/* When the picture is present, it must act like a resizable img. */\\n\\t\\t& picture,\\n\\t\\t& img {\\n\\t\\t\\t/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */\\n\\t\\t\\tflex-grow: 1;\\n\\t\\t\\tflex-shrink: 1;\\n\\n\\t\\t\\t/* Prevents overflowing the editing root boundaries when an inline image is very wide. */\\n\\t\\t\\tmax-width: 100%;\\n\\t\\t}\\n\\t}\\n}\\n\\n.ck.ck-editor__editable {\\n\\t/*\\n\\t * Inhertit the content styles padding of the <figcaption> in case the integration overrides `text-align: center`\\n\\t * of `.image` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native\\n\\t * caret does, and not at the edge of <figcaption>.\\n\\t */\\n\\t& .image > figcaption.ck-placeholder::before {\\n\\t\\tpadding-left: inherit;\\n\\t\\tpadding-right: inherit;\\n\\n\\t\\t/*\\n\\t\\t * Make sure the image caption placeholder doesn't overflow the placeholder area.\\n\\t\\t * See https://github.com/ckeditor/ckeditor5/issues/9162.\\n\\t\\t */\\n\\t\\twhite-space: nowrap;\\n\\t\\toverflow: hidden;\\n\\t\\ttext-overflow: ellipsis;\\n\\t}\\n\\n\\t/*\\n\\t * See https://github.com/ckeditor/ckeditor5/issues/15115.\\n\\t */\\n\\t& .image {\\n\\t\\tz-index: 1;\\n\\n\\t\\t/*\\n\\t\\t * Make sure the selected image always stays on top of its siblings.\\n\\t\\t * See https://github.com/ckeditor/ckeditor5/issues/9108.\\n\\t\\t */\\n\\t\\t&.ck-widget_selected {\\n\\t\\t\\tz-index: 2;\\n\\t\\t}\\n\\t}\\n\\n\\t/*\\n\\t * See https://github.com/ckeditor/ckeditor5/issues/15115.\\n\\t */\\n\\t& .image-inline {\\n\\t\\tz-index: 1;\\n\\n\\t\\t/*\\n\\t\\t * Make sure the selected inline image always stays on top of its siblings.\\n\\t\\t * See https://github.com/ckeditor/ckeditor5/issues/9108.\\n\\t\\t */\\n\\t\\t&.ck-widget_selected {\\n\\t\\t\\tz-index: 2;\\n\\n\\t\\t\\t/*\\n\\t\\t\\t * Make sure the native browser selection style is not displayed.\\n\\t\\t\\t * Inline image widgets have their own styles for the selected state and\\n\\t\\t\\t * leaving this up to the browser is asking for a visual collision.\\n\\t\\t\\t */\\n\\t\\t\\t& ::selection {\\n\\t\\t\\t\\tdisplay: none;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t/* Keep proportions of the inline image if the height is set and the image is wider than the editor width.\\n\\tSee https://github.com/ckeditor/ckeditor5/issues/14542. */\\n\\t& .image-inline img {\\n\\t\\theight: auto;\\n\\t}\\n\\n\\t/* The inline image nested in the table should have its original size if not resized.\\n\\tSee https://github.com/ckeditor/ckeditor5/issues/9117. */\\n\\t& td,\\n\\t& th {\\n\\t\\t& .image-inline img {\\n\\t\\t\\tmax-width: none;\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nc = undefined;","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { CKEditorError, logWarning } from 'ckeditor5/src/utils.js';\n/**\n * @module alignment/utils\n */\n/**\n * The list of supported alignment options:\n *\n * * `'left'`,\n * * `'right'`,\n * * `'center'`,\n * * `'justify'`\n */\nexport const supportedOptions = ['left', 'right', 'center', 'justify'];\n/**\n * Checks whether the passed option is supported by {@link module:alignment/alignmentediting~AlignmentEditing}.\n *\n * @param option The option value to check.\n */\nexport function isSupported(option) {\n    return supportedOptions.includes(option);\n}\n/**\n * Checks whether alignment is the default one considering the direction\n * of the editor content.\n *\n * @param alignment The name of the alignment to check.\n * @param locale The {@link module:core/editor/editor~Editor#locale} instance.\n */\nexport function isDefault(alignment, locale) {\n    // Right now only LTR is supported so the 'left' value is always the default one.\n    if (locale.contentLanguageDirection == 'rtl') {\n        return alignment === 'right';\n    }\n    else {\n        return alignment === 'left';\n    }\n}\n/**\n * Brings the configuration to the common form, an array of objects.\n *\n * @param configuredOptions Alignment plugin configuration.\n * @returns Normalized object holding the configuration.\n */\nexport function normalizeAlignmentOptions(configuredOptions) {\n    const normalizedOptions = configuredOptions\n        .map(option => {\n        let result;\n        if (typeof option == 'string') {\n            result = { name: option };\n        }\n        else {\n            result = option;\n        }\n        return result;\n    })\n        // Remove all unknown options.\n        .filter(option => {\n        const isNameValid = supportedOptions.includes(option.name);\n        if (!isNameValid) {\n            /**\n             * The `name` in one of the `alignment.options` is not recognized.\n             * The available options are: `'left'`, `'right'`, `'center'` and `'justify'`.\n             *\n             * @error alignment-config-name-not-recognized\n             * @param option Options with unknown value of the `name` property.\n             */\n            logWarning('alignment-config-name-not-recognized', { option });\n        }\n        return isNameValid;\n    });\n    const classNameCount = normalizedOptions.filter(option => Boolean(option.className)).length;\n    // We either use classes for all styling options or for none.\n    if (classNameCount && classNameCount < normalizedOptions.length) {\n        /**\n         * The `className` property has to be defined for all options once at least one option declares `className`.\n         *\n         * @error alignment-config-classnames-are-missing\n         * @param configuredOptions Contents of `alignment.options`.\n         */\n        throw new CKEditorError('alignment-config-classnames-are-missing', { configuredOptions });\n    }\n    // Validate resulting config.\n    normalizedOptions.forEach((option, index, allOptions) => {\n        const succeedingOptions = allOptions.slice(index + 1);\n        const nameAlreadyExists = succeedingOptions.some(item => item.name == option.name);\n        if (nameAlreadyExists) {\n            /**\n             * The same `name` in one of the `alignment.options` was already declared.\n             * Each `name` representing one alignment option can be set exactly once.\n             *\n             * @error alignment-config-name-already-defined\n             * @param option First option that declares given `name`.\n             * @param configuredOptions Contents of `alignment.options`.\n             */\n            throw new CKEditorError('alignment-config-name-already-defined', { option, configuredOptions });\n        }\n        // The `className` property is present. Check for duplicates then.\n        if (option.className) {\n            const classNameAlreadyExists = succeedingOptions.some(item => item.className == option.className);\n            if (classNameAlreadyExists) {\n                /**\n                 * The same `className` in one of the `alignment.options` was already declared.\n                 *\n                 * @error alignment-config-classname-already-defined\n                 * @param option First option that declares given `className`.\n                 * @param configuredOptions\n                 * Contents of `alignment.options`.\n                 */\n                throw new CKEditorError('alignment-config-classname-already-defined', { option, configuredOptions });\n            }\n        }\n    });\n    return normalizedOptions;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module alignment/alignmentcommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { first } from 'ckeditor5/src/utils.js';\nimport { isDefault } from './utils.js';\nconst ALIGNMENT = 'alignment';\n/**\n * The alignment command plugin.\n */\nexport default class AlignmentCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const editor = this.editor;\n        const locale = editor.locale;\n        const firstBlock = first(this.editor.model.document.selection.getSelectedBlocks());\n        // As first check whether to enable or disable the command as the value will always be false if the command cannot be enabled.\n        this.isEnabled = Boolean(firstBlock) && this._canBeAligned(firstBlock);\n        if (this.isEnabled && firstBlock.hasAttribute('alignment')) {\n            this.value = firstBlock.getAttribute('alignment');\n        }\n        else {\n            this.value = locale.contentLanguageDirection === 'rtl' ? 'right' : 'left';\n        }\n    }\n    /**\n     * Executes the command. Applies the alignment `value` to the selected blocks.\n     * If no `value` is passed, the `value` is the default one or it is equal to the currently selected block's alignment attribute,\n     * the command will remove the attribute from the selected blocks.\n     *\n     * @param options Options for the executed command.\n     * @param options.value The value to apply.\n     * @fires execute\n     */\n    execute(options = {}) {\n        const editor = this.editor;\n        const locale = editor.locale;\n        const model = editor.model;\n        const doc = model.document;\n        const value = options.value;\n        model.change(writer => {\n            // Get only those blocks from selected that can have alignment set\n            const blocks = Array.from(doc.selection.getSelectedBlocks()).filter(block => this._canBeAligned(block));\n            const currentAlignment = blocks[0].getAttribute('alignment');\n            // Remove alignment attribute if current alignment is:\n            // - default (should not be stored in model as it will bloat model data)\n            // - equal to currently set\n            // - or no value is passed - denotes default alignment.\n            const removeAlignment = isDefault(value, locale) || currentAlignment === value || !value;\n            if (removeAlignment) {\n                removeAlignmentFromSelection(blocks, writer);\n            }\n            else {\n                setAlignmentOnSelection(blocks, writer, value);\n            }\n        });\n    }\n    /**\n     * Checks whether a block can have alignment set.\n     *\n     * @param block The block to be checked.\n     */\n    _canBeAligned(block) {\n        return this.editor.model.schema.checkAttribute(block, ALIGNMENT);\n    }\n}\n/**\n * Removes the alignment attribute from blocks.\n */\nfunction removeAlignmentFromSelection(blocks, writer) {\n    for (const block of blocks) {\n        writer.removeAttribute(ALIGNMENT, block);\n    }\n}\n/**\n * Sets the alignment attribute on blocks.\n */\nfunction setAlignmentOnSelection(blocks, writer, alignment) {\n    for (const block of blocks) {\n        writer.setAttribute(ALIGNMENT, alignment, block);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module alignment/alignmentediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport AlignmentCommand from './alignmentcommand.js';\nimport { isDefault, isSupported, normalizeAlignmentOptions, supportedOptions } from './utils.js';\n/**\n * The alignment editing feature. It introduces the {@link module:alignment/alignmentcommand~AlignmentCommand command} and adds\n * the `alignment` attribute for block elements in the {@link module:engine/model/model~Model model}.\n */\nexport default class AlignmentEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'AlignmentEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        editor.config.define('alignment', {\n            options: supportedOptions.map(option => ({ name: option }))\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const locale = editor.locale;\n        const schema = editor.model.schema;\n        const options = normalizeAlignmentOptions(editor.config.get('alignment.options'));\n        // Filter out unsupported options and those that are redundant, e.g. `left` in LTR / `right` in RTL mode.\n        const optionsToConvert = options.filter(option => isSupported(option.name) && !isDefault(option.name, locale));\n        // Once there is at least one `className` defined, we switch to alignment with classes.\n        const shouldUseClasses = optionsToConvert.some(option => !!option.className);\n        // Allow alignment attribute on all blocks.\n        schema.extend('$block', { allowAttributes: 'alignment' });\n        editor.model.schema.setAttributeProperties('alignment', { isFormatting: true });\n        if (shouldUseClasses) {\n            editor.conversion.attributeToAttribute(buildClassDefinition(optionsToConvert));\n        }\n        else {\n            // Downcast inline styles.\n            editor.conversion.for('downcast').attributeToAttribute(buildDowncastInlineDefinition(optionsToConvert));\n        }\n        const upcastInlineDefinitions = buildUpcastInlineDefinitions(optionsToConvert);\n        // Always upcast from inline styles.\n        for (const definition of upcastInlineDefinitions) {\n            editor.conversion.for('upcast').attributeToAttribute(definition);\n        }\n        const upcastCompatibilityDefinitions = buildUpcastCompatibilityDefinitions(optionsToConvert);\n        // Always upcast from deprecated `align` attribute.\n        for (const definition of upcastCompatibilityDefinitions) {\n            editor.conversion.for('upcast').attributeToAttribute(definition);\n        }\n        editor.commands.add('alignment', new AlignmentCommand(editor));\n    }\n}\n/**\n * Prepare downcast conversion definition for inline alignment styling.\n */\nfunction buildDowncastInlineDefinition(options) {\n    const view = {};\n    for (const { name } of options) {\n        view[name] = {\n            key: 'style',\n            value: {\n                'text-align': name\n            }\n        };\n    }\n    const definition = {\n        model: {\n            key: 'alignment',\n            values: options.map(option => option.name)\n        },\n        view\n    };\n    return definition;\n}\n/**\n * Prepare upcast definitions for inline alignment styles.\n */\nfunction buildUpcastInlineDefinitions(options) {\n    const definitions = [];\n    for (const { name } of options) {\n        definitions.push({\n            view: {\n                key: 'style',\n                value: {\n                    'text-align': name\n                }\n            },\n            model: {\n                key: 'alignment',\n                value: name\n            }\n        });\n    }\n    return definitions;\n}\n/**\n * Prepare upcast definitions for deprecated `align` attribute.\n */\nfunction buildUpcastCompatibilityDefinitions(options) {\n    const definitions = [];\n    for (const { name } of options) {\n        definitions.push({\n            view: {\n                key: 'align',\n                value: name\n            },\n            model: {\n                key: 'alignment',\n                value: name\n            }\n        });\n    }\n    return definitions;\n}\n/**\n * Prepare conversion definitions for upcast and downcast alignment with classes.\n */\nfunction buildClassDefinition(options) {\n    const view = {};\n    for (const option of options) {\n        view[option.name] = {\n            key: 'class',\n            value: option.className\n        };\n    }\n    const definition = {\n        model: {\n            key: 'alignment',\n            values: options.map(option => option.name)\n        },\n        view\n    };\n    return definition;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module alignment/alignmentui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { ButtonView, createDropdown, addToolbarToDropdown, MenuBarMenuListItemView, MenuBarMenuListItemButtonView, MenuBarMenuView, MenuBarMenuListView } from 'ckeditor5/src/ui.js';\nimport { IconAlignCenter, IconAlignJustify, IconAlignLeft, IconAlignRight } from 'ckeditor5/src/icons.js';\nimport { isSupported, normalizeAlignmentOptions } from './utils.js';\nconst iconsMap = /* #__PURE__ */ (() => new Map([\n    ['left', IconAlignLeft],\n    ['right', IconAlignRight],\n    ['center', IconAlignCenter],\n    ['justify', IconAlignJustify]\n]))();\n/**\n * The default alignment UI plugin.\n *\n * It introduces the `'alignment:left'`, `'alignment:right'`, `'alignment:center'` and `'alignment:justify'` buttons\n * and the `'alignment'` dropdown.\n */\nexport default class AlignmentUI extends Plugin {\n    /**\n     * Returns the localized option titles provided by the plugin.\n     *\n     * The following localized titles corresponding with\n     * {@link module:alignment/alignmentconfig~AlignmentConfig#options} are available:\n     *\n     * * `'left'`,\n     * * `'right'`,\n     * * `'center'`,\n     * * `'justify'`.\n     *\n     * @readonly\n     */\n    get localizedOptionTitles() {\n        const t = this.editor.t;\n        return {\n            'left': t('Align left'),\n            'right': t('Align right'),\n            'center': t('Align center'),\n            'justify': t('Justify')\n        };\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'AlignmentUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const options = normalizeAlignmentOptions(editor.config.get('alignment.options'));\n        options\n            .map(option => option.name)\n            .filter(isSupported)\n            .forEach(option => this._addButton(option));\n        this._addToolbarDropdown(options);\n        this._addMenuBarMenu(options);\n    }\n    /**\n     * Helper method for initializing the button and linking it with an appropriate command.\n     *\n     * @param option The name of the alignment option for which the button is added.\n     */\n    _addButton(option) {\n        const editor = this.editor;\n        editor.ui.componentFactory.add(`alignment:${option}`, locale => this._createButton(locale, option));\n    }\n    /**\n     * Helper method for creating the button view element.\n     *\n     * @param locale Editor locale.\n     * @param option The name of the alignment option for which the button is added.\n     * @param buttonAttrs Optional parameters passed to button view instance.\n     */\n    _createButton(locale, option, buttonAttrs = {}) {\n        const editor = this.editor;\n        const command = editor.commands.get('alignment');\n        const buttonView = new ButtonView(locale);\n        buttonView.set({\n            label: this.localizedOptionTitles[option],\n            icon: iconsMap.get(option),\n            tooltip: true,\n            isToggleable: true,\n            ...buttonAttrs\n        });\n        // Bind button model to command.\n        buttonView.bind('isEnabled').to(command);\n        buttonView.bind('isOn').to(command, 'value', value => value === option);\n        // Execute command.\n        this.listenTo(buttonView, 'execute', () => {\n            editor.execute('alignment', { value: option });\n            editor.editing.view.focus();\n        });\n        return buttonView;\n    }\n    /**\n     * Helper method for initializing the toolnar dropdown and linking it with an appropriate command.\n     *\n     * @param option The name of the alignment option for which the button is added.\n     */\n    _addToolbarDropdown(options) {\n        const editor = this.editor;\n        const factory = editor.ui.componentFactory;\n        factory.add('alignment', locale => {\n            const dropdownView = createDropdown(locale);\n            const tooltipPosition = locale.uiLanguageDirection === 'rtl' ? 'w' : 'e';\n            const t = locale.t;\n            // Add existing alignment buttons to dropdown's toolbar.\n            addToolbarToDropdown(dropdownView, () => options.map(option => this._createButton(locale, option.name, { tooltipPosition })), {\n                enableActiveItemFocusOnDropdownOpen: true,\n                isVertical: true,\n                ariaLabel: t('Text alignment toolbar')\n            });\n            // Configure dropdown properties an behavior.\n            dropdownView.buttonView.set({\n                label: t('Text alignment'),\n                tooltip: true\n            });\n            dropdownView.extendTemplate({\n                attributes: {\n                    class: 'ck-alignment-dropdown'\n                }\n            });\n            // The default icon depends on the direction of the content.\n            const defaultIcon = locale.contentLanguageDirection === 'rtl' ? iconsMap.get('right') : iconsMap.get('left');\n            const command = editor.commands.get('alignment');\n            // Change icon to reflect current selection's alignment.\n            dropdownView.buttonView.bind('icon').to(command, 'value', value => iconsMap.get(value) || defaultIcon);\n            // Enable button if any of the buttons is enabled.\n            dropdownView.bind('isEnabled').to(command, 'isEnabled');\n            // Focus the editable after executing the command.\n            // Overrides a default behaviour where the focus is moved to the dropdown button (#12125).\n            this.listenTo(dropdownView, 'execute', () => {\n                editor.editing.view.focus();\n            });\n            return dropdownView;\n        });\n    }\n    /**\n     * Creates a menu for all alignment options to use either in menu bar.\n     *\n     * @param options Normalized alignment options from config.\n     */\n    _addMenuBarMenu(options) {\n        const editor = this.editor;\n        editor.ui.componentFactory.add('menuBar:alignment', locale => {\n            const command = editor.commands.get('alignment');\n            const t = locale.t;\n            const menuView = new MenuBarMenuView(locale);\n            const listView = new MenuBarMenuListView(locale);\n            menuView.bind('isEnabled').to(command);\n            listView.set({\n                ariaLabel: t('Text alignment'),\n                role: 'menu'\n            });\n            menuView.buttonView.set({\n                label: t('Text alignment')\n            });\n            for (const option of options) {\n                const listItemView = new MenuBarMenuListItemView(locale, menuView);\n                const buttonView = new MenuBarMenuListItemButtonView(locale);\n                buttonView.delegate('execute').to(menuView);\n                buttonView.set({\n                    label: this.localizedOptionTitles[option.name],\n                    icon: iconsMap.get(option.name),\n                    role: 'menuitemcheckbox',\n                    isToggleable: true\n                });\n                buttonView.on('execute', () => {\n                    editor.execute('alignment', { value: option.name });\n                    editor.editing.view.focus();\n                });\n                buttonView.bind('isOn').to(command, 'value', value => value === option.name);\n                buttonView.bind('isEnabled').to(command, 'isEnabled');\n                listItemView.children.add(buttonView);\n                listView.items.add(listItemView);\n            }\n            menuView.panelView.children.add(listView);\n            return menuView;\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module alignment/alignment\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport AlignmentEditing from './alignmentediting.js';\nimport AlignmentUI from './alignmentui.js';\n/**\n * The text alignment plugin.\n *\n * For a detailed overview, check the {@glink features/text-alignment Text alignment} feature guide\n * and the {@glink api/alignment package page}.\n *\n * This is a \"glue\" plugin which loads the {@link module:alignment/alignmentediting~AlignmentEditing} and\n * {@link module:alignment/alignmentui~AlignmentUI} plugins.\n */\nexport default class Alignment extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [AlignmentEditing, AlignmentUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'Alignment';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { first } from 'ckeditor5/src/utils.js';\n/**\n * Creates a view element representing the inline image.\n *\n * ```html\n * <span class=\"image-inline\"><img></img></span>\n * ```\n *\n * Note that `alt` and `src` attributes are converted separately, so they are not included.\n *\n * @internal\n */\nexport function createInlineImageViewElement(writer) {\n    return writer.createContainerElement('span', { class: 'image-inline' }, writer.createEmptyElement('img'));\n}\n/**\n * Creates a view element representing the block image.\n *\n * ```html\n * <figure class=\"image\"><img></img></figure>\n * ```\n *\n * Note that `alt` and `src` attributes are converted separately, so they are not included.\n *\n * @internal\n */\nexport function createBlockImageViewElement(writer) {\n    return writer.createContainerElement('figure', { class: 'image' }, [\n        writer.createEmptyElement('img'),\n        writer.createSlot('children')\n    ]);\n}\n/**\n * A function returning a `MatcherPattern` for a particular type of View images.\n *\n * @internal\n * @param matchImageType The type of created image.\n */\nexport function getImgViewElementMatcher(editor, matchImageType) {\n    const imageUtils = editor.plugins.get('ImageUtils');\n    const areBothImagePluginsLoaded = editor.plugins.has('ImageInlineEditing') && editor.plugins.has('ImageBlockEditing');\n    return element => {\n        // Check if the matched view element is an <img>.\n        if (!imageUtils.isInlineImageView(element)) {\n            return null;\n        }\n        // If just one of the plugins is loaded (block or inline), it will match all kinds of images.\n        if (!areBothImagePluginsLoaded) {\n            return getPositiveMatchPattern(element);\n        }\n        // The <img> can be standalone, wrapped in <figure>...</figure> (ImageBlock plugin) or\n        // wrapped in <figure><a>...</a></figure> (LinkImage plugin).\n        const imageType = element.getStyle('display') == 'block' || element.findAncestor(imageUtils.isBlockImageView) ?\n            'imageBlock' :\n            'imageInline';\n        if (imageType !== matchImageType) {\n            return null;\n        }\n        return getPositiveMatchPattern(element);\n    };\n    function getPositiveMatchPattern(element) {\n        const pattern = {\n            name: true\n        };\n        // This will trigger src consumption (See https://github.com/ckeditor/ckeditor5/issues/11530).\n        if (element.hasAttribute('src')) {\n            pattern.attributes = ['src'];\n        }\n        return pattern;\n    }\n}\n/**\n * Considering the current model selection, it returns the name of the model image element\n * (`'imageBlock'` or `'imageInline'`) that will make most sense from the UX perspective if a new\n * image was inserted (also: uploaded, dropped, pasted) at that selection.\n *\n * The assumption is that inserting images into empty blocks or on other block widgets should\n * produce block images. Inline images should be inserted in other cases, e.g. in paragraphs\n * that already contain some text.\n *\n * @internal\n */\nexport function determineImageTypeForInsertionAtSelection(schema, selection) {\n    const firstBlock = first(selection.getSelectedBlocks());\n    // Insert a block image if the selection is not in/on block elements or it's on a block widget.\n    if (!firstBlock || schema.isObject(firstBlock)) {\n        return 'imageBlock';\n    }\n    // A block image should also be inserted into an empty block element\n    // (that is not an empty list item so the list won't get split).\n    if (firstBlock.isEmpty && firstBlock.name != 'listItem') {\n        return 'imageBlock';\n    }\n    // Otherwise insert an inline image.\n    return 'imageInline';\n}\n/**\n * Returns parsed value of the size, but only if it contains unit: px.\n */\nexport function getSizeValueIfInPx(size) {\n    if (size && size.endsWith('px')) {\n        return parseInt(size);\n    }\n    return null;\n}\n/**\n * Returns true if both styles (width and height) are set.\n *\n * If both image styles: width & height are set, they will override the image width & height attributes in the\n * browser. In this case, the image looks the same as if these styles were applied to attributes instead of styles.\n * That's why we can upcast these styles to width & height attributes instead of resizedWidth and resizedHeight.\n */\nexport function widthAndHeightStylesAreBothSet(viewElement) {\n    const widthStyle = getSizeValueIfInPx(viewElement.getStyle('width'));\n    const heightStyle = getSizeValueIfInPx(viewElement.getStyle('height'));\n    return !!(widthStyle && heightStyle);\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { findOptimalInsertionRange, isWidget, toWidget } from 'ckeditor5/src/widget.js';\nimport { determineImageTypeForInsertionAtSelection } from './image/utils.js';\nimport { DomEmitterMixin, global } from 'ckeditor5/src/utils.js';\nconst IMAGE_WIDGETS_CLASSES_MATCH_REGEXP = /^(image|image-inline)$/;\n/**\n * A set of helpers related to images.\n */\nexport default class ImageUtils extends Plugin {\n    /**\n     * DOM Emitter.\n     */\n    _domEmitter = new (DomEmitterMixin())();\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageUtils';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * Checks if the provided model element is an `image` or `imageInline`.\n     */\n    isImage(modelElement) {\n        return this.isInlineImage(modelElement) || this.isBlockImage(modelElement);\n    }\n    /**\n     * Checks if the provided view element represents an inline image.\n     *\n     * Also, see {@link module:image/imageutils~ImageUtils#isImageWidget}.\n     */\n    isInlineImageView(element) {\n        return !!element && element.is('element', 'img');\n    }\n    /**\n     * Checks if the provided view element represents a block image.\n     *\n     * Also, see {@link module:image/imageutils~ImageUtils#isImageWidget}.\n     */\n    isBlockImageView(element) {\n        return !!element && element.is('element', 'figure') && element.hasClass('image');\n    }\n    /**\n     * Handles inserting single file. This method unifies image insertion using {@link module:widget/utils~findOptimalInsertionRange}\n     * method.\n     *\n     * ```ts\n     * const imageUtils = editor.plugins.get( 'ImageUtils' );\n     *\n     * imageUtils.insertImage( { src: 'path/to/image.jpg' } );\n     * ```\n     *\n     * @param attributes Attributes of the inserted image.\n     * This method filters out the attributes which are disallowed by the {@link module:engine/model/schema~Schema}.\n     * @param selectable Place to insert the image. If not specified,\n     * the {@link module:widget/utils~findOptimalInsertionRange} logic will be applied for the block images\n     * and `model.document.selection` for the inline images.\n     *\n     * **Note**: If `selectable` is passed, this helper will not be able to set selection attributes (such as `linkHref`)\n     * and apply them to the new image. In this case, make sure all selection attributes are passed in `attributes`.\n     *\n     * @param imageType Image type of inserted image. If not specified,\n     * it will be determined automatically depending of editor config or place of the insertion.\n     * @param options.setImageSizes Specifies whether the image `width` and `height` attributes should be set automatically.\n     * The default is `true`.\n     * @return The inserted model image element.\n     */\n    insertImage(attributes = {}, selectable = null, imageType = null, options = {}) {\n        const editor = this.editor;\n        const model = editor.model;\n        const selection = model.document.selection;\n        const determinedImageType = determineImageTypeForInsertion(editor, selectable || selection, imageType);\n        // Mix declarative attributes with selection attributes because the new image should \"inherit\"\n        // the latter for best UX. For instance, inline images inserted into existing links\n        // should not split them. To do that, they need to have \"linkHref\" inherited from the selection.\n        attributes = {\n            ...Object.fromEntries(selection.getAttributes()),\n            ...attributes\n        };\n        for (const attributeName in attributes) {\n            if (!model.schema.checkAttribute(determinedImageType, attributeName)) {\n                delete attributes[attributeName];\n            }\n        }\n        return model.change(writer => {\n            const { setImageSizes = true } = options;\n            const imageElement = writer.createElement(determinedImageType, attributes);\n            model.insertObject(imageElement, selectable, null, {\n                setSelection: 'on',\n                // If we want to insert a block image (for whatever reason) then we don't want to split text blocks.\n                // This applies only when we don't have the selectable specified (i.e., we insert multiple block images at once).\n                findOptimalPosition: !selectable && determinedImageType != 'imageInline' ? 'auto' : undefined\n            });\n            // Inserting an image might've failed due to schema regulations.\n            if (imageElement.parent) {\n                if (setImageSizes) {\n                    this.setImageNaturalSizeAttributes(imageElement);\n                }\n                return imageElement;\n            }\n            return null;\n        });\n    }\n    /**\n     * Reads original image sizes and sets them as `width` and `height`.\n     *\n     * The `src` attribute may not be available if the user is using an upload adapter. In such a case,\n     * this method is called again after the upload process is complete and the `src` attribute is available.\n     */\n    setImageNaturalSizeAttributes(imageElement) {\n        const src = imageElement.getAttribute('src');\n        if (!src) {\n            return;\n        }\n        if (imageElement.getAttribute('width') || imageElement.getAttribute('height')) {\n            return;\n        }\n        this.editor.model.change(writer => {\n            const img = new global.window.Image();\n            this._domEmitter.listenTo(img, 'load', () => {\n                if (!imageElement.getAttribute('width') && !imageElement.getAttribute('height')) {\n                    // We use writer.batch to be able to undo (in a single step) width and height setting\n                    // along with any change that triggered this action (e.g. image resize or image style change).\n                    this.editor.model.enqueueChange(writer.batch, writer => {\n                        writer.setAttribute('width', img.naturalWidth, imageElement);\n                        writer.setAttribute('height', img.naturalHeight, imageElement);\n                    });\n                }\n                this._domEmitter.stopListening(img, 'load');\n            });\n            img.src = src;\n        });\n    }\n    /**\n     * Returns an image widget editing view element if one is selected or is among the selection's ancestors.\n     */\n    getClosestSelectedImageWidget(selection) {\n        const selectionPosition = selection.getFirstPosition();\n        if (!selectionPosition) {\n            return null;\n        }\n        const viewElement = selection.getSelectedElement();\n        if (viewElement && this.isImageWidget(viewElement)) {\n            return viewElement;\n        }\n        let parent = selectionPosition.parent;\n        while (parent) {\n            if (parent.is('element') && this.isImageWidget(parent)) {\n                return parent;\n            }\n            parent = parent.parent;\n        }\n        return null;\n    }\n    /**\n     * Returns a image model element if one is selected or is among the selection's ancestors.\n     */\n    getClosestSelectedImageElement(selection) {\n        const selectedElement = selection.getSelectedElement();\n        return this.isImage(selectedElement) ? selectedElement : selection.getFirstPosition().findAncestor('imageBlock');\n    }\n    /**\n     * Returns an image widget editing view based on the passed image view.\n     */\n    getImageWidgetFromImageView(imageView) {\n        return imageView.findAncestor({ classes: IMAGE_WIDGETS_CLASSES_MATCH_REGEXP });\n    }\n    /**\n     * Checks if image can be inserted at current model selection.\n     *\n     * @internal\n     */\n    isImageAllowed() {\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        return isImageAllowedInParent(this.editor, selection) && isNotInsideImage(selection);\n    }\n    /**\n     * Converts a given {@link module:engine/view/element~Element} to an image widget:\n     * * Adds a {@link module:engine/view/element~Element#_setCustomProperty custom property} allowing to recognize the image widget\n     * element.\n     * * Calls the {@link module:widget/utils~toWidget} function with the proper element's label creator.\n     *\n     * @param writer An instance of the view writer.\n     * @param label The element's label. It will be concatenated with the image `alt` attribute if one is present.\n     */\n    toImageWidget(viewElement, writer, label) {\n        writer.setCustomProperty('image', true, viewElement);\n        const labelCreator = () => {\n            const imgElement = this.findViewImgElement(viewElement);\n            const altText = imgElement.getAttribute('alt');\n            return altText ? `${altText} ${label}` : label;\n        };\n        return toWidget(viewElement, writer, { label: labelCreator });\n    }\n    /**\n     * Checks if a given view element is an image widget.\n     */\n    isImageWidget(viewElement) {\n        return !!viewElement.getCustomProperty('image') && isWidget(viewElement);\n    }\n    /**\n     * Checks if the provided model element is an `image`.\n     */\n    isBlockImage(modelElement) {\n        return !!modelElement && modelElement.is('element', 'imageBlock');\n    }\n    /**\n     * Checks if the provided model element is an `imageInline`.\n     */\n    isInlineImage(modelElement) {\n        return !!modelElement && modelElement.is('element', 'imageInline');\n    }\n    /**\n     * Get the view `<img>` from another view element, e.g. a widget (`<figure class=\"image\">`), a link (`<a>`).\n     *\n     * The `<img>` can be located deep in other elements, so this helper performs a deep tree search.\n     */\n    findViewImgElement(figureView) {\n        if (this.isInlineImageView(figureView)) {\n            return figureView;\n        }\n        const editingView = this.editor.editing.view;\n        for (const { item } of editingView.createRangeIn(figureView)) {\n            if (this.isInlineImageView(item)) {\n                return item;\n            }\n        }\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        this._domEmitter.stopListening();\n        return super.destroy();\n    }\n}\n/**\n * Checks if image is allowed by schema in optimal insertion parent.\n */\nfunction isImageAllowedInParent(editor, selection) {\n    const imageType = determineImageTypeForInsertion(editor, selection, null);\n    if (imageType == 'imageBlock') {\n        const parent = getInsertImageParent(selection, editor.model);\n        if (editor.model.schema.checkChild(parent, 'imageBlock')) {\n            return true;\n        }\n    }\n    else if (editor.model.schema.checkChild(selection.focus, 'imageInline')) {\n        return true;\n    }\n    return false;\n}\n/**\n * Checks if selection is not placed inside an image (e.g. its caption).\n */\nfunction isNotInsideImage(selection) {\n    return [...selection.focus.getAncestors()].every(ancestor => !ancestor.is('element', 'imageBlock'));\n}\n/**\n * Returns a node that will be used to insert image with `model.insertContent`.\n */\nfunction getInsertImageParent(selection, model) {\n    const insertionRange = findOptimalInsertionRange(selection, model);\n    const parent = insertionRange.start.parent;\n    if (parent.isEmpty && !parent.is('element', '$root')) {\n        return parent.parent;\n    }\n    return parent;\n}\n/**\n * Determine image element type name depending on editor config or place of insertion.\n *\n * @param imageType Image element type name. Used to force return of provided element name,\n * but only if there is proper plugin enabled.\n */\nfunction determineImageTypeForInsertion(editor, selectable, imageType) {\n    const schema = editor.model.schema;\n    const configImageInsertType = editor.config.get('image.insert.type');\n    if (!editor.plugins.has('ImageBlockEditing')) {\n        return 'imageInline';\n    }\n    if (!editor.plugins.has('ImageInlineEditing')) {\n        return 'imageBlock';\n    }\n    if (imageType) {\n        return imageType;\n    }\n    if (configImageInsertType === 'inline') {\n        return 'imageInline';\n    }\n    if (configImageInsertType !== 'auto') {\n        return 'imageBlock';\n    }\n    // Try to replace the selected widget (e.g. another image).\n    if (selectable.is('selection')) {\n        return determineImageTypeForInsertionAtSelection(schema, selectable);\n    }\n    return schema.checkChild(selectable, 'imageInline') ? 'imageInline' : 'imageBlock';\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module image/autoimage\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Clipboard } from 'ckeditor5/src/clipboard.js';\nimport { LivePosition, LiveRange } from 'ckeditor5/src/engine.js';\nimport { Undo } from 'ckeditor5/src/undo.js';\nimport { Delete } from 'ckeditor5/src/typing.js';\nimport { global } from 'ckeditor5/src/utils.js';\nimport ImageUtils from './imageutils.js';\n// Implements the pattern: http(s)://(www.)example.com/path/to/resource.ext?query=params&maybe=too.\nconst IMAGE_URL_REGEXP = new RegExp(String(/^(http(s)?:\\/\\/)?[\\w-]+\\.[\\w.~:/[\\]@!$&'()*+,;=%-]+/.source +\n    /\\.(jpg|jpeg|png|gif|ico|webp|JPG|JPEG|PNG|GIF|ICO|WEBP)/.source +\n    /(\\?[\\w.~:/[\\]@!$&'()*+,;=%-]*)?/.source +\n    /(#[\\w.~:/[\\]@!$&'()*+,;=%-]*)?$/.source));\n/**\n * The auto-image plugin. It recognizes image links in the pasted content and embeds\n * them shortly after they are injected into the document.\n */\nexport default class AutoImage extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [Clipboard, ImageUtils, Undo, Delete];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'AutoImage';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * The paste–to–embed `setTimeout` ID. Stored as a property to allow\n     * cleaning of the timeout.\n     */\n    _timeoutId;\n    /**\n     * The position where the `<imageBlock>` element will be inserted after the timeout,\n     * determined each time a new content is pasted into the document.\n     */\n    _positionToInsert;\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        this._timeoutId = null;\n        this._positionToInsert = null;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const modelDocument = editor.model.document;\n        const clipboardPipeline = editor.plugins.get('ClipboardPipeline');\n        // We need to listen on `Clipboard#inputTransformation` because we need to save positions of selection.\n        // After pasting, the content between those positions will be checked for a URL that could be transformed\n        // into an image.\n        this.listenTo(clipboardPipeline, 'inputTransformation', () => {\n            const firstRange = modelDocument.selection.getFirstRange();\n            const leftLivePosition = LivePosition.fromPosition(firstRange.start);\n            leftLivePosition.stickiness = 'toPrevious';\n            const rightLivePosition = LivePosition.fromPosition(firstRange.end);\n            rightLivePosition.stickiness = 'toNext';\n            modelDocument.once('change:data', () => {\n                this._embedImageBetweenPositions(leftLivePosition, rightLivePosition);\n                leftLivePosition.detach();\n                rightLivePosition.detach();\n            }, { priority: 'high' });\n        });\n        editor.commands.get('undo').on('execute', () => {\n            if (this._timeoutId) {\n                global.window.clearTimeout(this._timeoutId);\n                this._positionToInsert.detach();\n                this._timeoutId = null;\n                this._positionToInsert = null;\n            }\n        }, { priority: 'high' });\n    }\n    /**\n     * Analyzes the part of the document between provided positions in search for a URL representing an image.\n     * When the URL is found, it is automatically converted into an image.\n     *\n     * @param leftPosition Left position of the selection.\n     * @param rightPosition Right position of the selection.\n     */\n    _embedImageBetweenPositions(leftPosition, rightPosition) {\n        const editor = this.editor;\n        // TODO: Use a marker instead of LiveRange & LivePositions.\n        const urlRange = new LiveRange(leftPosition, rightPosition);\n        const walker = urlRange.getWalker({ ignoreElementEnd: true });\n        const selectionAttributes = Object.fromEntries(editor.model.document.selection.getAttributes());\n        const imageUtils = this.editor.plugins.get('ImageUtils');\n        let src = '';\n        for (const node of walker) {\n            if (node.item.is('$textProxy')) {\n                src += node.item.data;\n            }\n        }\n        src = src.trim();\n        // If the URL does not match the image URL regexp, let's skip that.\n        if (!src.match(IMAGE_URL_REGEXP)) {\n            urlRange.detach();\n            return;\n        }\n        // Position will not be available in the `setTimeout` function so let's clone it.\n        this._positionToInsert = LivePosition.fromPosition(leftPosition);\n        // This action mustn't be executed if undo was called between pasting and auto-embedding.\n        this._timeoutId = setTimeout(() => {\n            // Do nothing if image element cannot be inserted at the current position.\n            // See https://github.com/ckeditor/ckeditor5/issues/2763.\n            // Condition must be checked after timeout - pasting may take place on an element, replacing it. The final position matters.\n            const imageCommand = editor.commands.get('insertImage');\n            if (!imageCommand.isEnabled) {\n                urlRange.detach();\n                return;\n            }\n            editor.model.change(writer => {\n                this._timeoutId = null;\n                writer.remove(urlRange);\n                urlRange.detach();\n                let insertionPosition;\n                // Check if the position where the element should be inserted is still valid.\n                // Otherwise leave it as undefined to use the logic of insertImage().\n                if (this._positionToInsert.root.rootName !== '$graveyard') {\n                    insertionPosition = this._positionToInsert.toPosition();\n                }\n                imageUtils.insertImage({ ...selectionAttributes, src }, insertionPosition);\n                this._positionToInsert.detach();\n                this._positionToInsert = null;\n            });\n            const deletePlugin = editor.plugins.get('Delete');\n            deletePlugin.requestUndoOnBackspace();\n        }, 100);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module image/imagetextalternative/imagetextalternativecommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\n/**\n * The image text alternative command. It is used to change the `alt` attribute of `<imageBlock>` and `<imageInline>` model elements.\n */\nexport default class ImageTextAlternativeCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const editor = this.editor;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        const element = imageUtils.getClosestSelectedImageElement(this.editor.model.document.selection);\n        this.isEnabled = !!element;\n        if (this.isEnabled && element.hasAttribute('alt')) {\n            this.value = element.getAttribute('alt');\n        }\n        else {\n            this.value = false;\n        }\n    }\n    /**\n     * Executes the command.\n     *\n     * @fires execute\n     * @param options\n     * @param options.newValue The new value of the `alt` attribute to set.\n     */\n    execute(options) {\n        const editor = this.editor;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        const model = editor.model;\n        const imageElement = imageUtils.getClosestSelectedImageElement(model.document.selection);\n        model.change(writer => {\n            writer.setAttribute('alt', options.newValue, imageElement);\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module image/imagetextalternative/imagetextalternativeediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport ImageTextAlternativeCommand from './imagetextalternativecommand.js';\nimport ImageUtils from '../imageutils.js';\n/**\n * The image text alternative editing plugin.\n *\n * Registers the `'imageTextAlternative'` command.\n */\nexport default class ImageTextAlternativeEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageUtils];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageTextAlternativeEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        this.editor.commands.add('imageTextAlternative', new ImageTextAlternativeCommand(this.editor));\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./textalternativeform.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../../css-loader/dist/cjs.js!../../../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./responsiveform.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../../css-loader/dist/cjs.js!../../../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./form.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module image/imagetextalternative/ui/textalternativeformview\n */\nimport { ButtonView, FocusCycler, FormRowView, FormHeaderView, LabeledFieldView, View, ViewCollection, createLabeledInputText, submitHandler } from 'ckeditor5/src/ui.js';\nimport { FocusTracker, KeystrokeHandler } from 'ckeditor5/src/utils.js';\nimport { IconPreviousArrow } from 'ckeditor5/src/icons.js';\nimport '../../../theme/textalternativeform.css';\n// See: #8833.\n// eslint-disable-next-line ckeditor5-rules/ckeditor-imports\nimport '@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css';\n// eslint-disable-next-line ckeditor5-rules/ckeditor-imports\nimport '@ckeditor/ckeditor5-ui/theme/components/form/form.css';\n/**\n * The TextAlternativeFormView class.\n */\nexport default class TextAlternativeFormView extends View {\n    /**\n     * Tracks information about the DOM focus in the form.\n     */\n    focusTracker;\n    /**\n     * An instance of the {@link module:utils/keystrokehandler~KeystrokeHandler}.\n     */\n    keystrokes;\n    /**\n     * An input with a label.\n     */\n    labeledInput;\n    /**\n     * The Back button view displayed in the header.\n     */\n    backButtonView;\n    /**\n     * A button used to submit the form.\n     */\n    saveButtonView;\n    /**\n     * A collection of child views.\n     */\n    children;\n    /**\n     * A collection of views which can be focused in the form.\n     */\n    _focusables;\n    /**\n     * Helps cycling over {@link #_focusables} in the form.\n     */\n    _focusCycler;\n    /**\n     * @inheritDoc\n     */\n    constructor(locale) {\n        super(locale);\n        this.focusTracker = new FocusTracker();\n        this.keystrokes = new KeystrokeHandler();\n        // Create buttons.\n        this.backButtonView = this._createBackButton();\n        this.saveButtonView = this._createSaveButton();\n        // Create input fields.\n        this.labeledInput = this._createLabeledInputView();\n        this.children = this.createCollection([\n            this._createHeaderView()\n        ]);\n        this.children.add(new FormRowView(locale, {\n            children: [\n                this.labeledInput,\n                this.saveButtonView\n            ],\n            class: [\n                'ck-form__row_with-submit',\n                'ck-form__row_large-top-padding'\n            ]\n        }));\n        this._focusables = new ViewCollection();\n        // Close the panel on esc key press when the **form has focus**.\n        this.keystrokes.set('Esc', (data, cancel) => {\n            this.fire('cancel');\n            cancel();\n        });\n        this._focusCycler = new FocusCycler({\n            focusables: this._focusables,\n            focusTracker: this.focusTracker,\n            keystrokeHandler: this.keystrokes,\n            actions: {\n                // Navigate form fields backwards using the Shift + Tab keystroke.\n                focusPrevious: 'shift + tab',\n                // Navigate form fields forwards using the Tab key.\n                focusNext: 'tab'\n            }\n        });\n        this.setTemplate({\n            tag: 'form',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-form',\n                    'ck-text-alternative-form',\n                    'ck-responsive-form'\n                ],\n                // https://github.com/ckeditor/ckeditor5-image/issues/40\n                tabindex: '-1'\n            },\n            children: this.children\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    render() {\n        super.render();\n        submitHandler({\n            view: this\n        });\n        const childViews = [\n            this.backButtonView,\n            this.labeledInput,\n            this.saveButtonView\n        ];\n        childViews.forEach(v => {\n            // Register the view as focusable.\n            this._focusables.add(v);\n            // Register the view in the focus tracker.\n            this.focusTracker.add(v.element);\n        });\n        this.keystrokes.listenTo(this.element);\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        super.destroy();\n        this.focusTracker.destroy();\n        this.keystrokes.destroy();\n    }\n    /**\n     * Creates a back button view that cancels the form.\n     */\n    _createBackButton() {\n        const t = this.locale.t;\n        const backButton = new ButtonView(this.locale);\n        backButton.set({\n            class: 'ck-button-back',\n            label: t('Back'),\n            icon: IconPreviousArrow,\n            tooltip: true\n        });\n        backButton.delegate('execute').to(this, 'cancel');\n        return backButton;\n    }\n    /**\n     * Creates a save button view that text alternative the image.\n     */\n    _createSaveButton() {\n        const t = this.locale.t;\n        const saveButton = new ButtonView(this.locale);\n        saveButton.set({\n            label: t('Save'),\n            withText: true,\n            type: 'submit',\n            class: 'ck-button-action ck-button-bold'\n        });\n        return saveButton;\n    }\n    /**\n     * Creates a header view for the form.\n     */\n    _createHeaderView() {\n        const t = this.locale.t;\n        const header = new FormHeaderView(this.locale, {\n            label: t('Text Alternative')\n        });\n        header.children.add(this.backButtonView, 0);\n        return header;\n    }\n    /**\n     * Creates an input with a label.\n     *\n     * @returns Labeled field view instance.\n     */\n    _createLabeledInputView() {\n        const t = this.locale.t;\n        const labeledInput = new LabeledFieldView(this.locale, createLabeledInputText);\n        labeledInput.label = t('Text alternative');\n        labeledInput.class = 'ck-labeled-field-view_full-width';\n        return labeledInput;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { BalloonPanelView } from 'ckeditor5/src/ui.js';\n/**\n * A helper utility that positions the\n * {@link module:ui/panel/balloon/contextualballoon~ContextualBalloon contextual balloon} instance\n * with respect to the image in the editor content, if one is selected.\n *\n * @param editor The editor instance.\n */\nexport function repositionContextualBalloon(editor) {\n    const balloon = editor.plugins.get('ContextualBalloon');\n    const imageUtils = editor.plugins.get('ImageUtils');\n    if (imageUtils.getClosestSelectedImageWidget(editor.editing.view.document.selection)) {\n        const position = getBalloonPositionData(editor);\n        balloon.updatePosition(position);\n    }\n}\n/**\n * Returns the positioning options that control the geometry of the\n * {@link module:ui/panel/balloon/contextualballoon~ContextualBalloon contextual balloon} with respect\n * to the selected element in the editor content.\n *\n * @param editor The editor instance.\n */\nexport function getBalloonPositionData(editor) {\n    const editingView = editor.editing.view;\n    const defaultPositions = BalloonPanelView.defaultPositions;\n    const imageUtils = editor.plugins.get('ImageUtils');\n    return {\n        target: editingView.domConverter.mapViewToDom(imageUtils.getClosestSelectedImageWidget(editingView.document.selection)),\n        positions: [\n            defaultPositions.northArrowSouth,\n            defaultPositions.northArrowSouthWest,\n            defaultPositions.northArrowSouthEast,\n            defaultPositions.southArrowNorth,\n            defaultPositions.southArrowNorthWest,\n            defaultPositions.southArrowNorthEast,\n            defaultPositions.viewportStickyNorth\n        ]\n    };\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module image/imagetextalternative/imagetextalternativeui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { ButtonView, ContextualBalloon, clickOutsideHandler, CssTransitionDisablerMixin } from 'ckeditor5/src/ui.js';\nimport { IconTextAlternative } from 'ckeditor5/src/icons.js';\nimport TextAlternativeFormView from './ui/textalternativeformview.js';\nimport { repositionContextualBalloon, getBalloonPositionData } from '../image/ui/utils.js';\n/**\n * The image text alternative UI plugin.\n *\n * The plugin uses the {@link module:ui/panel/balloon/contextualballoon~ContextualBalloon}.\n */\nexport default class ImageTextAlternativeUI extends Plugin {\n    /**\n     * The contextual balloon plugin instance.\n     */\n    _balloon;\n    /**\n     * A form containing a textarea and buttons, used to change the `alt` text value.\n     */\n    _form;\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ContextualBalloon];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageTextAlternativeUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        this._createButton();\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        super.destroy();\n        // Destroy created UI components as they are not automatically destroyed (see ckeditor5#1341).\n        if (this._form) {\n            this._form.destroy();\n        }\n    }\n    /**\n     * Creates a button showing the balloon panel for changing the image text alternative and\n     * registers it in the editor {@link module:ui/componentfactory~ComponentFactory ComponentFactory}.\n     */\n    _createButton() {\n        const editor = this.editor;\n        const t = editor.t;\n        editor.ui.componentFactory.add('imageTextAlternative', locale => {\n            const command = editor.commands.get('imageTextAlternative');\n            const view = new ButtonView(locale);\n            view.set({\n                label: t('Change image text alternative'),\n                icon: IconTextAlternative,\n                tooltip: true\n            });\n            view.bind('isEnabled').to(command, 'isEnabled');\n            view.bind('isOn').to(command, 'value', value => !!value);\n            this.listenTo(view, 'execute', () => {\n                this._showForm();\n            });\n            return view;\n        });\n    }\n    /**\n     * Creates the {@link module:image/imagetextalternative/ui/textalternativeformview~TextAlternativeFormView}\n     * form.\n     */\n    _createForm() {\n        const editor = this.editor;\n        const view = editor.editing.view;\n        const viewDocument = view.document;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        this._balloon = this.editor.plugins.get('ContextualBalloon');\n        this._form = new (CssTransitionDisablerMixin(TextAlternativeFormView))(editor.locale);\n        // Render the form so its #element is available for clickOutsideHandler.\n        this._form.render();\n        this.listenTo(this._form, 'submit', () => {\n            editor.execute('imageTextAlternative', {\n                newValue: this._form.labeledInput.fieldView.element.value\n            });\n            this._hideForm(true);\n        });\n        this.listenTo(this._form, 'cancel', () => {\n            this._hideForm(true);\n        });\n        // Reposition the balloon or hide the form if an image widget is no longer selected.\n        this.listenTo(editor.ui, 'update', () => {\n            if (!imageUtils.getClosestSelectedImageWidget(viewDocument.selection)) {\n                this._hideForm(true);\n            }\n            else if (this._isVisible) {\n                repositionContextualBalloon(editor);\n            }\n        });\n        // Close on click outside of balloon panel element.\n        clickOutsideHandler({\n            emitter: this._form,\n            activator: () => this._isVisible,\n            contextElements: () => [this._balloon.view.element],\n            callback: () => this._hideForm()\n        });\n    }\n    /**\n     * Shows the {@link #_form} in the {@link #_balloon}.\n     */\n    _showForm() {\n        if (this._isVisible) {\n            return;\n        }\n        if (!this._form) {\n            this._createForm();\n        }\n        const editor = this.editor;\n        const command = editor.commands.get('imageTextAlternative');\n        const labeledInput = this._form.labeledInput;\n        this._form.disableCssTransitions();\n        if (!this._isInBalloon) {\n            this._balloon.add({\n                view: this._form,\n                position: getBalloonPositionData(editor)\n            });\n        }\n        // Make sure that each time the panel shows up, the field remains in sync with the value of\n        // the command. If the user typed in the input, then canceled the balloon (`labeledInput#value`\n        // stays unaltered) and re-opened it without changing the value of the command, they would see the\n        // old value instead of the actual value of the command.\n        // https://github.com/ckeditor/ckeditor5-image/issues/114\n        labeledInput.fieldView.value = labeledInput.fieldView.element.value = command.value || '';\n        this._form.labeledInput.fieldView.select();\n        this._form.enableCssTransitions();\n    }\n    /**\n     * Removes the {@link #_form} from the {@link #_balloon}.\n     *\n     * @param focusEditable Controls whether the editing view is focused afterwards.\n     */\n    _hideForm(focusEditable = false) {\n        if (!this._isInBalloon) {\n            return;\n        }\n        // Blur the input element before removing it from DOM to prevent issues in some browsers.\n        // See https://github.com/ckeditor/ckeditor5/issues/1501.\n        if (this._form.focusTracker.isFocused) {\n            this._form.saveButtonView.focus();\n        }\n        this._balloon.remove(this._form);\n        if (focusEditable) {\n            this.editor.editing.view.focus();\n        }\n    }\n    /**\n     * Returns `true` when the {@link #_form} is the visible view in the {@link #_balloon}.\n     */\n    get _isVisible() {\n        return !!this._balloon && this._balloon.visibleView === this._form;\n    }\n    /**\n     * Returns `true` when the {@link #_form} is in the {@link #_balloon}.\n     */\n    get _isInBalloon() {\n        return !!this._balloon && this._balloon.hasView(this._form);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module image/imagetextalternative\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport ImageTextAlternativeEditing from './imagetextalternative/imagetextalternativeediting.js';\nimport ImageTextAlternativeUI from './imagetextalternative/imagetextalternativeui.js';\n/**\n * The image text alternative plugin.\n *\n * For a detailed overview, check the {@glink features/images/images-styles image styles} documentation.\n *\n * This is a \"glue\" plugin which loads the\n *  {@link module:image/imagetextalternative/imagetextalternativeediting~ImageTextAlternativeEditing}\n * and {@link module:image/imagetextalternative/imagetextalternativeui~ImageTextAlternativeUI} plugins.\n */\nexport default class ImageTextAlternative extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageTextAlternativeEditing, ImageTextAlternativeUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageTextAlternative';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { first } from 'ckeditor5/src/utils.js';\n/**\n * Returns a function that converts the image view representation:\n *\n * ```html\n * <figure class=\"image\"><img src=\"...\" alt=\"...\"></img></figure>\n * ```\n *\n * to the model representation:\n *\n * ```html\n * <imageBlock src=\"...\" alt=\"...\"></imageBlock>\n * ```\n *\n * The entire content of the `<figure>` element except the first `<img>` is being converted as children\n * of the `<imageBlock>` model element.\n *\n * @internal\n */\nexport function upcastImageFigure(imageUtils) {\n    const converter = (evt, data, conversionApi) => {\n        // Do not convert if this is not an \"image figure\".\n        if (!conversionApi.consumable.test(data.viewItem, { name: true, classes: 'image' })) {\n            return;\n        }\n        // Find an image element inside the figure element.\n        const viewImage = imageUtils.findViewImgElement(data.viewItem);\n        // Do not convert if image element is absent or was already converted.\n        if (!viewImage || !conversionApi.consumable.test(viewImage, { name: true })) {\n            return;\n        }\n        // Consume the figure to prevent other converters from processing it again.\n        conversionApi.consumable.consume(data.viewItem, { name: true, classes: 'image' });\n        // Convert view image to model image.\n        const conversionResult = conversionApi.convertItem(viewImage, data.modelCursor);\n        // Get image element from conversion result.\n        const modelImage = first(conversionResult.modelRange.getItems());\n        // When image wasn't successfully converted then finish conversion.\n        if (!modelImage) {\n            // Revert consumed figure so other features can convert it.\n            conversionApi.consumable.revert(data.viewItem, { name: true, classes: 'image' });\n            return;\n        }\n        // Convert rest of the figure element's children as an image children.\n        conversionApi.convertChildren(data.viewItem, modelImage);\n        conversionApi.updateConversionResult(modelImage, data);\n    };\n    return dispatcher => {\n        dispatcher.on('element:figure', converter);\n    };\n}\n/**\n * Returns a function that converts the image view representation:\n *\n * ```html\n * <picture><source ... /><source ... />...<img ... /></picture>\n * ```\n *\n * to the model representation as the `sources` attribute:\n *\n * ```html\n * <image[Block|Inline] ... sources=\"...\"></image[Block|Inline]>\n * ```\n *\n * @internal\n */\nexport function upcastPicture(imageUtils) {\n    const sourceAttributeNames = ['srcset', 'media', 'type', 'sizes'];\n    const converter = (evt, data, conversionApi) => {\n        const pictureViewElement = data.viewItem;\n        // Do not convert <picture> if already consumed.\n        if (!conversionApi.consumable.test(pictureViewElement, { name: true })) {\n            return;\n        }\n        const sources = new Map();\n        // Collect all <source /> elements attribute values.\n        for (const childSourceElement of pictureViewElement.getChildren()) {\n            if (childSourceElement.is('element', 'source')) {\n                const attributes = {};\n                for (const name of sourceAttributeNames) {\n                    if (childSourceElement.hasAttribute(name)) {\n                        // Don't collect <source /> attribute if already consumed somewhere else.\n                        if (conversionApi.consumable.test(childSourceElement, { attributes: name })) {\n                            attributes[name] = childSourceElement.getAttribute(name);\n                        }\n                    }\n                }\n                if (Object.keys(attributes).length) {\n                    sources.set(childSourceElement, attributes);\n                }\n            }\n        }\n        const imgViewElement = imageUtils.findViewImgElement(pictureViewElement);\n        // Don't convert when a picture has no <img/> inside (it is broken).\n        if (!imgViewElement) {\n            return;\n        }\n        let modelImage = data.modelCursor.parent;\n        // - In case of an inline image (cursor parent in a <paragraph>), the <img/> must be converted right away\n        // because no converter handled it yet and otherwise there would be no model element to set the sources attribute on.\n        // - In case of a block image, the <figure class=\"image\"> converter (in ImageBlockEditing) converts the\n        // <img/> right away on its own and the modelCursor is already inside an imageBlock and there's nothing special\n        // to do here.\n        if (!modelImage.is('element', 'imageBlock')) {\n            const conversionResult = conversionApi.convertItem(imgViewElement, data.modelCursor);\n            // Set image range as conversion result.\n            data.modelRange = conversionResult.modelRange;\n            // Continue conversion where image conversion ends.\n            data.modelCursor = conversionResult.modelCursor;\n            modelImage = first(conversionResult.modelRange.getItems());\n        }\n        conversionApi.consumable.consume(pictureViewElement, { name: true });\n        // Consume only these <source/> attributes that were actually collected and will be passed on\n        // to the image model element.\n        for (const [sourceElement, attributes] of sources) {\n            conversionApi.consumable.consume(sourceElement, { attributes: Object.keys(attributes) });\n        }\n        if (sources.size) {\n            conversionApi.writer.setAttribute('sources', Array.from(sources.values()), modelImage);\n        }\n        // Convert rest of the <picture> children as an image children. Other converters may want to consume them.\n        conversionApi.convertChildren(pictureViewElement, modelImage);\n    };\n    return dispatcher => {\n        dispatcher.on('element:picture', converter);\n    };\n}\n/**\n * Converter used to convert the `srcset` model image attribute to the `srcset` and `sizes` attributes in the view.\n *\n * @internal\n * @param imageType The type of the image.\n */\nexport function downcastSrcsetAttribute(imageUtils, imageType) {\n    const converter = (evt, data, conversionApi) => {\n        if (!conversionApi.consumable.consume(data.item, evt.name)) {\n            return;\n        }\n        const writer = conversionApi.writer;\n        const element = conversionApi.mapper.toViewElement(data.item);\n        const img = imageUtils.findViewImgElement(element);\n        if (data.attributeNewValue === null) {\n            writer.removeAttribute('srcset', img);\n            writer.removeAttribute('sizes', img);\n        }\n        else {\n            if (data.attributeNewValue) {\n                writer.setAttribute('srcset', data.attributeNewValue, img);\n                // Always outputting `100vw`. See https://github.com/ckeditor/ckeditor5-image/issues/2.\n                writer.setAttribute('sizes', '100vw', img);\n            }\n        }\n    };\n    return dispatcher => {\n        dispatcher.on(`attribute:srcset:${imageType}`, converter);\n    };\n}\n/**\n * Converts the `source` model attribute to the `<picture><source /><source />...<img /></picture>`\n * view structure.\n *\n * @internal\n */\nexport function downcastSourcesAttribute(imageUtils) {\n    const converter = (evt, data, conversionApi) => {\n        if (!conversionApi.consumable.consume(data.item, evt.name)) {\n            return;\n        }\n        const viewWriter = conversionApi.writer;\n        const element = conversionApi.mapper.toViewElement(data.item);\n        const imgElement = imageUtils.findViewImgElement(element);\n        const attributeNewValue = data.attributeNewValue;\n        if (attributeNewValue && attributeNewValue.length) {\n            // Collect all wrapping attribute elements.\n            const attributeElements = [];\n            let viewElement = imgElement.parent;\n            while (viewElement && viewElement.is('attributeElement')) {\n                const parentElement = viewElement.parent;\n                viewWriter.unwrap(viewWriter.createRangeOn(imgElement), viewElement);\n                attributeElements.unshift(viewElement);\n                viewElement = parentElement;\n            }\n            const hasPictureElement = imgElement.parent.is('element', 'picture');\n            // Reuse existing <picture> element (ckeditor5#17192) or create a new one.\n            const pictureElement = hasPictureElement ? imgElement.parent : viewWriter.createContainerElement('picture', null);\n            if (!hasPictureElement) {\n                viewWriter.insert(viewWriter.createPositionBefore(imgElement), pictureElement);\n            }\n            viewWriter.remove(viewWriter.createRangeIn(pictureElement));\n            viewWriter.insert(viewWriter.createPositionAt(pictureElement, 'end'), attributeNewValue.map(sourceAttributes => {\n                return viewWriter.createEmptyElement('source', sourceAttributes);\n            }));\n            viewWriter.move(viewWriter.createRangeOn(imgElement), viewWriter.createPositionAt(pictureElement, 'end'));\n            // Apply collected attribute elements over the new picture element.\n            for (const attributeElement of attributeElements) {\n                viewWriter.wrap(viewWriter.createRangeOn(pictureElement), attributeElement);\n            }\n        }\n        // Both setting \"sources\" to an empty array and removing the attribute should unwrap the <img />.\n        // Unwrap once if the latter followed the former, though.\n        else if (imgElement.parent.is('element', 'picture')) {\n            const pictureElement = imgElement.parent;\n            viewWriter.move(viewWriter.createRangeOn(imgElement), viewWriter.createPositionBefore(pictureElement));\n            viewWriter.remove(pictureElement);\n        }\n    };\n    return dispatcher => {\n        dispatcher.on('attribute:sources:imageBlock', converter);\n        dispatcher.on('attribute:sources:imageInline', converter);\n    };\n}\n/**\n * Converter used to convert a given image attribute from the model to the view.\n *\n * @internal\n * @param imageType The type of the image.\n * @param attributeKey The name of the attribute to convert.\n */\nexport function downcastImageAttribute(imageUtils, imageType, attributeKey) {\n    const converter = (evt, data, conversionApi) => {\n        if (!conversionApi.consumable.consume(data.item, evt.name)) {\n            return;\n        }\n        const viewWriter = conversionApi.writer;\n        const element = conversionApi.mapper.toViewElement(data.item);\n        const img = imageUtils.findViewImgElement(element);\n        viewWriter.setAttribute(data.attributeKey, data.attributeNewValue || '', img);\n    };\n    return dispatcher => {\n        dispatcher.on(`attribute:${attributeKey}:${imageType}`, converter);\n    };\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module image/image/imageloadobserver\n */\nimport { Observer } from 'ckeditor5/src/engine.js';\n/**\n * Observes all new images added to the {@link module:engine/view/document~Document},\n * fires {@link module:engine/view/document~Document#event:imageLoaded} and\n * {@link module:engine/view/document~Document#event:layoutChanged} event every time when the new image\n * has been loaded.\n *\n * **Note:** This event is not fired for images that has been added to the document and rendered as `complete` (already loaded).\n */\nexport default class ImageLoadObserver extends Observer {\n    /**\n     * @inheritDoc\n     */\n    observe(domRoot) {\n        this.listenTo(domRoot, 'load', (event, domEvent) => {\n            const domElement = domEvent.target;\n            if (this.checkShouldIgnoreEventFromTarget(domElement)) {\n                return;\n            }\n            if (domElement.tagName == 'IMG') {\n                this._fireEvents(domEvent);\n            }\n            // Use capture phase for better performance (#4504).\n        }, { useCapture: true });\n    }\n    /**\n     * @inheritDoc\n     */\n    stopObserving(domRoot) {\n        this.stopListening(domRoot);\n    }\n    /**\n     * Fires {@link module:engine/view/document~Document#event:layoutChanged} and\n     * {@link module:engine/view/document~Document#event:imageLoaded}\n     * if observer {@link #isEnabled is enabled}.\n     *\n     * @param domEvent The DOM event.\n     */\n    _fireEvents(domEvent) {\n        if (this.isEnabled) {\n            this.document.fire('layoutChanged');\n            this.document.fire('imageLoaded', domEvent);\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module image/image/insertimagecommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { logWarning, toArray } from 'ckeditor5/src/utils.js';\n/**\n * Insert image command.\n *\n * The command is registered by the {@link module:image/image/imageediting~ImageEditing} plugin as `insertImage`\n * and it is also available via aliased `imageInsert` name.\n *\n * In order to insert an image at the current selection position\n * (according to the {@link module:widget/utils~findOptimalInsertionRange} algorithm),\n * execute the command and specify the image source:\n *\n * ```ts\n * editor.execute( 'insertImage', { source: 'http://url.to.the/image' } );\n * ```\n *\n * It is also possible to insert multiple images at once:\n *\n * ```ts\n * editor.execute( 'insertImage', {\n * \tsource:  [\n * \t\t'path/to/image.jpg',\n * \t\t'path/to/other-image.jpg'\n * \t]\n * } );\n * ```\n *\n * If you want to take the full control over the process, you can specify individual model attributes:\n *\n * ```ts\n * editor.execute( 'insertImage', {\n * \tsource:  [\n * \t\t{ src: 'path/to/image.jpg', alt: 'First alt text' },\n * \t\t{ src: 'path/to/other-image.jpg', alt: 'Second alt text', customAttribute: 'My attribute value' }\n * \t]\n * } );\n * ```\n */\nexport default class InsertImageCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        const configImageInsertType = editor.config.get('image.insert.type');\n        if (!editor.plugins.has('ImageBlockEditing')) {\n            if (configImageInsertType === 'block') {\n                /**\n                 * The {@link module:image/imageblock~ImageBlock} plugin must be enabled to allow inserting block images. See\n                 * {@link module:image/imageconfig~ImageInsertConfig#type} to learn more.\n                 *\n                 * @error image-block-plugin-required\n                 */\n                logWarning('image-block-plugin-required');\n            }\n        }\n        if (!editor.plugins.has('ImageInlineEditing')) {\n            if (configImageInsertType === 'inline') {\n                /**\n                 * The {@link module:image/imageinline~ImageInline} plugin must be enabled to allow inserting inline images. See\n                 * {@link module:image/imageconfig~ImageInsertConfig#type} to learn more.\n                 *\n                 * @error image-inline-plugin-required\n                 */\n                logWarning('image-inline-plugin-required');\n            }\n        }\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const imageUtils = this.editor.plugins.get('ImageUtils');\n        this.isEnabled = imageUtils.isImageAllowed();\n    }\n    /**\n     * Executes the command.\n     *\n     * @fires execute\n     * @param options Options for the executed command.\n     * @param options.imageType The type of the image to insert. If not specified, the type will be determined automatically.\n     * @param options.source The image source or an array of image sources to insert.\n     * @param options.breakBlock If set to `true`, the block at the selection start will be broken before inserting the image.\n     * See the documentation of the command to learn more about accepted formats.\n     */\n    execute(options) {\n        const sourceDefinitions = toArray(options.source);\n        const selection = this.editor.model.document.selection;\n        const imageUtils = this.editor.plugins.get('ImageUtils');\n        // In case of multiple images, each image (starting from the 2nd) will be inserted at a position that\n        // follows the previous one. That will move the selection and, to stay on the safe side and make sure\n        // all images inherit the same selection attributes, they are collected beforehand.\n        //\n        // Applying these attributes ensures, for instance, that inserting an (inline) image into a link does\n        // not split that link but preserves its continuity.\n        //\n        // Note: Selection attributes that do not make sense for images will be filtered out by insertImage() anyway.\n        const selectionAttributes = Object.fromEntries(selection.getAttributes());\n        sourceDefinitions.forEach((sourceDefinition, index) => {\n            const selectedElement = selection.getSelectedElement();\n            if (typeof sourceDefinition === 'string') {\n                sourceDefinition = { src: sourceDefinition };\n            }\n            // Inserting of an inline image replace the selected element and make a selection on the inserted image.\n            // Therefore inserting multiple inline images requires creating position after each element.\n            if (index && selectedElement && imageUtils.isImage(selectedElement)) {\n                const position = this.editor.model.createPositionAfter(selectedElement);\n                imageUtils.insertImage({ ...sourceDefinition, ...selectionAttributes }, position, options.imageType);\n            }\n            else if (options.breakBlock) {\n                imageUtils.insertImage({ ...sourceDefinition, ...selectionAttributes }, selection.getFirstPosition(), options.imageType);\n            }\n            else {\n                imageUtils.insertImage({ ...sourceDefinition, ...selectionAttributes }, null, options.imageType);\n            }\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { Command } from 'ckeditor5/src/core.js';\n/**\n * @module image/image/replaceimagesourcecommand\n */\n/**\n * Replace image source command.\n *\n * Changes image source to the one provided. Can be executed as follows:\n *\n * ```ts\n * editor.execute( 'replaceImageSource', { source: 'http://url.to.the/image' } );\n * ```\n */\nexport default class ReplaceImageSourceCommand extends Command {\n    constructor(editor) {\n        super(editor);\n        this.decorate('cleanupImage');\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const editor = this.editor;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        const element = this.editor.model.document.selection.getSelectedElement();\n        this.isEnabled = imageUtils.isImage(element);\n        this.value = this.isEnabled ? element.getAttribute('src') : null;\n    }\n    /**\n     * Executes the command.\n     *\n     * @fires execute\n     * @param options Options for the executed command.\n     * @param options.source The image source to replace.\n     */\n    execute(options) {\n        const image = this.editor.model.document.selection.getSelectedElement();\n        const imageUtils = this.editor.plugins.get('ImageUtils');\n        this.editor.model.change(writer => {\n            writer.setAttribute('src', options.source, image);\n            this.cleanupImage(writer, image);\n            imageUtils.setImageNaturalSizeAttributes(image);\n        });\n    }\n    /**\n     * Cleanup image attributes that are not relevant to the new source.\n     *\n     * Removed attributes are: 'srcset', 'sizes', 'sources', 'width', 'height', 'alt'.\n     *\n     * This method is decorated, to allow custom cleanup logic.\n     * For example, to remove 'myImageId' attribute after 'src' has changed:\n     *\n     * ```ts\n     * replaceImageSourceCommand.on( 'cleanupImage', ( eventInfo, [ writer, image ] ) => {\n     * \twriter.removeAttribute( 'myImageId', image );\n     * } );\n     * ```\n     */\n    cleanupImage(writer, image) {\n        writer.removeAttribute('srcset', image);\n        writer.removeAttribute('sizes', image);\n        /**\n         * In case responsive images some attributes should be cleaned up.\n         * Check: https://github.com/ckeditor/ckeditor5/issues/15093\n         */\n        writer.removeAttribute('sources', image);\n        writer.removeAttribute('width', image);\n        writer.removeAttribute('height', image);\n        writer.removeAttribute('alt', image);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module image/image/imageediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport ImageLoadObserver from './imageloadobserver.js';\nimport InsertImageCommand from './insertimagecommand.js';\nimport ReplaceImageSourceCommand from './replaceimagesourcecommand.js';\nimport ImageUtils from '../imageutils.js';\n/**\n * The image engine plugin. This module loads common code shared between\n * {@link module:image/image/imageinlineediting~ImageInlineEditing} and\n * {@link module:image/image/imageblockediting~ImageBlockEditing} plugins.\n *\n * This plugin registers the {@link module:image/image/insertimagecommand~InsertImageCommand 'insertImage'} command.\n */\nexport default class ImageEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageUtils];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const conversion = editor.conversion;\n        // See https://github.com/ckeditor/ckeditor5-image/issues/142.\n        editor.editing.view.addObserver(ImageLoadObserver);\n        conversion.for('upcast')\n            .attributeToAttribute({\n            view: {\n                name: 'img',\n                key: 'alt'\n            },\n            model: 'alt'\n        })\n            .attributeToAttribute({\n            view: {\n                name: 'img',\n                key: 'srcset'\n            },\n            model: 'srcset'\n        });\n        const insertImageCommand = new InsertImageCommand(editor);\n        const replaceImageSourceCommand = new ReplaceImageSourceCommand(editor);\n        editor.commands.add('insertImage', insertImageCommand);\n        editor.commands.add('replaceImageSource', replaceImageSourceCommand);\n        // `imageInsert` is an alias for backward compatibility.\n        editor.commands.add('imageInsert', insertImageCommand);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module image/imagesizeattributes\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport ImageUtils from './imageutils.js';\nimport { widthAndHeightStylesAreBothSet, getSizeValueIfInPx } from './image/utils.js';\n/**\n * This plugin enables `width` and `height` attributes in inline and block image elements.\n */\nexport default class ImageSizeAttributes extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageUtils];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageSizeAttributes';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    afterInit() {\n        this._registerSchema();\n        this._registerConverters('imageBlock');\n        this._registerConverters('imageInline');\n    }\n    /**\n     * Registers the `width` and `height` attributes for inline and block images.\n     */\n    _registerSchema() {\n        if (this.editor.plugins.has('ImageBlockEditing')) {\n            this.editor.model.schema.extend('imageBlock', { allowAttributes: ['width', 'height'] });\n        }\n        if (this.editor.plugins.has('ImageInlineEditing')) {\n            this.editor.model.schema.extend('imageInline', { allowAttributes: ['width', 'height'] });\n        }\n    }\n    /**\n     * Registers converters for `width` and `height` attributes.\n     */\n    _registerConverters(imageType) {\n        const editor = this.editor;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        const viewElementName = imageType === 'imageBlock' ? 'figure' : 'img';\n        editor.conversion.for('upcast')\n            .attributeToAttribute({\n            view: {\n                name: viewElementName,\n                styles: {\n                    width: /.+/\n                }\n            },\n            model: {\n                key: 'width',\n                value: (viewElement) => {\n                    if (widthAndHeightStylesAreBothSet(viewElement)) {\n                        return getSizeValueIfInPx(viewElement.getStyle('width'));\n                    }\n                    return null;\n                }\n            }\n        })\n            .attributeToAttribute({\n            view: {\n                name: viewElementName,\n                key: 'width'\n            },\n            model: 'width'\n        })\n            .attributeToAttribute({\n            view: {\n                name: viewElementName,\n                styles: {\n                    height: /.+/\n                }\n            },\n            model: {\n                key: 'height',\n                value: (viewElement) => {\n                    if (widthAndHeightStylesAreBothSet(viewElement)) {\n                        return getSizeValueIfInPx(viewElement.getStyle('height'));\n                    }\n                    return null;\n                }\n            }\n        })\n            .attributeToAttribute({\n            view: {\n                name: viewElementName,\n                key: 'height'\n            },\n            model: 'height'\n        });\n        // Dedicated converters to propagate attributes to the <img> element.\n        editor.conversion.for('editingDowncast').add(dispatcher => {\n            attachDowncastConverter(dispatcher, 'width', 'width', true, true);\n            attachDowncastConverter(dispatcher, 'height', 'height', true, true);\n        });\n        editor.conversion.for('dataDowncast').add(dispatcher => {\n            attachDowncastConverter(dispatcher, 'width', 'width', false);\n            attachDowncastConverter(dispatcher, 'height', 'height', false);\n        });\n        function attachDowncastConverter(dispatcher, modelAttributeName, viewAttributeName, setRatioForInlineImage, isEditingDowncast = false) {\n            dispatcher.on(`attribute:${modelAttributeName}:${imageType}`, (evt, data, conversionApi) => {\n                if (!conversionApi.consumable.consume(data.item, evt.name)) {\n                    return;\n                }\n                const viewWriter = conversionApi.writer;\n                const viewElement = conversionApi.mapper.toViewElement(data.item);\n                const img = imageUtils.findViewImgElement(viewElement);\n                if (data.attributeNewValue !== null) {\n                    viewWriter.setAttribute(viewAttributeName, data.attributeNewValue, img);\n                }\n                else {\n                    viewWriter.removeAttribute(viewAttributeName, img);\n                }\n                const width = data.item.getAttribute('width');\n                const height = data.item.getAttribute('height');\n                const hasSizes = width && height;\n                if (hasSizes && isEditingDowncast) {\n                    viewWriter.setAttribute('loading', 'lazy', img);\n                }\n                // Do not set aspect-ratio for pictures. See https://github.com/ckeditor/ckeditor5/issues/14579.\n                if (data.item.hasAttribute('sources')) {\n                    return;\n                }\n                const isResized = data.item.hasAttribute('resizedWidth');\n                // Do not set aspect ratio for inline images which are not resized (data pipeline).\n                if (imageType === 'imageInline' && !isResized && !setRatioForInlineImage) {\n                    return;\n                }\n                if (hasSizes) {\n                    viewWriter.setStyle('aspect-ratio', `${width}/${height}`, img);\n                }\n            });\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { Command } from 'ckeditor5/src/core.js';\n/**\n * The image type command. It changes the type of a selected image, depending on the configuration.\n */\nexport default class ImageTypeCommand extends Command {\n    /**\n     * Model element name the command converts to.\n     */\n    _modelElementName;\n    /**\n     * @inheritDoc\n     *\n     * @param modelElementName Model element name the command converts to.\n     */\n    constructor(editor, modelElementName) {\n        super(editor);\n        this._modelElementName = modelElementName;\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const editor = this.editor;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        const element = imageUtils.getClosestSelectedImageElement(this.editor.model.document.selection);\n        if (this._modelElementName === 'imageBlock') {\n            this.isEnabled = imageUtils.isInlineImage(element);\n        }\n        else {\n            this.isEnabled = imageUtils.isBlockImage(element);\n        }\n    }\n    /**\n     * Executes the command and changes the type of a selected image.\n     *\n     * @fires execute\n     * @param options.setImageSizes Specifies whether the image `width` and `height` attributes should be set automatically.\n     * The default is `true`.\n     * @returns An object containing references to old and new model image elements\n     * (for before and after the change) so external integrations can hook into the decorated\n     * `execute` event and handle this change. `null` if the type change failed.\n     */\n    execute(options = {}) {\n        const editor = this.editor;\n        const model = this.editor.model;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        const oldElement = imageUtils.getClosestSelectedImageElement(model.document.selection);\n        const attributes = Object.fromEntries(oldElement.getAttributes());\n        // Don't change image type if \"src\" is missing (a broken image), unless there's \"uploadId\" set.\n        // This state may happen during image upload (before it finishes) and it should be possible to change type\n        // of the image in the meantime.\n        if (!attributes.src && !attributes.uploadId) {\n            return null;\n        }\n        return model.change(writer => {\n            const { setImageSizes = true } = options;\n            // Get all markers that contain the old image element.\n            const markers = Array.from(model.markers)\n                .filter(marker => marker.getRange().containsItem(oldElement));\n            const newElement = imageUtils.insertImage(attributes, model.createSelection(oldElement, 'on'), this._modelElementName, { setImageSizes });\n            if (!newElement) {\n                return null;\n            }\n            const newElementRange = writer.createRangeOn(newElement);\n            // Expand the previously intersecting markers' ranges to include the new image element.\n            for (const marker of markers) {\n                const markerRange = marker.getRange();\n                // Join the survived part of the old marker range with the new element range\n                // (loosely because there could be some new paragraph or the existing one might got split).\n                const range = markerRange.root.rootName != '$graveyard' ?\n                    markerRange.getJoined(newElementRange, true) : newElementRange;\n                writer.updateMarker(marker, { range });\n            }\n            return {\n                oldElement,\n                newElement\n            };\n        });\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./imageplaceholder.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module image/image/imageplaceholder\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport ImageUtils from '../imageutils.js';\nimport ImageLoadObserver from './imageloadobserver.js';\nimport '../../theme/imageplaceholder.css';\n/**\n * Adds support for image placeholder that is automatically removed when the image is loaded.\n */\nexport default class ImagePlaceholder extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageUtils];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImagePlaceholder';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    afterInit() {\n        this._setupSchema();\n        this._setupConversion();\n        this._setupLoadListener();\n    }\n    /**\n     * Extends model schema.\n     */\n    _setupSchema() {\n        const schema = this.editor.model.schema;\n        // Wait for ImageBlockEditing or ImageInlineEditing to register their elements first,\n        // that's why doing this in afterInit() instead of init().\n        if (schema.isRegistered('imageBlock')) {\n            schema.extend('imageBlock', {\n                allowAttributes: ['placeholder']\n            });\n        }\n        if (schema.isRegistered('imageInline')) {\n            schema.extend('imageInline', {\n                allowAttributes: ['placeholder']\n            });\n        }\n    }\n    /**\n     * Registers converters.\n     */\n    _setupConversion() {\n        const editor = this.editor;\n        const conversion = editor.conversion;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        conversion.for('editingDowncast').add(dispatcher => {\n            dispatcher.on('attribute:placeholder', (evt, data, conversionApi) => {\n                if (!conversionApi.consumable.test(data.item, evt.name)) {\n                    return;\n                }\n                if (!data.item.is('element', 'imageBlock') && !data.item.is('element', 'imageInline')) {\n                    return;\n                }\n                conversionApi.consumable.consume(data.item, evt.name);\n                const viewWriter = conversionApi.writer;\n                const element = conversionApi.mapper.toViewElement(data.item);\n                const img = imageUtils.findViewImgElement(element);\n                if (data.attributeNewValue) {\n                    viewWriter.addClass('image_placeholder', img);\n                    viewWriter.setStyle('background-image', `url(${data.attributeNewValue})`, img);\n                    viewWriter.setCustomProperty('editingPipeline:doNotReuseOnce', true, img);\n                }\n                else {\n                    viewWriter.removeClass('image_placeholder', img);\n                    viewWriter.removeStyle('background-image', img);\n                }\n            });\n        });\n    }\n    /**\n     * Prepares listener for image load.\n     */\n    _setupLoadListener() {\n        const editor = this.editor;\n        const model = editor.model;\n        const editing = editor.editing;\n        const editingView = editing.view;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        editingView.addObserver(ImageLoadObserver);\n        this.listenTo(editingView.document, 'imageLoaded', (evt, domEvent) => {\n            const imgViewElement = editingView.domConverter.mapDomToView(domEvent.target);\n            if (!imgViewElement) {\n                return;\n            }\n            const viewElement = imageUtils.getImageWidgetFromImageView(imgViewElement);\n            if (!viewElement) {\n                return;\n            }\n            const modelElement = editing.mapper.toModelElement(viewElement);\n            if (!modelElement || !modelElement.hasAttribute('placeholder')) {\n                return;\n            }\n            model.enqueueChange({ isUndoable: false }, writer => {\n                writer.removeAttribute('placeholder', modelElement);\n            });\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module image/image/imageblockediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { ClipboardPipeline } from 'ckeditor5/src/clipboard.js';\nimport { UpcastWriter } from 'ckeditor5/src/engine.js';\nimport { downcastImageAttribute, downcastSrcsetAttribute, upcastImageFigure } from './converters.js';\nimport ImageEditing from './imageediting.js';\nimport ImageSizeAttributes from '../imagesizeattributes.js';\nimport ImageTypeCommand from './imagetypecommand.js';\nimport ImageUtils from '../imageutils.js';\nimport { getImgViewElementMatcher, createBlockImageViewElement, determineImageTypeForInsertionAtSelection } from './utils.js';\nimport ImagePlaceholder from './imageplaceholder.js';\n/**\n * The image block plugin.\n *\n * It registers:\n *\n * * `<imageBlock>` as a block element in the document schema, and allows `alt`, `src` and `srcset` attributes.\n * * converters for editing and data pipelines.,\n * * {@link module:image/image/imagetypecommand~ImageTypeCommand `'imageTypeBlock'`} command that converts inline images into\n * block images.\n */\nexport default class ImageBlockEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageEditing, ImageSizeAttributes, ImageUtils, ImagePlaceholder, ClipboardPipeline];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageBlockEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const schema = editor.model.schema;\n        // Converters 'alt' and 'srcset' are added in 'ImageEditing' plugin.\n        schema.register('imageBlock', {\n            inheritAllFrom: '$blockObject',\n            allowAttributes: ['alt', 'src', 'srcset']\n        });\n        this._setupConversion();\n        if (editor.plugins.has('ImageInlineEditing')) {\n            editor.commands.add('imageTypeBlock', new ImageTypeCommand(this.editor, 'imageBlock'));\n            this._setupClipboardIntegration();\n        }\n    }\n    /**\n     * Configures conversion pipelines to support upcasting and downcasting\n     * block images (block image widgets) and their attributes.\n     */\n    _setupConversion() {\n        const editor = this.editor;\n        const t = editor.t;\n        const conversion = editor.conversion;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        conversion.for('dataDowncast')\n            .elementToStructure({\n            model: 'imageBlock',\n            view: (modelElement, { writer }) => createBlockImageViewElement(writer)\n        });\n        conversion.for('editingDowncast')\n            .elementToStructure({\n            model: 'imageBlock',\n            view: (modelElement, { writer }) => imageUtils.toImageWidget(createBlockImageViewElement(writer), writer, t('image widget'))\n        });\n        conversion.for('downcast')\n            .add(downcastImageAttribute(imageUtils, 'imageBlock', 'src'))\n            .add(downcastImageAttribute(imageUtils, 'imageBlock', 'alt'))\n            .add(downcastSrcsetAttribute(imageUtils, 'imageBlock'));\n        // More image related upcasts are in 'ImageEditing' plugin.\n        conversion.for('upcast')\n            .elementToElement({\n            view: getImgViewElementMatcher(editor, 'imageBlock'),\n            model: (viewImage, { writer }) => writer.createElement('imageBlock', viewImage.hasAttribute('src') ? { src: viewImage.getAttribute('src') } : undefined)\n        })\n            .add(upcastImageFigure(imageUtils));\n    }\n    /**\n     * Integrates the plugin with the clipboard pipeline.\n     *\n     * Idea is that the feature should recognize the user's intent when an **inline** image is\n     * pasted or dropped. If such an image is pasted/dropped:\n     *\n     * * into an empty block (e.g. an empty paragraph),\n     * * on another object (e.g. some block widget).\n     *\n     * it gets converted into a block image on the fly. We assume this is the user's intent\n     * if they decided to put their image there.\n     *\n     * See the `ImageInlineEditing` for the similar integration that works in the opposite direction.\n     *\n     * The feature also sets image `width` and `height` attributes on paste.\n     */\n    _setupClipboardIntegration() {\n        const editor = this.editor;\n        const model = editor.model;\n        const editingView = editor.editing.view;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        const clipboardPipeline = editor.plugins.get('ClipboardPipeline');\n        this.listenTo(clipboardPipeline, 'inputTransformation', (evt, data) => {\n            const docFragmentChildren = Array.from(data.content.getChildren());\n            let modelRange;\n            // Make sure only <img> elements are dropped or pasted. Otherwise, if there some other HTML\n            // mixed up, this should be handled as a regular paste.\n            if (!docFragmentChildren.every(imageUtils.isInlineImageView)) {\n                return;\n            }\n            // When drag and dropping, data.targetRanges specifies where to drop because\n            // this is usually a different place than the current model selection (the user\n            // uses a drop marker to specify the drop location).\n            if (data.targetRanges) {\n                modelRange = editor.editing.mapper.toModelRange(data.targetRanges[0]);\n            }\n            // Pasting, however, always occurs at the current model selection.\n            else {\n                modelRange = model.document.selection.getFirstRange();\n            }\n            const selection = model.createSelection(modelRange);\n            // Convert inline images into block images only when the currently selected block is empty\n            // (e.g. an empty paragraph) or some object is selected (to replace it).\n            if (determineImageTypeForInsertionAtSelection(model.schema, selection) === 'imageBlock') {\n                const writer = new UpcastWriter(editingView.document);\n                // Wrap <img ... /> -> <figure class=\"image\"><img .../></figure>\n                const blockViewImages = docFragmentChildren.map(inlineViewImage => writer.createElement('figure', { class: 'image' }, inlineViewImage));\n                data.content = writer.createDocumentFragment(blockViewImages);\n            }\n        });\n        this.listenTo(clipboardPipeline, 'contentInsertion', (evt, data) => {\n            if (data.method !== 'paste') {\n                return;\n            }\n            model.change(writer => {\n                const range = writer.createRangeIn(data.content);\n                for (const item of range.getItems()) {\n                    if (item.is('element', 'imageBlock')) {\n                        imageUtils.setImageNaturalSizeAttributes(item);\n                    }\n                }\n            });\n        });\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./imageinsert.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module image/imageinsert/ui/imageinsertformview\n */\nimport { View, ViewCollection, submitHandler, FocusCycler, CollapsibleView } from 'ckeditor5/src/ui.js';\nimport { FocusTracker, KeystrokeHandler } from 'ckeditor5/src/utils.js';\nimport '../../../theme/imageinsert.css';\n/**\n * The view displayed in the insert image dropdown.\n *\n * See {@link module:image/imageinsert/imageinsertui~ImageInsertUI}.\n */\nexport default class ImageInsertFormView extends View {\n    /**\n     * Tracks information about DOM focus in the form.\n     */\n    focusTracker;\n    /**\n     * An instance of the {@link module:utils/keystrokehandler~KeystrokeHandler}.\n     */\n    keystrokes;\n    /**\n     * A collection of views that can be focused in the form.\n     */\n    _focusables;\n    /**\n     * Helps cycling over {@link #_focusables} in the form.\n     */\n    _focusCycler;\n    /**\n     * A collection of the defined integrations for inserting the images.\n     */\n    children;\n    /**\n     * Creates a view for the dropdown panel of {@link module:image/imageinsert/imageinsertui~ImageInsertUI}.\n     *\n     * @param locale The localization services instance.\n     * @param integrations An integrations object that contains components (or tokens for components) to be shown in the panel view.\n     */\n    constructor(locale, integrations = []) {\n        super(locale);\n        this.focusTracker = new FocusTracker();\n        this.keystrokes = new KeystrokeHandler();\n        this._focusables = new ViewCollection();\n        this.children = this.createCollection();\n        this._focusCycler = new FocusCycler({\n            focusables: this._focusables,\n            focusTracker: this.focusTracker,\n            keystrokeHandler: this.keystrokes,\n            actions: {\n                // Navigate form fields backwards using the Shift + Tab keystroke.\n                focusPrevious: 'shift + tab',\n                // Navigate form fields forwards using the Tab key.\n                focusNext: 'tab'\n            }\n        });\n        for (const view of integrations) {\n            this.children.add(view);\n            this._focusables.add(view);\n            if (view instanceof CollapsibleView) {\n                this._focusables.addMany(view.children);\n            }\n        }\n        this.setTemplate({\n            tag: 'form',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-image-insert-form'\n                ],\n                tabindex: -1\n            },\n            children: this.children\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    render() {\n        super.render();\n        submitHandler({\n            view: this\n        });\n        for (const view of this._focusables) {\n            this.focusTracker.add(view.element);\n        }\n        // Start listening for the keystrokes coming from #element.\n        this.keystrokes.listenTo(this.element);\n        const stopPropagation = (data) => data.stopPropagation();\n        // Since the form is in the dropdown panel which is a child of the toolbar, the toolbar's\n        // keystroke handler would take over the key management in the URL input. We need to prevent\n        // this ASAP. Otherwise, the basic caret movement using the arrow keys will be impossible.\n        this.keystrokes.set('arrowright', stopPropagation);\n        this.keystrokes.set('arrowleft', stopPropagation);\n        this.keystrokes.set('arrowup', stopPropagation);\n        this.keystrokes.set('arrowdown', stopPropagation);\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        super.destroy();\n        this.focusTracker.destroy();\n        this.keystrokes.destroy();\n    }\n    /**\n     * Focuses the first {@link #_focusables focusable} in the form.\n     */\n    focus() {\n        this._focusCycler.focusFirst();\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module image/imageinsert/imageinsertui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { logWarning } from 'ckeditor5/src/utils.js';\nimport { createDropdown, MenuBarMenuListItemView, MenuBarMenuListView, MenuBarMenuView, SplitButtonView } from 'ckeditor5/src/ui.js';\nimport { IconImage } from 'ckeditor5/src/icons.js';\nimport ImageInsertFormView from './ui/imageinsertformview.js';\nimport ImageUtils from '../imageutils.js';\n/**\n * The image insert dropdown plugin.\n *\n * For a detailed overview, check the {@glink features/images/image-upload/image-upload Image upload feature}\n * and {@glink features/images/images-inserting Insert images via source URL} documentation.\n *\n * Adds the `'insertImage'` dropdown to the {@link module:ui/componentfactory~ComponentFactory UI component factory}\n * and also the `imageInsert` dropdown as an alias for backward compatibility.\n *\n * Adds the `'menuBar:insertImage'` sub-menu to the {@link module:ui/componentfactory~ComponentFactory UI component factory}, which is\n * by default added to the `'Insert'` menu.\n */\nexport default class ImageInsertUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageInsertUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageUtils];\n    }\n    /**\n     * The dropdown view responsible for displaying the image insert UI.\n     */\n    dropdownView;\n    /**\n     * Registered integrations map.\n     */\n    _integrations = new Map();\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        editor.config.define('image.insert.integrations', [\n            'upload',\n            'assetManager',\n            'url'\n        ]);\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const selection = editor.model.document.selection;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        this.set('isImageSelected', false);\n        this.listenTo(editor.model.document, 'change', () => {\n            this.isImageSelected = imageUtils.isImage(selection.getSelectedElement());\n        });\n        const componentCreator = (locale) => this._createToolbarComponent(locale);\n        const menuBarComponentCreator = (locale) => this._createMenuBarComponent(locale);\n        // Register `insertImage` dropdown and add `imageInsert` dropdown as an alias for backward compatibility.\n        editor.ui.componentFactory.add('insertImage', componentCreator);\n        editor.ui.componentFactory.add('imageInsert', componentCreator);\n        editor.ui.componentFactory.add('menuBar:insertImage', menuBarComponentCreator);\n    }\n    /**\n     * Registers the insert image dropdown integration.\n     */\n    registerIntegration({ name, observable, buttonViewCreator, formViewCreator, menuBarButtonViewCreator, requiresForm = false, override = false }) {\n        if (this._integrations.has(name) && !override) {\n            /**\n             * There are two insert-image integrations registered with the same name.\n             *\n             * Make sure that you do not load multiple asset manager plugins.\n             *\n             * @error image-insert-integration-exists\n             */\n            logWarning('image-insert-integration-exists', { name });\n        }\n        this._integrations.set(name, {\n            observable,\n            buttonViewCreator,\n            menuBarButtonViewCreator,\n            formViewCreator,\n            requiresForm\n        });\n    }\n    /**\n     * Creates the toolbar component.\n     */\n    _createToolbarComponent(locale) {\n        const editor = this.editor;\n        const t = locale.t;\n        const integrations = this._prepareIntegrations();\n        if (!integrations.length) {\n            return null;\n        }\n        let dropdownButton;\n        const firstIntegration = integrations[0];\n        if (integrations.length == 1) {\n            // Do not use dropdown for a single integration button (integration that does not require form view).\n            if (!firstIntegration.requiresForm) {\n                return firstIntegration.buttonViewCreator(true);\n            }\n            dropdownButton = firstIntegration.buttonViewCreator(true);\n        }\n        else {\n            const actionButton = firstIntegration.buttonViewCreator(false);\n            dropdownButton = new SplitButtonView(locale, actionButton);\n            dropdownButton.tooltip = true;\n            dropdownButton.bind('label').to(this, 'isImageSelected', isImageSelected => isImageSelected ?\n                t('Replace image') :\n                t('Insert image'));\n        }\n        const dropdownView = this.dropdownView = createDropdown(locale, dropdownButton);\n        const observables = integrations.map(({ observable }) => typeof observable == 'function' ? observable() : observable);\n        dropdownView.bind('isEnabled').toMany(observables, 'isEnabled', (...isEnabled) => (isEnabled.some(isEnabled => isEnabled)));\n        dropdownView.once('change:isOpen', () => {\n            const integrationViews = integrations.flatMap(({ formViewCreator }) => formViewCreator(integrations.length == 1));\n            const imageInsertFormView = new ImageInsertFormView(editor.locale, integrationViews);\n            dropdownView.panelView.children.add(imageInsertFormView);\n        });\n        return dropdownView;\n    }\n    /**\n     * Creates the menu bar component.\n     */\n    _createMenuBarComponent(locale) {\n        const t = locale.t;\n        const integrations = this._prepareIntegrations();\n        if (!integrations.length) {\n            return null;\n        }\n        const integrationViews = integrations.flatMap(({ menuBarButtonViewCreator }) => menuBarButtonViewCreator(integrations.length == 1));\n        const resultView = new MenuBarMenuView(locale);\n        const listView = new MenuBarMenuListView(locale);\n        resultView.panelView.children.add(listView);\n        resultView.buttonView.set({\n            icon: IconImage,\n            label: t('Image')\n        });\n        for (const integrationView of integrationViews) {\n            const listItemView = new MenuBarMenuListItemView(locale, resultView);\n            listItemView.children.add(integrationView);\n            listView.items.add(listItemView);\n            integrationView.delegate('execute').to(resultView);\n        }\n        return resultView;\n    }\n    /**\n     * Validates the integrations list.\n     */\n    _prepareIntegrations() {\n        const editor = this.editor;\n        const items = editor.config.get('image.insert.integrations');\n        const result = [];\n        if (!items.length) {\n            /**\n             * The insert image feature requires a list of integrations to be provided in the editor configuration.\n             *\n             * The default list of integrations is `upload`, `assetManager`, `url`. Those integrations are included\n             * in the insert image dropdown if the given feature plugin is loaded. You should omit the `integrations`\n             * configuration key to use the default set or provide a selected list of integrations that should be used.\n             *\n             * @error image-insert-integrations-not-specified\n             */\n            logWarning('image-insert-integrations-not-specified');\n            return result;\n        }\n        for (const item of items) {\n            if (!this._integrations.has(item)) {\n                if (!['upload', 'assetManager', 'url'].includes(item)) {\n                    /**\n                     * The specified insert image integration name is unknown or the providing plugin is not loaded in the editor.\n                     *\n                     * @error image-insert-unknown-integration\n                     */\n                    logWarning('image-insert-unknown-integration', { item });\n                }\n                continue;\n            }\n            result.push(this._integrations.get(item));\n        }\n        if (!result.length) {\n            /**\n             * The image insert feature requires integrations to be registered by separate features.\n             *\n             * The `insertImage` toolbar button requires integrations to be registered by other features.\n             * For example {@link module:image/imageupload~ImageUpload ImageUpload},\n             * {@link module:image/imageinsert~ImageInsert ImageInsert},\n             * {@link module:image/imageinsertviaurl~ImageInsertViaUrl ImageInsertViaUrl},\n             * {@link module:ckbox/ckbox~CKBox CKBox}\n             *\n             * @error image-insert-integrations-not-registered\n             */\n            logWarning('image-insert-integrations-not-registered');\n        }\n        return result;\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./image.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module image/imageblock\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Widget } from 'ckeditor5/src/widget.js';\nimport ImageTextAlternative from './imagetextalternative.js';\nimport ImageBlockEditing from './image/imageblockediting.js';\nimport ImageInsertUI from './imageinsert/imageinsertui.js';\nimport '../theme/image.css';\n/**\n * The image block plugin.\n *\n * This is a \"glue\" plugin which loads the following plugins:\n *\n * * {@link module:image/image/imageblockediting~ImageBlockEditing},\n * * {@link module:image/imagetextalternative~ImageTextAlternative}.\n *\n * Usually, it is used in conjunction with other plugins from this package. See the {@glink api/image package page}\n * for more information.\n */\nexport default class ImageBlock extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageBlockEditing, Widget, ImageTextAlternative, ImageInsertUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageBlock';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module image/image/imageinlineediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { ClipboardPipeline } from 'ckeditor5/src/clipboard.js';\nimport { UpcastWriter } from 'ckeditor5/src/engine.js';\nimport { downcastImageAttribute, downcastSrcsetAttribute } from './converters.js';\nimport ImageEditing from './imageediting.js';\nimport ImageSizeAttributes from '../imagesizeattributes.js';\nimport ImageTypeCommand from './imagetypecommand.js';\nimport ImageUtils from '../imageutils.js';\nimport { getImgViewElementMatcher, createInlineImageViewElement, determineImageTypeForInsertionAtSelection } from './utils.js';\nimport ImagePlaceholder from './imageplaceholder.js';\n/**\n * The image inline plugin.\n *\n * It registers:\n *\n * * `<imageInline>` as an inline element in the document schema, and allows `alt`, `src` and `srcset` attributes.\n * * converters for editing and data pipelines.\n * * {@link module:image/image/imagetypecommand~ImageTypeCommand `'imageTypeInline'`} command that converts block images into\n * inline images.\n */\nexport default class ImageInlineEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageEditing, ImageSizeAttributes, ImageUtils, ImagePlaceholder, ClipboardPipeline];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageInlineEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const schema = editor.model.schema;\n        // Converters 'alt' and 'srcset' are added in 'ImageEditing' plugin.\n        schema.register('imageInline', {\n            inheritAllFrom: '$inlineObject',\n            allowAttributes: ['alt', 'src', 'srcset'],\n            // Disallow inline images in captions (at least for now).\n            // This is the best spot to do that because independent packages can introduce captions (ImageCaption, TableCaption, etc.).\n            disallowIn: ['caption']\n        });\n        this._setupConversion();\n        if (editor.plugins.has('ImageBlockEditing')) {\n            editor.commands.add('imageTypeInline', new ImageTypeCommand(this.editor, 'imageInline'));\n            this._setupClipboardIntegration();\n        }\n    }\n    /**\n     * Configures conversion pipelines to support upcasting and downcasting\n     * inline images (inline image widgets) and their attributes.\n     */\n    _setupConversion() {\n        const editor = this.editor;\n        const t = editor.t;\n        const conversion = editor.conversion;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        conversion.for('dataDowncast')\n            .elementToElement({\n            model: 'imageInline',\n            view: (modelElement, { writer }) => writer.createEmptyElement('img')\n        });\n        conversion.for('editingDowncast')\n            .elementToStructure({\n            model: 'imageInline',\n            view: (modelElement, { writer }) => imageUtils.toImageWidget(createInlineImageViewElement(writer), writer, t('image widget'))\n        });\n        conversion.for('downcast')\n            .add(downcastImageAttribute(imageUtils, 'imageInline', 'src'))\n            .add(downcastImageAttribute(imageUtils, 'imageInline', 'alt'))\n            .add(downcastSrcsetAttribute(imageUtils, 'imageInline'));\n        // More image related upcasts are in 'ImageEditing' plugin.\n        conversion.for('upcast')\n            .elementToElement({\n            view: getImgViewElementMatcher(editor, 'imageInline'),\n            model: (viewImage, { writer }) => writer.createElement('imageInline', viewImage.hasAttribute('src') ? { src: viewImage.getAttribute('src') } : undefined)\n        });\n    }\n    /**\n     * Integrates the plugin with the clipboard pipeline.\n     *\n     * Idea is that the feature should recognize the user's intent when an **block** image is\n     * pasted or dropped. If such an image is pasted/dropped into a non-empty block\n     * (e.g. a paragraph with some text) it gets converted into an inline image on the fly.\n     *\n     * We assume this is the user's intent if they decided to put their image there.\n     *\n     * **Note**: If a block image has a caption, it will not be converted to an inline image\n     * to avoid the confusion. Captions are added on purpose and they should never be lost\n     * in the clipboard pipeline.\n     *\n     * See the `ImageBlockEditing` for the similar integration that works in the opposite direction.\n     *\n     * The feature also sets image `width` and `height` attributes when pasting.\n     */\n    _setupClipboardIntegration() {\n        const editor = this.editor;\n        const model = editor.model;\n        const editingView = editor.editing.view;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        const clipboardPipeline = editor.plugins.get('ClipboardPipeline');\n        this.listenTo(clipboardPipeline, 'inputTransformation', (evt, data) => {\n            const docFragmentChildren = Array.from(data.content.getChildren());\n            let modelRange;\n            // Make sure only <figure class=\"image\"></figure> elements are dropped or pasted. Otherwise, if there some other HTML\n            // mixed up, this should be handled as a regular paste.\n            if (!docFragmentChildren.every(imageUtils.isBlockImageView)) {\n                return;\n            }\n            // When drag and dropping, data.targetRanges specifies where to drop because\n            // this is usually a different place than the current model selection (the user\n            // uses a drop marker to specify the drop location).\n            if (data.targetRanges) {\n                modelRange = editor.editing.mapper.toModelRange(data.targetRanges[0]);\n            }\n            // Pasting, however, always occurs at the current model selection.\n            else {\n                modelRange = model.document.selection.getFirstRange();\n            }\n            const selection = model.createSelection(modelRange);\n            // Convert block images into inline images only when pasting or dropping into non-empty blocks\n            // and when the block is not an object (e.g. pasting to replace another widget).\n            if (determineImageTypeForInsertionAtSelection(model.schema, selection) === 'imageInline') {\n                const writer = new UpcastWriter(editingView.document);\n                // Unwrap <figure class=\"image\"><img .../></figure> -> <img ... />\n                // but <figure class=\"image\"><img .../><figcaption>...</figcaption></figure> -> stays the same\n                const inlineViewImages = docFragmentChildren.map(blockViewImage => {\n                    // If there's just one child, it can be either <img /> or <a><img></a>.\n                    // If there are other children than <img>, this means that the block image\n                    // has a caption or some other features and this kind of image should be\n                    // pasted/dropped without modifications.\n                    if (blockViewImage.childCount === 1) {\n                        // Pass the attributes which are present only in the <figure> to the <img>\n                        // (e.g. the style=\"width:10%\" attribute applied by the ImageResize plugin).\n                        Array.from(blockViewImage.getAttributes())\n                            .forEach(attribute => writer.setAttribute(...attribute, imageUtils.findViewImgElement(blockViewImage)));\n                        return blockViewImage.getChild(0);\n                    }\n                    else {\n                        return blockViewImage;\n                    }\n                });\n                data.content = writer.createDocumentFragment(inlineViewImages);\n            }\n        });\n        this.listenTo(clipboardPipeline, 'contentInsertion', (evt, data) => {\n            if (data.method !== 'paste') {\n                return;\n            }\n            model.change(writer => {\n                const range = writer.createRangeIn(data.content);\n                for (const item of range.getItems()) {\n                    if (item.is('element', 'imageInline')) {\n                        imageUtils.setImageNaturalSizeAttributes(item);\n                    }\n                }\n            });\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module image/imageinline\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Widget } from 'ckeditor5/src/widget.js';\nimport ImageTextAlternative from './imagetextalternative.js';\nimport ImageInlineEditing from './image/imageinlineediting.js';\nimport ImageInsertUI from './imageinsert/imageinsertui.js';\nimport '../theme/image.css';\n/**\n * The image inline plugin.\n *\n * This is a \"glue\" plugin which loads the following plugins:\n *\n * * {@link module:image/image/imageinlineediting~ImageInlineEditing},\n * * {@link module:image/imagetextalternative~ImageTextAlternative}.\n *\n * Usually, it is used in conjunction with other plugins from this package. See the {@glink api/image package page}\n * for more information.\n */\nexport default class ImageInline extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageInlineEditing, Widget, ImageTextAlternative, ImageInsertUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageInline';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module image/image\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport ImageBlock from './imageblock.js';\nimport ImageInline from './imageinline.js';\nimport '../theme/image.css';\n/**\n * The image plugin.\n *\n * For a detailed overview, check the {@glink features/images/images-overview image feature} documentation.\n *\n * This is a \"glue\" plugin which loads the following plugins:\n *\n * * {@link module:image/imageblock~ImageBlock},\n * * {@link module:image/imageinline~ImageInline},\n *\n * Usually, it is used in conjunction with other plugins from this package. See the {@glink api/image package page}\n * for more information.\n */\nexport default class Image extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageBlock, ImageInline];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'Image';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport ImageUtils from '../imageutils.js';\n/**\n * The image caption utilities plugin.\n */\nexport default class ImageCaptionUtils extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageCaptionUtils';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageUtils];\n    }\n    /**\n     * Returns the caption model element from a given image element. Returns `null` if no caption is found.\n     */\n    getCaptionFromImageModelElement(imageModelElement) {\n        for (const node of imageModelElement.getChildren()) {\n            if (!!node && node.is('element', 'caption')) {\n                return node;\n            }\n        }\n        return null;\n    }\n    /**\n     * Returns the caption model element for a model selection. Returns `null` if the selection has no caption element ancestor.\n     */\n    getCaptionFromModelSelection(selection) {\n        const imageUtils = this.editor.plugins.get('ImageUtils');\n        const captionElement = selection.getFirstPosition().findAncestor('caption');\n        if (!captionElement) {\n            return null;\n        }\n        if (imageUtils.isBlockImage(captionElement.parent)) {\n            return captionElement;\n        }\n        return null;\n    }\n    /**\n     * {@link module:engine/view/matcher~Matcher} pattern. Checks if a given element is a `<figcaption>` element that is placed\n     * inside the image `<figure>` element.\n     * @returns Returns the object accepted by {@link module:engine/view/matcher~Matcher} or `null` if the element\n     * cannot be matched.\n     */\n    matchImageCaptionViewElement(element) {\n        const imageUtils = this.editor.plugins.get('ImageUtils');\n        // Convert only captions for images.\n        if (element.name == 'figcaption' && imageUtils.isBlockImageView(element.parent)) {\n            return { name: true };\n        }\n        return null;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport ImageBlockEditing from '../image/imageblockediting.js';\n/**\n * The toggle image caption command.\n *\n * This command is registered by {@link module:image/imagecaption/imagecaptionediting~ImageCaptionEditing} as the\n * `'toggleImageCaption'` editor command.\n *\n * Executing this command:\n *\n * * either adds or removes the image caption of a selected image (depending on whether the caption is present or not),\n * * removes the image caption if the selection is anchored in one.\n *\n * ```ts\n * // Toggle the presence of the caption.\n * editor.execute( 'toggleImageCaption' );\n * ```\n *\n * **Note**: Upon executing this command, the selection will be set on the image if previously anchored in the caption element.\n *\n * **Note**: You can move the selection to the caption right away as it shows up upon executing this command by using\n * the `focusCaptionOnShow` option:\n *\n * ```ts\n * editor.execute( 'toggleImageCaption', { focusCaptionOnShow: true } );\n * ```\n */\nexport default class ToggleImageCaptionCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const editor = this.editor;\n        const imageCaptionUtils = editor.plugins.get('ImageCaptionUtils');\n        const imageUtils = editor.plugins.get('ImageUtils');\n        // Only block images can get captions.\n        if (!editor.plugins.has(ImageBlockEditing)) {\n            this.isEnabled = false;\n            this.value = false;\n            return;\n        }\n        const selection = editor.model.document.selection;\n        const selectedElement = selection.getSelectedElement();\n        if (!selectedElement) {\n            const ancestorCaptionElement = imageCaptionUtils.getCaptionFromModelSelection(selection);\n            this.isEnabled = !!ancestorCaptionElement;\n            this.value = !!ancestorCaptionElement;\n            return;\n        }\n        // Block images support captions by default but the command should also be enabled for inline\n        // images because toggling the caption when one is selected should convert it into a block image.\n        this.isEnabled = imageUtils.isImage(selectedElement);\n        if (!this.isEnabled) {\n            this.value = false;\n        }\n        else {\n            this.value = !!imageCaptionUtils.getCaptionFromImageModelElement(selectedElement);\n        }\n    }\n    /**\n     * Executes the command.\n     *\n     * ```ts\n     * editor.execute( 'toggleImageCaption' );\n     * ```\n     *\n     * @param options Options for the executed command.\n     * @param options.focusCaptionOnShow When true and the caption shows up, the selection will be moved into it straight away.\n     * @fires execute\n     */\n    execute(options = {}) {\n        const { focusCaptionOnShow } = options;\n        this.editor.model.change(writer => {\n            if (this.value) {\n                this._hideImageCaption(writer);\n            }\n            else {\n                this._showImageCaption(writer, focusCaptionOnShow);\n            }\n        });\n    }\n    /**\n     * Shows the caption of the `<imageBlock>` or `<imageInline>`. Also:\n     *\n     * * it converts `<imageInline>` to `<imageBlock>` to show the caption,\n     * * it attempts to restore the caption content from the `ImageCaptionEditing` caption registry,\n     * * it moves the selection to the caption right away, it the `focusCaptionOnShow` option was set.\n     */\n    _showImageCaption(writer, focusCaptionOnShow) {\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        const imageCaptionEditing = this.editor.plugins.get('ImageCaptionEditing');\n        const imageUtils = this.editor.plugins.get('ImageUtils');\n        let selectedImage = selection.getSelectedElement();\n        const savedCaption = imageCaptionEditing._getSavedCaption(selectedImage);\n        // Convert imageInline -> image first.\n        if (imageUtils.isInlineImage(selectedImage)) {\n            this.editor.execute('imageTypeBlock');\n            // Executing the command created a new model element. Let's pick it again.\n            selectedImage = selection.getSelectedElement();\n        }\n        // Try restoring the caption from the ImageCaptionEditing plugin storage.\n        const newCaptionElement = savedCaption || writer.createElement('caption');\n        writer.append(newCaptionElement, selectedImage);\n        if (focusCaptionOnShow) {\n            writer.setSelection(newCaptionElement, 'in');\n        }\n    }\n    /**\n     * Hides the caption of a selected image (or an image caption the selection is anchored to).\n     *\n     * The content of the caption is stored in the `ImageCaptionEditing` caption registry to make this\n     * a reversible action.\n     */\n    _hideImageCaption(writer) {\n        const editor = this.editor;\n        const selection = editor.model.document.selection;\n        const imageCaptionEditing = editor.plugins.get('ImageCaptionEditing');\n        const imageCaptionUtils = editor.plugins.get('ImageCaptionUtils');\n        let selectedImage = selection.getSelectedElement();\n        let captionElement;\n        if (selectedImage) {\n            captionElement = imageCaptionUtils.getCaptionFromImageModelElement(selectedImage);\n        }\n        else {\n            captionElement = imageCaptionUtils.getCaptionFromModelSelection(selection);\n            selectedImage = captionElement.parent;\n        }\n        // Store the caption content so it can be restored quickly if the user changes their mind even if they toggle image<->imageInline.\n        imageCaptionEditing._saveCaption(selectedImage, captionElement);\n        writer.setSelection(selectedImage, 'on');\n        writer.remove(captionElement);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module image/imagecaption/imagecaptionediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Element, enablePlaceholder } from 'ckeditor5/src/engine.js';\nimport { toWidgetEditable } from 'ckeditor5/src/widget.js';\nimport ToggleImageCaptionCommand from './toggleimagecaptioncommand.js';\nimport ImageUtils from '../imageutils.js';\nimport ImageCaptionUtils from './imagecaptionutils.js';\n/**\n * The image caption engine plugin. It is responsible for:\n *\n * * registering converters for the caption element,\n * * registering converters for the caption model attribute,\n * * registering the {@link module:image/imagecaption/toggleimagecaptioncommand~ToggleImageCaptionCommand `toggleImageCaption`} command.\n */\nexport default class ImageCaptionEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageUtils, ImageCaptionUtils];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageCaptionEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * A map that keeps saved JSONified image captions and image model elements they are\n     * associated with.\n     *\n     * To learn more about this system, see {@link #_saveCaption}.\n     */\n    _savedCaptionsMap;\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        this._savedCaptionsMap = new WeakMap();\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const schema = editor.model.schema;\n        // Schema configuration.\n        if (!schema.isRegistered('caption')) {\n            schema.register('caption', {\n                allowIn: 'imageBlock',\n                allowContentOf: '$block',\n                isLimit: true\n            });\n        }\n        else {\n            schema.extend('caption', {\n                allowIn: 'imageBlock'\n            });\n        }\n        editor.commands.add('toggleImageCaption', new ToggleImageCaptionCommand(this.editor));\n        this._setupConversion();\n        this._setupImageTypeCommandsIntegration();\n        this._registerCaptionReconversion();\n    }\n    /**\n     * Configures conversion pipelines to support upcasting and downcasting\n     * image captions.\n     */\n    _setupConversion() {\n        const editor = this.editor;\n        const view = editor.editing.view;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        const imageCaptionUtils = editor.plugins.get('ImageCaptionUtils');\n        const t = editor.t;\n        // View -> model converter for the data pipeline.\n        editor.conversion.for('upcast').elementToElement({\n            view: element => imageCaptionUtils.matchImageCaptionViewElement(element),\n            model: 'caption'\n        });\n        // Model -> view converter for the data pipeline.\n        editor.conversion.for('dataDowncast').elementToElement({\n            model: 'caption',\n            view: (modelElement, { writer }) => {\n                if (!imageUtils.isBlockImage(modelElement.parent)) {\n                    return null;\n                }\n                return writer.createContainerElement('figcaption');\n            }\n        });\n        // Model -> view converter for the editing pipeline.\n        editor.conversion.for('editingDowncast').elementToElement({\n            model: 'caption',\n            view: (modelElement, { writer }) => {\n                if (!imageUtils.isBlockImage(modelElement.parent)) {\n                    return null;\n                }\n                const figcaptionElement = writer.createEditableElement('figcaption');\n                writer.setCustomProperty('imageCaption', true, figcaptionElement);\n                figcaptionElement.placeholder = t('Enter image caption');\n                enablePlaceholder({\n                    view,\n                    element: figcaptionElement,\n                    keepOnFocus: true\n                });\n                const imageAlt = modelElement.parent.getAttribute('alt');\n                const label = imageAlt ? t('Caption for image: %0', [imageAlt]) : t('Caption for the image');\n                return toWidgetEditable(figcaptionElement, writer, { label });\n            }\n        });\n    }\n    /**\n     * Integrates with {@link module:image/image/imagetypecommand~ImageTypeCommand image type commands}\n     * to make sure the caption is preserved when the type of an image changes so it can be restored\n     * in the future if the user decides they want their caption back.\n     */\n    _setupImageTypeCommandsIntegration() {\n        const editor = this.editor;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        const imageCaptionUtils = editor.plugins.get('ImageCaptionUtils');\n        const imageTypeInlineCommand = editor.commands.get('imageTypeInline');\n        const imageTypeBlockCommand = editor.commands.get('imageTypeBlock');\n        const handleImageTypeChange = evt => {\n            // The image type command execution can be unsuccessful.\n            if (!evt.return) {\n                return;\n            }\n            const { oldElement, newElement } = evt.return;\n            /* istanbul ignore if: paranoid check -- @preserve */\n            if (!oldElement) {\n                return;\n            }\n            if (imageUtils.isBlockImage(oldElement)) {\n                const oldCaptionElement = imageCaptionUtils.getCaptionFromImageModelElement(oldElement);\n                // If the old element was a captioned block image (the caption was visible),\n                // simply save it so it can be restored.\n                if (oldCaptionElement) {\n                    this._saveCaption(newElement, oldCaptionElement);\n                    return;\n                }\n            }\n            const savedOldElementCaption = this._getSavedCaption(oldElement);\n            // If either:\n            //\n            // * the block image didn't have a visible caption,\n            // * the block image caption was hidden (and already saved),\n            // * the inline image was passed\n            //\n            // just try to \"pass\" the saved caption from the old image to the new image\n            // so it can be retrieved in the future if the user wants it back.\n            if (savedOldElementCaption) {\n                // Note: Since we're writing to a WeakMap, we don't bother with removing the\n                // [ oldElement, savedOldElementCaption ] pair from it.\n                this._saveCaption(newElement, savedOldElementCaption);\n            }\n        };\n        // Presence of the commands depends on the Image(Inline|Block)Editing plugins loaded in the editor.\n        if (imageTypeInlineCommand) {\n            this.listenTo(imageTypeInlineCommand, 'execute', handleImageTypeChange, { priority: 'low' });\n        }\n        if (imageTypeBlockCommand) {\n            this.listenTo(imageTypeBlockCommand, 'execute', handleImageTypeChange, { priority: 'low' });\n        }\n    }\n    /**\n     * Returns the saved {@link module:engine/model/element~Element#toJSON JSONified} caption\n     * of an image model element.\n     *\n     * See {@link #_saveCaption}.\n     *\n     * @internal\n     * @param imageModelElement The model element the caption should be returned for.\n     * @returns The model caption element or `null` if there is none.\n     */\n    _getSavedCaption(imageModelElement) {\n        const jsonObject = this._savedCaptionsMap.get(imageModelElement);\n        return jsonObject ? Element.fromJSON(jsonObject) : null;\n    }\n    /**\n     * Saves a {@link module:engine/model/element~Element#toJSON JSONified} caption for\n     * an image element to allow restoring it in the future.\n     *\n     * A caption is saved every time it gets hidden and/or the type of an image changes. The\n     * user should be able to restore it on demand.\n     *\n     * **Note**: The caption cannot be stored in the image model element attribute because,\n     * for instance, when the model state propagates to collaborators, the attribute would get\n     * lost (mainly because it does not convert to anything when the caption is hidden) and\n     * the states of collaborators' models would de-synchronize causing numerous issues.\n     *\n     * See {@link #_getSavedCaption}.\n     *\n     * @internal\n     * @param imageModelElement The model element the caption is saved for.\n     * @param caption The caption model element to be saved.\n     */\n    _saveCaption(imageModelElement, caption) {\n        this._savedCaptionsMap.set(imageModelElement, caption.toJSON());\n    }\n    /**\n     * Reconverts image caption when image alt attribute changes.\n     * The change of alt attribute is reflected in caption's aria-label attribute.\n     */\n    _registerCaptionReconversion() {\n        const editor = this.editor;\n        const model = editor.model;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        const imageCaptionUtils = editor.plugins.get('ImageCaptionUtils');\n        model.document.on('change:data', () => {\n            const changes = model.document.differ.getChanges();\n            for (const change of changes) {\n                if (change.attributeKey !== 'alt') {\n                    continue;\n                }\n                const image = change.range.start.nodeAfter;\n                if (imageUtils.isBlockImage(image)) {\n                    const caption = imageCaptionUtils.getCaptionFromImageModelElement(image);\n                    if (!caption) {\n                        return;\n                    }\n                    editor.editing.reconvertItem(caption);\n                }\n            }\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module image/imagecaption/imagecaptionui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { ButtonView } from 'ckeditor5/src/ui.js';\nimport { IconCaption } from 'ckeditor5/src/icons.js';\nimport ImageCaptionUtils from './imagecaptionutils.js';\n/**\n * The image caption UI plugin. It introduces the `'toggleImageCaption'` UI button.\n */\nexport default class ImageCaptionUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageCaptionUtils];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageCaptionUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const editingView = editor.editing.view;\n        const imageCaptionUtils = editor.plugins.get('ImageCaptionUtils');\n        const t = editor.t;\n        editor.ui.componentFactory.add('toggleImageCaption', locale => {\n            const command = editor.commands.get('toggleImageCaption');\n            const view = new ButtonView(locale);\n            view.set({\n                icon: IconCaption,\n                tooltip: true,\n                isToggleable: true\n            });\n            view.bind('isOn', 'isEnabled').to(command, 'value', 'isEnabled');\n            view.bind('label').to(command, 'value', value => value ? t('Toggle caption off') : t('Toggle caption on'));\n            this.listenTo(view, 'execute', () => {\n                editor.execute('toggleImageCaption', { focusCaptionOnShow: true });\n                // Scroll to the selection and highlight the caption if the caption showed up.\n                const modelCaptionElement = imageCaptionUtils.getCaptionFromModelSelection(editor.model.document.selection);\n                if (modelCaptionElement) {\n                    const figcaptionElement = editor.editing.mapper.toViewElement(modelCaptionElement);\n                    editingView.scrollToTheSelection();\n                    editingView.change(writer => {\n                        writer.addClass('image__caption_highlighted', figcaptionElement);\n                    });\n                }\n                editor.editing.view.focus();\n            });\n            return view;\n        });\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./imagecaption.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module image/imagecaption\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport ImageCaptionEditing from './imagecaption/imagecaptionediting.js';\nimport ImageCaptionUI from './imagecaption/imagecaptionui.js';\nimport '../theme/imagecaption.css';\n/**\n * The image caption plugin.\n *\n * For a detailed overview, check the {@glink features/images/images-captions image caption} documentation.\n */\nexport default class ImageCaption extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageCaptionEditing, ImageCaptionUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageCaption';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./imageuploadprogress.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./imageuploadicon.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./imageuploadloader.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module image/imageupload/imageuploadprogress\n */\n/* globals setTimeout */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { FileRepository } from 'ckeditor5/src/upload.js';\nimport '../../theme/imageuploadprogress.css';\nimport '../../theme/imageuploadicon.css';\nimport '../../theme/imageuploadloader.css';\n/**\n * The image upload progress plugin.\n * It shows a placeholder when the image is read from the disk and a progress bar while the image is uploading.\n */\nexport default class ImageUploadProgress extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageUploadProgress';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * The image placeholder that is displayed before real image data can be accessed.\n     *\n     * For the record, this image is a 1x1 px GIF with an aspect ratio set by CSS.\n     */\n    placeholder;\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        this.placeholder = 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        // Upload status change - update image's view according to that status.\n        if (editor.plugins.has('ImageBlockEditing')) {\n            editor.editing.downcastDispatcher.on('attribute:uploadStatus:imageBlock', this.uploadStatusChange);\n        }\n        if (editor.plugins.has('ImageInlineEditing')) {\n            editor.editing.downcastDispatcher.on('attribute:uploadStatus:imageInline', this.uploadStatusChange);\n        }\n    }\n    /**\n     * This method is called each time the image `uploadStatus` attribute is changed.\n     *\n     * @param evt An object containing information about the fired event.\n     * @param data Additional information about the change.\n     */\n    uploadStatusChange = (evt, data, conversionApi) => {\n        const editor = this.editor;\n        const modelImage = data.item;\n        const uploadId = modelImage.getAttribute('uploadId');\n        if (!conversionApi.consumable.consume(data.item, evt.name)) {\n            return;\n        }\n        const imageUtils = editor.plugins.get('ImageUtils');\n        const fileRepository = editor.plugins.get(FileRepository);\n        const status = uploadId ? data.attributeNewValue : null;\n        const placeholder = this.placeholder;\n        const viewFigure = editor.editing.mapper.toViewElement(modelImage);\n        const viewWriter = conversionApi.writer;\n        if (status == 'reading') {\n            // Start \"appearing\" effect and show placeholder with infinite progress bar on the top\n            // while image is read from disk.\n            _startAppearEffect(viewFigure, viewWriter);\n            _showPlaceholder(imageUtils, placeholder, viewFigure, viewWriter);\n            return;\n        }\n        // Show progress bar on the top of the image when image is uploading.\n        if (status == 'uploading') {\n            const loader = fileRepository.loaders.get(uploadId);\n            // Start appear effect if needed - see https://github.com/ckeditor/ckeditor5-image/issues/191.\n            _startAppearEffect(viewFigure, viewWriter);\n            if (!loader) {\n                // There is no loader associated with uploadId - this means that image came from external changes.\n                // In such cases we still want to show the placeholder until image is fully uploaded.\n                // Show placeholder if needed - see https://github.com/ckeditor/ckeditor5-image/issues/191.\n                _showPlaceholder(imageUtils, placeholder, viewFigure, viewWriter);\n            }\n            else {\n                // Hide placeholder and initialize progress bar showing upload progress.\n                _hidePlaceholder(viewFigure, viewWriter);\n                _showProgressBar(viewFigure, viewWriter, loader, editor.editing.view);\n                _displayLocalImage(imageUtils, viewFigure, viewWriter, loader);\n            }\n            return;\n        }\n        if (status == 'complete' && fileRepository.loaders.get(uploadId)) {\n            _showCompleteIcon(viewFigure, viewWriter, editor.editing.view);\n        }\n        // Clean up.\n        _hideProgressBar(viewFigure, viewWriter);\n        _hidePlaceholder(viewFigure, viewWriter);\n        _stopAppearEffect(viewFigure, viewWriter);\n    };\n}\n/**\n * Adds ck-appear class to the image figure if one is not already applied.\n */\nfunction _startAppearEffect(viewFigure, writer) {\n    if (!viewFigure.hasClass('ck-appear')) {\n        writer.addClass('ck-appear', viewFigure);\n    }\n}\n/**\n * Removes ck-appear class to the image figure if one is not already removed.\n */\nfunction _stopAppearEffect(viewFigure, writer) {\n    writer.removeClass('ck-appear', viewFigure);\n}\n/**\n * Shows placeholder together with infinite progress bar on given image figure.\n */\nfunction _showPlaceholder(imageUtils, placeholder, viewFigure, writer) {\n    if (!viewFigure.hasClass('ck-image-upload-placeholder')) {\n        writer.addClass('ck-image-upload-placeholder', viewFigure);\n    }\n    const viewImg = imageUtils.findViewImgElement(viewFigure);\n    if (viewImg.getAttribute('src') !== placeholder) {\n        writer.setAttribute('src', placeholder, viewImg);\n    }\n    if (!_getUIElement(viewFigure, 'placeholder')) {\n        writer.insert(writer.createPositionAfter(viewImg), _createPlaceholder(writer));\n    }\n}\n/**\n * Removes placeholder together with infinite progress bar on given image figure.\n */\nfunction _hidePlaceholder(viewFigure, writer) {\n    if (viewFigure.hasClass('ck-image-upload-placeholder')) {\n        writer.removeClass('ck-image-upload-placeholder', viewFigure);\n    }\n    _removeUIElement(viewFigure, writer, 'placeholder');\n}\n/**\n * Shows progress bar displaying upload progress.\n * Attaches it to the file loader to update when upload percentace is changed.\n */\nfunction _showProgressBar(viewFigure, writer, loader, view) {\n    const progressBar = _createProgressBar(writer);\n    writer.insert(writer.createPositionAt(viewFigure, 'end'), progressBar);\n    // Update progress bar width when uploadedPercent is changed.\n    loader.on('change:uploadedPercent', (evt, name, value) => {\n        view.change(writer => {\n            writer.setStyle('width', value + '%', progressBar);\n        });\n    });\n}\n/**\n * Hides upload progress bar.\n */\nfunction _hideProgressBar(viewFigure, writer) {\n    _removeUIElement(viewFigure, writer, 'progressBar');\n}\n/**\n * Shows complete icon and hides after a certain amount of time.\n */\nfunction _showCompleteIcon(viewFigure, writer, view) {\n    const completeIcon = writer.createUIElement('div', { class: 'ck-image-upload-complete-icon' });\n    writer.insert(writer.createPositionAt(viewFigure, 'end'), completeIcon);\n    setTimeout(() => {\n        view.change(writer => writer.remove(writer.createRangeOn(completeIcon)));\n    }, 3000);\n}\n/**\n * Create progress bar element using {@link module:engine/view/uielement~UIElement}.\n */\nfunction _createProgressBar(writer) {\n    const progressBar = writer.createUIElement('div', { class: 'ck-progress-bar' });\n    writer.setCustomProperty('progressBar', true, progressBar);\n    return progressBar;\n}\n/**\n * Create placeholder element using {@link module:engine/view/uielement~UIElement}.\n */\nfunction _createPlaceholder(writer) {\n    const placeholder = writer.createUIElement('div', { class: 'ck-upload-placeholder-loader' });\n    writer.setCustomProperty('placeholder', true, placeholder);\n    return placeholder;\n}\n/**\n * Returns {@link module:engine/view/uielement~UIElement} of given unique property from image figure element.\n * Returns `undefined` if element is not found.\n */\nfunction _getUIElement(imageFigure, uniqueProperty) {\n    for (const child of imageFigure.getChildren()) {\n        if (child.getCustomProperty(uniqueProperty)) {\n            return child;\n        }\n    }\n}\n/**\n * Removes {@link module:engine/view/uielement~UIElement} of given unique property from image figure element.\n */\nfunction _removeUIElement(viewFigure, writer, uniqueProperty) {\n    const element = _getUIElement(viewFigure, uniqueProperty);\n    if (element) {\n        writer.remove(writer.createRangeOn(element));\n    }\n}\n/**\n * Displays local data from file loader.\n */\nfunction _displayLocalImage(imageUtils, viewFigure, writer, loader) {\n    if (loader.data) {\n        const viewImg = imageUtils.findViewImgElement(viewFigure);\n        writer.setAttribute('src', loader.data, viewImg);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { FileRepository } from 'ckeditor5/src/upload.js';\nimport { Command } from 'ckeditor5/src/core.js';\nimport { toArray } from 'ckeditor5/src/utils.js';\n/**\n * @module image/imageupload/uploadimagecommand\n */\n/**\n * The upload image command.\n *\n * The command is registered by the {@link module:image/imageupload/imageuploadediting~ImageUploadEditing} plugin as `uploadImage`\n * and it is also available via aliased `imageUpload` name.\n *\n * In order to upload an image at the current selection position\n * (according to the {@link module:widget/utils~findOptimalInsertionRange} algorithm),\n * execute the command and pass the native image file instance:\n *\n * ```ts\n * this.listenTo( editor.editing.view.document, 'clipboardInput', ( evt, data ) => {\n * \t// Assuming that only images were pasted:\n * \tconst images = Array.from( data.dataTransfer.files );\n *\n * \t// Upload the first image:\n * \teditor.execute( 'uploadImage', { file: images[ 0 ] } );\n * } );\n * ```\n *\n * It is also possible to insert multiple images at once:\n *\n * ```ts\n * editor.execute( 'uploadImage', {\n * \tfile: [\n * \t\tfile1,\n * \t\tfile2\n * \t]\n * } );\n * ```\n */\nexport default class UploadImageCommand extends Command {\n    /**\n     * Creates an instance of the `imageUlpoad` command. When executed, the command upload one of\n     * the currently selected image from computer.\n     *\n     * @param editor The editor instance.\n     */\n    constructor(editor) {\n        super(editor);\n        this.set('isAccessAllowed', true);\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const editor = this.editor;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        const selectedElement = editor.model.document.selection.getSelectedElement();\n        // TODO: This needs refactoring.\n        this.isEnabled = imageUtils.isImageAllowed() || imageUtils.isImage(selectedElement);\n    }\n    /**\n     * Executes the command.\n     *\n     * @fires execute\n     * @param options Options for the executed command.\n     * @param options.file The image file or an array of image files to upload.\n     */\n    execute(options) {\n        const files = toArray(options.file);\n        const selection = this.editor.model.document.selection;\n        const imageUtils = this.editor.plugins.get('ImageUtils');\n        // In case of multiple files, each file (starting from the 2nd) will be inserted at a position that\n        // follows the previous one. That will move the selection and, to stay on the safe side and make sure\n        // all images inherit the same selection attributes, they are collected beforehand.\n        //\n        // Applying these attributes ensures, for instance, that inserting an (inline) image into a link does\n        // not split that link but preserves its continuity.\n        //\n        // Note: Selection attributes that do not make sense for images will be filtered out by insertImage() anyway.\n        const selectionAttributes = Object.fromEntries(selection.getAttributes());\n        files.forEach((file, index) => {\n            const selectedElement = selection.getSelectedElement();\n            // Inserting of an inline image replace the selected element and make a selection on the inserted image.\n            // Therefore inserting multiple inline images requires creating position after each element.\n            if (index && selectedElement && imageUtils.isImage(selectedElement)) {\n                const position = this.editor.model.createPositionAfter(selectedElement);\n                this._uploadImage(file, selectionAttributes, position);\n            }\n            else {\n                this._uploadImage(file, selectionAttributes);\n            }\n        });\n    }\n    /**\n     * Handles uploading single file.\n     */\n    _uploadImage(file, attributes, position) {\n        const editor = this.editor;\n        const fileRepository = editor.plugins.get(FileRepository);\n        const loader = fileRepository.createLoader(file);\n        const imageUtils = editor.plugins.get('ImageUtils');\n        // Do not throw when upload adapter is not set. FileRepository will log an error anyway.\n        if (!loader) {\n            return;\n        }\n        imageUtils.insertImage({ ...attributes, uploadId: loader.id }, position);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module image/imageupload/imageuploadediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { UpcastWriter } from 'ckeditor5/src/engine.js';\nimport { Notification } from 'ckeditor5/src/ui.js';\nimport { ClipboardPipeline } from 'ckeditor5/src/clipboard.js';\nimport { FileRepository } from 'ckeditor5/src/upload.js';\nimport { env } from 'ckeditor5/src/utils.js';\nimport ImageUtils from '../imageutils.js';\nimport UploadImageCommand from './uploadimagecommand.js';\nimport { fetchLocalImage, isLocalImage } from '../../src/imageupload/utils.js';\nimport { createImageTypeRegExp } from './utils.js';\n/**\n * The editing part of the image upload feature. It registers the `'uploadImage'` command\n * and the `imageUpload` command as an aliased name.\n *\n * When an image is uploaded, it fires the {@link ~ImageUploadEditing#event:uploadComplete `uploadComplete`} event\n * that allows adding custom attributes to the {@link module:engine/model/element~Element image element}.\n */\nexport default class ImageUploadEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [FileRepository, Notification, ClipboardPipeline, ImageUtils];\n    }\n    static get pluginName() {\n        return 'ImageUploadEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * An internal mapping of {@link module:upload/filerepository~FileLoader#id file loader UIDs} and\n     * model elements during the upload.\n     *\n     * Model element of the uploaded image can change, for instance, when {@link module:image/image/imagetypecommand~ImageTypeCommand}\n     * is executed as a result of adding caption or changing image style. As a result, the upload logic must keep track of the model\n     * element (reference) and resolve the upload for the correct model element (instead of the one that landed in the `$graveyard`\n     * after image type changed).\n     */\n    _uploadImageElements;\n    /**\n     * An internal mapping of {@link module:upload/filerepository~FileLoader#id file loader UIDs} and\n     * upload responses for handling images dragged during their upload process. When such images are later\n     * dropped, their original upload IDs no longer exist in the registry (as the original upload completed).\n     * This map preserves the upload responses to properly handle such cases.\n     */\n    _uploadedImages = new Map();\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        editor.config.define('image', {\n            upload: {\n                types: ['jpeg', 'png', 'gif', 'bmp', 'webp', 'tiff']\n            }\n        });\n        this._uploadImageElements = new Map();\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const doc = editor.model.document;\n        const conversion = editor.conversion;\n        const fileRepository = editor.plugins.get(FileRepository);\n        const imageUtils = editor.plugins.get('ImageUtils');\n        const clipboardPipeline = editor.plugins.get('ClipboardPipeline');\n        const imageTypes = createImageTypeRegExp(editor.config.get('image.upload.types'));\n        const uploadImageCommand = new UploadImageCommand(editor);\n        // Register `uploadImage` command and add `imageUpload` command as an alias for backward compatibility.\n        editor.commands.add('uploadImage', uploadImageCommand);\n        editor.commands.add('imageUpload', uploadImageCommand);\n        // Register upcast converter for uploadId.\n        conversion.for('upcast')\n            .attributeToAttribute({\n            view: {\n                name: 'img',\n                key: 'uploadId'\n            },\n            model: 'uploadId'\n        })\n            // Handle the case when the image is not fully uploaded yet but it's being moved.\n            // See more: https://github.com/ckeditor/ckeditor5/pull/17327\n            .add(dispatcher => dispatcher.on('element:img', (evt, data, conversionApi) => {\n            if (!conversionApi.consumable.test(data.viewItem, { attributes: ['data-ck-upload-id'] })) {\n                return;\n            }\n            const uploadId = data.viewItem.getAttribute('data-ck-upload-id');\n            if (!uploadId) {\n                return;\n            }\n            const [modelElement] = Array.from(data.modelRange.getItems({ shallow: true }));\n            const loader = fileRepository.loaders.get(uploadId);\n            if (modelElement) {\n                // Handle case when `uploadId` is set on the image element but the loader is not present in the registry.\n                // It may happen when the image was successfully uploaded and the loader was removed from the registry.\n                // It's still present in the `_uploadedImages` map though. It's why we do not place this line in the condition below.\n                conversionApi.writer.setAttribute('uploadId', uploadId, modelElement);\n                conversionApi.consumable.consume(data.viewItem, { attributes: ['data-ck-upload-id'] });\n                if (loader && loader.data) {\n                    conversionApi.writer.setAttribute('uploadStatus', loader.status, modelElement);\n                }\n            }\n        }, { priority: 'low' }));\n        // Handle pasted images.\n        // For every image file, a new file loader is created and a placeholder image is\n        // inserted into the content. Then, those images are uploaded once they appear in the model\n        // (see Document#change listener below).\n        this.listenTo(editor.editing.view.document, 'clipboardInput', (evt, data) => {\n            // Skip if non empty HTML data is included.\n            // https://github.com/ckeditor/ckeditor5-upload/issues/68\n            if (isHtmlIncluded(data.dataTransfer)) {\n                return;\n            }\n            const images = Array.from(data.dataTransfer.files).filter(file => {\n                // See https://github.com/ckeditor/ckeditor5-image/pull/254.\n                if (!file) {\n                    return false;\n                }\n                return imageTypes.test(file.type);\n            });\n            if (!images.length) {\n                return;\n            }\n            evt.stop();\n            editor.model.change(writer => {\n                // Set selection to paste target.\n                if (data.targetRanges) {\n                    writer.setSelection(data.targetRanges.map(viewRange => editor.editing.mapper.toModelRange(viewRange)));\n                }\n                editor.execute('uploadImage', { file: images });\n            });\n            const uploadImageCommand = editor.commands.get('uploadImage');\n            if (!uploadImageCommand.isAccessAllowed) {\n                const notification = editor.plugins.get('Notification');\n                const t = editor.locale.t;\n                // eslint-disable-next-line max-len\n                notification.showWarning(t('You have no image upload permissions.'), {\n                    namespace: 'image'\n                });\n            }\n        });\n        // Handle HTML pasted with images with base64 or blob sources.\n        // For every image file, a new file loader is created and a placeholder image is\n        // inserted into the content. Then, those images are uploaded once they appear in the model\n        // (see Document#change listener below).\n        this.listenTo(clipboardPipeline, 'inputTransformation', (evt, data) => {\n            const fetchableImages = Array.from(editor.editing.view.createRangeIn(data.content))\n                .map(value => value.item)\n                .filter(viewElement => isLocalImage(imageUtils, viewElement) &&\n                !viewElement.getAttribute('uploadProcessed'))\n                .map(viewElement => { return { promise: fetchLocalImage(viewElement), imageElement: viewElement }; });\n            if (!fetchableImages.length) {\n                return;\n            }\n            const writer = new UpcastWriter(editor.editing.view.document);\n            for (const fetchableImage of fetchableImages) {\n                // Set attribute marking that the image was processed already.\n                writer.setAttribute('uploadProcessed', true, fetchableImage.imageElement);\n                const loader = fileRepository.createLoader(fetchableImage.promise);\n                if (loader) {\n                    writer.setAttribute('src', '', fetchableImage.imageElement);\n                    writer.setAttribute('uploadId', loader.id, fetchableImage.imageElement);\n                }\n            }\n        });\n        // Prevents from the browser redirecting to the dropped image.\n        editor.editing.view.document.on('dragover', (evt, data) => {\n            data.preventDefault();\n        });\n        // Upload placeholder images that appeared in the model.\n        doc.on('change', () => {\n            // Note: Reversing changes to start with insertions and only then handle removals. If it was the other way around,\n            // loaders for **all** images that land in the $graveyard would abort while in fact only those that were **not** replaced\n            // by other images should be aborted.\n            const changes = doc.differ.getChanges({ includeChangesInGraveyard: true }).reverse();\n            const insertedImagesIds = new Set();\n            for (const entry of changes) {\n                if (entry.type == 'insert' && entry.name != '$text') {\n                    const item = entry.position.nodeAfter;\n                    const isInsertedInGraveyard = entry.position.root.rootName == '$graveyard';\n                    for (const imageElement of getImagesFromChangeItem(editor, item)) {\n                        // Check if the image element still has upload id.\n                        const uploadId = imageElement.getAttribute('uploadId');\n                        if (!uploadId) {\n                            continue;\n                        }\n                        // Check if the image is loaded on this client.\n                        const loader = fileRepository.loaders.get(uploadId);\n                        if (!loader) {\n                            // If the loader does not exist, it means that the image was already uploaded\n                            // and the loader promise was removed from the registry. In that scenario we need\n                            // to restore response object from the internal map.\n                            if (!isInsertedInGraveyard && this._uploadedImages.has(uploadId)) {\n                                // Fire `uploadComplete` to set proper attributes on the image element.\n                                editor.model.enqueueChange({ isUndoable: false }, writer => {\n                                    writer.setAttribute('uploadStatus', 'complete', imageElement);\n                                    this.fire('uploadComplete', {\n                                        data: this._uploadedImages.get(uploadId),\n                                        imageElement: imageElement\n                                    });\n                                });\n                                // While it makes sense to remove the image from the `_uploadedImages` map here,\n                                // it's counterintuitive for the user that pastes image in uploading several times.\n                                // It'll work the first time, but the next time the image will be empty because the\n                                // `_uploadedImages` no longer contain the response.\n                            }\n                            continue;\n                        }\n                        if (isInsertedInGraveyard) {\n                            // If the image was inserted to the graveyard for good (**not** replaced by another image),\n                            // only then abort the loading process.\n                            if (!insertedImagesIds.has(uploadId)) {\n                                // ... but abort it only if all remain images that share the same loader are in the graveyard too.\n                                // This is to prevent situation when we have two images in uploading state and one of them is being\n                                // placed in the graveyard (e.g. using undo). The other one should not be aborted.\n                                const allImagesThatShareUploaderInGraveyard = Array\n                                    .from(this._uploadImageElements.get(uploadId))\n                                    .every(element => element.root.rootName == '$graveyard');\n                                if (allImagesThatShareUploaderInGraveyard) {\n                                    loader.abort();\n                                }\n                            }\n                        }\n                        else {\n                            // Remember the upload id of the inserted image. If it acted as a replacement for another\n                            // image (which landed in the $graveyard), the related loader will not be aborted because\n                            // this is still the same image upload.\n                            insertedImagesIds.add(uploadId);\n                            // Keep the mapping between the upload ID and the image model element so the upload\n                            // can later resolve in the context of the correct model element. The model element could\n                            // change for the same upload if one image was replaced by another (e.g. image type was changed),\n                            // so this may also replace an existing mapping.\n                            if (!this._uploadImageElements.has(uploadId)) {\n                                this._uploadImageElements.set(uploadId, new Set([imageElement]));\n                            }\n                            else {\n                                this._uploadImageElements.get(uploadId).add(imageElement);\n                            }\n                            if (loader.status == 'idle') {\n                                // If the image was inserted into content and has not been loaded yet, start loading it.\n                                this._readAndUpload(loader);\n                            }\n                        }\n                    }\n                }\n            }\n        });\n        // Set the default handler for feeding the image element with `src` and `srcset` attributes.\n        // Also set the natural `width` and `height` attributes (if not already set).\n        this.on('uploadComplete', (evt, { imageElement, data }) => {\n            const urls = data.urls ? data.urls : data;\n            this.editor.model.change(writer => {\n                writer.setAttribute('src', urls.default, imageElement);\n                this._parseAndSetSrcsetAttributeOnImage(urls, imageElement, writer);\n                imageUtils.setImageNaturalSizeAttributes(imageElement);\n            });\n        }, { priority: 'low' });\n    }\n    /**\n     * @inheritDoc\n     */\n    afterInit() {\n        const schema = this.editor.model.schema;\n        // Setup schema to allow uploadId and uploadStatus for images.\n        // Wait for ImageBlockEditing or ImageInlineEditing to register their elements first,\n        // that's why doing this in afterInit() instead of init().\n        if (this.editor.plugins.has('ImageBlockEditing')) {\n            schema.extend('imageBlock', {\n                allowAttributes: ['uploadId', 'uploadStatus']\n            });\n            this._registerConverters('imageBlock');\n        }\n        if (this.editor.plugins.has('ImageInlineEditing')) {\n            schema.extend('imageInline', {\n                allowAttributes: ['uploadId', 'uploadStatus']\n            });\n            this._registerConverters('imageInline');\n        }\n    }\n    /**\n     * Reads and uploads an image.\n     *\n     * The image is read from the disk and as a Base64-encoded string it is set temporarily to\n     * `image[src]`. When the image is successfully uploaded, the temporary data is replaced with the target\n     * image's URL (the URL to the uploaded image on the server).\n     */\n    _readAndUpload(loader) {\n        const editor = this.editor;\n        const model = editor.model;\n        const t = editor.locale.t;\n        const fileRepository = editor.plugins.get(FileRepository);\n        const notification = editor.plugins.get(Notification);\n        const imageUtils = editor.plugins.get('ImageUtils');\n        const imageUploadElements = this._uploadImageElements;\n        model.enqueueChange({ isUndoable: false }, writer => {\n            const elements = imageUploadElements.get(loader.id);\n            for (const element of elements) {\n                writer.setAttribute('uploadStatus', 'reading', element);\n            }\n        });\n        return loader.read()\n            .then(() => {\n            const promise = loader.upload();\n            if (editor.ui) {\n                editor.ui.ariaLiveAnnouncer.announce(t('Uploading image'));\n            }\n            for (const imageElement of imageUploadElements.get(loader.id)) {\n                // Force re–paint in Safari. Without it, the image will display with a wrong size.\n                // https://github.com/ckeditor/ckeditor5/issues/1975\n                /* istanbul ignore next -- @preserve */\n                if (env.isSafari) {\n                    const viewFigure = editor.editing.mapper.toViewElement(imageElement);\n                    const viewImg = imageUtils.findViewImgElement(viewFigure);\n                    editor.editing.view.once('render', () => {\n                        // Early returns just to be safe. There might be some code ran\n                        // in between the outer scope and this callback.\n                        if (!viewImg.parent) {\n                            return;\n                        }\n                        const domFigure = editor.editing.view.domConverter.mapViewToDom(viewImg.parent);\n                        if (!domFigure) {\n                            return;\n                        }\n                        const originalDisplay = domFigure.style.display;\n                        domFigure.style.display = 'none';\n                        // Make sure this line will never be removed during minification for having \"no effect\".\n                        domFigure._ckHack = domFigure.offsetHeight;\n                        domFigure.style.display = originalDisplay;\n                    });\n                }\n                model.enqueueChange({ isUndoable: false }, writer => {\n                    writer.setAttribute('uploadStatus', 'uploading', imageElement);\n                });\n            }\n            return promise;\n        })\n            .then(data => {\n            model.enqueueChange({ isUndoable: false }, writer => {\n                for (const imageElement of imageUploadElements.get(loader.id)) {\n                    writer.setAttribute('uploadStatus', 'complete', imageElement);\n                    this.fire('uploadComplete', { data, imageElement });\n                }\n                if (editor.ui) {\n                    editor.ui.ariaLiveAnnouncer.announce(t('Image upload complete'));\n                }\n                this._uploadedImages.set(loader.id, data);\n            });\n            clean();\n        })\n            .catch(error => {\n            if (editor.ui) {\n                editor.ui.ariaLiveAnnouncer.announce(t('Error during image upload'));\n            }\n            // If status is not 'error' nor 'aborted' - throw error because it means that something else went wrong,\n            // it might be generic error and it would be real pain to find what is going on.\n            if (loader.status !== 'error' && loader.status !== 'aborted') {\n                throw error;\n            }\n            // Might be 'aborted'.\n            if (loader.status == 'error' && error) {\n                notification.showWarning(error, {\n                    title: t('Upload failed'),\n                    namespace: 'upload'\n                });\n            }\n            // Permanently remove image from insertion batch.\n            model.enqueueChange({ isUndoable: false }, writer => {\n                for (const imageElement of imageUploadElements.get(loader.id)) {\n                    // Handle situation when the image has been removed and then `abort` exception was thrown.\n                    // See: https://github.com/cksource/ckeditor5-commercial/issues/6817\n                    if (imageElement.root.rootName !== '$graveyard') {\n                        writer.remove(imageElement);\n                    }\n                }\n            });\n            clean();\n        });\n        function clean() {\n            model.enqueueChange({ isUndoable: false }, writer => {\n                for (const imageElement of imageUploadElements.get(loader.id)) {\n                    writer.removeAttribute('uploadId', imageElement);\n                    writer.removeAttribute('uploadStatus', imageElement);\n                }\n                imageUploadElements.delete(loader.id);\n            });\n            fileRepository.destroyLoader(loader);\n        }\n    }\n    /**\n     * Creates the `srcset` attribute based on a given file upload response and sets it as an attribute to a specific image element.\n     *\n     * @param data Data object from which `srcset` will be created.\n     * @param image The image element on which the `srcset` attribute will be set.\n     */\n    _parseAndSetSrcsetAttributeOnImage(data, image, writer) {\n        // Srcset attribute for responsive images support.\n        let maxWidth = 0;\n        const srcsetAttribute = Object.keys(data)\n            // Filter out keys that are not integers.\n            .filter(key => {\n            const width = parseInt(key, 10);\n            if (!isNaN(width)) {\n                maxWidth = Math.max(maxWidth, width);\n                return true;\n            }\n        })\n            // Convert each key to srcset entry.\n            .map(key => `${data[key]} ${key}w`)\n            // Join all entries.\n            .join(', ');\n        if (srcsetAttribute != '') {\n            const attributes = {\n                srcset: srcsetAttribute\n            };\n            if (!image.hasAttribute('width') && !image.hasAttribute('height')) {\n                attributes.width = maxWidth;\n            }\n            writer.setAttributes(attributes, image);\n        }\n    }\n    /**\n     * Registers image upload converters.\n     *\n     * @param imageType The type of the image.\n     */\n    _registerConverters(imageType) {\n        const { conversion, plugins } = this.editor;\n        const fileRepository = plugins.get(FileRepository);\n        const imageUtils = plugins.get(ImageUtils);\n        // It sets `data-ck-upload-id` attribute on the view image elements that are not fully uploaded.\n        // It avoids the situation when image disappears when it's being moved and upload is not finished yet.\n        // See more: https://github.com/ckeditor/ckeditor5/issues/16967\n        conversion.for('dataDowncast').add(dispatcher => {\n            dispatcher.on(`attribute:uploadId:${imageType}`, (evt, data, conversionApi) => {\n                if (!conversionApi.consumable.test(data.item, evt.name)) {\n                    return;\n                }\n                const loader = fileRepository.loaders.get(data.attributeNewValue);\n                if (!loader || !loader.data) {\n                    return null;\n                }\n                const viewElement = conversionApi.mapper.toViewElement(data.item);\n                const img = imageUtils.findViewImgElement(viewElement);\n                if (img) {\n                    conversionApi.consumable.consume(data.item, evt.name);\n                    conversionApi.writer.setAttribute('data-ck-upload-id', loader.id, img);\n                }\n            });\n        });\n    }\n}\n/**\n * Returns `true` if non-empty `text/html` is included in the data transfer.\n */\nexport function isHtmlIncluded(dataTransfer) {\n    return Array.from(dataTransfer.types).includes('text/html') && dataTransfer.getData('text/html') !== '';\n}\nfunction getImagesFromChangeItem(editor, item) {\n    const imageUtils = editor.plugins.get('ImageUtils');\n    return Array.from(editor.model.createRangeOn(item))\n        .filter(value => imageUtils.isImage(value.item))\n        .map(value => value.item);\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module image/imageinsert/ui/imageinserturlview\n */\nimport { View, LabeledFieldView, createLabeledInputText, submitHandler } from 'ckeditor5/src/ui.js';\nimport { KeystrokeHandler } from 'ckeditor5/src/utils.js';\n/**\n * The insert an image via URL view.\n *\n * See {@link module:image/imageinsert/imageinsertviaurlui~ImageInsertViaUrlUI}.\n */\nexport default class ImageInsertUrlView extends View {\n    /**\n     * The URL input field view.\n     */\n    urlInputView;\n    /**\n     * An instance of the {@link module:utils/keystrokehandler~KeystrokeHandler}.\n     */\n    keystrokes;\n    /**\n     * Creates a view for the dropdown panel of {@link module:image/imageinsert/imageinsertui~ImageInsertUI}.\n     *\n     * @param locale The localization services instance.\n     */\n    constructor(locale) {\n        super(locale);\n        this.set('imageURLInputValue', '');\n        this.set('isImageSelected', false);\n        this.set('isEnabled', true);\n        this.keystrokes = new KeystrokeHandler();\n        this.urlInputView = this._createUrlInputView();\n        this.setTemplate({\n            tag: 'form',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-image-insert-url'\n                ],\n                tabindex: '-1'\n            },\n            children: [\n                this.urlInputView,\n                {\n                    tag: 'div',\n                    attributes: {\n                        class: [\n                            'ck',\n                            'ck-image-insert-url__action-row'\n                        ]\n                    }\n                }\n            ]\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    render() {\n        super.render();\n        submitHandler({\n            view: this\n        });\n        // Start listening for the keystrokes coming from #element.\n        this.keystrokes.listenTo(this.element);\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        super.destroy();\n        this.keystrokes.destroy();\n    }\n    /**\n     * Creates the {@link #urlInputView}.\n     */\n    _createUrlInputView() {\n        const locale = this.locale;\n        const t = locale.t;\n        const urlInputView = new LabeledFieldView(locale, createLabeledInputText);\n        urlInputView.bind('label').to(this, 'isImageSelected', value => value ? t('Update image URL') : t('Insert image via URL'));\n        urlInputView.bind('isEnabled').to(this);\n        urlInputView.fieldView.inputMode = 'url';\n        urlInputView.fieldView.placeholder = 'https://example.com/image.png';\n        urlInputView.fieldView.bind('value').to(this, 'imageURLInputValue', (value) => value || '');\n        urlInputView.fieldView.on('input', () => {\n            this.imageURLInputValue = urlInputView.fieldView.element.value.trim();\n        });\n        return urlInputView;\n    }\n    /**\n     * Focuses the view.\n     */\n    focus() {\n        this.urlInputView.focus();\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module image/imageresize/resizeimagecommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\n/**\n * The resize image command. Currently, it only supports the width attribute.\n */\nexport default class ResizeImageCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const editor = this.editor;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        const element = imageUtils.getClosestSelectedImageElement(editor.model.document.selection);\n        this.isEnabled = !!element;\n        if (!element || !element.hasAttribute('resizedWidth')) {\n            this.value = null;\n        }\n        else {\n            this.value = {\n                width: element.getAttribute('resizedWidth'),\n                height: null\n            };\n        }\n    }\n    /**\n     * Executes the command.\n     *\n     * ```ts\n     * // Sets the width to 50%:\n     * editor.execute( 'resizeImage', { width: '50%' } );\n     *\n     * // Removes the width attribute:\n     * editor.execute( 'resizeImage', { width: null } );\n     * ```\n     *\n     * @param options\n     * @param options.width The new width of the image.\n     * @fires execute\n     */\n    execute(options) {\n        const editor = this.editor;\n        const model = editor.model;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        const imageElement = imageUtils.getClosestSelectedImageElement(model.document.selection);\n        this.value = {\n            width: options.width,\n            height: null\n        };\n        if (imageElement) {\n            model.change(writer => {\n                writer.setAttribute('resizedWidth', options.width, imageElement);\n                writer.removeAttribute('resizedHeight', imageElement);\n                imageUtils.setImageNaturalSizeAttributes(imageElement);\n            });\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport ImageUtils from '../imageutils.js';\nimport ResizeImageCommand from './resizeimagecommand.js';\nimport { widthAndHeightStylesAreBothSet } from '../image/utils.js';\n/**\n * The image resize editing feature.\n *\n * It adds the ability to resize each image using handles or manually by\n * {@link module:image/imageresize/imageresizebuttons~ImageResizeButtons} buttons.\n */\nexport default class ImageResizeEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageUtils];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageResizeEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        editor.config.define('image', {\n            resizeUnit: '%',\n            resizeOptions: [\n                {\n                    name: 'resizeImage:original',\n                    value: null,\n                    icon: 'original'\n                },\n                {\n                    name: 'resizeImage:custom',\n                    value: 'custom',\n                    icon: 'custom'\n                },\n                {\n                    name: 'resizeImage:25',\n                    value: '25',\n                    icon: 'small'\n                },\n                {\n                    name: 'resizeImage:50',\n                    value: '50',\n                    icon: 'medium'\n                },\n                {\n                    name: 'resizeImage:75',\n                    value: '75',\n                    icon: 'large'\n                }\n            ]\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const resizeImageCommand = new ResizeImageCommand(editor);\n        this._registerConverters('imageBlock');\n        this._registerConverters('imageInline');\n        // Register `resizeImage` command and add `imageResize` command as an alias for backward compatibility.\n        editor.commands.add('resizeImage', resizeImageCommand);\n        editor.commands.add('imageResize', resizeImageCommand);\n    }\n    /**\n     * @inheritDoc\n     */\n    afterInit() {\n        this._registerSchema();\n    }\n    _registerSchema() {\n        if (this.editor.plugins.has('ImageBlockEditing')) {\n            this.editor.model.schema.extend('imageBlock', { allowAttributes: ['resizedWidth', 'resizedHeight'] });\n        }\n        if (this.editor.plugins.has('ImageInlineEditing')) {\n            this.editor.model.schema.extend('imageInline', { allowAttributes: ['resizedWidth', 'resizedHeight'] });\n        }\n    }\n    /**\n     * Registers image resize converters.\n     *\n     * @param imageType The type of the image.\n     */\n    _registerConverters(imageType) {\n        const editor = this.editor;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        // Dedicated converter to propagate image's attribute to the img tag.\n        editor.conversion.for('downcast').add(dispatcher => dispatcher.on(`attribute:resizedWidth:${imageType}`, (evt, data, conversionApi) => {\n            if (!conversionApi.consumable.consume(data.item, evt.name)) {\n                return;\n            }\n            const viewWriter = conversionApi.writer;\n            const viewImg = conversionApi.mapper.toViewElement(data.item);\n            if (data.attributeNewValue !== null) {\n                viewWriter.setStyle('width', data.attributeNewValue, viewImg);\n                viewWriter.addClass('image_resized', viewImg);\n            }\n            else {\n                viewWriter.removeStyle('width', viewImg);\n                viewWriter.removeClass('image_resized', viewImg);\n            }\n        }));\n        editor.conversion.for('dataDowncast').attributeToAttribute({\n            model: {\n                name: imageType,\n                key: 'resizedHeight'\n            },\n            view: modelAttributeValue => ({\n                key: 'style',\n                value: {\n                    'height': modelAttributeValue\n                }\n            })\n        });\n        editor.conversion.for('editingDowncast').add(dispatcher => dispatcher.on(`attribute:resizedHeight:${imageType}`, (evt, data, conversionApi) => {\n            if (!conversionApi.consumable.consume(data.item, evt.name)) {\n                return;\n            }\n            const viewWriter = conversionApi.writer;\n            const viewImg = conversionApi.mapper.toViewElement(data.item);\n            const target = imageType === 'imageInline' ? imageUtils.findViewImgElement(viewImg) : viewImg;\n            if (data.attributeNewValue !== null) {\n                viewWriter.setStyle('height', data.attributeNewValue, target);\n            }\n            else {\n                viewWriter.removeStyle('height', target);\n            }\n        }));\n        editor.conversion.for('upcast')\n            .attributeToAttribute({\n            view: {\n                name: imageType === 'imageBlock' ? 'figure' : 'img',\n                styles: {\n                    width: /.+/\n                }\n            },\n            model: {\n                key: 'resizedWidth',\n                value: (viewElement) => {\n                    if (widthAndHeightStylesAreBothSet(viewElement)) {\n                        return null;\n                    }\n                    return viewElement.getStyle('width');\n                }\n            }\n        });\n        editor.conversion.for('upcast')\n            .attributeToAttribute({\n            view: {\n                name: imageType === 'imageBlock' ? 'figure' : 'img',\n                styles: {\n                    height: /.+/\n                }\n            },\n            model: {\n                key: 'resizedHeight',\n                value: (viewElement) => {\n                    if (widthAndHeightStylesAreBothSet(viewElement)) {\n                        return null;\n                    }\n                    return viewElement.getStyle('height');\n                }\n            }\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module image/imageresize/imageresizebuttons\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { ButtonView, DropdownButtonView, ViewModel, createDropdown, addListToDropdown } from 'ckeditor5/src/ui.js';\nimport { CKEditorError, Collection } from 'ckeditor5/src/utils.js';\nimport { IconObjectSizeCustom, IconObjectSizeFull, IconObjectSizeLarge, IconObjectSizeMedium, IconObjectSizeSmall } from 'ckeditor5/src/icons.js';\nimport ImageResizeEditing from './imageresizeediting.js';\nconst RESIZE_ICONS = /* #__PURE__ */ (() => ({\n    small: IconObjectSizeSmall,\n    medium: IconObjectSizeMedium,\n    large: IconObjectSizeLarge,\n    custom: IconObjectSizeCustom,\n    original: IconObjectSizeFull\n}))();\n/**\n * The image resize buttons plugin.\n *\n * It adds a possibility to resize images using the toolbar dropdown or individual buttons, depending on the plugin configuration.\n */\nexport default class ImageResizeButtons extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageResizeEditing];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageResizeButtons';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * The resize unit.\n     * @default '%'\n     */\n    _resizeUnit;\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        this._resizeUnit = editor.config.get('image.resizeUnit');\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const options = editor.config.get('image.resizeOptions');\n        const command = editor.commands.get('resizeImage');\n        this.bind('isEnabled').to(command);\n        for (const option of options) {\n            this._registerImageResizeButton(option);\n        }\n        this._registerImageResizeDropdown(options);\n    }\n    /**\n     * A helper function that creates a standalone button component for the plugin.\n     *\n     * @param resizeOption A model of the resize option.\n     */\n    _registerImageResizeButton(option) {\n        const editor = this.editor;\n        const { name, value, icon } = option;\n        editor.ui.componentFactory.add(name, locale => {\n            const button = new ButtonView(locale);\n            const command = editor.commands.get('resizeImage');\n            const labelText = this._getOptionLabelValue(option, true);\n            if (!RESIZE_ICONS[icon]) {\n                /**\n                 * When configuring {@link module:image/imageconfig~ImageConfig#resizeOptions `config.image.resizeOptions`} for standalone\n                 * buttons, a valid `icon` token must be set for each option.\n                 *\n                 * See all valid options described in the\n                 * {@link module:image/imageconfig~ImageResizeOption plugin configuration}.\n                 *\n                 * @error imageresizebuttons-missing-icon\n                 * @param option Invalid image resize option.\n                */\n                throw new CKEditorError('imageresizebuttons-missing-icon', editor, option);\n            }\n            button.set({\n                // Use the `label` property for a verbose description (because of ARIA).\n                label: labelText,\n                icon: RESIZE_ICONS[icon],\n                tooltip: labelText,\n                isToggleable: true\n            });\n            // Bind button to the command.\n            button.bind('isEnabled').to(this);\n            if (editor.plugins.has('ImageCustomResizeUI') && isCustomImageResizeOption(option)) {\n                const customResizeUI = editor.plugins.get('ImageCustomResizeUI');\n                this.listenTo(button, 'execute', () => {\n                    customResizeUI._showForm(this._resizeUnit);\n                });\n            }\n            else {\n                const optionValueWithUnit = value ? value + this._resizeUnit : null;\n                button.bind('isOn').to(command, 'value', command, 'isEnabled', getIsOnButtonCallback(optionValueWithUnit));\n                this.listenTo(button, 'execute', () => {\n                    editor.execute('resizeImage', { width: optionValueWithUnit });\n                });\n            }\n            return button;\n        });\n    }\n    /**\n     * A helper function that creates a dropdown component for the plugin containing all the resize options defined in\n     * the editor configuration.\n     *\n     * @param options An array of configured options.\n     */\n    _registerImageResizeDropdown(options) {\n        const editor = this.editor;\n        const t = editor.t;\n        const originalSizeOption = options.find(option => !option.value);\n        const componentCreator = (locale) => {\n            const command = editor.commands.get('resizeImage');\n            const dropdownView = createDropdown(locale, DropdownButtonView);\n            const dropdownButton = dropdownView.buttonView;\n            const accessibleLabel = t('Resize image');\n            dropdownButton.set({\n                tooltip: accessibleLabel,\n                commandValue: originalSizeOption.value,\n                icon: RESIZE_ICONS.medium,\n                isToggleable: true,\n                label: this._getOptionLabelValue(originalSizeOption),\n                withText: true,\n                class: 'ck-resize-image-button',\n                ariaLabel: accessibleLabel,\n                ariaLabelledBy: undefined\n            });\n            dropdownButton.bind('label').to(command, 'value', commandValue => {\n                if (commandValue && commandValue.width) {\n                    return commandValue.width;\n                }\n                else {\n                    return this._getOptionLabelValue(originalSizeOption);\n                }\n            });\n            dropdownView.bind('isEnabled').to(this);\n            addListToDropdown(dropdownView, () => this._getResizeDropdownListItemDefinitions(options, command), {\n                ariaLabel: t('Image resize list'),\n                role: 'menu'\n            });\n            // Execute command when an item from the dropdown is selected.\n            this.listenTo(dropdownView, 'execute', evt => {\n                if ('onClick' in evt.source) {\n                    evt.source.onClick();\n                }\n                else {\n                    editor.execute(evt.source.commandName, { width: evt.source.commandValue });\n                    editor.editing.view.focus();\n                }\n            });\n            return dropdownView;\n        };\n        // Register `resizeImage` dropdown and add `imageResize` dropdown as an alias for backward compatibility.\n        editor.ui.componentFactory.add('resizeImage', componentCreator);\n        editor.ui.componentFactory.add('imageResize', componentCreator);\n    }\n    /**\n     * A helper function for creating an option label value string.\n     *\n     * @param option A resize option object.\n     * @param forTooltip An optional flag for creating a tooltip label.\n     * @returns A user-defined label combined from the numeric value and the resize unit or the default label\n     * for reset options (`Original`).\n     */\n    _getOptionLabelValue(option, forTooltip = false) {\n        const t = this.editor.t;\n        if (option.label) {\n            return option.label;\n        }\n        else if (forTooltip) {\n            if (isCustomImageResizeOption(option)) {\n                return t('Custom image size');\n            }\n            else if (option.value) {\n                return t('Resize image to %0', option.value + this._resizeUnit);\n            }\n            else {\n                return t('Resize image to the original size');\n            }\n        }\n        else {\n            if (isCustomImageResizeOption(option)) {\n                return t('Custom');\n            }\n            else if (option.value) {\n                return option.value + this._resizeUnit;\n            }\n            else {\n                return t('Original');\n            }\n        }\n    }\n    /**\n     * A helper function that parses the resize options and returns list item definitions ready for use in the dropdown.\n     *\n     * @param options The resize options.\n     * @param command The resize image command.\n     * @returns Dropdown item definitions.\n     */\n    _getResizeDropdownListItemDefinitions(options, command) {\n        const { editor } = this;\n        const itemDefinitions = new Collection();\n        const optionsWithSerializedValues = options.map(option => {\n            if (isCustomImageResizeOption(option)) {\n                return {\n                    ...option,\n                    valueWithUnits: 'custom'\n                };\n            }\n            if (!option.value) {\n                return {\n                    ...option,\n                    valueWithUnits: null\n                };\n            }\n            return {\n                ...option,\n                valueWithUnits: `${option.value}${this._resizeUnit}`\n            };\n        });\n        for (const option of optionsWithSerializedValues) {\n            let definition = null;\n            if (editor.plugins.has('ImageCustomResizeUI') && isCustomImageResizeOption(option)) {\n                const customResizeUI = editor.plugins.get('ImageCustomResizeUI');\n                definition = {\n                    type: 'button',\n                    model: new ViewModel({\n                        label: this._getOptionLabelValue(option),\n                        role: 'menuitemradio',\n                        withText: true,\n                        icon: null,\n                        onClick: () => {\n                            customResizeUI._showForm(this._resizeUnit);\n                        }\n                    })\n                };\n                const allDropdownValues = Object.values(optionsWithSerializedValues).map(option => option.valueWithUnits);\n                definition.model.bind('isOn').to(command, 'value', command, 'isEnabled', getIsOnCustomButtonCallback(allDropdownValues));\n            }\n            else {\n                definition = {\n                    type: 'button',\n                    model: new ViewModel({\n                        commandName: 'resizeImage',\n                        commandValue: option.valueWithUnits,\n                        label: this._getOptionLabelValue(option),\n                        role: 'menuitemradio',\n                        withText: true,\n                        icon: null\n                    })\n                };\n                definition.model.bind('isOn').to(command, 'value', command, 'isEnabled', getIsOnButtonCallback(option.valueWithUnits));\n            }\n            definition.model.bind('isEnabled').to(command, 'isEnabled');\n            itemDefinitions.add(definition);\n        }\n        return itemDefinitions;\n    }\n}\n/**\n * A helper that checks if provided option triggers custom resize balloon.\n */\nfunction isCustomImageResizeOption(option) {\n    return option.value === 'custom';\n}\n/**\n * A helper function for setting the `isOn` state of buttons in value bindings.\n */\nfunction getIsOnButtonCallback(value) {\n    return (commandValue, isEnabled) => {\n        const objectCommandValue = commandValue;\n        if (objectCommandValue === undefined || !isEnabled) {\n            return false;\n        }\n        if (value === null && objectCommandValue === value) {\n            return true;\n        }\n        return objectCommandValue !== null && objectCommandValue.width === value;\n    };\n}\n/**\n * A helper function for setting the `isOn` state of custom size button in value bindings.\n */\nfunction getIsOnCustomButtonCallback(allDropdownValues) {\n    return (commandValue, isEnabled) => !allDropdownValues.some(dropdownValue => getIsOnButtonCallback(dropdownValue)(commandValue, isEnabled));\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./imagecustomresizeform.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module image/imageresize/ui/imagecustomresizeformview\n */\nimport { ButtonView, FocusCycler, FormHeaderView, FormRowView, LabeledFieldView, View, ViewCollection, createLabeledInputNumber, submitHandler } from 'ckeditor5/src/ui.js';\nimport { FocusTracker, KeystrokeHandler } from 'ckeditor5/src/utils.js';\nimport { IconPreviousArrow } from 'ckeditor5/src/icons.js';\nimport '../../../theme/imagecustomresizeform.css';\n// See: #8833.\n// eslint-disable-next-line ckeditor5-rules/ckeditor-imports\nimport '@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css';\n// eslint-disable-next-line ckeditor5-rules/ckeditor-imports\nimport '@ckeditor/ckeditor5-ui/theme/components/form/form.css';\n/**\n * The ImageCustomResizeFormView class.\n */\nexport default class ImageCustomResizeFormView extends View {\n    /**\n     * Tracks information about the DOM focus in the form.\n     */\n    focusTracker;\n    /**\n     * An instance of the {@link module:utils/keystrokehandler~KeystrokeHandler}.\n     */\n    keystrokes;\n    /**\n     * Resize unit shortcut.\n     */\n    unit;\n    /**\n     * The Back button view displayed in the header.\n     */\n    backButtonView;\n    /**\n     * A button used to submit the form.\n     */\n    saveButtonView;\n    /**\n     * An input with a label.\n     */\n    labeledInput;\n    /**\n     * A collection of child views.\n     */\n    children;\n    /**\n     * A collection of views which can be focused in the form.\n     */\n    _focusables;\n    /**\n     * Helps cycling over {@link #_focusables} in the form.\n     */\n    _focusCycler;\n    /**\n     * An array of form validators used by {@link #isValid}.\n     */\n    _validators;\n    /**\n     * @inheritDoc\n     */\n    constructor(locale, unit, validators) {\n        super(locale);\n        this.focusTracker = new FocusTracker();\n        this.keystrokes = new KeystrokeHandler();\n        this.unit = unit;\n        // Create buttons.\n        this.backButtonView = this._createBackButton();\n        this.saveButtonView = this._createSaveButton();\n        // Create input fields.\n        this.labeledInput = this._createLabeledInputView();\n        this.children = this.createCollection([this._createHeaderView()]);\n        this.children.add(new FormRowView(locale, {\n            children: [\n                this.labeledInput,\n                this.saveButtonView\n            ],\n            class: [\n                'ck-form__row_with-submit',\n                'ck-form__row_large-top-padding'\n            ]\n        }));\n        this._focusables = new ViewCollection();\n        this._validators = validators;\n        // Close the panel on esc key press when the **form has focus**.\n        this.keystrokes.set('Esc', (data, cancel) => {\n            this.fire('cancel');\n            cancel();\n        });\n        this._focusCycler = new FocusCycler({\n            focusables: this._focusables,\n            focusTracker: this.focusTracker,\n            keystrokeHandler: this.keystrokes,\n            actions: {\n                // Navigate form fields backwards using the Shift + Tab keystroke.\n                focusPrevious: 'shift + tab',\n                // Navigate form fields forwards using the Tab key.\n                focusNext: 'tab'\n            }\n        });\n        this.setTemplate({\n            tag: 'form',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-form',\n                    'ck-image-custom-resize-form',\n                    'ck-responsive-form'\n                ],\n                // https://github.com/ckeditor/ckeditor5-image/issues/40\n                tabindex: '-1'\n            },\n            children: this.children\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    render() {\n        super.render();\n        submitHandler({\n            view: this\n        });\n        const childViews = [\n            this.backButtonView,\n            this.labeledInput,\n            this.saveButtonView\n        ];\n        childViews.forEach(v => {\n            // Register the view as focusable.\n            this._focusables.add(v);\n            // Register the view in the focus tracker.\n            this.focusTracker.add(v.element);\n        });\n        this.keystrokes.listenTo(this.element);\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        super.destroy();\n        this.focusTracker.destroy();\n        this.keystrokes.destroy();\n    }\n    /**\n     * Creates a back button view that cancels the form.\n     */\n    _createBackButton() {\n        const t = this.locale.t;\n        const backButton = new ButtonView(this.locale);\n        backButton.set({\n            class: 'ck-button-back',\n            label: t('Back'),\n            icon: IconPreviousArrow,\n            tooltip: true\n        });\n        backButton.delegate('execute').to(this, 'cancel');\n        return backButton;\n    }\n    /**\n     * Creates a save button view that resize the image.\n     */\n    _createSaveButton() {\n        const t = this.locale.t;\n        const saveButton = new ButtonView(this.locale);\n        saveButton.set({\n            label: t('Save'),\n            withText: true,\n            type: 'submit',\n            class: 'ck-button-action ck-button-bold'\n        });\n        return saveButton;\n    }\n    /**\n     * Creates a header view for the form.\n     */\n    _createHeaderView() {\n        const t = this.locale.t;\n        const header = new FormHeaderView(this.locale, {\n            label: t('Image Resize')\n        });\n        header.children.add(this.backButtonView, 0);\n        return header;\n    }\n    /**\n     * Creates an input with a label.\n     *\n     * @returns Labeled field view instance.\n     */\n    _createLabeledInputView() {\n        const t = this.locale.t;\n        const labeledInput = new LabeledFieldView(this.locale, createLabeledInputNumber);\n        labeledInput.label = t('Resize image (in %0)', this.unit);\n        labeledInput.class = 'ck-labeled-field-view_full-width';\n        labeledInput.fieldView.set({\n            step: 0.1\n        });\n        return labeledInput;\n    }\n    /**\n     * Validates the form and returns `false` when some fields are invalid.\n     */\n    isValid() {\n        this.resetFormStatus();\n        for (const validator of this._validators) {\n            const errorText = validator(this);\n            // One error per field is enough.\n            if (errorText) {\n                // Apply updated error.\n                this.labeledInput.errorText = errorText;\n                return false;\n            }\n        }\n        return true;\n    }\n    /**\n     * Cleans up the supplementary error and information text of the {@link #labeledInput}\n     * bringing them back to the state when the form has been displayed for the first time.\n     *\n     * See {@link #isValid}.\n     */\n    resetFormStatus() {\n        this.labeledInput.errorText = null;\n    }\n    /**\n     * The native DOM `value` of the input element of {@link #labeledInput}.\n     */\n    get rawSize() {\n        const { element } = this.labeledInput.fieldView;\n        if (!element) {\n            return null;\n        }\n        return element.value;\n    }\n    /**\n     * Get numeric value of size. Returns `null` if value of size input element in {@link #labeledInput}.is not a number.\n     */\n    get parsedSize() {\n        const { rawSize } = this;\n        if (rawSize === null) {\n            return null;\n        }\n        const parsed = Number.parseFloat(rawSize);\n        if (Number.isNaN(parsed)) {\n            return null;\n        }\n        return parsed;\n    }\n    /**\n     * Returns serialized image input size with unit.\n     * Returns `null` if value of size input element in {@link #labeledInput}.is not a number.\n     */\n    get sizeWithUnits() {\n        const { parsedSize, unit } = this;\n        if (parsedSize === null) {\n            return null;\n        }\n        return `${parsedSize}${unit}`;\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./imageresize.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { Command } from 'ckeditor5/src/core.js';\n/**\n * The image style command. It is used to apply {@link module:image/imageconfig~ImageStyleConfig#options image style option}\n * to a selected image.\n *\n * **Note**: Executing this command may change the image model element if the desired style requires an image of a different\n * type. See {@link module:image/imagestyle/imagestylecommand~ImageStyleCommand#execute} to learn more.\n */\nexport default class ImageStyleCommand extends Command {\n    /**\n     * An object containing names of default style options for the inline and block images.\n     * If there is no default style option for the given image type in the configuration,\n     * the name will be `false`.\n     */\n    _defaultStyles;\n    /**\n     * The styles handled by this command.\n     */\n    _styles;\n    /**\n     * Creates an instance of the image style command. When executed, the command applies one of\n     * {@link module:image/imageconfig~ImageStyleConfig#options style options} to the currently selected image.\n     *\n     * @param editor The editor instance.\n     * @param styles The style options that this command supports.\n     */\n    constructor(editor, styles) {\n        super(editor);\n        this._defaultStyles = {\n            imageBlock: false,\n            imageInline: false\n        };\n        this._styles = new Map(styles.map(style => {\n            if (style.isDefault) {\n                for (const modelElementName of style.modelElements) {\n                    this._defaultStyles[modelElementName] = style.name;\n                }\n            }\n            return [style.name, style];\n        }));\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const editor = this.editor;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        const element = imageUtils.getClosestSelectedImageElement(this.editor.model.document.selection);\n        this.isEnabled = !!element;\n        if (!this.isEnabled) {\n            this.value = false;\n        }\n        else if (element.hasAttribute('imageStyle')) {\n            this.value = element.getAttribute('imageStyle');\n        }\n        else {\n            this.value = this._defaultStyles[element.name];\n        }\n    }\n    /**\n     * Executes the command and applies the style to the currently selected image:\n     *\n     * ```ts\n     * editor.execute( 'imageStyle', { value: 'side' } );\n     * ```\n     *\n     * **Note**: Executing this command may change the image model element if the desired style requires an image\n     * of a different type. Learn more about {@link module:image/imageconfig~ImageStyleOptionDefinition#modelElements model element}\n     * configuration for the style option.\n     *\n     * @param options.value The name of the style (as configured in {@link module:image/imageconfig~ImageStyleConfig#options}).\n     * @param options.setImageSizes Specifies whether the image `width` and `height` attributes should be set automatically.\n     * The default is `true`.\n     * @fires execute\n     */\n    execute(options = {}) {\n        const editor = this.editor;\n        const model = editor.model;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        model.change(writer => {\n            const requestedStyle = options.value;\n            const { setImageSizes = true } = options;\n            let imageElement = imageUtils.getClosestSelectedImageElement(model.document.selection);\n            // Change the image type if a style requires it.\n            if (requestedStyle && this.shouldConvertImageType(requestedStyle, imageElement)) {\n                this.editor.execute(imageUtils.isBlockImage(imageElement) ? 'imageTypeInline' : 'imageTypeBlock', { setImageSizes });\n                // Update the imageElement to the newly created image.\n                imageElement = imageUtils.getClosestSelectedImageElement(model.document.selection);\n            }\n            // Default style means that there is no `imageStyle` attribute in the model.\n            // https://github.com/ckeditor/ckeditor5-image/issues/147\n            if (!requestedStyle || this._styles.get(requestedStyle).isDefault) {\n                writer.removeAttribute('imageStyle', imageElement);\n            }\n            else {\n                writer.setAttribute('imageStyle', requestedStyle, imageElement);\n            }\n            if (setImageSizes) {\n                imageUtils.setImageNaturalSizeAttributes(imageElement);\n            }\n        });\n    }\n    /**\n     * Returns `true` if requested style change would trigger the image type change.\n     *\n     * @param requestedStyle The name of the style (as configured in {@link module:image/imageconfig~ImageStyleConfig#options}).\n     * @param imageElement The image model element.\n     */\n    shouldConvertImageType(requestedStyle, imageElement) {\n        const supportedTypes = this._styles.get(requestedStyle).modelElements;\n        return !supportedTypes.includes(imageElement.name);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module image/imagestyle/utils\n */\nimport { logWarning } from 'ckeditor5/src/utils.js';\nimport { IconObjectCenter, IconObjectFullWidth, IconObjectInline, IconObjectInlineLeft, IconObjectInlineRight, IconObjectLeft, IconObjectRight } from 'ckeditor5/src/icons.js';\n/**\n * Default image style options provided by the plugin that can be referred in the {@link module:image/imageconfig~ImageConfig#styles}\n * configuration.\n *\n * There are available 5 styles focused on formatting:\n *\n * * **`'alignLeft'`** aligns the inline or block image to the left and wraps it with the text using the `image-style-align-left` class,\n * * **`'alignRight'`** aligns the inline or block image to the right and wraps it with the text using the `image-style-align-right` class,\n * * **`'alignCenter'`** centers the block image using the `image-style-align-center` class,\n * * **`'alignBlockLeft'`** aligns the block image to the left using the `image-style-block-align-left` class,\n * * **`'alignBlockRight'`** aligns the block image to the right using the `image-style-block-align-right` class,\n *\n * and 3 semantic styles:\n *\n * * **`'inline'`** is an inline image without any CSS class,\n * * **`'block'`** is a block image without any CSS class,\n * * **`'side'`** is a block image styled with the `image-style-side` CSS class.\n */\nexport const DEFAULT_OPTIONS = {\n    // This style represents an image placed in the line of text.\n    get inline() {\n        return {\n            name: 'inline',\n            title: 'In line',\n            icon: IconObjectInline,\n            modelElements: ['imageInline'],\n            isDefault: true\n        };\n    },\n    // This style represents an image aligned to the left and wrapped with text.\n    get alignLeft() {\n        return {\n            name: 'alignLeft',\n            title: 'Left aligned image',\n            icon: IconObjectInlineLeft,\n            modelElements: ['imageBlock', 'imageInline'],\n            className: 'image-style-align-left'\n        };\n    },\n    // This style represents an image aligned to the left.\n    get alignBlockLeft() {\n        return {\n            name: 'alignBlockLeft',\n            title: 'Left aligned image',\n            icon: IconObjectLeft,\n            modelElements: ['imageBlock'],\n            className: 'image-style-block-align-left'\n        };\n    },\n    // This style represents a centered image.\n    get alignCenter() {\n        return {\n            name: 'alignCenter',\n            title: 'Centered image',\n            icon: IconObjectCenter,\n            modelElements: ['imageBlock'],\n            className: 'image-style-align-center'\n        };\n    },\n    // This style represents an image aligned to the right and wrapped with text.\n    get alignRight() {\n        return {\n            name: 'alignRight',\n            title: 'Right aligned image',\n            icon: IconObjectInlineRight,\n            modelElements: ['imageBlock', 'imageInline'],\n            className: 'image-style-align-right'\n        };\n    },\n    // This style represents an image aligned to the right.\n    get alignBlockRight() {\n        return {\n            name: 'alignBlockRight',\n            title: 'Right aligned image',\n            icon: IconObjectRight,\n            modelElements: ['imageBlock'],\n            className: 'image-style-block-align-right'\n        };\n    },\n    // This option is equal to the situation when no style is applied.\n    get block() {\n        return {\n            name: 'block',\n            title: 'Centered image',\n            icon: IconObjectCenter,\n            modelElements: ['imageBlock'],\n            isDefault: true\n        };\n    },\n    // This represents a side image.\n    get side() {\n        return {\n            name: 'side',\n            title: 'Side image',\n            icon: IconObjectInlineRight,\n            modelElements: ['imageBlock'],\n            className: 'image-style-side'\n        };\n    }\n};\n/**\n * Default image style icons provided by the plugin that can be referred in the {@link module:image/imageconfig~ImageConfig#styles}\n * configuration.\n *\n * See {@link module:image/imageconfig~ImageStyleOptionDefinition#icon} to learn more.\n *\n * There are 7 default icons available: `'full'`, `'left'`, `'inlineLeft'`, `'center'`, `'right'`, `'inlineRight'`, and `'inline'`.\n */\nexport const DEFAULT_ICONS = /* #__PURE__ */ (() => ({\n    full: IconObjectFullWidth,\n    left: IconObjectLeft,\n    right: IconObjectRight,\n    center: IconObjectCenter,\n    inlineLeft: IconObjectInlineLeft,\n    inlineRight: IconObjectInlineRight,\n    inline: IconObjectInline\n}))();\n/**\n * Default drop-downs provided by the plugin that can be referred in the {@link module:image/imageconfig~ImageConfig#toolbar}\n * configuration. The drop-downs are containers for the {@link module:image/imageconfig~ImageStyleConfig#options image style options}.\n *\n * If both of the `ImageEditing` plugins are loaded, there are 2 predefined drop-downs available:\n *\n * * **`'imageStyle:wrapText'`**, which contains the `alignLeft` and `alignRight` options, that is,\n * those that wraps the text around the image,\n * * **`'imageStyle:breakText'`**, which contains the `alignBlockLeft`, `alignCenter` and `alignBlockRight` options, that is,\n * those that breaks the text around the image.\n */\nexport const DEFAULT_DROPDOWN_DEFINITIONS = [{\n        name: 'imageStyle:wrapText',\n        title: 'Wrap text',\n        defaultItem: 'imageStyle:alignLeft',\n        items: ['imageStyle:alignLeft', 'imageStyle:alignRight']\n    }, {\n        name: 'imageStyle:breakText',\n        title: 'Break text',\n        defaultItem: 'imageStyle:block',\n        items: ['imageStyle:alignBlockLeft', 'imageStyle:block', 'imageStyle:alignBlockRight']\n    }];\n/**\n * Returns a list of the normalized and validated image style options.\n *\n * @param config\n * @param config.isInlinePluginLoaded\n * Determines whether the {@link module:image/image/imageblockediting~ImageBlockEditing `ImageBlockEditing`} plugin has been loaded.\n * @param config.isBlockPluginLoaded\n * Determines whether the {@link module:image/image/imageinlineediting~ImageInlineEditing `ImageInlineEditing`} plugin has been loaded.\n * @param config.configuredStyles\n * The image styles configuration provided in the image styles {@link module:image/imageconfig~ImageConfig#styles configuration}\n * as a default or custom value.\n * @returns\n * * Each of options contains a complete icon markup.\n * * The image style options not supported by any of the loaded plugins are filtered out.\n */\nfunction normalizeStyles(config) {\n    const configuredStyles = config.configuredStyles.options || [];\n    const styles = configuredStyles\n        .map(arrangement => normalizeDefinition(arrangement))\n        .filter(arrangement => isValidOption(arrangement, config));\n    return styles;\n}\n/**\n * Returns the default image styles configuration depending on the loaded image editing plugins.\n *\n * @param isInlinePluginLoaded\n * Determines whether the {@link module:image/image/imageblockediting~ImageBlockEditing `ImageBlockEditing`} plugin has been loaded.\n *\n * @param isBlockPluginLoaded\n * Determines whether the {@link module:image/image/imageinlineediting~ImageInlineEditing `ImageInlineEditing`} plugin has been loaded.\n *\n * @returns\n * It returns an object with the lists of the image style options and groups defined as strings related to the\n * {@link module:image/imagestyle/utils#DEFAULT_OPTIONS default options}\n */\nfunction getDefaultStylesConfiguration(isBlockPluginLoaded, isInlinePluginLoaded) {\n    if (isBlockPluginLoaded && isInlinePluginLoaded) {\n        return {\n            options: [\n                'inline', 'alignLeft', 'alignRight',\n                'alignCenter', 'alignBlockLeft', 'alignBlockRight',\n                'block', 'side'\n            ]\n        };\n    }\n    else if (isBlockPluginLoaded) {\n        return {\n            options: ['block', 'side']\n        };\n    }\n    else if (isInlinePluginLoaded) {\n        return {\n            options: ['inline', 'alignLeft', 'alignRight']\n        };\n    }\n    return {};\n}\n/**\n * Returns a list of the available predefined drop-downs' definitions depending on the loaded image editing plugins.\n */\nfunction getDefaultDropdownDefinitions(pluginCollection) {\n    if (pluginCollection.has('ImageBlockEditing') && pluginCollection.has('ImageInlineEditing')) {\n        return [...DEFAULT_DROPDOWN_DEFINITIONS];\n    }\n    else {\n        return [];\n    }\n}\n/**\n * Normalizes an image style option or group provided in the {@link module:image/imageconfig~ImageConfig#styles}\n * and returns it in a {@link module:image/imageconfig~ImageStyleOptionDefinition}/\n */\nfunction normalizeDefinition(definition) {\n    if (typeof definition === 'string') {\n        // Just the name of the style has been passed, but none of the defaults.\n        if (!DEFAULT_OPTIONS[definition]) {\n            // Normalize the style anyway to prevent errors.\n            definition = { name: definition };\n        }\n        // Just the name of the style has been passed and it's one of the defaults, just use it.\n        // Clone the style to avoid overriding defaults.\n        else {\n            definition = { ...DEFAULT_OPTIONS[definition] };\n        }\n    }\n    else {\n        // If an object style has been passed and if the name matches one of the defaults,\n        // extend it with defaults – the user wants to customize a default style.\n        // Note: Don't override the user–defined style object, clone it instead.\n        definition = extendStyle(DEFAULT_OPTIONS[definition.name], definition);\n    }\n    // If an icon is defined as a string and correspond with a name\n    // in default icons, use the default icon provided by the plugin.\n    if (typeof definition.icon === 'string') {\n        definition.icon = DEFAULT_ICONS[definition.icon] || definition.icon;\n    }\n    return definition;\n}\n/**\n * Checks if the image style option is valid:\n * * if it has the modelElements fields defined and filled,\n * * if the defined modelElements are supported by any of the loaded image editing plugins.\n * It also displays a console warning these conditions are not met.\n *\n * @param option image style option\n */\nfunction isValidOption(option, { isBlockPluginLoaded, isInlinePluginLoaded }) {\n    const { modelElements, name } = option;\n    if (!modelElements || !modelElements.length || !name) {\n        warnInvalidStyle({ style: option });\n        return false;\n    }\n    else {\n        const supportedElements = [isBlockPluginLoaded ? 'imageBlock' : null, isInlinePluginLoaded ? 'imageInline' : null];\n        // Check if the option is supported by any of the loaded plugins.\n        if (!modelElements.some(elementName => supportedElements.includes(elementName))) {\n            /**\n             * In order to work correctly, each image style {@link module:image/imageconfig~ImageStyleOptionDefinition option}\n             * requires specific model elements (also: types of images) to be supported by the editor.\n             *\n             * Model element names to which the image style option can be applied are defined in the\n             * {@link module:image/imageconfig~ImageStyleOptionDefinition#modelElements} property of the style option\n             * definition.\n             *\n             * Explore the warning in the console to find out precisely which option is not supported and which editor plugins\n             * are missing. Make sure these plugins are loaded in your editor to get this image style option working.\n             *\n             * @error image-style-missing-dependency\n             * @param {String} [option] The name of the unsupported option.\n             * @param {String} [missingPlugins] The names of the plugins one of which has to be loaded for the particular option.\n             */\n            logWarning('image-style-missing-dependency', {\n                style: option,\n                missingPlugins: modelElements.map(name => name === 'imageBlock' ? 'ImageBlockEditing' : 'ImageInlineEditing')\n            });\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * Extends the default style with a style provided by the developer.\n * Note: Don't override the custom–defined style object, clone it instead.\n */\nfunction extendStyle(source, style) {\n    const extendedStyle = { ...style };\n    for (const prop in source) {\n        if (!Object.prototype.hasOwnProperty.call(style, prop)) {\n            extendedStyle[prop] = source[prop];\n        }\n    }\n    return extendedStyle;\n}\n/**\n * Displays a console warning with the 'image-style-configuration-definition-invalid' error.\n */\nfunction warnInvalidStyle(info) {\n    /**\n     * The image style definition provided in the configuration is invalid.\n     *\n     * Please make sure the definition implements properly one of the following:\n     *\n     * * {@link module:image/imageconfig~ImageStyleOptionDefinition image style option definition},\n     * * {@link module:image/imageconfig~ImageStyleDropdownDefinition image style dropdown definition}\n     *\n     * @error image-style-configuration-definition-invalid\n     * @param {String} [dropdown] The name of the invalid drop-down\n     * @param {String} [style] The name of the invalid image style option\n     */\n    logWarning('image-style-configuration-definition-invalid', info);\n}\nexport default {\n    normalizeStyles,\n    getDefaultStylesConfiguration,\n    getDefaultDropdownDefinitions,\n    warnInvalidStyle,\n    DEFAULT_OPTIONS,\n    DEFAULT_ICONS,\n    DEFAULT_DROPDOWN_DEFINITIONS\n};\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { first } from 'ckeditor5/src/utils.js';\n/**\n * @module image/imagestyle/converters\n */\n/**\n * Returns a converter for the `imageStyle` attribute. It can be used for adding, changing and removing the attribute.\n *\n * @param styles An array containing available image style options.\n * @returns A model-to-view attribute converter.\n */\nexport function modelToViewStyleAttribute(styles) {\n    return (evt, data, conversionApi) => {\n        if (!conversionApi.consumable.consume(data.item, evt.name)) {\n            return;\n        }\n        // Check if there is class name associated with given value.\n        const newStyle = getStyleDefinitionByName(data.attributeNewValue, styles);\n        const oldStyle = getStyleDefinitionByName(data.attributeOldValue, styles);\n        const viewElement = conversionApi.mapper.toViewElement(data.item);\n        const viewWriter = conversionApi.writer;\n        if (oldStyle) {\n            viewWriter.removeClass(oldStyle.className, viewElement);\n        }\n        if (newStyle) {\n            viewWriter.addClass(newStyle.className, viewElement);\n        }\n    };\n}\n/**\n * Returns a view-to-model converter converting image CSS classes to a proper value in the model.\n *\n * @param styles Image style options for which the converter is created.\n * @returns A view-to-model converter.\n */\nexport function viewToModelStyleAttribute(styles) {\n    // Convert only non–default styles.\n    const nonDefaultStyles = {\n        imageInline: styles.filter(style => !style.isDefault && style.modelElements.includes('imageInline')),\n        imageBlock: styles.filter(style => !style.isDefault && style.modelElements.includes('imageBlock'))\n    };\n    return (evt, data, conversionApi) => {\n        if (!data.modelRange) {\n            return;\n        }\n        const viewElement = data.viewItem;\n        const modelImageElement = first(data.modelRange.getItems());\n        // Run this converter only if an image has been found in the model.\n        // In some cases it may not be found (for example if we run this on a figure with different type than image).\n        if (!modelImageElement) {\n            return;\n        }\n        // ...and the `imageStyle` attribute is allowed for that element, otherwise stop conversion early.\n        if (!conversionApi.schema.checkAttribute(modelImageElement, 'imageStyle')) {\n            return;\n        }\n        // Convert styles one by one.\n        for (const style of nonDefaultStyles[modelImageElement.name]) {\n            // Try to consume class corresponding with the style.\n            if (conversionApi.consumable.consume(viewElement, { classes: style.className })) {\n                // And convert this style to model attribute.\n                conversionApi.writer.setAttribute('imageStyle', style.name, modelImageElement);\n            }\n        }\n    };\n}\n/**\n * Returns the style with a given `name` from an array of styles.\n */\nfunction getStyleDefinitionByName(name, styles) {\n    for (const style of styles) {\n        if (style.name === name) {\n            return style;\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module image/imagestyle/imagestyleediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport ImageStyleCommand from './imagestylecommand.js';\nimport ImageUtils from '../imageutils.js';\nimport utils from './utils.js';\nimport { viewToModelStyleAttribute, modelToViewStyleAttribute } from './converters.js';\n/**\n * The image style engine plugin. It sets the default configuration, creates converters and registers\n * {@link module:image/imagestyle/imagestylecommand~ImageStyleCommand ImageStyleCommand}.\n */\nexport default class ImageStyleEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageStyleEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageUtils];\n    }\n    /**\n     * It contains a list of the normalized and validated style options.\n     *\n     * * Each option contains a complete icon markup.\n     * * The style options not supported by any of the loaded image editing plugins (\n     * {@link module:image/image/imageinlineediting~ImageInlineEditing `ImageInlineEditing`} or\n     * {@link module:image/image/imageblockediting~ImageBlockEditing `ImageBlockEditing`}) are filtered out.\n     *\n     * @internal\n     * @readonly\n     */\n    normalizedStyles;\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const { normalizeStyles, getDefaultStylesConfiguration } = utils;\n        const editor = this.editor;\n        const isBlockPluginLoaded = editor.plugins.has('ImageBlockEditing');\n        const isInlinePluginLoaded = editor.plugins.has('ImageInlineEditing');\n        editor.config.define('image.styles', getDefaultStylesConfiguration(isBlockPluginLoaded, isInlinePluginLoaded));\n        this.normalizedStyles = normalizeStyles({\n            configuredStyles: editor.config.get('image.styles'),\n            isBlockPluginLoaded,\n            isInlinePluginLoaded\n        });\n        this._setupConversion(isBlockPluginLoaded, isInlinePluginLoaded);\n        this._setupPostFixer();\n        // Register imageStyle command.\n        editor.commands.add('imageStyle', new ImageStyleCommand(editor, this.normalizedStyles));\n    }\n    /**\n     * Sets the editor conversion taking the presence of\n     * {@link module:image/image/imageinlineediting~ImageInlineEditing `ImageInlineEditing`}\n     * and {@link module:image/image/imageblockediting~ImageBlockEditing `ImageBlockEditing`} plugins into consideration.\n     */\n    _setupConversion(isBlockPluginLoaded, isInlinePluginLoaded) {\n        const editor = this.editor;\n        const schema = editor.model.schema;\n        const modelToViewConverter = modelToViewStyleAttribute(this.normalizedStyles);\n        const viewToModelConverter = viewToModelStyleAttribute(this.normalizedStyles);\n        editor.editing.downcastDispatcher.on('attribute:imageStyle', modelToViewConverter);\n        editor.data.downcastDispatcher.on('attribute:imageStyle', modelToViewConverter);\n        // Allow imageStyle attribute in image and imageInline.\n        // We could call it 'style' but https://github.com/ckeditor/ckeditor5-engine/issues/559.\n        if (isBlockPluginLoaded) {\n            schema.extend('imageBlock', { allowAttributes: 'imageStyle' });\n            // Converter for figure element from view to model.\n            editor.data.upcastDispatcher.on('element:figure', viewToModelConverter, { priority: 'low' });\n        }\n        if (isInlinePluginLoaded) {\n            schema.extend('imageInline', { allowAttributes: 'imageStyle' });\n            // Converter for the img element from view to model.\n            editor.data.upcastDispatcher.on('element:img', viewToModelConverter, { priority: 'low' });\n        }\n    }\n    /**\n     * Registers a post-fixer that will make sure that the style attribute value is correct for a specific image type (block vs inline).\n     */\n    _setupPostFixer() {\n        const editor = this.editor;\n        const document = editor.model.document;\n        const imageUtils = editor.plugins.get(ImageUtils);\n        const stylesMap = new Map(this.normalizedStyles.map(style => [style.name, style]));\n        // Make sure that style attribute is valid for the image type.\n        document.registerPostFixer(writer => {\n            let changed = false;\n            for (const change of document.differ.getChanges()) {\n                if (change.type == 'insert' || change.type == 'attribute' && change.attributeKey == 'imageStyle') {\n                    let element = change.type == 'insert' ? change.position.nodeAfter : change.range.start.nodeAfter;\n                    if (element && element.is('element', 'paragraph') && element.childCount > 0) {\n                        element = element.getChild(0);\n                    }\n                    if (!imageUtils.isImage(element)) {\n                        continue;\n                    }\n                    const imageStyle = element.getAttribute('imageStyle');\n                    if (!imageStyle) {\n                        continue;\n                    }\n                    const imageStyleDefinition = stylesMap.get(imageStyle);\n                    if (!imageStyleDefinition || !imageStyleDefinition.modelElements.includes(element.name)) {\n                        writer.removeAttribute('imageStyle', element);\n                        changed = true;\n                    }\n                }\n            }\n            return changed;\n        });\n    }\n}\n","function isObject(value) {\n    return value !== null && (typeof value === 'object' || typeof value === 'function');\n}\n\nexport { isObject };\n","function identity(x) {\n    return x;\n}\n\nexport { identity };\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./imagestyle.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module image/imagestyle/imagestyleui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { ButtonView, createDropdown, addToolbarToDropdown, SplitButtonView } from 'ckeditor5/src/ui.js';\nimport { isObject, identity } from 'es-toolkit/compat';\nimport ImageStyleEditing from './imagestyleediting.js';\nimport utils from './utils.js';\nimport '../../theme/imagestyle.css';\n/**\n * The image style UI plugin.\n *\n * It registers buttons corresponding to the {@link module:image/imageconfig~ImageConfig#styles} configuration.\n * It also registers the {@link module:image/imagestyle/utils#DEFAULT_DROPDOWN_DEFINITIONS default drop-downs} and the\n * custom drop-downs defined by the developer in the {@link module:image/imageconfig~ImageConfig#toolbar} configuration.\n */\nexport default class ImageStyleUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageStyleEditing];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageStyleUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * Returns the default localized style titles provided by the plugin.\n     *\n     * The following localized titles corresponding with\n     * {@link module:image/imagestyle/utils#DEFAULT_OPTIONS} are available:\n     *\n     * * `'Wrap text'`,\n     * * `'Break text'`,\n     * * `'In line'`,\n     * * `'Full size image'`,\n     * * `'Side image'`,\n     * * `'Left aligned image'`,\n     * * `'Centered image'`,\n     * * `'Right aligned image'`\n     */\n    get localizedDefaultStylesTitles() {\n        const t = this.editor.t;\n        return {\n            'Wrap text': t('Wrap text'),\n            'Break text': t('Break text'),\n            'In line': t('In line'),\n            'Full size image': t('Full size image'),\n            'Side image': t('Side image'),\n            'Left aligned image': t('Left aligned image'),\n            'Centered image': t('Centered image'),\n            'Right aligned image': t('Right aligned image')\n        };\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const plugins = this.editor.plugins;\n        const toolbarConfig = this.editor.config.get('image.toolbar') || [];\n        const imageStyleEditing = plugins.get('ImageStyleEditing');\n        const definedStyles = translateStyles(imageStyleEditing.normalizedStyles, this.localizedDefaultStylesTitles);\n        for (const styleConfig of definedStyles) {\n            this._createButton(styleConfig);\n        }\n        const definedDropdowns = translateStyles([\n            ...toolbarConfig.filter(isObject),\n            ...utils.getDefaultDropdownDefinitions(plugins)\n        ], this.localizedDefaultStylesTitles);\n        for (const dropdownConfig of definedDropdowns) {\n            this._createDropdown(dropdownConfig, definedStyles);\n        }\n    }\n    /**\n     * Creates a dropdown and stores it in the editor {@link module:ui/componentfactory~ComponentFactory}.\n     */\n    _createDropdown(dropdownConfig, definedStyles) {\n        const factory = this.editor.ui.componentFactory;\n        factory.add(dropdownConfig.name, locale => {\n            let defaultButton;\n            const { defaultItem, items, title } = dropdownConfig;\n            const buttonViews = items\n                .filter(itemName => definedStyles.find(({ name }) => getUIComponentName(name) === itemName))\n                .map(buttonName => {\n                const button = factory.create(buttonName);\n                if (buttonName === defaultItem) {\n                    defaultButton = button;\n                }\n                return button;\n            });\n            if (items.length !== buttonViews.length) {\n                utils.warnInvalidStyle({ dropdown: dropdownConfig });\n            }\n            const dropdownView = createDropdown(locale, SplitButtonView);\n            const splitButtonView = dropdownView.buttonView;\n            const splitButtonViewArrow = splitButtonView.arrowView;\n            addToolbarToDropdown(dropdownView, buttonViews, { enableActiveItemFocusOnDropdownOpen: true });\n            splitButtonView.set({\n                label: getDropdownButtonTitle(title, defaultButton.label),\n                class: null,\n                tooltip: true\n            });\n            splitButtonViewArrow.unbind('label');\n            splitButtonViewArrow.set({\n                label: title\n            });\n            splitButtonView.bind('icon').toMany(buttonViews, 'isOn', (...areOn) => {\n                const index = areOn.findIndex(identity);\n                return (index < 0) ? defaultButton.icon : buttonViews[index].icon;\n            });\n            splitButtonView.bind('label').toMany(buttonViews, 'isOn', (...areOn) => {\n                const index = areOn.findIndex(identity);\n                return getDropdownButtonTitle(title, (index < 0) ? defaultButton.label : buttonViews[index].label);\n            });\n            splitButtonView.bind('isOn').toMany(buttonViews, 'isOn', (...areOn) => areOn.some(identity));\n            splitButtonView.bind('class')\n                .toMany(buttonViews, 'isOn', (...areOn) => areOn.some(identity) ? 'ck-splitbutton_flatten' : undefined);\n            splitButtonView.on('execute', () => {\n                if (!buttonViews.some(({ isOn }) => isOn)) {\n                    defaultButton.fire('execute');\n                }\n                else {\n                    dropdownView.isOpen = !dropdownView.isOpen;\n                }\n            });\n            dropdownView.bind('isEnabled')\n                .toMany(buttonViews, 'isEnabled', (...areEnabled) => areEnabled.some(identity));\n            // Focus the editable after executing the command.\n            // Overrides a default behaviour where the focus is moved to the dropdown button (#12125).\n            this.listenTo(dropdownView, 'execute', () => {\n                this.editor.editing.view.focus();\n            });\n            return dropdownView;\n        });\n    }\n    /**\n     * Creates a button and stores it in the editor {@link module:ui/componentfactory~ComponentFactory}.\n     */\n    _createButton(buttonConfig) {\n        const buttonName = buttonConfig.name;\n        this.editor.ui.componentFactory.add(getUIComponentName(buttonName), locale => {\n            const command = this.editor.commands.get('imageStyle');\n            const view = new ButtonView(locale);\n            view.set({\n                label: buttonConfig.title,\n                icon: buttonConfig.icon,\n                tooltip: true,\n                isToggleable: true\n            });\n            view.bind('isEnabled').to(command, 'isEnabled');\n            view.bind('isOn').to(command, 'value', value => value === buttonName);\n            view.on('execute', this._executeCommand.bind(this, buttonName));\n            return view;\n        });\n    }\n    _executeCommand(name) {\n        this.editor.execute('imageStyle', { value: name });\n        this.editor.editing.view.focus();\n    }\n}\n/**\n * Returns the translated `title` from the passed styles array.\n */\nfunction translateStyles(styles, titles) {\n    for (const style of styles) {\n        // Localize the titles of the styles, if a title corresponds with\n        // a localized default provided by the plugin.\n        if (titles[style.title]) {\n            style.title = titles[style.title];\n        }\n    }\n    return styles;\n}\n/**\n * Returns the image style component name with the \"imageStyle:\" prefix.\n */\nfunction getUIComponentName(name) {\n    return `imageStyle:${name}`;\n}\n/**\n * Returns title for the splitbutton containing the dropdown title and default action item title.\n */\nfunction getDropdownButtonTitle(dropdownTitle, buttonTitle) {\n    return (dropdownTitle ? dropdownTitle + ': ' : '') + buttonTitle;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module image/imagestyle\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport ImageStyleEditing from './imagestyle/imagestyleediting.js';\nimport ImageStyleUI from './imagestyle/imagestyleui.js';\n/**\n * The image style plugin.\n *\n * For a detailed overview of the image styles feature, check the {@glink features/images/images-styles documentation}.\n *\n * This is a \"glue\" plugin which loads the following plugins:\n * * {@link module:image/imagestyle/imagestyleediting~ImageStyleEditing},\n * * {@link module:image/imagestyle/imagestyleui~ImageStyleUI}\n *\n * It provides a default configuration, which can be extended or overwritten.\n * Read more about the {@link module:image/imageconfig~ImageConfig#styles image styles configuration}.\n */\nexport default class ImageStyle extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageStyleEditing, ImageStyleUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageStyle';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module image/imagetoolbar\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { WidgetToolbarRepository } from 'ckeditor5/src/widget.js';\nimport ImageUtils from './imageutils.js';\nimport { isObject } from 'es-toolkit/compat';\n/**\n * The image toolbar plugin. It creates and manages the image toolbar (the toolbar displayed when an image is selected).\n *\n * For an overview, check the {@glink features/images/images-overview#image-contextual-toolbar image contextual toolbar} documentation.\n *\n * Instances of toolbar components (e.g. buttons) are created using the editor's\n * {@link module:ui/componentfactory~ComponentFactory component factory}\n * based on the {@link module:image/imageconfig~ImageConfig#toolbar `image.toolbar` configuration option}.\n *\n * The toolbar uses the {@link module:ui/panel/balloon/contextualballoon~ContextualBalloon}.\n */\nexport default class ImageToolbar extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [WidgetToolbarRepository, ImageUtils];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageToolbar';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    afterInit() {\n        const editor = this.editor;\n        const t = editor.t;\n        const widgetToolbarRepository = editor.plugins.get(WidgetToolbarRepository);\n        const imageUtils = editor.plugins.get('ImageUtils');\n        widgetToolbarRepository.register('image', {\n            ariaLabel: t('Image toolbar'),\n            items: normalizeDeclarativeConfig(editor.config.get('image.toolbar') || []),\n            getRelatedElement: selection => imageUtils.getClosestSelectedImageWidget(selection)\n        });\n    }\n}\n/**\n * Convert the dropdown definitions to their keys registered in the ComponentFactory.\n * The registration precess should be handled by the plugin which handles the UI of a particular feature.\n */\nfunction normalizeDeclarativeConfig(config) {\n    return config.map(item => isObject(item) ? item.name : item);\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { LiveRange } from 'ckeditor5/src/engine.js';\nimport { first } from 'ckeditor5/src/utils.js';\n/**\n * The block autoformatting engine. It allows to format various block patterns. For example,\n * it can be configured to turn a paragraph starting with `*` and followed by a space into a list item.\n *\n * The autoformatting operation is integrated with the undo manager,\n * so the autoformatting step can be undone if the user's intention was not to format the text.\n *\n * See the {@link module:autoformat/blockautoformatediting~blockAutoformatEditing `blockAutoformatEditing`} documentation\n * to learn how to create custom block autoformatters. You can also use\n * the {@link module:autoformat/autoformat~Autoformat} feature which enables a set of default autoformatters\n * (lists, headings, bold and italic).\n *\n * @module autoformat/blockautoformatediting\n */\n/**\n * Creates a listener triggered on {@link module:engine/model/document~Document#event:change:data `change:data`} event in the document.\n * Calls the callback when inserted text matches the regular expression or the command name\n * if provided instead of the callback.\n *\n * Examples of usage:\n *\n * To convert a paragraph into heading 1 when `- ` is typed, using just the command name:\n *\n * ```ts\n * blockAutoformatEditing( editor, plugin, /^\\- $/, 'heading1' );\n * ```\n *\n * To convert a paragraph into heading 1 when `- ` is typed, using just the callback:\n *\n * ```ts\n * blockAutoformatEditing( editor, plugin, /^\\- $/, ( context ) => {\n * \tconst { match } = context;\n * \tconst headingLevel = match[ 1 ].length;\n *\n * \teditor.execute( 'heading', {\n * \t\tformatId: `heading${ headingLevel }`\n * \t} );\n * } );\n * ```\n *\n * @param editor The editor instance.\n * @param plugin The autoformat plugin instance.\n * @param pattern The regular expression to execute on just inserted text. The regular expression is tested against the text\n * from the beginning until the caret position.\n * @param callbackOrCommand The callback to execute or the command to run when the text is matched.\n * In case of providing the callback, it receives the following parameter:\n * * match RegExp.exec() result of matching the pattern to inserted text.\n */\nexport default function blockAutoformatEditing(editor, plugin, pattern, callbackOrCommand) {\n    let callback;\n    let command = null;\n    if (typeof callbackOrCommand == 'function') {\n        callback = callbackOrCommand;\n    }\n    else {\n        // We assume that the actual command name was provided.\n        command = editor.commands.get(callbackOrCommand);\n        callback = () => {\n            editor.execute(callbackOrCommand);\n        };\n    }\n    editor.model.document.on('change:data', (evt, batch) => {\n        if (command && !command.isEnabled || !plugin.isEnabled) {\n            return;\n        }\n        const range = first(editor.model.document.selection.getRanges());\n        if (!range.isCollapsed) {\n            return;\n        }\n        if (batch.isUndo || !batch.isLocal) {\n            return;\n        }\n        const changes = Array.from(editor.model.document.differ.getChanges());\n        const entry = changes[0];\n        // Typing is represented by only a single change.\n        if (changes.length != 1 || entry.type !== 'insert' || entry.name != '$text' || entry.length != 1) {\n            return;\n        }\n        const blockToFormat = entry.position.parent;\n        // Block formatting should be disabled in codeBlocks (#5800).\n        if (blockToFormat.is('element', 'codeBlock')) {\n            return;\n        }\n        // Only list commands and custom callbacks can be applied inside a list.\n        if (blockToFormat.is('element', 'listItem') &&\n            typeof callbackOrCommand !== 'function' &&\n            !['numberedList', 'bulletedList', 'todoList'].includes(callbackOrCommand)) {\n            return;\n        }\n        // In case a command is bound, do not re-execute it over an existing block style which would result in a style removal.\n        // Instead, just drop processing so that autoformat trigger text is not lost. E.g. writing \"# \" in a level 1 heading.\n        if (command && command.value === true) {\n            return;\n        }\n        const firstNode = blockToFormat.getChild(0);\n        const firstNodeRange = editor.model.createRangeOn(firstNode);\n        // Range is only expected to be within or at the very end of the first text node.\n        if (!firstNodeRange.containsRange(range) && !range.end.isEqual(firstNodeRange.end)) {\n            return;\n        }\n        const match = pattern.exec(firstNode.data.substr(0, range.end.offset));\n        // ...and this text node's data match the pattern.\n        if (!match) {\n            return;\n        }\n        // Use enqueueChange to create new batch to separate typing batch from the auto-format changes.\n        editor.model.enqueueChange(writer => {\n            // Matched range.\n            const start = writer.createPositionAt(blockToFormat, 0);\n            const end = writer.createPositionAt(blockToFormat, match[0].length);\n            const range = new LiveRange(start, end);\n            const wasChanged = callback({ match });\n            // Remove matched text.\n            if (wasChanged !== false) {\n                writer.remove(range);\n                const selectionRange = editor.model.document.selection.getFirstRange();\n                const blockRange = writer.createRangeIn(blockToFormat);\n                // If the block is empty and the document selection has been moved when\n                // applying formatting (e.g. is now in newly created block).\n                if (blockToFormat.isEmpty && !blockRange.isEqual(selectionRange) && !blockRange.containsRange(selectionRange, true)) {\n                    writer.remove(blockToFormat);\n                }\n            }\n            range.detach();\n            editor.model.enqueueChange(() => {\n                const deletePlugin = editor.plugins.get('Delete');\n                deletePlugin.requestUndoOnBackspace();\n            });\n        });\n    });\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * Enables autoformatting mechanism for a given {@link module:core/editor/editor~Editor}.\n *\n * It formats the matched text by applying the given model attribute or by running the provided formatting callback.\n * On every {@link module:engine/model/document~Document#event:change:data data change} in the model document\n * the autoformatting engine checks the text on the left of the selection\n * and executes the provided action if the text matches given criteria (regular expression or callback).\n *\n * @param editor The editor instance.\n * @param plugin The autoformat plugin instance.\n * @param testRegexpOrCallback The regular expression or callback to execute on text.\n * Provided regular expression *must* have three capture groups. The first and the third capture group\n * should match opening and closing delimiters. The second capture group should match the text to format.\n *\n * ```ts\n * // Matches the `**bold text**` pattern.\n * // There are three capturing groups:\n * // - The first to match the starting `**` delimiter.\n * // - The second to match the text to format.\n * // - The third to match the ending `**` delimiter.\n * inlineAutoformatEditing( editor, plugin, /(\\*\\*)([^\\*]+?)(\\*\\*)$/g, formatCallback );\n * ```\n *\n * When a function is provided instead of the regular expression, it will be executed with the text to match as a parameter.\n * The function should return proper \"ranges\" to delete and format.\n *\n * ```ts\n * {\n * \tremove: [\n * \t\t[ 0, 1 ],\t// Remove the first letter from the given text.\n * \t\t[ 5, 6 ]\t// Remove the 6th letter from the given text.\n * \t],\n * \tformat: [\n * \t\t[ 1, 5 ]\t// Format all letters from 2nd to 5th.\n * \t]\n * }\n * ```\n *\n * @param formatCallback A callback to apply actual formatting.\n * It should return `false` if changes should not be applied (e.g. if a command is disabled).\n *\n * ```ts\n * inlineAutoformatEditing( editor, plugin, /(\\*\\*)([^\\*]+?)(\\*\\*)$/g, ( writer, rangesToFormat ) => {\n * \tconst command = editor.commands.get( 'bold' );\n *\n * \tif ( !command.isEnabled ) {\n * \t\treturn false;\n * \t}\n *\n * \tconst validRanges = editor.model.schema.getValidRanges( rangesToFormat, 'bold' );\n *\n * \tfor ( let range of validRanges ) {\n * \t\twriter.setAttribute( 'bold', true, range );\n * \t}\n * } );\n * ```\n */\nexport default function inlineAutoformatEditing(editor, plugin, testRegexpOrCallback, formatCallback) {\n    let regExp;\n    let testCallback;\n    if (testRegexpOrCallback instanceof RegExp) {\n        regExp = testRegexpOrCallback;\n    }\n    else {\n        testCallback = testRegexpOrCallback;\n    }\n    // A test callback run on changed text.\n    testCallback = testCallback || (text => {\n        let result;\n        const remove = [];\n        const format = [];\n        while ((result = regExp.exec(text)) !== null) {\n            // There should be full match and 3 capture groups.\n            if (result && result.length < 4) {\n                break;\n            }\n            let { index, '1': leftDel, '2': content, '3': rightDel } = result;\n            // Real matched string - there might be some non-capturing groups so we need to recalculate starting index.\n            const found = leftDel + content + rightDel;\n            index += result[0].length - found.length;\n            // Start and End offsets of delimiters to remove.\n            const delStart = [\n                index,\n                index + leftDel.length\n            ];\n            const delEnd = [\n                index + leftDel.length + content.length,\n                index + leftDel.length + content.length + rightDel.length\n            ];\n            remove.push(delStart);\n            remove.push(delEnd);\n            format.push([index + leftDel.length, index + leftDel.length + content.length]);\n        }\n        return {\n            remove,\n            format\n        };\n    });\n    editor.model.document.on('change:data', (evt, batch) => {\n        if (batch.isUndo || !batch.isLocal || !plugin.isEnabled) {\n            return;\n        }\n        const model = editor.model;\n        const selection = model.document.selection;\n        // Do nothing if selection is not collapsed.\n        if (!selection.isCollapsed) {\n            return;\n        }\n        const changes = Array.from(model.document.differ.getChanges());\n        const entry = changes[0];\n        // Typing is represented by only a single change.\n        if (changes.length != 1 || entry.type !== 'insert' || entry.name != '$text' || entry.length != 1) {\n            return;\n        }\n        const focus = selection.focus;\n        const block = focus.parent;\n        const { text, range } = getTextAfterCode(model.createRange(model.createPositionAt(block, 0), focus), model);\n        const testOutput = testCallback(text);\n        const rangesToFormat = testOutputToRanges(range.start, testOutput.format, model);\n        const rangesToRemove = testOutputToRanges(range.start, testOutput.remove, model);\n        if (!(rangesToFormat.length && rangesToRemove.length)) {\n            return;\n        }\n        // Use enqueueChange to create new batch to separate typing batch from the auto-format changes.\n        model.enqueueChange(writer => {\n            // Apply format.\n            const hasChanged = formatCallback(writer, rangesToFormat);\n            // Strict check on `false` to have backward compatibility (when callbacks were returning `undefined`).\n            if (hasChanged === false) {\n                return;\n            }\n            // Remove delimiters - use reversed order to not mix the offsets while removing.\n            for (const range of rangesToRemove.reverse()) {\n                writer.remove(range);\n            }\n            model.enqueueChange(() => {\n                const deletePlugin = editor.plugins.get('Delete');\n                deletePlugin.requestUndoOnBackspace();\n            });\n        });\n    });\n}\n/**\n * Converts output of the test function provided to the inlineAutoformatEditing and converts it to the model ranges\n * inside provided block.\n */\nfunction testOutputToRanges(start, arrays, model) {\n    return arrays\n        .filter(array => (array[0] !== undefined && array[1] !== undefined))\n        .map(array => {\n        return model.createRange(start.getShiftedBy(array[0]), start.getShiftedBy(array[1]));\n    });\n}\n/**\n * Returns the last text line after the last code element from the given range.\n * It is similar to {@link module:typing/utils/getlasttextline.getLastTextLine `getLastTextLine()`},\n * but it ignores any text before the last `code`.\n */\nfunction getTextAfterCode(range, model) {\n    let start = range.start;\n    const text = Array.from(range.getItems()).reduce((rangeText, node) => {\n        // Trim text to a last occurrence of an inline element and update range start.\n        if (!(node.is('$text') || node.is('$textProxy')) || node.getAttribute('code')) {\n            start = model.createPositionAfter(node);\n            return '';\n        }\n        return rangeText + node.data;\n    }, '');\n    return { text, range: model.createRange(start, range.end) };\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Delete } from 'ckeditor5/src/typing.js';\nimport blockAutoformatEditing from './blockautoformatediting.js';\nimport inlineAutoformatEditing from './inlineautoformatediting.js';\n/**\n * Enables a set of predefined autoformatting actions.\n *\n * For a detailed overview, check the {@glink features/autoformat Autoformatting} feature guide\n * and the {@glink api/autoformat package page}.\n */\nexport default class Autoformat extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [Delete];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'Autoformat';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    afterInit() {\n        const editor = this.editor;\n        const t = this.editor.t;\n        this._addListAutoformats();\n        this._addBasicStylesAutoformats();\n        this._addHeadingAutoformats();\n        this._addBlockQuoteAutoformats();\n        this._addCodeBlockAutoformats();\n        this._addHorizontalLineAutoformats();\n        // Add the information about the keystroke to the accessibility database.\n        editor.accessibility.addKeystrokeInfos({\n            keystrokes: [\n                {\n                    label: t('Revert autoformatting action'),\n                    keystroke: 'Backspace'\n                }\n            ]\n        });\n    }\n    /**\n     * Adds autoformatting related to the {@link module:list/list~List}.\n     *\n     * When typed:\n     * - `* ` or `- ` &ndash; A paragraph will be changed into a bulleted list.\n     * - `1. ` or `1) ` &ndash; A paragraph will be changed into a numbered list (\"1\" can be any digit or a list of digits).\n     * - `[] ` or `[ ] ` &ndash; A paragraph will be changed into a to-do list.\n     * - `[x] ` or `[ x ] ` &ndash; A paragraph will be changed into a checked to-do list.\n     */\n    _addListAutoformats() {\n        const commands = this.editor.commands;\n        if (commands.get('bulletedList')) {\n            blockAutoformatEditing(this.editor, this, /^[*-]\\s$/, 'bulletedList');\n        }\n        if (commands.get('numberedList')) {\n            blockAutoformatEditing(this.editor, this, /^1[.|)]\\s$/, 'numberedList');\n        }\n        if (commands.get('todoList')) {\n            blockAutoformatEditing(this.editor, this, /^\\[\\s?\\]\\s$/, 'todoList');\n        }\n        if (commands.get('checkTodoList')) {\n            blockAutoformatEditing(this.editor, this, /^\\[\\s?x\\s?\\]\\s$/, () => {\n                this.editor.execute('todoList');\n                this.editor.execute('checkTodoList');\n            });\n        }\n    }\n    /**\n     * Adds autoformatting related to the {@link module:basic-styles/bold~Bold},\n     * {@link module:basic-styles/italic~Italic}, {@link module:basic-styles/code~Code}\n     * and {@link module:basic-styles/strikethrough~Strikethrough}\n     *\n     * When typed:\n     * - `**foobar**` &ndash; `**` characters are removed and `foobar` is set to bold,\n     * - `__foobar__` &ndash; `__` characters are removed and `foobar` is set to bold,\n     * - `*foobar*` &ndash; `*` characters are removed and `foobar` is set to italic,\n     * - `_foobar_` &ndash; `_` characters are removed and `foobar` is set to italic,\n     * - ``` `foobar` &ndash; ``` ` ``` characters are removed and `foobar` is set to code,\n     * - `~~foobar~~` &ndash; `~~` characters are removed and `foobar` is set to strikethrough.\n     */\n    _addBasicStylesAutoformats() {\n        const commands = this.editor.commands;\n        if (commands.get('bold')) {\n            const boldCallback = getCallbackFunctionForInlineAutoformat(this.editor, 'bold');\n            inlineAutoformatEditing(this.editor, this, /(?:^|\\s)(\\*\\*)([^*]+)(\\*\\*)$/g, boldCallback);\n            inlineAutoformatEditing(this.editor, this, /(?:^|\\s)(__)([^_]+)(__)$/g, boldCallback);\n        }\n        if (commands.get('italic')) {\n            const italicCallback = getCallbackFunctionForInlineAutoformat(this.editor, 'italic');\n            // The italic autoformatter cannot be triggered by the bold markers, so we need to check the\n            // text before the pattern (e.g. `(?:^|[^\\*])`).\n            inlineAutoformatEditing(this.editor, this, /(?:^|\\s)(\\*)([^*_]+)(\\*)$/g, italicCallback);\n            inlineAutoformatEditing(this.editor, this, /(?:^|\\s)(_)([^_]+)(_)$/g, italicCallback);\n        }\n        if (commands.get('code')) {\n            const codeCallback = getCallbackFunctionForInlineAutoformat(this.editor, 'code');\n            inlineAutoformatEditing(this.editor, this, /(`)([^`]+)(`)$/g, codeCallback);\n        }\n        if (commands.get('strikethrough')) {\n            const strikethroughCallback = getCallbackFunctionForInlineAutoformat(this.editor, 'strikethrough');\n            inlineAutoformatEditing(this.editor, this, /(~~)([^~]+)(~~)$/g, strikethroughCallback);\n        }\n    }\n    /**\n     * Adds autoformatting related to {@link module:heading/heading~Heading}.\n     *\n     * It is using a number at the end of the command name to associate it with the proper trigger:\n     *\n     * * `heading` with a `heading1` value will be executed when typing `#`,\n     * * `heading` with a `heading2` value will be executed when typing `##`,\n     * * ... up to `heading6` for `######`.\n     */\n    _addHeadingAutoformats() {\n        const command = this.editor.commands.get('heading');\n        if (command) {\n            command.modelElements\n                .filter(name => name.match(/^heading[1-6]$/))\n                .forEach(modelName => {\n                const level = modelName[7];\n                const pattern = new RegExp(`^(#{${level}})\\\\s$`);\n                blockAutoformatEditing(this.editor, this, pattern, () => {\n                    // Should only be active if command is enabled and heading style associated with pattern is inactive.\n                    if (!command.isEnabled || command.value === modelName) {\n                        return false;\n                    }\n                    this.editor.execute('heading', { value: modelName });\n                });\n            });\n        }\n    }\n    /**\n     * Adds autoformatting related to {@link module:block-quote/blockquote~BlockQuote}.\n     *\n     * When typed:\n     * * `> ` &ndash; A paragraph will be changed to a block quote.\n     */\n    _addBlockQuoteAutoformats() {\n        if (this.editor.commands.get('blockQuote')) {\n            blockAutoformatEditing(this.editor, this, /^>\\s$/, 'blockQuote');\n        }\n    }\n    /**\n     * Adds autoformatting related to {@link module:code-block/codeblock~CodeBlock}.\n     *\n     * When typed:\n     * - `` ``` `` &ndash; A paragraph will be changed to a code block.\n     */\n    _addCodeBlockAutoformats() {\n        const editor = this.editor;\n        const selection = editor.model.document.selection;\n        if (editor.commands.get('codeBlock')) {\n            blockAutoformatEditing(editor, this, /^```$/, () => {\n                if (selection.getFirstPosition().parent.is('element', 'listItem')) {\n                    return false;\n                }\n                this.editor.execute('codeBlock', {\n                    usePreviousLanguageChoice: true\n                });\n            });\n        }\n    }\n    /**\n     * Adds autoformatting related to {@link module:horizontal-line/horizontalline~HorizontalLine}.\n     *\n     * When typed:\n     * - `` --- `` &ndash; Will be replaced with a horizontal line.\n     */\n    _addHorizontalLineAutoformats() {\n        if (this.editor.commands.get('horizontalLine')) {\n            blockAutoformatEditing(this.editor, this, /^---$/, 'horizontalLine');\n        }\n    }\n}\n/**\n * Helper function for getting `inlineAutoformatEditing` callbacks that checks if command is enabled.\n */\nfunction getCallbackFunctionForInlineAutoformat(editor, attributeKey) {\n    return (writer, rangesToFormat) => {\n        const command = editor.commands.get(attributeKey);\n        if (!command.isEnabled) {\n            return false;\n        }\n        const validRanges = editor.model.schema.getValidRanges(rangesToFormat, attributeKey);\n        for (const range of validRanges) {\n            writer.setAttribute(attributeKey, true, range);\n        }\n        // After applying attribute to the text, remove given attribute from the selection.\n        // This way user is able to type a text without attribute used by auto formatter.\n        writer.removeSelectionAttribute(attributeKey);\n    };\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module block-quote/blockquotecommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { first } from 'ckeditor5/src/utils.js';\n/**\n * The block quote command plugin.\n *\n * @extends module:core/command~Command\n */\nexport default class BlockQuoteCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        this.value = this._getValue();\n        this.isEnabled = this._checkEnabled();\n    }\n    /**\n     * Executes the command. When the command {@link #value is on}, all top-most block quotes within\n     * the selection will be removed. If it is off, all selected blocks will be wrapped with\n     * a block quote.\n     *\n     * @fires execute\n     * @param options Command options.\n     * @param options.forceValue If set, it will force the command behavior. If `true`, the command will apply a block quote,\n     * otherwise the command will remove the block quote. If not set, the command will act basing on its current value.\n     */\n    execute(options = {}) {\n        const model = this.editor.model;\n        const schema = model.schema;\n        const selection = model.document.selection;\n        const blocks = Array.from(selection.getSelectedBlocks());\n        const value = (options.forceValue === undefined) ? !this.value : options.forceValue;\n        model.change(writer => {\n            if (!value) {\n                this._removeQuote(writer, blocks.filter(findQuote));\n            }\n            else {\n                const blocksToQuote = blocks.filter(block => {\n                    // Already quoted blocks needs to be considered while quoting too\n                    // in order to reuse their <bQ> elements.\n                    return findQuote(block) || checkCanBeQuoted(schema, block);\n                });\n                this._applyQuote(writer, blocksToQuote);\n            }\n        });\n    }\n    /**\n     * Checks the command's {@link #value}.\n     */\n    _getValue() {\n        const selection = this.editor.model.document.selection;\n        const firstBlock = first(selection.getSelectedBlocks());\n        // In the current implementation, the block quote must be an immediate parent of a block element.\n        return !!(firstBlock && findQuote(firstBlock));\n    }\n    /**\n     * Checks whether the command can be enabled in the current context.\n     *\n     * @returns Whether the command should be enabled.\n     */\n    _checkEnabled() {\n        if (this.value) {\n            return true;\n        }\n        const selection = this.editor.model.document.selection;\n        const schema = this.editor.model.schema;\n        const firstBlock = first(selection.getSelectedBlocks());\n        if (!firstBlock) {\n            return false;\n        }\n        return checkCanBeQuoted(schema, firstBlock);\n    }\n    /**\n     * Removes the quote from given blocks.\n     *\n     * If blocks which are supposed to be \"unquoted\" are in the middle of a quote,\n     * start it or end it, then the quote will be split (if needed) and the blocks\n     * will be moved out of it, so other quoted blocks remained quoted.\n     */\n    _removeQuote(writer, blocks) {\n        // Unquote all groups of block. Iterate in the reverse order to not break following ranges.\n        getRangesOfBlockGroups(writer, blocks).reverse().forEach(groupRange => {\n            if (groupRange.start.isAtStart && groupRange.end.isAtEnd) {\n                writer.unwrap(groupRange.start.parent);\n                return;\n            }\n            // The group of blocks are at the beginning of an <bQ> so let's move them left (out of the <bQ>).\n            if (groupRange.start.isAtStart) {\n                const positionBefore = writer.createPositionBefore(groupRange.start.parent);\n                writer.move(groupRange, positionBefore);\n                return;\n            }\n            // The blocks are in the middle of an <bQ> so we need to split the <bQ> after the last block\n            // so we move the items there.\n            if (!groupRange.end.isAtEnd) {\n                writer.split(groupRange.end);\n            }\n            // Now we are sure that groupRange.end.isAtEnd is true, so let's move the blocks right.\n            const positionAfter = writer.createPositionAfter(groupRange.end.parent);\n            writer.move(groupRange, positionAfter);\n        });\n    }\n    /**\n     * Applies the quote to given blocks.\n     */\n    _applyQuote(writer, blocks) {\n        const quotesToMerge = [];\n        // Quote all groups of block. Iterate in the reverse order to not break following ranges.\n        getRangesOfBlockGroups(writer, blocks).reverse().forEach(groupRange => {\n            let quote = findQuote(groupRange.start);\n            if (!quote) {\n                quote = writer.createElement('blockQuote');\n                writer.wrap(groupRange, quote);\n            }\n            quotesToMerge.push(quote);\n        });\n        // Merge subsequent <bQ> elements. Reverse the order again because this time we want to go through\n        // the <bQ> elements in the source order (due to how merge works – it moves the right element's content\n        // to the first element and removes the right one. Since we may need to merge a couple of subsequent `<bQ>` elements\n        // we want to keep the reference to the first (furthest left) one.\n        quotesToMerge.reverse().reduce((currentQuote, nextQuote) => {\n            if (currentQuote.nextSibling == nextQuote) {\n                writer.merge(writer.createPositionAfter(currentQuote));\n                return currentQuote;\n            }\n            return nextQuote;\n        });\n    }\n}\nfunction findQuote(elementOrPosition) {\n    return elementOrPosition.parent.name == 'blockQuote' ? elementOrPosition.parent : null;\n}\n/**\n * Returns a minimal array of ranges containing groups of subsequent blocks.\n *\n * content:         abcdefgh\n * blocks:          [ a, b, d, f, g, h ]\n * output ranges:   [ab]c[d]e[fgh]\n */\nfunction getRangesOfBlockGroups(writer, blocks) {\n    let startPosition;\n    let i = 0;\n    const ranges = [];\n    while (i < blocks.length) {\n        const block = blocks[i];\n        const nextBlock = blocks[i + 1];\n        if (!startPosition) {\n            startPosition = writer.createPositionBefore(block);\n        }\n        if (!nextBlock || block.nextSibling != nextBlock) {\n            ranges.push(writer.createRange(startPosition, writer.createPositionAfter(block)));\n            startPosition = null;\n        }\n        i++;\n    }\n    return ranges;\n}\n/**\n * Checks whether <bQ> can wrap the block.\n */\nfunction checkCanBeQuoted(schema, block) {\n    // TMP will be replaced with schema.checkWrap().\n    const isBQAllowed = schema.checkChild(block.parent, 'blockQuote');\n    const isBlockAllowedInBQ = schema.checkChild(['$root', 'blockQuote'], block);\n    return isBQAllowed && isBlockAllowedInBQ;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module block-quote/blockquoteediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Enter } from 'ckeditor5/src/enter.js';\nimport { Delete } from 'ckeditor5/src/typing.js';\nimport BlockQuoteCommand from './blockquotecommand.js';\n/**\n * The block quote editing.\n *\n * Introduces the `'blockQuote'` command and the `'blockQuote'` model element.\n *\n * @extends module:core/plugin~Plugin\n */\nexport default class BlockQuoteEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'BlockQuoteEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [Enter, Delete];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const schema = editor.model.schema;\n        editor.commands.add('blockQuote', new BlockQuoteCommand(editor));\n        schema.register('blockQuote', {\n            inheritAllFrom: '$container'\n        });\n        editor.conversion.elementToElement({ model: 'blockQuote', view: 'blockquote' });\n        // Postfixer which cleans incorrect model states connected with block quotes.\n        editor.model.document.registerPostFixer(writer => {\n            const changes = editor.model.document.differ.getChanges();\n            for (const entry of changes) {\n                if (entry.type == 'insert') {\n                    const element = entry.position.nodeAfter;\n                    if (!element) {\n                        // We are inside a text node.\n                        continue;\n                    }\n                    if (element.is('element', 'blockQuote') && element.isEmpty) {\n                        // Added an empty blockQuote - remove it.\n                        writer.remove(element);\n                        return true;\n                    }\n                    else if (element.is('element', 'blockQuote') && !schema.checkChild(entry.position, element)) {\n                        // Added a blockQuote in incorrect place. Unwrap it so the content inside is not lost.\n                        writer.unwrap(element);\n                        return true;\n                    }\n                    else if (element.is('element')) {\n                        // Just added an element. Check that all children meet the scheme rules.\n                        const range = writer.createRangeIn(element);\n                        for (const child of range.getItems()) {\n                            if (child.is('element', 'blockQuote') &&\n                                !schema.checkChild(writer.createPositionBefore(child), child)) {\n                                writer.unwrap(child);\n                                return true;\n                            }\n                        }\n                    }\n                }\n                else if (entry.type == 'remove') {\n                    const parent = entry.position.parent;\n                    if (parent.is('element', 'blockQuote') && parent.isEmpty) {\n                        // Something got removed and now blockQuote is empty. Remove the blockQuote as well.\n                        writer.remove(parent);\n                        return true;\n                    }\n                }\n            }\n            return false;\n        });\n        const viewDocument = this.editor.editing.view.document;\n        const selection = editor.model.document.selection;\n        const blockQuoteCommand = editor.commands.get('blockQuote');\n        // Overwrite default Enter key behavior.\n        // If Enter key is pressed with selection collapsed in empty block inside a quote, break the quote.\n        this.listenTo(viewDocument, 'enter', (evt, data) => {\n            if (!selection.isCollapsed || !blockQuoteCommand.value) {\n                return;\n            }\n            const positionParent = selection.getLastPosition().parent;\n            if (positionParent.isEmpty) {\n                editor.execute('blockQuote');\n                editor.editing.view.scrollToTheSelection();\n                data.preventDefault();\n                evt.stop();\n            }\n        }, { context: 'blockquote' });\n        // Overwrite default Backspace key behavior.\n        // If Backspace key is pressed with selection collapsed in first empty block inside a quote, break the quote.\n        this.listenTo(viewDocument, 'delete', (evt, data) => {\n            if (data.direction != 'backward' || !selection.isCollapsed || !blockQuoteCommand.value) {\n                return;\n            }\n            const positionParent = selection.getLastPosition().parent;\n            if (positionParent.isEmpty && !positionParent.previousSibling) {\n                editor.execute('blockQuote');\n                editor.editing.view.scrollToTheSelection();\n                data.preventDefault();\n                evt.stop();\n            }\n        }, { context: 'blockquote' });\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./blockquote.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module block-quote/blockquoteui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { IconQuote } from 'ckeditor5/src/icons.js';\nimport { ButtonView, MenuBarMenuListItemButtonView } from 'ckeditor5/src/ui.js';\nimport '../theme/blockquote.css';\n/**\n * The block quote UI plugin.\n *\n * It introduces the `'blockQuote'` button.\n *\n * @extends module:core/plugin~Plugin\n */\nexport default class BlockQuoteUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'BlockQuoteUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        editor.ui.componentFactory.add('blockQuote', () => {\n            const buttonView = this._createButton(ButtonView);\n            buttonView.set({\n                tooltip: true\n            });\n            return buttonView;\n        });\n        editor.ui.componentFactory.add('menuBar:blockQuote', () => {\n            const buttonView = this._createButton(MenuBarMenuListItemButtonView);\n            buttonView.set({\n                role: 'menuitemcheckbox'\n            });\n            return buttonView;\n        });\n    }\n    /**\n     * Creates a button for block quote command to use either in toolbar or in menu bar.\n     */\n    _createButton(ButtonClass) {\n        const editor = this.editor;\n        const locale = editor.locale;\n        const command = editor.commands.get('blockQuote');\n        const view = new ButtonClass(editor.locale);\n        const t = locale.t;\n        view.set({\n            label: t('Block quote'),\n            icon: IconQuote,\n            isToggleable: true\n        });\n        view.bind('isEnabled').to(command, 'isEnabled');\n        view.bind('isOn').to(command, 'value');\n        // Execute the command.\n        this.listenTo(view, 'execute', () => {\n            editor.execute('blockQuote');\n            editor.editing.view.focus();\n        });\n        return view;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module block-quote/blockquote\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport BlockQuoteEditing from './blockquoteediting.js';\nimport BlockQuoteUI from './blockquoteui.js';\n/**\n * The block quote plugin.\n *\n * For more information about this feature check the {@glink api/block-quote package page}.\n *\n * This is a \"glue\" plugin which loads the {@link module:block-quote/blockquoteediting~BlockQuoteEditing block quote editing feature}\n * and {@link module:block-quote/blockquoteui~BlockQuoteUI block quote UI feature}.\n *\n * @extends module:core/plugin~Plugin\n */\nexport default class BlockQuote extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [BlockQuoteEditing, BlockQuoteUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'BlockQuote';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module basic-styles/attributecommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\n/**\n * An extension of the base {@link module:core/command~Command} class, which provides utilities for a command\n * that toggles a single attribute on a text or an element.\n *\n * `AttributeCommand` uses {@link module:engine/model/document~Document#selection}\n * to decide which nodes (if any) should be changed, and applies or removes the attribute from them.\n *\n * The command checks the {@link module:engine/model/model~Model#schema} to decide if it can be enabled\n * for the current selection and to which nodes the attribute can be applied.\n */\nexport default class AttributeCommand extends Command {\n    /**\n     * The attribute that will be set by the command.\n     */\n    attributeKey;\n    /**\n     * @param attributeKey Attribute that will be set by the command.\n     */\n    constructor(editor, attributeKey) {\n        super(editor);\n        this.attributeKey = attributeKey;\n    }\n    /**\n     * Updates the command's {@link #value} and {@link #isEnabled} based on the current selection.\n     */\n    refresh() {\n        const model = this.editor.model;\n        const doc = model.document;\n        this.value = this._getValueFromFirstAllowedNode();\n        this.isEnabled = model.schema.checkAttributeInSelection(doc.selection, this.attributeKey);\n    }\n    /**\n     * Executes the command &ndash; applies the attribute to the selection or removes it from the selection.\n     *\n     * If the command is active (`value == true`), it will remove attributes. Otherwise, it will set attributes.\n     *\n     * The execution result differs, depending on the {@link module:engine/model/document~Document#selection}:\n     *\n     * * If the selection is on a range, the command applies the attribute to all nodes in that range\n     * (if they are allowed to have this attribute by the {@link module:engine/model/schema~Schema schema}).\n     * * If the selection is collapsed in a non-empty node, the command applies the attribute to the\n     * {@link module:engine/model/document~Document#selection} itself (note that typed characters copy attributes from the selection).\n     * * If the selection is collapsed in an empty node, the command applies the attribute to the parent node of the selection (note\n     * that the selection inherits all attributes from a node if it is in an empty node).\n     *\n     * @fires execute\n     * @param options Command options.\n     * @param options.forceValue If set, it will force the command behavior. If `true`,\n     * the command will apply the attribute, otherwise the command will remove the attribute.\n     * If not set, the command will look for its current value to decide what it should do.\n     */\n    execute(options = {}) {\n        const model = this.editor.model;\n        const doc = model.document;\n        const selection = doc.selection;\n        const value = (options.forceValue === undefined) ? !this.value : options.forceValue;\n        model.change(writer => {\n            if (selection.isCollapsed) {\n                if (value) {\n                    writer.setSelectionAttribute(this.attributeKey, true);\n                }\n                else {\n                    writer.removeSelectionAttribute(this.attributeKey);\n                }\n            }\n            else {\n                const ranges = model.schema.getValidRanges(selection.getRanges(), this.attributeKey);\n                for (const range of ranges) {\n                    if (value) {\n                        writer.setAttribute(this.attributeKey, value, range);\n                    }\n                    else {\n                        writer.removeAttribute(this.attributeKey, range);\n                    }\n                }\n            }\n        });\n    }\n    /**\n     * Checks the attribute value of the first node in the selection that allows the attribute.\n     * For the collapsed selection returns the selection attribute.\n     *\n     * @returns The attribute value.\n     */\n    _getValueFromFirstAllowedNode() {\n        const model = this.editor.model;\n        const schema = model.schema;\n        const selection = model.document.selection;\n        if (selection.isCollapsed) {\n            return selection.hasAttribute(this.attributeKey);\n        }\n        for (const range of selection.getRanges()) {\n            for (const item of range.getItems()) {\n                if (schema.checkAttribute(item, this.attributeKey)) {\n                    return item.hasAttribute(this.attributeKey);\n                }\n            }\n        }\n        return false;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module basic-styles/bold/boldediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport AttributeCommand from '../attributecommand.js';\nconst BOLD = 'bold';\n/**\n * The bold editing feature.\n *\n * It registers the `'bold'` command and introduces the `bold` attribute in the model which renders to the view\n * as a `<strong>` element.\n */\nexport default class BoldEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'BoldEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = this.editor.t;\n        // Allow bold attribute on text nodes.\n        editor.model.schema.extend('$text', { allowAttributes: BOLD });\n        editor.model.schema.setAttributeProperties(BOLD, {\n            isFormatting: true,\n            copyOnEnter: true\n        });\n        // Build converter from model to view for data and editing pipelines.\n        editor.conversion.attributeToElement({\n            model: BOLD,\n            view: 'strong',\n            upcastAlso: [\n                'b',\n                viewElement => {\n                    const fontWeight = viewElement.getStyle('font-weight');\n                    if (!fontWeight) {\n                        return null;\n                    }\n                    // Value of the `font-weight` attribute can be defined as a string or a number.\n                    if (fontWeight == 'bold' || Number(fontWeight) >= 600) {\n                        return {\n                            name: true,\n                            styles: ['font-weight']\n                        };\n                    }\n                    return null;\n                }\n            ]\n        });\n        // Create bold command.\n        editor.commands.add(BOLD, new AttributeCommand(editor, BOLD));\n        // Set the Ctrl+B keystroke.\n        editor.keystrokes.set('CTRL+B', BOLD);\n        // Add the information about the keystroke to the accessibility database.\n        editor.accessibility.addKeystrokeInfos({\n            keystrokes: [\n                {\n                    label: t('Bold text'),\n                    keystroke: 'CTRL+B'\n                }\n            ]\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { MenuBarMenuListItemButtonView } from 'ckeditor5/src/ui.js';\n/**\n * Returns a function that creates a (toolbar or menu bar) button for a basic style feature.\n */\nexport function getButtonCreator({ editor, commandName, plugin, icon, label, keystroke }) {\n    return (ButtonClass) => {\n        const command = editor.commands.get(commandName);\n        const view = new ButtonClass(editor.locale);\n        view.set({\n            label,\n            icon,\n            keystroke,\n            isToggleable: true\n        });\n        view.bind('isEnabled').to(command, 'isEnabled');\n        view.bind('isOn').to(command, 'value');\n        if (view instanceof MenuBarMenuListItemButtonView) {\n            view.set({\n                role: 'menuitemcheckbox'\n            });\n        }\n        else {\n            view.set({\n                tooltip: true\n            });\n        }\n        // Execute the command.\n        plugin.listenTo(view, 'execute', () => {\n            editor.execute(commandName);\n            editor.editing.view.focus();\n        });\n        return view;\n    };\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module basic-styles/bold/boldui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { IconBold } from 'ckeditor5/src/icons.js';\nimport { ButtonView, MenuBarMenuListItemButtonView } from 'ckeditor5/src/ui.js';\nimport { getButtonCreator } from '../utils.js';\nconst BOLD = 'bold';\n/**\n * The bold UI feature. It introduces the Bold button.\n */\nexport default class BoldUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'BoldUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = editor.locale.t;\n        const createButton = getButtonCreator({\n            editor,\n            commandName: BOLD,\n            plugin: this,\n            icon: IconBold,\n            label: t('Bold'),\n            keystroke: 'CTRL+B'\n        });\n        // Add bold button to feature components.\n        editor.ui.componentFactory.add(BOLD, () => createButton(ButtonView));\n        editor.ui.componentFactory.add('menuBar:' + BOLD, () => createButton(MenuBarMenuListItemButtonView));\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module basic-styles/bold\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport BoldEditing from './bold/boldediting.js';\nimport BoldUI from './bold/boldui.js';\n/**\n * The bold feature.\n *\n * For a detailed overview check the {@glink features/basic-styles Basic styles feature} guide\n * and the {@glink api/basic-styles package page}.\n *\n * This is a \"glue\" plugin which loads the {@link module:basic-styles/bold/boldediting~BoldEditing bold editing feature}\n * and {@link module:basic-styles/bold/boldui~BoldUI bold UI feature}.\n */\nexport default class Bold extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [BoldEditing, BoldUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'Bold';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module basic-styles/code/codeediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { TwoStepCaretMovement, inlineHighlight } from 'ckeditor5/src/typing.js';\nimport AttributeCommand from '../attributecommand.js';\nconst CODE = 'code';\nconst HIGHLIGHT_CLASS = 'ck-code_selected';\n/**\n * The code editing feature.\n *\n * It registers the `'code'` command and introduces the `code` attribute in the model which renders to the view\n * as a `<code>` element.\n */\nexport default class CodeEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'CodeEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [TwoStepCaretMovement];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = this.editor.t;\n        // Allow code attribute on text nodes.\n        editor.model.schema.extend('$text', { allowAttributes: CODE });\n        editor.model.schema.setAttributeProperties(CODE, {\n            isFormatting: true,\n            copyOnEnter: false\n        });\n        editor.conversion.attributeToElement({\n            model: CODE,\n            view: 'code'\n        });\n        // Create code command.\n        editor.commands.add(CODE, new AttributeCommand(editor, CODE));\n        // Enable two-step caret movement for `code` attribute.\n        editor.plugins.get(TwoStepCaretMovement).registerAttribute(CODE);\n        // Setup highlight over selected element.\n        inlineHighlight(editor, CODE, 'code', HIGHLIGHT_CLASS);\n        // Add the information about the keystroke to the accessibility database.\n        editor.accessibility.addKeystrokeInfos({\n            keystrokes: [\n                {\n                    label: t('Move out of an inline code style'),\n                    keystroke: [\n                        ['arrowleft', 'arrowleft'],\n                        ['arrowright', 'arrowright']\n                    ]\n                }\n            ]\n        });\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./code.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module basic-styles/code/codeui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { IconCode } from 'ckeditor5/src/icons.js';\nimport { ButtonView, MenuBarMenuListItemButtonView } from 'ckeditor5/src/ui.js';\nimport { getButtonCreator } from '../utils.js';\nimport '../../theme/code.css';\nconst CODE = 'code';\n/**\n * The code UI feature. It introduces the Code button.\n */\nexport default class CodeUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'CodeUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = editor.locale.t;\n        const createButton = getButtonCreator({\n            editor,\n            commandName: CODE,\n            plugin: this,\n            icon: IconCode,\n            label: t('Code')\n        });\n        // Add code button to feature components.\n        editor.ui.componentFactory.add(CODE, () => createButton(ButtonView));\n        editor.ui.componentFactory.add('menuBar:' + CODE, () => createButton(MenuBarMenuListItemButtonView));\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module basic-styles/code\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport CodeEditing from './code/codeediting.js';\nimport CodeUI from './code/codeui.js';\nimport '../theme/code.css';\n/**\n * The code feature.\n *\n * For a detailed overview check the {@glink features/basic-styles Basic styles feature} guide\n * and the {@glink api/basic-styles package page}.\n *\n * This is a \"glue\" plugin which loads the {@link module:basic-styles/code/codeediting~CodeEditing code editing feature}\n * and {@link module:basic-styles/code/codeui~CodeUI code UI feature}.\n */\nexport default class Code extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [CodeEditing, CodeUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'Code';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module basic-styles/italic/italicediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport AttributeCommand from '../attributecommand.js';\nconst ITALIC = 'italic';\n/**\n * The italic editing feature.\n *\n * It registers the `'italic'` command, the <kbd>Ctrl+I</kbd> keystroke and introduces the `italic` attribute in the model\n * which renders to the view as an `<i>` element.\n */\nexport default class ItalicEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ItalicEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = this.editor.t;\n        // Allow italic attribute on text nodes.\n        editor.model.schema.extend('$text', { allowAttributes: ITALIC });\n        editor.model.schema.setAttributeProperties(ITALIC, {\n            isFormatting: true,\n            copyOnEnter: true\n        });\n        editor.conversion.attributeToElement({\n            model: ITALIC,\n            view: 'i',\n            upcastAlso: [\n                'em',\n                {\n                    styles: {\n                        'font-style': 'italic'\n                    }\n                }\n            ]\n        });\n        // Create italic command.\n        editor.commands.add(ITALIC, new AttributeCommand(editor, ITALIC));\n        // Set the Ctrl+I keystroke.\n        editor.keystrokes.set('CTRL+I', ITALIC);\n        // Add the information about the keystroke to the accessibility database.\n        editor.accessibility.addKeystrokeInfos({\n            keystrokes: [\n                {\n                    label: t('Italic text'),\n                    keystroke: 'CTRL+I'\n                }\n            ]\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module basic-styles/italic/italicui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { IconItalic } from 'ckeditor5/src/icons.js';\nimport { MenuBarMenuListItemButtonView, ButtonView } from 'ckeditor5/src/ui.js';\nimport { getButtonCreator } from '../utils.js';\nconst ITALIC = 'italic';\n/**\n * The italic UI feature. It introduces the Italic button.\n */\nexport default class ItalicUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ItalicUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = editor.locale.t;\n        const createButton = getButtonCreator({\n            editor,\n            commandName: ITALIC,\n            plugin: this,\n            icon: IconItalic,\n            keystroke: 'CTRL+I',\n            label: t('Italic')\n        });\n        // Add bold button to feature components.\n        editor.ui.componentFactory.add(ITALIC, () => createButton(ButtonView));\n        editor.ui.componentFactory.add('menuBar:' + ITALIC, () => createButton(MenuBarMenuListItemButtonView));\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module basic-styles/italic\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport ItalicEditing from './italic/italicediting.js';\nimport ItalicUI from './italic/italicui.js';\n/**\n * The italic feature.\n *\n * For a detailed overview check the {@glink features/basic-styles Basic styles feature} guide\n * and the {@glink api/basic-styles package page}.\n *\n * This is a \"glue\" plugin which loads the {@link module:basic-styles/italic/italicediting~ItalicEditing} and\n * {@link module:basic-styles/italic/italicui~ItalicUI} plugins.\n */\nexport default class Italic extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ItalicEditing, ItalicUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'Italic';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module basic-styles/strikethrough/strikethroughediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport AttributeCommand from '../attributecommand.js';\nconst STRIKETHROUGH = 'strikethrough';\n/**\n * The strikethrough editing feature.\n *\n * It registers the `'strikethrough'` command, the <kbd>Ctrl+Shift+X</kbd> keystroke and introduces the\n * `strikethroughsthrough` attribute in the model which renders to the view\n * as a `<s>` element.\n */\nexport default class StrikethroughEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'StrikethroughEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = this.editor.t;\n        // Allow strikethrough attribute on text nodes.\n        editor.model.schema.extend('$text', { allowAttributes: STRIKETHROUGH });\n        editor.model.schema.setAttributeProperties(STRIKETHROUGH, {\n            isFormatting: true,\n            copyOnEnter: true\n        });\n        editor.conversion.attributeToElement({\n            model: STRIKETHROUGH,\n            view: 's',\n            upcastAlso: [\n                'del',\n                'strike',\n                {\n                    styles: {\n                        'text-decoration': 'line-through'\n                    }\n                }\n            ]\n        });\n        // Create strikethrough command.\n        editor.commands.add(STRIKETHROUGH, new AttributeCommand(editor, STRIKETHROUGH));\n        // Set the Ctrl+Shift+X keystroke.\n        editor.keystrokes.set('CTRL+SHIFT+X', 'strikethrough');\n        // Add the information about the keystroke to the accessibility database.\n        editor.accessibility.addKeystrokeInfos({\n            keystrokes: [\n                {\n                    label: t('Strikethrough text'),\n                    keystroke: 'CTRL+SHIFT+X'\n                }\n            ]\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module basic-styles/strikethrough/strikethroughui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { IconStrikethrough } from 'ckeditor5/src/icons.js';\nimport { ButtonView, MenuBarMenuListItemButtonView } from 'ckeditor5/src/ui.js';\nimport { getButtonCreator } from '../utils.js';\nconst STRIKETHROUGH = 'strikethrough';\n/**\n * The strikethrough UI feature. It introduces the Strikethrough button.\n */\nexport default class StrikethroughUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'StrikethroughUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = editor.locale.t;\n        const createButton = getButtonCreator({\n            editor,\n            commandName: STRIKETHROUGH,\n            plugin: this,\n            icon: IconStrikethrough,\n            keystroke: 'CTRL+SHIFT+X',\n            label: t('Strikethrough')\n        });\n        // Add strikethrough button to feature components.\n        editor.ui.componentFactory.add(STRIKETHROUGH, () => createButton(ButtonView));\n        editor.ui.componentFactory.add('menuBar:' + STRIKETHROUGH, () => createButton(MenuBarMenuListItemButtonView));\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module basic-styles/strikethrough\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport StrikethroughEditing from './strikethrough/strikethroughediting.js';\nimport StrikethroughUI from './strikethrough/strikethroughui.js';\n/**\n * The strikethrough feature.\n *\n * For a detailed overview check the {@glink features/basic-styles Basic styles feature} guide\n * and the {@glink api/basic-styles package page}.\n *\n * This is a \"glue\" plugin which loads the {@link module:basic-styles/strikethrough/strikethroughediting~StrikethroughEditing} and\n * {@link module:basic-styles/strikethrough/strikethroughui~StrikethroughUI} plugins.\n */\nexport default class Strikethrough extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [StrikethroughEditing, StrikethroughUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'Strikethrough';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module basic-styles/subscript/subscriptediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport AttributeCommand from '../attributecommand.js';\nconst SUBSCRIPT = 'subscript';\n/**\n * The subscript editing feature.\n *\n * It registers the `sub` command and introduces the `sub` attribute in the model which renders to the view\n * as a `<sub>` element.\n */\nexport default class SubscriptEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'SubscriptEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        // Allow sub attribute on text nodes.\n        editor.model.schema.extend('$text', { allowAttributes: SUBSCRIPT });\n        editor.model.schema.setAttributeProperties(SUBSCRIPT, {\n            isFormatting: true,\n            copyOnEnter: true\n        });\n        // Build converter from model to view for data and editing pipelines.\n        editor.conversion.attributeToElement({\n            model: SUBSCRIPT,\n            view: 'sub',\n            upcastAlso: [\n                {\n                    styles: {\n                        'vertical-align': 'sub'\n                    }\n                }\n            ]\n        });\n        // Create sub command.\n        editor.commands.add(SUBSCRIPT, new AttributeCommand(editor, SUBSCRIPT));\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module basic-styles/subscript/subscriptui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { IconSubscript } from 'ckeditor5/src/icons.js';\nimport { ButtonView, MenuBarMenuListItemButtonView } from 'ckeditor5/src/ui.js';\nimport { getButtonCreator } from '../utils.js';\nconst SUBSCRIPT = 'subscript';\n/**\n * The subscript UI feature. It introduces the Subscript button.\n */\nexport default class SubscriptUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'SubscriptUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = editor.locale.t;\n        const createButton = getButtonCreator({\n            editor,\n            commandName: SUBSCRIPT,\n            plugin: this,\n            icon: IconSubscript,\n            label: t('Subscript')\n        });\n        // Add subscript button to feature components.\n        editor.ui.componentFactory.add(SUBSCRIPT, () => createButton(ButtonView));\n        editor.ui.componentFactory.add('menuBar:' + SUBSCRIPT, () => createButton(MenuBarMenuListItemButtonView));\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module basic-styles/subscript\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport SubscriptEditing from './subscript/subscriptediting.js';\nimport SubscriptUI from './subscript/subscriptui.js';\n/**\n * The subscript feature.\n *\n * It loads the {@link module:basic-styles/subscript/subscriptediting~SubscriptEditing} and\n * {@link module:basic-styles/subscript/subscriptui~SubscriptUI} plugins.\n */\nexport default class Subscript extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [SubscriptEditing, SubscriptUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'Subscript';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module basic-styles/superscript/superscriptediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport AttributeCommand from '../attributecommand.js';\nconst SUPERSCRIPT = 'superscript';\n/**\n * The superscript editing feature.\n *\n * It registers the `super` command and introduces the `super` attribute in the model which renders to the view\n * as a `<super>` element.\n */\nexport default class SuperscriptEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'SuperscriptEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        // Allow super attribute on text nodes.\n        editor.model.schema.extend('$text', { allowAttributes: SUPERSCRIPT });\n        editor.model.schema.setAttributeProperties(SUPERSCRIPT, {\n            isFormatting: true,\n            copyOnEnter: true\n        });\n        // Build converter from model to view for data and editing pipelines.\n        editor.conversion.attributeToElement({\n            model: SUPERSCRIPT,\n            view: 'sup',\n            upcastAlso: [\n                {\n                    styles: {\n                        'vertical-align': 'super'\n                    }\n                }\n            ]\n        });\n        // Create super command.\n        editor.commands.add(SUPERSCRIPT, new AttributeCommand(editor, SUPERSCRIPT));\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module basic-styles/superscript/superscriptui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { IconSuperscript } from 'ckeditor5/src/icons.js';\nimport { ButtonView, MenuBarMenuListItemButtonView } from 'ckeditor5/src/ui.js';\nimport { getButtonCreator } from '../utils.js';\nconst SUPERSCRIPT = 'superscript';\n/**\n * The superscript UI feature. It introduces the Superscript button.\n */\nexport default class SuperscriptUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'SuperscriptUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = editor.locale.t;\n        const createButton = getButtonCreator({\n            editor,\n            commandName: SUPERSCRIPT,\n            plugin: this,\n            icon: IconSuperscript,\n            label: t('Superscript')\n        });\n        // Add superscript button to feature components.\n        editor.ui.componentFactory.add(SUPERSCRIPT, () => createButton(ButtonView));\n        editor.ui.componentFactory.add('menuBar:' + SUPERSCRIPT, () => createButton(MenuBarMenuListItemButtonView));\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module basic-styles/superscript\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport SuperscriptEditing from './superscript/superscriptediting.js';\nimport SuperscriptUI from './superscript/superscriptui.js';\n/**\n * The superscript feature.\n *\n * It loads the {@link module:basic-styles/superscript/superscriptediting~SuperscriptEditing} and\n * {@link module:basic-styles/superscript/superscriptui~SuperscriptUI} plugins.\n */\nexport default class Superscript extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [SuperscriptEditing, SuperscriptUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'Superscript';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module basic-styles/underline/underlineediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport AttributeCommand from '../attributecommand.js';\nconst UNDERLINE = 'underline';\n/**\n * The underline editing feature.\n *\n * It registers the `'underline'` command, the <kbd>Ctrl+U</kbd> keystroke\n * and introduces the `underline` attribute in the model which renders to the view as an `<u>` element.\n */\nexport default class UnderlineEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'UnderlineEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = this.editor.t;\n        // Allow strikethrough attribute on text nodes.\n        editor.model.schema.extend('$text', { allowAttributes: UNDERLINE });\n        editor.model.schema.setAttributeProperties(UNDERLINE, {\n            isFormatting: true,\n            copyOnEnter: true\n        });\n        editor.conversion.attributeToElement({\n            model: UNDERLINE,\n            view: 'u',\n            upcastAlso: {\n                styles: {\n                    'text-decoration': 'underline'\n                }\n            }\n        });\n        // Create underline command.\n        editor.commands.add(UNDERLINE, new AttributeCommand(editor, UNDERLINE));\n        // Set the Ctrl+U keystroke.\n        editor.keystrokes.set('CTRL+U', 'underline');\n        // Add the information about the keystroke to the accessibility database.\n        editor.accessibility.addKeystrokeInfos({\n            keystrokes: [\n                {\n                    label: t('Underline text'),\n                    keystroke: 'CTRL+U'\n                }\n            ]\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module basic-styles/underline/underlineui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { IconUnderline } from 'ckeditor5/src/icons.js';\nimport { ButtonView, MenuBarMenuListItemButtonView } from 'ckeditor5/src/ui.js';\nimport { getButtonCreator } from '../utils.js';\nconst UNDERLINE = 'underline';\n/**\n * The underline UI feature. It introduces the Underline button.\n */\nexport default class UnderlineUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'UnderlineUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = editor.locale.t;\n        const createButton = getButtonCreator({\n            editor,\n            commandName: UNDERLINE,\n            plugin: this,\n            icon: IconUnderline,\n            label: t('Underline'),\n            keystroke: 'CTRL+U'\n        });\n        // Add bold button to feature components.\n        editor.ui.componentFactory.add(UNDERLINE, () => createButton(ButtonView));\n        editor.ui.componentFactory.add('menuBar:' + UNDERLINE, () => createButton(MenuBarMenuListItemButtonView));\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module basic-styles/underline\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport UnderlineEditing from './underline/underlineediting.js';\nimport UnderlineUI from './underline/underlineui.js';\n/**\n * The underline feature.\n *\n * For a detailed overview check the {@glink features/basic-styles Basic styles feature} guide\n * and the {@glink api/basic-styles package page}.\n *\n * This is a \"glue\" plugin which loads the {@link module:basic-styles/underline/underlineediting~UnderlineEditing} and\n * {@link module:basic-styles/underline/underlineui~UnderlineUI} plugins.\n */\nexport default class Underline extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [UnderlineEditing, UnderlineUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'Underline';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { EditorUI, DialogView, normalizeToolbarConfig } from 'ckeditor5/src/ui.js';\nimport { enablePlaceholder } from 'ckeditor5/src/engine.js';\nimport { ElementReplacer, Rect } from 'ckeditor5/src/utils.js';\n/**\n * The classic editor UI class.\n */\nexport default class ClassicEditorUI extends EditorUI {\n    /**\n     * The main (top–most) view of the editor UI.\n     */\n    view;\n    /**\n     * A normalized `config.toolbar` object.\n     */\n    _toolbarConfig;\n    /**\n     * The element replacer instance used to hide the editor's source element.\n     */\n    _elementReplacer;\n    /**\n     * Creates an instance of the classic editor UI class.\n     *\n     * @param editor The editor instance.\n     * @param view The view of the UI.\n     */\n    constructor(editor, view) {\n        super(editor);\n        this.view = view;\n        this._toolbarConfig = normalizeToolbarConfig(editor.config.get('toolbar'));\n        this._elementReplacer = new ElementReplacer();\n        this.listenTo(editor.editing.view, 'scrollToTheSelection', this._handleScrollToTheSelectionWithStickyPanel.bind(this));\n    }\n    /**\n     * @inheritDoc\n     */\n    get element() {\n        return this.view.element;\n    }\n    /**\n     * Initializes the UI.\n     *\n     * @param replacementElement The DOM element that will be the source for the created editor.\n     */\n    init(replacementElement) {\n        const editor = this.editor;\n        const view = this.view;\n        const editingView = editor.editing.view;\n        const editable = view.editable;\n        const editingRoot = editingView.document.getRoot();\n        // The editable UI and editing root should share the same name. Then name is used\n        // to recognize the particular editable, for instance in ARIA attributes.\n        editable.name = editingRoot.rootName;\n        view.render();\n        // The editable UI element in DOM is available for sure only after the editor UI view has been rendered.\n        // But it can be available earlier if a DOM element has been passed to BalloonEditor.create().\n        const editableElement = editable.element;\n        // Register the editable UI view in the editor. A single editor instance can aggregate multiple\n        // editable areas (roots) but the classic editor has only one.\n        this.setEditableElement(editable.name, editableElement);\n        // Let the editable UI element respond to the changes in the global editor focus\n        // tracker. It has been added to the same tracker a few lines above but, in reality, there are\n        // many focusable areas in the editor, like balloons, toolbars or dropdowns and as long\n        // as they have focus, the editable should act like it is focused too (although technically\n        // it isn't), e.g. by setting the proper CSS class, visually announcing focus to the user.\n        // Doing otherwise will result in editable focus styles disappearing, once e.g. the\n        // toolbar gets focused.\n        view.editable.bind('isFocused').to(this.focusTracker);\n        // Bind the editable UI element to the editing view, making it an end– and entry–point\n        // of the editor's engine. This is where the engine meets the UI.\n        editingView.attachDomRoot(editableElement);\n        // If an element containing the initial data of the editor was provided, replace it with\n        // an editor instance's UI in DOM until the editor is destroyed. For instance, a <textarea>\n        // can be such element.\n        if (replacementElement) {\n            this._elementReplacer.replace(replacementElement, this.element);\n        }\n        this._initPlaceholder();\n        this._initToolbar();\n        if (view.menuBarView) {\n            this.initMenuBar(view.menuBarView);\n        }\n        this._initDialogPluginIntegration();\n        this._initContextualBalloonIntegration();\n        this.fire('ready');\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        super.destroy();\n        const view = this.view;\n        const editingView = this.editor.editing.view;\n        this._elementReplacer.restore();\n        if (editingView.getDomRoot(view.editable.name)) {\n            editingView.detachDomRoot(view.editable.name);\n        }\n        view.destroy();\n    }\n    /**\n     * Initializes the editor toolbar.\n     */\n    _initToolbar() {\n        const view = this.view;\n        // Set–up the sticky panel with toolbar.\n        view.stickyPanel.bind('isActive').to(this.focusTracker, 'isFocused');\n        view.stickyPanel.limiterElement = view.element;\n        view.stickyPanel.bind('viewportTopOffset').to(this, 'viewportOffset', ({ top }) => top || 0);\n        view.toolbar.fillFromConfig(this._toolbarConfig, this.componentFactory);\n        // Register the toolbar so it becomes available for Alt+F10 and Esc navigation.\n        this.addToolbar(view.toolbar);\n    }\n    /**\n     * Enable the placeholder text on the editing root.\n     */\n    _initPlaceholder() {\n        const editor = this.editor;\n        const editingView = editor.editing.view;\n        const editingRoot = editingView.document.getRoot();\n        const sourceElement = editor.sourceElement;\n        let placeholderText;\n        const placeholder = editor.config.get('placeholder');\n        if (placeholder) {\n            placeholderText = typeof placeholder === 'string' ? placeholder : placeholder[this.view.editable.name];\n        }\n        if (!placeholderText && sourceElement && sourceElement.tagName.toLowerCase() === 'textarea') {\n            placeholderText = sourceElement.getAttribute('placeholder');\n        }\n        if (placeholderText) {\n            editingRoot.placeholder = placeholderText;\n        }\n        enablePlaceholder({\n            view: editingView,\n            element: editingRoot,\n            isDirectHost: false,\n            keepOnFocus: true\n        });\n    }\n    /**\n     * Provides an integration between the sticky toolbar and {@link module:ui/panel/balloon/contextualballoon contextual balloon plugin}.\n     * It allows the contextual balloon to consider the height of the\n     * {@link module:editor-classic/classiceditoruiview~ClassicEditorUIView#stickyPanel}. It prevents the balloon from overlapping\n     * the sticky toolbar by adjusting the balloon's position using viewport offset configuration.\n     */\n    _initContextualBalloonIntegration() {\n        if (!this.editor.plugins.has('ContextualBalloon')) {\n            return;\n        }\n        const { stickyPanel } = this.view;\n        const contextualBalloon = this.editor.plugins.get('ContextualBalloon');\n        contextualBalloon.on('getPositionOptions', evt => {\n            const position = evt.return;\n            if (!position || !stickyPanel.isSticky || !stickyPanel.element) {\n                return;\n            }\n            // Measure toolbar (and menu bar) height.\n            const stickyPanelHeight = new Rect(stickyPanel.element).height;\n            // Handle edge case when the target element is larger than the limiter.\n            // It's an issue because the contextual balloon can overlap top table cells when the table is larger than the viewport\n            // and it's placed at the top of the editor. It's better to overlap toolbar in that situation.\n            // Check this issue: https://github.com/ckeditor/ckeditor5/issues/15744\n            const target = typeof position.target === 'function' ? position.target() : position.target;\n            const limiter = typeof position.limiter === 'function' ? position.limiter() : position.limiter;\n            if (target && limiter && new Rect(target).height >= new Rect(limiter).height - stickyPanelHeight) {\n                return;\n            }\n            // Ensure that viewport offset is present, it can be undefined according to the typing.\n            const viewportOffsetConfig = { ...position.viewportOffsetConfig };\n            const newTopViewportOffset = (viewportOffsetConfig.top || 0) + stickyPanelHeight;\n            evt.return = {\n                ...position,\n                viewportOffsetConfig: {\n                    ...viewportOffsetConfig,\n                    top: newTopViewportOffset\n                }\n            };\n        }, { priority: 'low' });\n        // Update balloon position when the toolbar becomes sticky or when ui viewportOffset changes.\n        const updateBalloonPosition = () => {\n            if (contextualBalloon.visibleView) {\n                contextualBalloon.updatePosition();\n            }\n        };\n        this.listenTo(stickyPanel, 'change:isSticky', updateBalloonPosition);\n        this.listenTo(this.editor.ui, 'change:viewportOffset', updateBalloonPosition);\n    }\n    /**\n     * Provides an integration between the sticky toolbar and {@link module:utils/dom/scroll~scrollViewportToShowTarget}.\n     * It allows the UI-agnostic engine method to consider the geometry of the\n     * {@link module:editor-classic/classiceditoruiview~ClassicEditorUIView#stickyPanel} that pins to the\n     * edge of the viewport and can obscure the user caret after scrolling the window.\n     *\n     * @param evt The `scrollToTheSelection` event info.\n     * @param data The payload carried by the `scrollToTheSelection` event.\n     * @param originalArgs The original arguments passed to `scrollViewportToShowTarget()` method (see implementation to learn more).\n     */\n    _handleScrollToTheSelectionWithStickyPanel(evt, data, originalArgs) {\n        const stickyPanel = this.view.stickyPanel;\n        if (stickyPanel.isSticky) {\n            const stickyPanelHeight = new Rect(stickyPanel.element).height;\n            data.viewportOffset.top += stickyPanelHeight;\n        }\n        else {\n            const scrollViewportOnPanelGettingSticky = () => {\n                this.editor.editing.view.scrollToTheSelection(originalArgs);\n            };\n            this.listenTo(stickyPanel, 'change:isSticky', scrollViewportOnPanelGettingSticky);\n            // This works as a post-scroll-fixer because it's impossible predict whether the panel will be sticky after scrolling or not.\n            // Listen for a short period of time only and if the toolbar does not become sticky very soon, cancel the listener.\n            setTimeout(() => {\n                this.stopListening(stickyPanel, 'change:isSticky', scrollViewportOnPanelGettingSticky);\n            }, 20);\n        }\n    }\n    /**\n     * Provides an integration between the sticky toolbar and {@link module:ui/dialog/dialog the Dialog plugin}.\n     *\n     * It moves the dialog down to ensure that the\n     * {@link module:editor-classic/classiceditoruiview~ClassicEditorUIView#stickyPanel sticky panel}\n     * used by the editor UI will not get obscured by the dialog when the dialog uses one of its automatic positions.\n     */\n    _initDialogPluginIntegration() {\n        if (!this.editor.plugins.has('Dialog')) {\n            return;\n        }\n        const stickyPanel = this.view.stickyPanel;\n        const dialogPlugin = this.editor.plugins.get('Dialog');\n        dialogPlugin.on('show', () => {\n            const dialogView = dialogPlugin.view;\n            dialogView.on('moveTo', (evt, data) => {\n                // Engage only when the panel is sticky, and the dialog is using one of default positions.\n                // Ignore modals because they are displayed on top of the page (and overlay) and they do not collide with anything\n                // See (https://github.com/ckeditor/ckeditor5/issues/17339).\n                if (!stickyPanel.isSticky || dialogView.wasMoved || dialogView.isModal) {\n                    return;\n                }\n                const stickyPanelContentRect = new Rect(stickyPanel.contentPanelElement);\n                if (data[1] < stickyPanelContentRect.bottom + DialogView.defaultOffset) {\n                    data[1] = stickyPanelContentRect.bottom + DialogView.defaultOffset;\n                }\n            }, { priority: 'high' });\n        }, { priority: 'low' });\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./classiceditor.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module editor-classic/classiceditoruiview\n */\nimport { BoxedEditorUIView, InlineEditableUIView, MenuBarView, StickyPanelView, ToolbarView } from 'ckeditor5/src/ui.js';\nimport '../theme/classiceditor.css';\n/**\n * Classic editor UI view. Uses an inline editable and a sticky toolbar, all\n * enclosed in a boxed UI view.\n */\nexport default class ClassicEditorUIView extends BoxedEditorUIView {\n    /**\n     * Sticky panel view instance. This is a parent view of a {@link #toolbar}\n     * that makes toolbar sticky.\n     */\n    stickyPanel;\n    /**\n     * Toolbar view instance.\n     */\n    toolbar;\n    /**\n     * Editable UI view.\n     */\n    editable;\n    /**\n     * Creates an instance of the classic editor UI view.\n     *\n     * @param locale The {@link module:core/editor/editor~Editor#locale} instance.\n     * @param editingView The editing view instance this view is related to.\n     * @param options Configuration options for the view instance.\n     * @param options.shouldToolbarGroupWhenFull When set `true` enables automatic items grouping\n     * in the main {@link module:editor-classic/classiceditoruiview~ClassicEditorUIView#toolbar toolbar}.\n     * See {@link module:ui/toolbar/toolbarview~ToolbarOptions#shouldGroupWhenFull} to learn more.\n     * @param options.label When set, this value will be used as an accessible `aria-label` of the\n     * {@link module:ui/editableui/editableuiview~EditableUIView editable view}.\n     */\n    constructor(locale, editingView, options = {}) {\n        super(locale);\n        this.stickyPanel = new StickyPanelView(locale);\n        this.toolbar = new ToolbarView(locale, {\n            shouldGroupWhenFull: options.shouldToolbarGroupWhenFull\n        });\n        if (options.useMenuBar) {\n            this.menuBarView = new MenuBarView(locale);\n        }\n        this.editable = new InlineEditableUIView(locale, editingView, undefined, {\n            label: options.label\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    render() {\n        super.render();\n        if (this.menuBarView) {\n            // Set toolbar as a child of a stickyPanel and makes toolbar sticky.\n            this.stickyPanel.content.addMany([this.menuBarView, this.toolbar]);\n        }\n        else {\n            this.stickyPanel.content.add(this.toolbar);\n        }\n        this.top.add(this.stickyPanel);\n        this.main.add(this.editable);\n    }\n}\n","function isObjectLike(value) {\n    return typeof value === 'object' && value !== null;\n}\n\nexport { isObjectLike };\n","function isPlainObject(object) {\n    if (typeof object !== 'object') {\n        return false;\n    }\n    if (object == null) {\n        return false;\n    }\n    if (Object.getPrototypeOf(object) === null) {\n        return true;\n    }\n    if (Object.prototype.toString.call(object) !== '[object Object]') {\n        const tag = object[Symbol.toStringTag];\n        if (tag == null) {\n            return false;\n        }\n        const isTagReadonly = !Object.getOwnPropertyDescriptor(object, Symbol.toStringTag)?.writable;\n        if (isTagReadonly) {\n            return false;\n        }\n        return object.toString() === `[object ${tag}]`;\n    }\n    let proto = object;\n    while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Object.getPrototypeOf(object) === proto;\n}\n\nexport { isPlainObject };\n","import { isObjectLike } from './isObjectLike.mjs';\nimport { isPlainObject } from './isPlainObject.mjs';\n\nfunction isElement(value) {\n    return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);\n}\n\nexport { isElement };\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module editor-classic/classiceditor\n */\nimport ClassicEditorUI from './classiceditorui.js';\nimport ClassicEditorUIView from './classiceditoruiview.js';\nimport { Editor, ElementApiMixin, attachToForm } from 'ckeditor5/src/core.js';\nimport { getDataFromElement, CKEditorError } from 'ckeditor5/src/utils.js';\nimport { isElement as _isElement } from 'es-toolkit/compat';\n/**\n * The classic editor implementation. It uses an inline editable and a sticky toolbar, all enclosed in a boxed UI.\n * See the {@glink examples/builds/classic-editor demo}.\n *\n * In order to create a classic editor instance, use the static\n * {@link module:editor-classic/classiceditor~ClassicEditor.create `ClassicEditor.create()`} method.\n */\nexport default class ClassicEditor extends /* #__PURE__ */ ElementApiMixin(Editor) {\n    /**\n     * @inheritDoc\n     */\n    static get editorName() {\n        return 'ClassicEditor';\n    }\n    /**\n     * @inheritDoc\n     */\n    ui;\n    /**\n     * Creates an instance of the classic editor.\n     *\n     * **Note:** do not use the constructor to create editor instances. Use the static\n     * {@link module:editor-classic/classiceditor~ClassicEditor.create `ClassicEditor.create()`} method instead.\n     *\n     * @param sourceElementOrData The DOM element that will be the source for the created editor\n     * or the editor's initial data. For more information see\n     * {@link module:editor-classic/classiceditor~ClassicEditor.create `ClassicEditor.create()`}.\n     * @param config The editor configuration.\n     */\n    constructor(sourceElementOrData, config = {}) {\n        // If both `config.initialData` is set and initial data is passed as the constructor parameter, then throw.\n        if (!isElement(sourceElementOrData) && config.initialData !== undefined) {\n            // Documented in core/editor/editorconfig.jsdoc.\n            // eslint-disable-next-line ckeditor5-rules/ckeditor-error-message\n            throw new CKEditorError('editor-create-initial-data', null);\n        }\n        super(config);\n        this.config.define('menuBar.isVisible', false);\n        if (this.config.get('initialData') === undefined) {\n            this.config.set('initialData', getInitialData(sourceElementOrData));\n        }\n        if (isElement(sourceElementOrData)) {\n            this.sourceElement = sourceElementOrData;\n        }\n        this.model.document.createRoot();\n        const shouldToolbarGroupWhenFull = !this.config.get('toolbar.shouldNotGroupWhenFull');\n        const menuBarConfig = this.config.get('menuBar');\n        const view = new ClassicEditorUIView(this.locale, this.editing.view, {\n            shouldToolbarGroupWhenFull,\n            useMenuBar: menuBarConfig.isVisible,\n            label: this.config.get('label')\n        });\n        this.ui = new ClassicEditorUI(this, view);\n        attachToForm(this);\n    }\n    /**\n     * Destroys the editor instance, releasing all resources used by it.\n     *\n     * Updates the original editor element with the data if the\n     * {@link module:core/editor/editorconfig~EditorConfig#updateSourceElementOnDestroy `updateSourceElementOnDestroy`}\n     * configuration option is set to `true`.\n     */\n    destroy() {\n        if (this.sourceElement) {\n            this.updateSourceElement();\n        }\n        this.ui.destroy();\n        return super.destroy();\n    }\n    /**\n     * Creates a new classic editor instance.\n     *\n     * There are three ways how the editor can be initialized.\n     *\n     * # Replacing a DOM element (and loading data from it)\n     *\n     * You can initialize the editor using an existing DOM element:\n     *\n     * ```ts\n     * ClassicEditor\n     * \t.create( document.querySelector( '#editor' ) )\n     * \t.then( editor => {\n     * \t\tconsole.log( 'Editor was initialized', editor );\n     * \t} )\n     * \t.catch( err => {\n     * \t\tconsole.error( err.stack );\n     * \t} );\n     * ```\n     *\n     * The element's content will be used as the editor data and the element will be replaced by the editor UI.\n     *\n     * # Creating a detached editor\n     *\n     * Alternatively, you can initialize the editor by passing the initial data directly as a string.\n     * In this case, the editor will render an element that must be inserted into the DOM:\n     *\n     * ```ts\n     * ClassicEditor\n     * \t.create( '<p>Hello world!</p>' )\n     * \t.then( editor => {\n     * \t\tconsole.log( 'Editor was initialized', editor );\n     *\n     * \t\t// Initial data was provided so the editor UI element needs to be added manually to the DOM.\n     * \t\tdocument.body.appendChild( editor.ui.element );\n     * \t} )\n     * \t.catch( err => {\n     * \t\tconsole.error( err.stack );\n     * \t} );\n     * ```\n     *\n     * This lets you dynamically append the editor to your web page whenever it is convenient for you. You may use this method if your\n     * web page content is generated on the client side and the DOM structure is not ready at the moment when you initialize the editor.\n     *\n     * # Replacing a DOM element (and data provided in `config.initialData`)\n     *\n     * You can also mix these two ways by providing a DOM element to be used and passing the initial data through the configuration:\n     *\n     * ```ts\n     * ClassicEditor\n     * \t.create( document.querySelector( '#editor' ), {\n     * \t\tinitialData: '<h2>Initial data</h2><p>Foo bar.</p>'\n     * \t} )\n     * \t.then( editor => {\n     * \t\tconsole.log( 'Editor was initialized', editor );\n     * \t} )\n     * \t.catch( err => {\n     * \t\tconsole.error( err.stack );\n     * \t} );\n     * ```\n     *\n     * This method can be used to initialize the editor on an existing element with the specified content in case if your integration\n     * makes it difficult to set the content of the source element.\n     *\n     * Note that an error will be thrown if you pass the initial data both as the first parameter and also in the configuration.\n     *\n     * # Configuring the editor\n     *\n     * See the {@link module:core/editor/editorconfig~EditorConfig editor configuration documentation} to learn more about\n     * customizing plugins, toolbar and more.\n     *\n     * @param sourceElementOrData The DOM element that will be the source for the created editor\n     * or the editor's initial data.\n     *\n     * If a DOM element is passed, its content will be automatically loaded to the editor upon initialization\n     * and the {@link module:editor-classic/classiceditorui~ClassicEditorUI#element editor element} will replace the passed element\n     * in the DOM (the original one will be hidden and the editor will be injected next to it).\n     *\n     * If the {@link module:core/editor/editorconfig~EditorConfig#updateSourceElementOnDestroy updateSourceElementOnDestroy}\n     * option is set to `true`, the editor data will be set back to the original element once the editor is destroyed and when a form,\n     * in which this element is contained, is submitted (if the original element is a `<textarea>`). This ensures seamless integration\n     * with native web forms.\n     *\n     * If the initial data is passed, a detached editor will be created. In this case you need to insert it into the DOM manually.\n     * It is available under the {@link module:editor-classic/classiceditorui~ClassicEditorUI#element `editor.ui.element`} property.\n     *\n     * @param config The editor configuration.\n     * @returns A promise resolved once the editor is ready. The promise resolves with the created editor instance.\n     */\n    static create(sourceElementOrData, config = {}) {\n        return new Promise(resolve => {\n            const editor = new this(sourceElementOrData, config);\n            resolve(editor.initPlugins()\n                .then(() => editor.ui.init(isElement(sourceElementOrData) ? sourceElementOrData : null))\n                .then(() => editor.data.init(editor.config.get('initialData')))\n                .then(() => editor.fire('ready'))\n                .then(() => editor));\n        });\n    }\n}\nfunction getInitialData(sourceElementOrData) {\n    return isElement(sourceElementOrData) ? getDataFromElement(sourceElementOrData) : sourceElementOrData;\n}\nfunction isElement(value) {\n    return _isElement(value);\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { first } from 'ckeditor5/src/utils.js';\n/**\n * Returns code block languages as defined in `config.codeBlock.languages` but processed:\n *\n * * To consider the editor localization, i.e. to display {@link module:code-block/codeblockconfig~CodeBlockLanguageDefinition}\n * in the correct language. There is no way to use {@link module:utils/locale~Locale#t} when the user\n * configuration is defined because the editor does not exist yet.\n * * To make sure each definition has a CSS class associated with it even if not specified\n * in the original configuration.\n */\nexport function getNormalizedAndLocalizedLanguageDefinitions(editor) {\n    const t = editor.t;\n    const languageDefs = editor.config.get('codeBlock.languages');\n    for (const def of languageDefs) {\n        if (def.label === 'Plain text') {\n            def.label = t('Plain text');\n        }\n        if (def.class === undefined) {\n            def.class = `language-${def.language}`;\n        }\n    }\n    return languageDefs;\n}\n/**\n * Returns an object associating certain language definition properties with others. For instance:\n *\n * For:\n *\n * ```ts\n * const definitions = {\n * \t{ language: 'php', class: 'language-php', label: 'PHP' },\n * \t{ language: 'javascript', class: 'js', label: 'JavaScript' },\n * };\n *\n * getPropertyAssociation( definitions, 'class', 'language' );\n * ```\n *\n * returns:\n *\n * ```ts\n * {\n * \t'language-php': 'php',\n * \t'js': 'javascript'\n * }\n * ```\n *\n * and\n *\n * ```ts\n * getPropertyAssociation( definitions, 'language', 'label' );\n * ```\n *\n * returns:\n *\n * ```ts\n * {\n * \t'php': 'PHP',\n * \t'javascript': 'JavaScript'\n * }\n * ```\n */\nexport function getPropertyAssociation(languageDefs, key, value) {\n    const association = {};\n    for (const def of languageDefs) {\n        if (key === 'class') {\n            // Only the first class is considered.\n            const newKey = (def[key]).split(' ').shift();\n            association[newKey] = def[value];\n        }\n        else {\n            association[def[key]] = def[value];\n        }\n    }\n    return association;\n}\n/**\n * For a given model text node, it returns white spaces that precede other characters in that node.\n * This corresponds to the indentation part of the code block line.\n */\nexport function getLeadingWhiteSpaces(textNode) {\n    return textNode.data.match(/^(\\s*)/)[0];\n}\n/**\n * For plain text containing the code (a snippet), it returns a document fragment containing\n * view text nodes separated by `<br>` elements (in place of new line characters \"\\n\"), for instance:\n *\n * Input:\n *\n * ```ts\n * \"foo()\\n\n * bar()\"\n * ```\n *\n * Output:\n *\n * ```html\n * <DocumentFragment>\n * \t\"foo()\"\n * \t<br/>\n * \t\"bar()\"\n * </DocumentFragment>\n * ```\n *\n * @param text The raw code text to be converted.\n */\nexport function rawSnippetTextToViewDocumentFragment(writer, text) {\n    const fragment = writer.createDocumentFragment();\n    const textLines = text.split('\\n');\n    const items = textLines.reduce((nodes, line, lineIndex) => {\n        nodes.push(line);\n        if (lineIndex < textLines.length - 1) {\n            nodes.push(writer.createElement('br'));\n        }\n        return nodes;\n    }, []);\n    writer.appendChild(items, fragment);\n    return fragment;\n}\n/**\n * Returns an array of all model positions within the selection that represent code block lines.\n *\n * If the selection is collapsed, it returns the exact selection anchor position:\n *\n * ```html\n * <codeBlock>[]foo</codeBlock>        ->     <codeBlock>^foo</codeBlock>\n * <codeBlock>foo[]bar</codeBlock>     ->     <codeBlock>foo^bar</codeBlock>\n * ```\n *\n * Otherwise, it returns positions **before** each text node belonging to all code blocks contained by the selection:\n *\n * ```html\n * <codeBlock>                                <codeBlock>\n *     foo[bar                                   ^foobar\n *     <softBreak></softBreak>         ->        <softBreak></softBreak>\n *     baz]qux                                   ^bazqux\n * </codeBlock>                               </codeBlock>\n * ```\n *\n * It also works across other non–code blocks:\n *\n * ```html\n * <codeBlock>                                <codeBlock>\n *     foo[bar                                   ^foobar\n * </codeBlock>                               </codeBlock>\n * <paragraph>text</paragraph>         ->     <paragraph>text</paragraph>\n * <codeBlock>                                <codeBlock>\n *     baz]qux                                   ^bazqux\n * </codeBlock>                               </codeBlock>\n * ```\n *\n * **Note:** The positions are in reverse order so they do not get outdated when iterating over them and\n * the writer inserts or removes elements at the same time.\n *\n * **Note:** The position is located after the leading white spaces in the text node.\n */\nexport function getIndentOutdentPositions(model) {\n    const selection = model.document.selection;\n    const positions = [];\n    // When the selection is collapsed, there's only one position we can indent or outdent.\n    if (selection.isCollapsed) {\n        return [selection.anchor];\n    }\n    // When the selection is NOT collapsed, collect all positions starting before text nodes\n    // (code lines) in any <codeBlock> within the selection.\n    // Walk backward so positions we are about to collect here do not get outdated when\n    // inserting or deleting using the writer.\n    const walker = selection.getFirstRange().getWalker({\n        ignoreElementEnd: true,\n        direction: 'backward'\n    });\n    for (const { item } of walker) {\n        let node = item.is('$textProxy') ? item.textNode : item;\n        const parent = node.parent;\n        if (!parent.is('element', 'codeBlock') || node.is('element', 'softBreak')) {\n            continue;\n        }\n        // For each item in code block, move backwards until the beginning of the line it is in is found.\n        while (node.previousSibling && !node.previousSibling.is('element', 'softBreak')) {\n            node = node.previousSibling;\n        }\n        // Take the leading white spaces into account (only for text nodes).\n        const startOffset = !node.is('$text') ? node.startOffset : node.startOffset + getLeadingWhiteSpaces(node).length;\n        const position = model.createPositionAt(parent, startOffset);\n        // Do not add the same position twice. Unfortunately using set doesn't deduplicate positions because\n        // they are different objects.\n        if (positions.every(pos => !pos.isEqual(position))) {\n            positions.push(position);\n        }\n    }\n    return positions;\n}\n/**\n * Checks if any of the blocks within the model selection is a code block.\n */\nexport function isModelSelectionInCodeBlock(selection) {\n    const firstBlock = first(selection.getSelectedBlocks());\n    return !!firstBlock && firstBlock.is('element', 'codeBlock');\n}\n/**\n * Checks if an {@link module:engine/model/element~Element Element} can become a code block.\n *\n * @param schema Model's schema.\n * @param element The element to be checked.\n * @returns Check result.\n */\nexport function canBeCodeBlock(schema, element) {\n    if (element.is('rootElement') || schema.isLimit(element)) {\n        return false;\n    }\n    return schema.checkChild(element.parent, 'codeBlock');\n}\n/**\n * Get the translated message read by the screen reader when you enter or exit an element with your cursor.\n */\nexport function getCodeBlockAriaAnnouncement(t, languageDefs, element, direction) {\n    const languagesToLabels = getPropertyAssociation(languageDefs, 'language', 'label');\n    const codeBlockLanguage = element.getAttribute('language');\n    if (codeBlockLanguage in languagesToLabels) {\n        const language = languagesToLabels[codeBlockLanguage];\n        if (direction === 'enter') {\n            return t('Entering %0 code snippet', language);\n        }\n        return t('Leaving %0 code snippet', language);\n    }\n    if (direction === 'enter') {\n        return t('Entering code snippet');\n    }\n    return t('Leaving code snippet');\n}\n/**\n * For given position, finds the closest position that is at the beginning of a line of code and returns a text node that is at the\n * beginning of the line (or `null` if there's no text node at the beginning of a given line).\n *\n * Line beings at the start of a code block element and after each `softBreak` element.\n *\n * Note: even though code block doesn't allow inline elements other than `<softBreak>` by default, some features may overwrite this rule,\n * so such inline elements are taken into account.\n *\n * Some examples of expected results:\n *\n * ```\n * <codeBlock>^</codeBlock>                                ->   null\n * <codeBlock>^foobar</codeBlock>                          ->   <codeBlock>[foobar]</codeBlock>\n * <codeBlock>foobar^</codeBlock>                          ->   <codeBlock>[foobar]</codeBlock>\n * <codeBlock>foo^bar</codeBlock>                          ->   <codeBlock>[foobar]</codeBlock>\n * <codeBlock>foo^<softBreak />bar</codeBlock>             ->   <codeBlock>[foo]<softBreak />bar</codeBlock>\n * <codeBlock>foo<softBreak />bar^</codeBlock>             ->   <codeBlock>foo<softBreak />[bar]</codeBlock>\n * <codeBlock>foo<softBreak />b^ar</codeBlock>             ->   <codeBlock>foo<softBreak />[bar]</codeBlock>\n * <codeBlock>foo<softBreak />^bar</codeBlock>             ->   <codeBlock>foo<softBreak />[bar]</codeBlock>\n * <codeBlock>^<element /></codeBlock>                     ->   null\n * <codeBlock><element />^</codeBlock>                     ->   null\n * <codeBlock>foo^<element /></codeBlock>                  ->   <codeBlock>[foo]<element /></codeBlock>\n * <codeBlock>foo<element />^</codeBlock>                  ->   <codeBlock>[foo]<element /></codeBlock>\n * <codeBlock>foo<element />bar^</codeBlock>               ->   <codeBlock>[foo]<element />bar</codeBlock>\n * <codeBlock><element />bar^</codeBlock>                  ->   null\n * <codeBlock>foo<softBreak />^<softBreak /></codeBlock>   ->   null\n * <codeBlock>foo<softBreak />^<element /></codeBlock>     ->   null\n * <codeBlock>foo<softBreak /><element />^</codeBlock>     ->   null\n * <codeBlock>foo<softBreak />bar<element />^</codeBlock>  ->   <codeBlock>foo<softBreak />[bar]<element /></codeBlock>\n * <codeBlock>foo<softBreak /><element />ba^r</codeBlock>  ->   null\n * ```\n */\nexport function getTextNodeAtLineStart(position, model) {\n    // First, move position before a text node, if it is inside a text node.\n    if (position.textNode) {\n        position = model.createPositionBefore(position.textNode);\n    }\n    // Then, jump-back the position until it is before a `softBreak` or at the beginning of the `codeBlock`.\n    while (position.nodeBefore && !position.nodeBefore.is('element', 'softBreak')) {\n        position = model.createPositionBefore(position.nodeBefore);\n    }\n    // Now, the position is at the beginning of a line.\n    // Return a text node after the position, if there is one.\n    const nodeAtStart = position.nodeAfter;\n    return nodeAtStart && nodeAtStart.is('$text') ? nodeAtStart : null;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { first } from 'ckeditor5/src/utils.js';\nimport { getNormalizedAndLocalizedLanguageDefinitions, canBeCodeBlock } from './utils.js';\n/**\n * The code block command plugin.\n */\nexport default class CodeBlockCommand extends Command {\n    /**\n     * Contains the last used language.\n     */\n    _lastLanguage;\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        this._lastLanguage = null;\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        this.value = this._getValue();\n        this.isEnabled = this._checkEnabled();\n    }\n    /**\n     * Executes the command. When the command {@link #value is on}, all topmost code blocks within\n     * the selection will be removed. If it is off, all selected blocks will be flattened and\n     * wrapped by a code block.\n     *\n     * @fires execute\n     * @param options Command options.\n     * @param options.language The code block language.\n     * @param options.forceValue If set, it will force the command behavior. If `true`, the command will apply a code block,\n     * otherwise the command will remove the code block. If not set, the command will act basing on its current value.\n     * @param options.usePreviousLanguageChoice If set on `true` and the `options.language` is not specified, the command\n     * will apply the previous language (if the command was already executed) when inserting the `codeBlock` element.\n     */\n    execute(options = {}) {\n        const editor = this.editor;\n        const model = editor.model;\n        const selection = model.document.selection;\n        const normalizedLanguagesDefs = getNormalizedAndLocalizedLanguageDefinitions(editor);\n        const firstLanguageInConfig = normalizedLanguagesDefs[0];\n        const blocks = Array.from(selection.getSelectedBlocks());\n        const value = options.forceValue == undefined ? !this.value : options.forceValue;\n        const language = getLanguage(options, this._lastLanguage, firstLanguageInConfig.language);\n        model.change(writer => {\n            if (value) {\n                this._applyCodeBlock(writer, blocks, language);\n            }\n            else {\n                this._removeCodeBlock(writer, blocks);\n            }\n        });\n    }\n    /**\n     * Checks the command's {@link #value}.\n     *\n     * @returns The current value.\n     */\n    _getValue() {\n        const selection = this.editor.model.document.selection;\n        const firstBlock = first(selection.getSelectedBlocks());\n        const isCodeBlock = !!firstBlock?.is('element', 'codeBlock');\n        return isCodeBlock ? firstBlock.getAttribute('language') : false;\n    }\n    /**\n     * Checks whether the command can be enabled in the current context.\n     *\n     * @returns Whether the command should be enabled.\n     */\n    _checkEnabled() {\n        if (this.value) {\n            return true;\n        }\n        const selection = this.editor.model.document.selection;\n        const schema = this.editor.model.schema;\n        const firstBlock = first(selection.getSelectedBlocks());\n        if (!firstBlock) {\n            return false;\n        }\n        return canBeCodeBlock(schema, firstBlock);\n    }\n    _applyCodeBlock(writer, blocks, language) {\n        this._lastLanguage = language;\n        const schema = this.editor.model.schema;\n        const allowedBlocks = blocks.filter(block => canBeCodeBlock(schema, block));\n        for (const block of allowedBlocks) {\n            writer.rename(block, 'codeBlock');\n            writer.setAttribute('language', language, block);\n            schema.removeDisallowedAttributes([block], writer);\n            // Remove children of the  `codeBlock` element that are not allowed. See #9567.\n            Array.from(block.getChildren())\n                .filter(child => !schema.checkChild(block, child))\n                .forEach(child => writer.remove(child));\n        }\n        allowedBlocks.reverse().forEach((currentBlock, i) => {\n            const nextBlock = allowedBlocks[i + 1];\n            if (currentBlock.previousSibling === nextBlock) {\n                writer.appendElement('softBreak', nextBlock);\n                writer.merge(writer.createPositionBefore(currentBlock));\n            }\n        });\n    }\n    _removeCodeBlock(writer, blocks) {\n        const codeBlocks = blocks.filter(block => block.is('element', 'codeBlock'));\n        for (const block of codeBlocks) {\n            const range = writer.createRangeOn(block);\n            for (const item of Array.from(range.getItems()).reverse()) {\n                if (item.is('element', 'softBreak') && item.parent.is('element', 'codeBlock')) {\n                    const { position } = writer.split(writer.createPositionBefore(item));\n                    const elementAfter = position.nodeAfter;\n                    writer.rename(elementAfter, 'paragraph');\n                    writer.removeAttribute('language', elementAfter);\n                    writer.remove(item);\n                }\n            }\n            writer.rename(block, 'paragraph');\n            writer.removeAttribute('language', block);\n        }\n    }\n}\n/**\n * Picks the language for the new code block. If any language is passed as an option,\n * it will be returned. Else, if option usePreviousLanguageChoice is true and some\n * code block was already created (lastLanguage is not null) then previously used\n * language will be returned. If not, it will return default language.\n */\nfunction getLanguage(options, lastLanguage, defaultLanguage) {\n    if (options.language) {\n        return options.language;\n    }\n    if (options.usePreviousLanguageChoice && lastLanguage) {\n        return lastLanguage;\n    }\n    return defaultLanguage;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module code-block/indentcodeblockcommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { getIndentOutdentPositions, isModelSelectionInCodeBlock } from './utils.js';\n/**\n * The code block indentation increase command plugin.\n */\nexport default class IndentCodeBlockCommand extends Command {\n    /**\n     * A sequence of characters added to the line when the command is executed.\n     */\n    _indentSequence;\n    constructor(editor) {\n        super(editor);\n        this._indentSequence = editor.config.get('codeBlock.indentSequence');\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        this.isEnabled = this._checkEnabled();\n    }\n    /**\n     * Executes the command. When the command {@link #isEnabled is enabled}, the indentation of the\n     * code lines in the selection will be increased.\n     *\n     * @fires execute\n     */\n    execute() {\n        const editor = this.editor;\n        const model = editor.model;\n        model.change(writer => {\n            const positions = getIndentOutdentPositions(model);\n            // Indent all positions, for instance assuming the indent sequence is 4x space (\"    \"):\n            //\n            //\t\t<codeBlock>^foo</codeBlock>        ->       <codeBlock>    foo</codeBlock>\n            //\n            //\t\t<codeBlock>foo^bar</codeBlock>     ->       <codeBlock>foo    bar</codeBlock>\n            //\n            // Also, when there is more than one position:\n            //\n            //\t\t<codeBlock>\n            //\t\t\t^foobar\n            //\t\t\t<softBreak></softBreak>\n            //\t\t\t^bazqux\n            //\t\t</codeBlock>\n            //\n            //\t\t->\n            //\n            //\t\t<codeBlock>\n            //\t\t\t    foobar\n            //\t\t\t<softBreak></softBreak>\n            //\t\t\t    bazqux\n            //\t\t</codeBlock>\n            //\n            for (const position of positions) {\n                const indentSequenceTextElement = writer.createText(this._indentSequence);\n                // Previously insertion was done by writer.insertText(). It was changed to insertContent() to enable\n                // integration of code block with track changes. It's the easiest way of integration because insertContent()\n                // is already integrated with track changes, but if it ever cause any troubles it can be reverted, however\n                // some additional work will be required in track changes integration of code block.\n                model.insertContent(indentSequenceTextElement, position);\n            }\n        });\n    }\n    /**\n     * Checks whether the command can be enabled in the current context.\n     */\n    _checkEnabled() {\n        if (!this._indentSequence) {\n            return false;\n        }\n        // Indent (forward) command is always enabled when there's any code block in the selection\n        // because you can always indent code lines.\n        return isModelSelectionInCodeBlock(this.editor.model.document.selection);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { getLeadingWhiteSpaces, getIndentOutdentPositions, isModelSelectionInCodeBlock, getTextNodeAtLineStart } from './utils.js';\n/**\n * The code block indentation decrease command plugin.\n */\nexport default class OutdentCodeBlockCommand extends Command {\n    /**\n     * A sequence of characters removed from the line when the command is executed.\n     */\n    _indentSequence;\n    constructor(editor) {\n        super(editor);\n        this._indentSequence = editor.config.get('codeBlock.indentSequence');\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        this.isEnabled = this._checkEnabled();\n    }\n    /**\n     * Executes the command. When the command {@link #isEnabled is enabled}, the indentation of the\n     * code lines in the selection will be decreased.\n     *\n     * @fires execute\n     */\n    execute() {\n        const editor = this.editor;\n        const model = editor.model;\n        model.change(() => {\n            const positions = getIndentOutdentPositions(model);\n            // Outdent all positions, for instance assuming the indent sequence is 4x space (\"    \"):\n            //\n            //\t\t<codeBlock>^foo</codeBlock>         ->       <codeBlock>foo</codeBlock>\n            //\n            //\t\t<codeBlock>    ^bar</codeBlock>     ->       <codeBlock>bar</codeBlock>\n            //\n            // Also, when there is more than one position:\n            //\n            //\t\t<codeBlock>\n            //\t\t\t    ^foobar\n            //\t\t\t<softBreak></softBreak>\n            //\t\t\t    ^bazqux\n            //\t\t</codeBlock>\n            //\n            //\t\t->\n            //\n            //\t\t<codeBlock>\n            //\t\t\tfoobar\n            //\t\t\t<softBreak></softBreak>\n            //\t\t\tbazqux\n            //\t\t</codeBlock>\n            for (const position of positions) {\n                const range = getLastOutdentableSequenceRange(model, position, this._indentSequence);\n                if (range) {\n                    // Previously deletion was done by writer.remove(). It was changed to deleteContent() to enable\n                    // integration of code block with track changes. It's the easiest way of integration because deleteContent()\n                    // is already integrated with track changes, but if it ever cause any troubles it can be reverted, however\n                    // some additional work will be required in track changes integration of code block.\n                    model.deleteContent(model.createSelection(range));\n                }\n            }\n        });\n    }\n    /**\n     * Checks whether the command can be enabled in the current context.\n     *\n     * @private\n     * @returns {Boolean} Whether the command should be enabled.\n     */\n    _checkEnabled() {\n        if (!this._indentSequence) {\n            return false;\n        }\n        const model = this.editor.model;\n        if (!isModelSelectionInCodeBlock(model.document.selection)) {\n            return false;\n        }\n        // Outdent command can execute only when there is an indent character sequence\n        // in some of the lines.\n        return getIndentOutdentPositions(model).some(position => {\n            return getLastOutdentableSequenceRange(model, position, this._indentSequence);\n        });\n    }\n}\n// For a position coming from `getIndentOutdentPositions()`, it returns the range representing\n// the last occurrence of the indent sequence among the leading whitespaces of the code line the\n// position represents.\n//\n// For instance, assuming the indent sequence is 4x space (\"    \"):\n//\n//\t\t<codeBlock>foo^</codeBlock>                                 ->          null\n//\t\t<codeBlock>foo^<softBreak></softBreak>bar</codeBlock>       ->          null\n//\t\t<codeBlock>  ^foo</codeBlock>                               ->          null\n//\t\t<codeBlock>        ^foo</codeBlock>                         ->          <codeBlock>    [    ]foo</codeBlock>\n//\t\t<codeBlock>    ^foo    bar</codeBlock>                      ->          <codeBlock>[    ]foo    bar</codeBlock>\n//\n// @param {<module:engine/model/model~Model>} model\n// @param {<module:engine/model/position~Position>} position\n// @param {String} sequence\n// @returns {<module:engine/model/range~Range>|null}\nfunction getLastOutdentableSequenceRange(model, position, sequence) {\n    // Positions start before each text node (code line). Get the node corresponding to the position.\n    const nodeAtPosition = getTextNodeAtLineStart(position, model);\n    if (!nodeAtPosition) {\n        return null;\n    }\n    const leadingWhiteSpaces = getLeadingWhiteSpaces(nodeAtPosition);\n    const lastIndexOfSequence = leadingWhiteSpaces.lastIndexOf(sequence);\n    // For instance, assuming the indent sequence is 4x space (\"    \"):\n    //\n    //\t\t<codeBlock>    \t^foo</codeBlock>           ->             null\n    //\n    if (lastIndexOfSequence + sequence.length !== leadingWhiteSpaces.length) {\n        return null;\n    }\n    // For instance, assuming the indent sequence is 4x space (\"    \"):\n    //\n    //\t\t<codeBlock>  ^foo</codeBlock>           ->             null\n    //\n    if (lastIndexOfSequence === -1) {\n        return null;\n    }\n    const { parent, startOffset } = nodeAtPosition;\n    // Create a range that contains the **last** indent sequence among the leading whitespaces\n    // of the line.\n    //\n    // For instance, assuming the indent sequence is 4x space (\"    \"):\n    //\n    //\t\t<codeBlock>        ^foo</codeBlock>      ->     <codeBlock>    [    ]foo</codeBlock>\n    //\n    return model.createRange(model.createPositionAt(parent, startOffset + lastIndexOfSequence), model.createPositionAt(parent, startOffset + lastIndexOfSequence + sequence.length));\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { getPropertyAssociation } from './utils.js';\n/**\n * A model-to-view (both editing and data) converter for the `codeBlock` element.\n *\n * Sample input:\n *\n * ```html\n * <codeBlock language=\"javascript\">foo();<softBreak></softBreak>bar();</codeBlock>\n * ```\n *\n * Sample output (editing):\n *\n * ```html\n * <pre data-language=\"JavaScript\"><code class=\"language-javascript\">foo();<br />bar();</code></pre>\n * ```\n *\n * Sample output (data, see {@link module:code-block/converters~modelToDataViewSoftBreakInsertion}):\n *\n * ```html\n * <pre><code class=\"language-javascript\">foo();\\nbar();</code></pre>\n * ```\n *\n * @param languageDefs The normalized language configuration passed to the feature.\n * @param useLabels When `true`, the `<pre>` element will get a `data-language` attribute with a\n * human–readable label of the language. Used only in the editing.\n * @returns Returns a conversion callback.\n */\nexport function modelToViewCodeBlockInsertion(model, languageDefs, useLabels = false) {\n    // Language CSS classes:\n    //\n    //\t\t{\n    //\t\t\tphp: 'language-php',\n    //\t\t\tpython: 'language-python',\n    //\t\t\tjavascript: 'js',\n    //\t\t\t...\n    //\t\t}\n    const languagesToClasses = getPropertyAssociation(languageDefs, 'language', 'class');\n    // Language labels:\n    //\n    //\t\t{\n    //\t\t\tphp: 'PHP',\n    //\t\t\tpython: 'Python',\n    //\t\t\tjavascript: 'JavaScript',\n    //\t\t\t...\n    //\t\t}\n    const languagesToLabels = getPropertyAssociation(languageDefs, 'language', 'label');\n    return (evt, data, conversionApi) => {\n        const { writer, mapper, consumable } = conversionApi;\n        if (!consumable.consume(data.item, 'insert')) {\n            return;\n        }\n        const codeBlockLanguage = data.item.getAttribute('language');\n        const targetViewPosition = mapper.toViewPosition(model.createPositionBefore(data.item));\n        const preAttributes = {};\n        // Attributes added only in the editing view.\n        if (useLabels) {\n            preAttributes['data-language'] = languagesToLabels[codeBlockLanguage];\n            preAttributes.spellcheck = 'false';\n        }\n        const codeAttributes = languagesToClasses[codeBlockLanguage] ? {\n            class: languagesToClasses[codeBlockLanguage]\n        } : undefined;\n        const code = writer.createContainerElement('code', codeAttributes);\n        const pre = writer.createContainerElement('pre', preAttributes, code);\n        writer.insert(targetViewPosition, pre);\n        mapper.bindElements(data.item, code);\n    };\n}\n/**\n * A model-to-data view converter for the new line (`softBreak`) separator.\n *\n * Sample input:\n *\n * ```html\n * <codeBlock ...>foo();<softBreak></softBreak>bar();</codeBlock>\n * ```\n *\n * Sample output:\n *\n * ```html\n * <pre><code ...>foo();\\nbar();</code></pre>\n * ```\n *\n * @returns Returns a conversion callback.\n */\nexport function modelToDataViewSoftBreakInsertion(model) {\n    return (evt, data, conversionApi) => {\n        if (data.item.parent.name !== 'codeBlock') {\n            return;\n        }\n        const { writer, mapper, consumable } = conversionApi;\n        if (!consumable.consume(data.item, 'insert')) {\n            return;\n        }\n        const position = mapper.toViewPosition(model.createPositionBefore(data.item));\n        writer.insert(position, writer.createText('\\n'));\n    };\n}\n/**\n * A view-to-model converter for `<pre>` with the `<code>` HTML.\n *\n * Sample input:\n *\n * ```html\n * <pre><code class=\"language-javascript\">foo();bar();</code></pre>\n * ```\n *\n * Sample output:\n *\n * ```html\n * <codeBlock language=\"javascript\">foo();bar();</codeBlock>\n * ```\n *\n * @param languageDefs The normalized language configuration passed to the feature.\n * @returns Returns a conversion callback.\n */\nexport function dataViewToModelCodeBlockInsertion(editingView, languageDefs) {\n    // Language names associated with CSS classes:\n    //\n    //\t\t{\n    //\t\t\t'language-php': 'php',\n    //\t\t\t'language-python': 'python',\n    //\t\t\tjs: 'javascript',\n    //\t\t\t...\n    //\t\t}\n    const classesToLanguages = getPropertyAssociation(languageDefs, 'class', 'language');\n    const defaultLanguageName = languageDefs[0].language;\n    return (evt, data, conversionApi) => {\n        const viewCodeElement = data.viewItem;\n        const viewPreElement = viewCodeElement.parent;\n        if (!viewPreElement || !viewPreElement.is('element', 'pre')) {\n            return;\n        }\n        // In case of nested code blocks we don't want to convert to another code block.\n        if (data.modelCursor.findAncestor('codeBlock')) {\n            return;\n        }\n        const { consumable, writer } = conversionApi;\n        if (!consumable.test(viewCodeElement, { name: true })) {\n            return;\n        }\n        const codeBlock = writer.createElement('codeBlock');\n        const viewChildClasses = [...viewCodeElement.getClassNames()];\n        // As we're to associate each class with a model language, a lack of class (empty class) can be\n        // also associated with a language if the language definition was configured so. Pushing an empty\n        // string to make sure the association will work.\n        if (!viewChildClasses.length) {\n            viewChildClasses.push('');\n        }\n        // Figure out if any of the <code> element's class names is a valid programming\n        // language class. If so, use it on the model element (becomes the language of the entire block).\n        for (const className of viewChildClasses) {\n            const language = classesToLanguages[className];\n            if (language) {\n                writer.setAttribute('language', language, codeBlock);\n                break;\n            }\n        }\n        // If no language value was set, use the default language from the config.\n        if (!codeBlock.hasAttribute('language')) {\n            writer.setAttribute('language', defaultLanguageName, codeBlock);\n        }\n        // Convert children before inserting the code block element\n        // to make sure that code block won't be splitted by any block.\n        conversionApi.convertChildren(viewCodeElement, codeBlock);\n        // Let's try to insert code block.\n        if (!conversionApi.safeInsert(codeBlock, data.modelCursor)) {\n            return;\n        }\n        consumable.consume(viewCodeElement, { name: true });\n        conversionApi.updateConversionResult(codeBlock, data);\n    };\n}\n/**\n * A view-to-model converter for new line characters in `<pre>`.\n *\n * Sample input:\n *\n * ```html\n * <pre><code class=\"language-javascript\">foo();\\nbar();</code></pre>\n * ```\n *\n * Sample output:\n *\n * ```html\n * <codeBlock language=\"javascript\">foo();<softBreak></softBreak>bar();</codeBlock>\n * ```\n *\n * @returns {Function} Returns a conversion callback.\n */\nexport function dataViewToModelTextNewlinesInsertion() {\n    return (evt, data, { consumable, writer }) => {\n        let position = data.modelCursor;\n        // When node is already converted then do nothing.\n        if (!consumable.test(data.viewItem)) {\n            return;\n        }\n        // When not inside `codeBlock` then do nothing.\n        if (!position.findAncestor('codeBlock')) {\n            return;\n        }\n        consumable.consume(data.viewItem);\n        const text = data.viewItem.data;\n        const textLines = text.split('\\n').map(data => writer.createText(data));\n        const lastLine = textLines[textLines.length - 1];\n        for (const node of textLines) {\n            writer.insert(node, position);\n            position = position.getShiftedBy(node.offsetSize);\n            if (node !== lastLine) {\n                const softBreak = writer.createElement('softBreak');\n                writer.insert(softBreak, position);\n                position = writer.createPositionAfter(softBreak);\n            }\n        }\n        data.modelRange = writer.createRange(data.modelCursor, position);\n        data.modelCursor = position;\n    };\n}\n/**\n * A view-to-model converter that handles orphan text nodes (white spaces, new lines, etc.)\n * that surround `<code>` inside `<pre>`.\n *\n * Sample input:\n *\n * ```html\n * // White spaces\n * <pre> <code>foo()</code> </pre>\n *\n * // White spaces\n * <pre>      <code>foo()</code>      </pre>\n *\n * // White spaces\n * <pre>\t\t\t<code>foo()</code>\t\t\t</pre>\n *\n * // New lines\n * <pre>\n * \t<code>foo()</code>\n * </pre>\n *\n * // Redundant text\n * <pre>ABC<code>foo()</code>DEF</pre>\n * ```\n *\n * Unified output for each case:\n *\n * ```html\n * <codeBlock language=\"plaintext\">foo()</codeBlock>\n * ```\n *\n * @returns Returns a conversion callback.\n */\nexport function dataViewToModelOrphanNodeConsumer() {\n    return (evt, data, { consumable }) => {\n        const preElement = data.viewItem;\n        // Don't clean up nested pre elements. Their content should stay as it is, they are not upcasted\n        // to code blocks.\n        if (preElement.findAncestor('pre')) {\n            return;\n        }\n        const preChildren = Array.from(preElement.getChildren());\n        const childCodeElement = preChildren.find(node => node.is('element', 'code'));\n        // <code>-less <pre>. It will not upcast to code block in the model, skipping.\n        if (!childCodeElement) {\n            return;\n        }\n        for (const child of preChildren) {\n            if (child === childCodeElement || !child.is('$text')) {\n                continue;\n            }\n            // Consuming the orphan to remove it from the input data.\n            // Second argument in `consumable.consume` is discarded for text nodes.\n            consumable.consume(child, { name: true });\n        }\n    };\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module code-block/codeblockediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { ShiftEnter } from 'ckeditor5/src/enter.js';\nimport { UpcastWriter } from 'ckeditor5/src/engine.js';\nimport { ClipboardPipeline } from 'ckeditor5/src/clipboard.js';\nimport CodeBlockCommand from './codeblockcommand.js';\nimport IndentCodeBlockCommand from './indentcodeblockcommand.js';\nimport OutdentCodeBlockCommand from './outdentcodeblockcommand.js';\nimport { getNormalizedAndLocalizedLanguageDefinitions, getLeadingWhiteSpaces, rawSnippetTextToViewDocumentFragment, getCodeBlockAriaAnnouncement, getTextNodeAtLineStart } from './utils.js';\nimport { modelToViewCodeBlockInsertion, modelToDataViewSoftBreakInsertion, dataViewToModelCodeBlockInsertion, dataViewToModelTextNewlinesInsertion, dataViewToModelOrphanNodeConsumer } from './converters.js';\nconst DEFAULT_ELEMENT = 'paragraph';\n/**\n * The editing part of the code block feature.\n *\n * Introduces the `'codeBlock'` command and the `'codeBlock'` model element.\n */\nexport default class CodeBlockEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'CodeBlockEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ShiftEnter];\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        editor.config.define('codeBlock', {\n            languages: [\n                { language: 'plaintext', label: 'Plain text' },\n                { language: 'c', label: 'C' },\n                { language: 'cs', label: 'C#' },\n                { language: 'cpp', label: 'C++' },\n                { language: 'css', label: 'CSS' },\n                { language: 'diff', label: 'Diff' },\n                { language: 'html', label: 'HTML' },\n                { language: 'java', label: 'Java' },\n                { language: 'javascript', label: 'JavaScript' },\n                { language: 'php', label: 'PHP' },\n                { language: 'python', label: 'Python' },\n                { language: 'ruby', label: 'Ruby' },\n                { language: 'typescript', label: 'TypeScript' },\n                { language: 'xml', label: 'XML' }\n            ],\n            // A single tab.\n            indentSequence: '\\t'\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const schema = editor.model.schema;\n        const model = editor.model;\n        const view = editor.editing.view;\n        const normalizedLanguagesDefs = getNormalizedAndLocalizedLanguageDefinitions(editor);\n        // The main command.\n        editor.commands.add('codeBlock', new CodeBlockCommand(editor));\n        // Commands that change the indentation.\n        editor.commands.add('indentCodeBlock', new IndentCodeBlockCommand(editor));\n        editor.commands.add('outdentCodeBlock', new OutdentCodeBlockCommand(editor));\n        this.listenTo(view.document, 'tab', (evt, data) => {\n            const commandName = data.shiftKey ? 'outdentCodeBlock' : 'indentCodeBlock';\n            const command = editor.commands.get(commandName);\n            if (!command.isEnabled) {\n                return;\n            }\n            editor.execute(commandName);\n            data.stopPropagation();\n            data.preventDefault();\n            evt.stop();\n        }, { context: 'pre' });\n        schema.register('codeBlock', {\n            allowWhere: '$block',\n            allowChildren: '$text',\n            // Disallow `$inlineObject` and its derivatives like `inlineWidget` inside `codeBlock` to ensure that only text,\n            // not other inline elements like inline images, are allowed. This maintains the semantic integrity of code blocks.\n            disallowChildren: '$inlineObject',\n            allowAttributes: ['language'],\n            allowAttributesOf: '$listItem',\n            isBlock: true\n        });\n        // Disallow formatting attributes on `codeBlock` children.\n        schema.addAttributeCheck((context, attributeName) => {\n            const parent = context.getItem(context.length - 2);\n            const isFormatting = schema.getAttributeProperties(attributeName).isFormatting;\n            if (isFormatting && parent && parent.name == 'codeBlock') {\n                return false;\n            }\n        });\n        // Conversion.\n        editor.editing.downcastDispatcher.on('insert:codeBlock', modelToViewCodeBlockInsertion(model, normalizedLanguagesDefs, true));\n        editor.data.downcastDispatcher.on('insert:codeBlock', modelToViewCodeBlockInsertion(model, normalizedLanguagesDefs));\n        editor.data.downcastDispatcher.on('insert:softBreak', modelToDataViewSoftBreakInsertion(model), { priority: 'high' });\n        editor.data.upcastDispatcher.on('element:code', dataViewToModelCodeBlockInsertion(view, normalizedLanguagesDefs));\n        editor.data.upcastDispatcher.on('text', dataViewToModelTextNewlinesInsertion());\n        editor.data.upcastDispatcher.on('element:pre', dataViewToModelOrphanNodeConsumer(), { priority: 'high' });\n        // Intercept the clipboard input (paste) when the selection is anchored in the code block and force the clipboard\n        // data to be pasted as a single plain text. Otherwise, the code lines will split the code block and\n        // \"spill out\" as separate paragraphs.\n        this.listenTo(editor.editing.view.document, 'clipboardInput', (evt, data) => {\n            let insertionRange = model.createRange(model.document.selection.anchor);\n            // Use target ranges in case this is a drop.\n            if (data.targetRanges) {\n                insertionRange = editor.editing.mapper.toModelRange(data.targetRanges[0]);\n            }\n            if (!insertionRange.start.parent.is('element', 'codeBlock')) {\n                return;\n            }\n            const text = data.dataTransfer.getData('text/plain');\n            const writer = new UpcastWriter(editor.editing.view.document);\n            // Pass the view fragment to the default clipboardInput handler.\n            data.content = rawSnippetTextToViewDocumentFragment(writer, text);\n        });\n        if (editor.plugins.has('ClipboardPipeline')) {\n            // Elements may have a plain textual representation (hence be present in the 'text/plain' data transfer),\n            // but not be allowed in the code block.\n            // Filter them out before inserting the content to the model.\n            editor.plugins.get(ClipboardPipeline).on('contentInsertion', (evt, data) => {\n                const model = editor.model;\n                const selection = model.document.selection;\n                if (!selection.anchor.parent.is('element', 'codeBlock')) {\n                    return;\n                }\n                model.change(writer => {\n                    const contentRange = writer.createRangeIn(data.content);\n                    for (const item of [...contentRange.getItems()]) {\n                        // Remove all nodes disallowed in the code block.\n                        if (item.is('node') && !schema.checkChild(selection.anchor, item)) {\n                            writer.remove(item);\n                        }\n                    }\n                });\n            });\n        }\n        // Make sure multi–line selection is always wrapped in a code block when `getSelectedContent()`\n        // is used (e.g. clipboard copy). Otherwise, only the raw text will be copied to the clipboard and,\n        // upon next paste, this bare text will not be inserted as a code block, which is not the best UX.\n        // Similarly, when the selection in a single line, the selected content should be an inline code\n        // so it can be pasted later on and retain it's preformatted nature.\n        this.listenTo(model, 'getSelectedContent', (evt, [selection]) => {\n            const anchor = selection.anchor;\n            if (selection.isCollapsed || !anchor.parent.is('element', 'codeBlock') || !anchor.hasSameParentAs(selection.focus)) {\n                return;\n            }\n            model.change(writer => {\n                const docFragment = evt.return;\n                // fo[o<softBreak></softBreak>b]ar  ->   <codeBlock language=\"...\">[o<softBreak></softBreak>b]<codeBlock>\n                if (anchor.parent.is('element') &&\n                    (docFragment.childCount > 1 || selection.containsEntireContent(anchor.parent))) {\n                    const codeBlock = writer.createElement('codeBlock', anchor.parent.getAttributes());\n                    writer.append(docFragment, codeBlock);\n                    const newDocumentFragment = writer.createDocumentFragment();\n                    writer.append(codeBlock, newDocumentFragment);\n                    evt.return = newDocumentFragment;\n                    return;\n                }\n                // \"f[oo]\"                          ->   <$text code=\"true\">oo</text>\n                const textNode = docFragment.getChild(0);\n                if (schema.checkAttribute(textNode, 'code')) {\n                    writer.setAttribute('code', true, textNode);\n                }\n            });\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    afterInit() {\n        const editor = this.editor;\n        const commands = editor.commands;\n        const indent = commands.get('indent');\n        const outdent = commands.get('outdent');\n        if (indent) {\n            // Priority is highest due to integration with `IndentList` command of `List` plugin.\n            // If selection is in a code block we give priority to it. This way list item cannot be indented\n            // but if we would give priority to indenting list item then user would have to indent list item\n            // as much as possible and only then he could indent code block.\n            indent.registerChildCommand(commands.get('indentCodeBlock'), { priority: 'highest' });\n        }\n        if (outdent) {\n            outdent.registerChildCommand(commands.get('outdentCodeBlock'));\n        }\n        // Customize the response to the <kbd>Enter</kbd> and <kbd>Shift</kbd>+<kbd>Enter</kbd>\n        // key press when the selection is in the code block. Upon enter key press we can either\n        // leave the block if it's \"two or three enters\" in a row or create a new code block line, preserving\n        // previous line's indentation.\n        this.listenTo(editor.editing.view.document, 'enter', (evt, data) => {\n            const positionParent = editor.model.document.selection.getLastPosition().parent;\n            if (!positionParent.is('element', 'codeBlock')) {\n                return;\n            }\n            if (!leaveBlockStartOnEnter(editor, data.isSoft) && !leaveBlockEndOnEnter(editor, data.isSoft)) {\n                breakLineOnEnter(editor);\n            }\n            data.preventDefault();\n            evt.stop();\n        }, { context: 'pre' });\n        this._initAriaAnnouncements();\n    }\n    /**\n     * Observe when user enters or leaves code block and set proper aria value in global live announcer.\n     * This allows screen readers to indicate when the user has entered and left the specified code block.\n     *\n     * @internal\n     */\n    _initAriaAnnouncements() {\n        const { model, ui, t } = this.editor;\n        const languageDefs = getNormalizedAndLocalizedLanguageDefinitions(this.editor);\n        let lastFocusedCodeBlock = null;\n        model.document.selection.on('change:range', () => {\n            const focusParent = model.document.selection.focus.parent;\n            if (!ui || lastFocusedCodeBlock === focusParent || !focusParent.is('element')) {\n                return;\n            }\n            if (lastFocusedCodeBlock && lastFocusedCodeBlock.is('element', 'codeBlock')) {\n                ui.ariaLiveAnnouncer.announce(getCodeBlockAriaAnnouncement(t, languageDefs, lastFocusedCodeBlock, 'leave'));\n            }\n            if (focusParent.is('element', 'codeBlock')) {\n                ui.ariaLiveAnnouncer.announce(getCodeBlockAriaAnnouncement(t, languageDefs, focusParent, 'enter'));\n            }\n            lastFocusedCodeBlock = focusParent;\n        });\n    }\n}\n/**\n * Normally, when the Enter (or Shift+Enter) key is pressed, a soft line break is to be added to the\n * code block. Let's try to follow the indentation of the previous line when possible, for instance:\n *\n * ```html\n * // Before pressing enter (or shift enter)\n * <codeBlock>\n * \"    foo()\"[]                   // Indent of 4 spaces.\n * </codeBlock>\n *\n * // After pressing:\n * <codeBlock>\n * \"    foo()\"                 // Indent of 4 spaces.\n * <softBreak></softBreak>     // A new soft break created by pressing enter.\n * \"    \"[]                    // Retain the indent of 4 spaces.\n * </codeBlock>\n * ```\n */\nfunction breakLineOnEnter(editor) {\n    const model = editor.model;\n    const modelDoc = model.document;\n    // Use last position as other mechanisms (e.g. condition deciding whether this function should be called) also check that.\n    const lastSelectionPosition = modelDoc.selection.getLastPosition();\n    let leadingWhiteSpaces;\n    const node = getTextNodeAtLineStart(lastSelectionPosition, model);\n    // Figure out the indentation (white space chars) at the beginning of the line.\n    if (node && node.is('$text')) {\n        leadingWhiteSpaces = getLeadingWhiteSpaces(node);\n    }\n    // Keeping everything in a change block for a single undo step.\n    editor.model.change(writer => {\n        editor.execute('shiftEnter');\n        // If the line before being broken in two had some indentation, let's retain it\n        // in the new line.\n        if (leadingWhiteSpaces) {\n            writer.insertText(leadingWhiteSpaces, modelDoc.selection.anchor);\n        }\n    });\n}\n/**\n * Leave the code block when Enter (but NOT Shift+Enter) has been pressed twice at the beginning\n * of the code block:\n *\n * ```html\n * // Before:\n * <codeBlock>[]<softBreak></softBreak>foo</codeBlock>\n *\n * // After pressing:\n * <paragraph>[]</paragraph><codeBlock>foo</codeBlock>\n * ```\n *\n * @param isSoftEnter When `true`, enter was pressed along with <kbd>Shift</kbd>.\n * @returns `true` when selection left the block. `false` if stayed.\n */\nfunction leaveBlockStartOnEnter(editor, isSoftEnter) {\n    const model = editor.model;\n    const modelDoc = model.document;\n    const view = editor.editing.view;\n    const lastSelectionPosition = modelDoc.selection.getLastPosition();\n    const nodeAfter = lastSelectionPosition.nodeAfter;\n    if (isSoftEnter || !modelDoc.selection.isCollapsed || !lastSelectionPosition.isAtStart) {\n        return false;\n    }\n    if (!isSoftBreakNode(nodeAfter)) {\n        return false;\n    }\n    // We're doing everything in a single change block to have a single undo step.\n    editor.model.change(writer => {\n        // \"Clone\" the <codeBlock> in the standard way.\n        editor.execute('enter');\n        // The cloned block exists now before the original code block.\n        const newBlock = modelDoc.selection.anchor.parent.previousSibling;\n        // Make the cloned <codeBlock> a regular <paragraph> (with clean attributes, so no language).\n        writer.rename(newBlock, DEFAULT_ELEMENT);\n        writer.setSelection(newBlock, 'in');\n        editor.model.schema.removeDisallowedAttributes([newBlock], writer);\n        // Remove the <softBreak> that originally followed the selection position.\n        writer.remove(nodeAfter);\n    });\n    // Eye candy.\n    view.scrollToTheSelection();\n    return true;\n}\n/**\n * Leave the code block when Enter (but NOT Shift+Enter) has been pressed twice at the end\n * of the code block:\n *\n * ```html\n * // Before:\n * <codeBlock>foo[]</codeBlock>\n *\n * // After first press:\n * <codeBlock>foo<softBreak></softBreak>[]</codeBlock>\n *\n * // After second press:\n * <codeBlock>foo</codeBlock><paragraph>[]</paragraph>\n * ```\n *\n * @param isSoftEnter When `true`, enter was pressed along with <kbd>Shift</kbd>.\n * @returns `true` when selection left the block. `false` if stayed.\n */\nfunction leaveBlockEndOnEnter(editor, isSoftEnter) {\n    const model = editor.model;\n    const modelDoc = model.document;\n    const view = editor.editing.view;\n    const lastSelectionPosition = modelDoc.selection.getLastPosition();\n    const nodeBefore = lastSelectionPosition.nodeBefore;\n    let emptyLineRangeToRemoveOnEnter;\n    if (isSoftEnter || !modelDoc.selection.isCollapsed || !lastSelectionPosition.isAtEnd || !nodeBefore || !nodeBefore.previousSibling) {\n        return false;\n    }\n    // When the position is directly preceded by two soft breaks\n    //\n    //\t\t<codeBlock>foo<softBreak></softBreak><softBreak></softBreak>[]</codeBlock>\n    //\n    // it creates the following range that will be cleaned up before leaving:\n    //\n    //\t\t<codeBlock>foo[<softBreak></softBreak><softBreak></softBreak>]</codeBlock>\n    //\n    if (isSoftBreakNode(nodeBefore) && isSoftBreakNode(nodeBefore.previousSibling)) {\n        emptyLineRangeToRemoveOnEnter = model.createRange(model.createPositionBefore(nodeBefore.previousSibling), model.createPositionAfter(nodeBefore));\n    }\n    // When there's some text before the position that is\n    // preceded by two soft breaks and made purely of white–space characters\n    //\n    //\t\t<codeBlock>foo<softBreak></softBreak><softBreak></softBreak>    []</codeBlock>\n    //\n    // it creates the following range to clean up before leaving:\n    //\n    //\t\t<codeBlock>foo[<softBreak></softBreak><softBreak></softBreak>    ]</codeBlock>\n    //\n    else if (isEmptyishTextNode(nodeBefore) &&\n        isSoftBreakNode(nodeBefore.previousSibling) &&\n        isSoftBreakNode(nodeBefore.previousSibling.previousSibling)) {\n        emptyLineRangeToRemoveOnEnter = model.createRange(model.createPositionBefore(nodeBefore.previousSibling.previousSibling), model.createPositionAfter(nodeBefore));\n    }\n    // When there's some text before the position that is made purely of white–space characters\n    // and is preceded by some other text made purely of white–space characters\n    //\n    //\t\t<codeBlock>foo<softBreak></softBreak>    <softBreak></softBreak>    []</codeBlock>\n    //\n    // it creates the following range to clean up before leaving:\n    //\n    //\t\t<codeBlock>foo[<softBreak></softBreak>    <softBreak></softBreak>    ]</codeBlock>\n    //\n    else if (isEmptyishTextNode(nodeBefore) &&\n        isSoftBreakNode(nodeBefore.previousSibling) &&\n        isEmptyishTextNode(nodeBefore.previousSibling.previousSibling) &&\n        nodeBefore.previousSibling.previousSibling &&\n        isSoftBreakNode(nodeBefore.previousSibling.previousSibling.previousSibling)) {\n        emptyLineRangeToRemoveOnEnter = model.createRange(model.createPositionBefore(nodeBefore.previousSibling.previousSibling.previousSibling), model.createPositionAfter(nodeBefore));\n    }\n    // Not leaving the block in the following cases:\n    //\n    //\t\t<codeBlock>    []</codeBlock>\n    //\t\t<codeBlock>  a []</codeBlock>\n    //\t\t<codeBlock>foo<softBreak></softBreak>[]</codeBlock>\n    //\t\t<codeBlock>foo<softBreak></softBreak><softBreak></softBreak>bar[]</codeBlock>\n    //\t\t<codeBlock>foo<softBreak></softBreak><softBreak></softBreak> a []</codeBlock>\n    //\n    else {\n        return false;\n    }\n    // We're doing everything in a single change block to have a single undo step.\n    editor.model.change(writer => {\n        // Remove the last <softBreak>s and all white space characters that followed them.\n        writer.remove(emptyLineRangeToRemoveOnEnter);\n        // \"Clone\" the <codeBlock> in the standard way.\n        editor.execute('enter');\n        const newBlock = modelDoc.selection.anchor.parent;\n        // Make the cloned <codeBlock> a regular <paragraph> (with clean attributes, so no language).\n        writer.rename(newBlock, DEFAULT_ELEMENT);\n        editor.model.schema.removeDisallowedAttributes([newBlock], writer);\n    });\n    // Eye candy.\n    view.scrollToTheSelection();\n    return true;\n}\nfunction isEmptyishTextNode(node) {\n    return node && node.is('$text') && !node.data.match(/\\S/);\n}\nfunction isSoftBreakNode(node) {\n    return node && node.is('element', 'softBreak');\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./codeblock.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module code-block/codeblockui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Collection } from 'ckeditor5/src/utils.js';\nimport { ViewModel, SplitButtonView, createDropdown, addListToDropdown, MenuBarMenuListItemButtonView, MenuBarMenuListView, MenuBarMenuView, MenuBarMenuListItemView } from 'ckeditor5/src/ui.js';\nimport { IconCodeBlock } from 'ckeditor5/src/icons.js';\nimport { getNormalizedAndLocalizedLanguageDefinitions } from './utils.js';\nimport '../theme/codeblock.css';\n/**\n * The code block UI plugin.\n *\n * Introduces the `'codeBlock'` dropdown.\n */\nexport default class CodeBlockUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'CodeBlockUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = editor.t;\n        const componentFactory = editor.ui.componentFactory;\n        const normalizedLanguageDefs = getNormalizedAndLocalizedLanguageDefinitions(editor);\n        const itemDefinitions = this._getLanguageListItemDefinitions(normalizedLanguageDefs);\n        const command = editor.commands.get('codeBlock');\n        componentFactory.add('codeBlock', locale => {\n            const dropdownView = createDropdown(locale, SplitButtonView);\n            const splitButtonView = dropdownView.buttonView;\n            const accessibleLabel = t('Insert code block');\n            splitButtonView.set({\n                label: accessibleLabel,\n                tooltip: true,\n                icon: IconCodeBlock,\n                isToggleable: true\n            });\n            splitButtonView.bind('isOn').to(command, 'value', value => !!value);\n            splitButtonView.on('execute', () => {\n                editor.execute('codeBlock', {\n                    usePreviousLanguageChoice: true\n                });\n                editor.editing.view.focus();\n            });\n            dropdownView.on('execute', evt => {\n                editor.execute('codeBlock', {\n                    language: evt.source._codeBlockLanguage,\n                    forceValue: true\n                });\n                editor.editing.view.focus();\n            });\n            dropdownView.class = 'ck-code-block-dropdown';\n            dropdownView.bind('isEnabled').to(command);\n            addListToDropdown(dropdownView, itemDefinitions, {\n                role: 'menu',\n                ariaLabel: accessibleLabel\n            });\n            return dropdownView;\n        });\n        componentFactory.add('menuBar:codeBlock', locale => {\n            const menuView = new MenuBarMenuView(locale);\n            menuView.buttonView.set({\n                role: 'menuitem',\n                label: t('Code block'),\n                icon: IconCodeBlock\n            });\n            menuView.bind('isEnabled').to(command);\n            const listView = new MenuBarMenuListView(locale);\n            listView.set({\n                ariaLabel: t('Insert code block')\n            });\n            for (const definition of itemDefinitions) {\n                const listItemView = new MenuBarMenuListItemView(locale, menuView);\n                const buttonView = new MenuBarMenuListItemButtonView(locale);\n                buttonView.bind(...Object.keys(definition.model)).to(definition.model);\n                buttonView.set({\n                    isToggleable: true,\n                    role: 'menuitemcheckbox'\n                });\n                buttonView.delegate('execute').to(menuView);\n                buttonView.on('execute', () => {\n                    editor.execute('codeBlock', {\n                        language: definition.model._codeBlockLanguage,\n                        forceValue: command.value == definition.model._codeBlockLanguage ? false : true\n                    });\n                    editor.editing.view.focus();\n                });\n                listItemView.children.add(buttonView);\n                listView.items.add(listItemView);\n            }\n            menuView.panelView.children.add(listView);\n            return menuView;\n        });\n    }\n    /**\n     * A helper returning a collection of the `codeBlock` dropdown items representing languages\n     * available for the user to choose from.\n     */\n    _getLanguageListItemDefinitions(normalizedLanguageDefs) {\n        const editor = this.editor;\n        const command = editor.commands.get('codeBlock');\n        const itemDefinitions = new Collection();\n        for (const languageDef of normalizedLanguageDefs) {\n            const definition = {\n                type: 'button',\n                model: new ViewModel({\n                    _codeBlockLanguage: languageDef.language,\n                    label: languageDef.label,\n                    role: 'menuitemradio',\n                    withText: true\n                })\n            };\n            definition.model.bind('isOn').to(command, 'value', value => {\n                return value === definition.model._codeBlockLanguage;\n            });\n            itemDefinitions.add(definition);\n        }\n        return itemDefinitions;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module code-block/codeblock\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport CodeBlockEditing from './codeblockediting.js';\nimport CodeBlockUI from './codeblockui.js';\n/**\n * The code block plugin.\n *\n * For more information about this feature check the {@glink api/code-block package page} and the\n * {@glink features/code-blocks code block} feature guide.\n *\n * This is a \"glue\" plugin that loads the {@link module:code-block/codeblockediting~CodeBlockEditing code block editing feature}\n * and the {@link module:code-block/codeblockui~CodeBlockUI code block UI feature}.\n */\nexport default class CodeBlock extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [CodeBlockEditing, CodeBlockUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'CodeBlock';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module essentials/essentials\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Clipboard } from 'ckeditor5/src/clipboard.js';\nimport { Enter, ShiftEnter } from 'ckeditor5/src/enter.js';\nimport { SelectAll } from 'ckeditor5/src/select-all.js';\nimport { Typing } from 'ckeditor5/src/typing.js';\nimport { Undo } from 'ckeditor5/src/undo.js';\nimport { AccessibilityHelp } from 'ckeditor5/src/ui.js';\n/**\n * A plugin including all essential editing features. It represents a set of features that enables similar functionalities\n * to a `<textarea>` element.\n *\n * It includes:\n *\n * * {@link module:ui/editorui/accessibilityhelp/accessibilityhelp~AccessibilityHelp},\n * * {@link module:clipboard/clipboard~Clipboard},\n * * {@link module:enter/enter~Enter},\n * * {@link module:select-all/selectall~SelectAll},\n * * {@link module:enter/shiftenter~ShiftEnter},\n * * {@link module:typing/typing~Typing},\n * * {@link module:undo/undo~Undo}.\n *\n * This plugin set does not define any block-level containers (such as {@link module:paragraph/paragraph~Paragraph}).\n * If your editor is supposed to handle block content, make sure to include it.\n */\nexport default class Essentials extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [AccessibilityHelp, Clipboard, Enter, SelectAll, ShiftEnter, Typing, Undo];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'Essentials';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./findandreplaceform.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module find-and-replace/ui/findandreplaceformview\n */\nimport { View, ButtonView, LabeledFieldView, FocusCycler, createLabeledInputText, submitHandler, ViewCollection, SwitchButtonView, CollapsibleView } from 'ckeditor5/src/ui.js';\nimport { FocusTracker, KeystrokeHandler, Rect, isVisible } from 'ckeditor5/src/utils.js';\n// See: #8833.\n// eslint-disable-next-line ckeditor5-rules/ckeditor-imports\nimport '@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css';\nimport '../../theme/findandreplaceform.css';\nimport { IconPreviousArrow } from 'ckeditor5/src/icons.js';\n/**\n * The find and replace form view class.\n *\n * See {@link module:find-and-replace/ui/findandreplaceformview~FindAndReplaceFormView}.\n */\nexport default class FindAndReplaceFormView extends View {\n    /**\n     * A collection of child views.\n     */\n    children;\n    /**\n     * The find in text input view that stores the searched string.\n     *\n     * @internal\n     */\n    _findInputView;\n    /**\n     * The replace input view.\n     */\n    _replaceInputView;\n    /**\n     * The find button view that initializes the search process.\n     */\n    _findButtonView;\n    /**\n     * The find previous button view.\n     */\n    _findPrevButtonView;\n    /**\n     * The find next button view.\n     */\n    _findNextButtonView;\n    /**\n     * A collapsible view aggregating the advanced search options.\n     */\n    _advancedOptionsCollapsibleView;\n    /**\n     * A switch button view controlling the \"Match case\" option.\n     */\n    _matchCaseSwitchView;\n    /**\n     * A switch button view controlling the \"Whole words only\" option.\n     */\n    _wholeWordsOnlySwitchView;\n    /**\n     * The replace button view.\n     */\n    _replaceButtonView;\n    /**\n     * The replace all button view.\n     */\n    _replaceAllButtonView;\n    /**\n     * The `div` aggregating the inputs.\n     */\n    _inputsDivView;\n    /**\n     * The `div` aggregating the action buttons.\n     */\n    _actionButtonsDivView;\n    /**\n     * Tracks information about the DOM focus in the form.\n     */\n    _focusTracker;\n    /**\n     * An instance of the {@link module:utils/keystrokehandler~KeystrokeHandler}.\n     */\n    _keystrokes;\n    /**\n     * A collection of views that can be focused in the form.\n     */\n    _focusables;\n    /**\n     * Helps cycling over {@link #_focusables} in the form.\n     */\n    focusCycler;\n    /**\n     * Creates a view of find and replace form.\n     *\n     * @param locale The localization services instance.\n     */\n    constructor(locale) {\n        super(locale);\n        const t = locale.t;\n        this.children = this.createCollection();\n        this.set('matchCount', 0);\n        this.set('highlightOffset', 0);\n        this.set('isDirty', false);\n        this.set('_areCommandsEnabled', {});\n        this.set('_resultsCounterText', '');\n        this.set('_matchCase', false);\n        this.set('_wholeWordsOnly', false);\n        this.bind('_searchResultsFound').to(this, 'matchCount', this, 'isDirty', (matchCount, isDirty) => {\n            return matchCount > 0 && !isDirty;\n        });\n        this._findInputView = this._createInputField(t('Find in text…'));\n        this._findPrevButtonView = this._createButton({\n            label: t('Previous result'),\n            class: 'ck-button-prev',\n            icon: IconPreviousArrow,\n            keystroke: 'Shift+F3',\n            tooltip: true\n        });\n        this._findNextButtonView = this._createButton({\n            label: t('Next result'),\n            class: 'ck-button-next',\n            icon: IconPreviousArrow,\n            keystroke: 'F3',\n            tooltip: true\n        });\n        this._replaceInputView = this._createInputField(t('Replace with…'), 'ck-labeled-field-replace');\n        this._inputsDivView = this._createInputsDiv();\n        this._matchCaseSwitchView = this._createMatchCaseSwitch();\n        this._wholeWordsOnlySwitchView = this._createWholeWordsOnlySwitch();\n        this._advancedOptionsCollapsibleView = this._createAdvancedOptionsCollapsible();\n        this._replaceAllButtonView = this._createButton({\n            label: t('Replace all'),\n            class: 'ck-button-replaceall',\n            withText: true\n        });\n        this._replaceButtonView = this._createButton({\n            label: t('Replace'),\n            class: 'ck-button-replace',\n            withText: true\n        });\n        this._findButtonView = this._createButton({\n            label: t('Find'),\n            class: 'ck-button-find ck-button-action',\n            withText: true\n        });\n        this._actionButtonsDivView = this._createActionButtonsDiv();\n        this._focusTracker = new FocusTracker();\n        this._keystrokes = new KeystrokeHandler();\n        this._focusables = new ViewCollection();\n        this.focusCycler = new FocusCycler({\n            focusables: this._focusables,\n            focusTracker: this._focusTracker,\n            keystrokeHandler: this._keystrokes,\n            actions: {\n                // Navigate form fields backwards using the <kbd>Shift</kbd> + <kbd>Tab</kbd> keystroke.\n                focusPrevious: 'shift + tab',\n                // Navigate form fields forwards using the <kbd>Tab</kbd> key.\n                focusNext: 'tab'\n            }\n        });\n        this.children.addMany([\n            this._inputsDivView,\n            this._advancedOptionsCollapsibleView,\n            this._actionButtonsDivView\n        ]);\n        this.setTemplate({\n            tag: 'form',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-find-and-replace-form'\n                ],\n                tabindex: '-1'\n            },\n            children: this.children\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    render() {\n        super.render();\n        submitHandler({ view: this });\n        this._initFocusCycling();\n        this._initKeystrokeHandling();\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        super.destroy();\n        this._focusTracker.destroy();\n        this._keystrokes.destroy();\n    }\n    /**\n     * @inheritDoc\n     */\n    focus(direction) {\n        if (direction === -1) {\n            this.focusCycler.focusLast();\n        }\n        else {\n            this.focusCycler.focusFirst();\n        }\n    }\n    /**\n     * Resets the form before re-appearing.\n     *\n     * It clears error messages, hides the match counter and disables the replace feature\n     * until the next hit of the \"Find\" button.\n     *\n     * **Note**: It does not reset inputs and options, though. This way the form works better in editors with\n     * disappearing toolbar (e.g. BalloonEditor): hiding the toolbar by accident (together with the find and replace UI)\n     * does not require filling the entire form again.\n     */\n    reset() {\n        this._findInputView.errorText = null;\n        this.isDirty = true;\n    }\n    /**\n     * Returns the value of the find input.\n     */\n    get _textToFind() {\n        return this._findInputView.fieldView.element.value;\n    }\n    /**\n     * Returns the value of the replace input.\n     */\n    get _textToReplace() {\n        return this._replaceInputView.fieldView.element.value;\n    }\n    /**\n     * Configures and returns the `<div>` aggregating all form inputs.\n     */\n    _createInputsDiv() {\n        const locale = this.locale;\n        const t = locale.t;\n        const inputsDivView = new View(locale);\n        // Typing in the find field invalidates all previous results (the form is \"dirty\").\n        this._findInputView.fieldView.on('input', () => {\n            this.isDirty = true;\n        });\n        // Pressing prev/next buttons fires related event on the form.\n        this._findPrevButtonView.delegate('execute').to(this, 'findPrevious');\n        this._findNextButtonView.delegate('execute').to(this, 'findNext');\n        // Prev/next buttons will be disabled when related editor command gets disabled.\n        this._findPrevButtonView.bind('isEnabled').to(this, '_areCommandsEnabled', ({ findPrevious }) => findPrevious);\n        this._findNextButtonView.bind('isEnabled').to(this, '_areCommandsEnabled', ({ findNext }) => findNext);\n        this._injectFindResultsCounter();\n        this._replaceInputView.bind('isEnabled').to(this, '_areCommandsEnabled', this, '_searchResultsFound', ({ replace }, resultsFound) => replace && resultsFound);\n        this._replaceInputView.bind('infoText').to(this._replaceInputView, 'isEnabled', this._replaceInputView, 'isFocused', (isEnabled, isFocused) => {\n            if (isEnabled || !isFocused) {\n                return '';\n            }\n            return t('Tip: Find some text first in order to replace it.');\n        });\n        inputsDivView.setTemplate({\n            tag: 'div',\n            attributes: {\n                class: ['ck', 'ck-find-and-replace-form__inputs']\n            },\n            children: [\n                this._findInputView,\n                this._findPrevButtonView,\n                this._findNextButtonView,\n                this._replaceInputView\n            ]\n        });\n        return inputsDivView;\n    }\n    /**\n     * The action performed when the {@link #_findButtonView} is pressed.\n     */\n    _onFindButtonExecute() {\n        // When hitting \"Find\" in an empty input, an error should be displayed.\n        // Also, if the form was \"dirty\", it should remain so.\n        if (!this._textToFind) {\n            const t = this.t;\n            this._findInputView.errorText = t('Text to find must not be empty.');\n            return;\n        }\n        // Hitting \"Find\" automatically clears the dirty state.\n        this.isDirty = false;\n        this.fire('findNext', {\n            searchText: this._textToFind,\n            matchCase: this._matchCase,\n            wholeWords: this._wholeWordsOnly\n        });\n    }\n    /**\n     * Configures an injects the find results counter displaying a \"N of M\" label of the {@link #_findInputView}.\n     */\n    _injectFindResultsCounter() {\n        const locale = this.locale;\n        const t = locale.t;\n        const bind = this.bindTemplate;\n        const resultsCounterView = new View(this.locale);\n        this.bind('_resultsCounterText').to(this, 'highlightOffset', this, 'matchCount', (highlightOffset, matchCount) => t('%0 of %1', [highlightOffset, matchCount]));\n        resultsCounterView.setTemplate({\n            tag: 'span',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-results-counter',\n                    // The counter only makes sense when the field text corresponds to search results in the editing.\n                    bind.if('isDirty', 'ck-hidden')\n                ]\n            },\n            children: [\n                {\n                    text: bind.to('_resultsCounterText')\n                }\n            ]\n        });\n        // The whole idea is that when the text of the counter changes, its width also increases/decreases and\n        // it consumes more or less space over the input. The input, on the other hand, should adjust it's right\n        // padding so its *entire* text always remains visible and available to the user.\n        const updateFindInputPadding = () => {\n            const inputElement = this._findInputView.fieldView.element;\n            // Don't adjust the padding if the input (also: counter) were not rendered or not inserted into DOM yet.\n            if (!inputElement || !isVisible(inputElement)) {\n                return;\n            }\n            const counterWidth = new Rect(resultsCounterView.element).width;\n            const paddingPropertyName = locale.uiLanguageDirection === 'ltr' ? 'paddingRight' : 'paddingLeft';\n            if (!counterWidth) {\n                inputElement.style[paddingPropertyName] = '';\n            }\n            else {\n                inputElement.style[paddingPropertyName] = `calc( 2 * var(--ck-spacing-standard) + ${counterWidth}px )`;\n            }\n        };\n        // Adjust the input padding when the text of the counter changes, for instance \"1 of 200\" is narrower than \"123 of 200\".\n        // Using \"low\" priority to let the text be set by the template binding first.\n        this.on('change:_resultsCounterText', updateFindInputPadding, { priority: 'low' });\n        // Adjust the input padding when the counter shows or hides. When hidden, there should be no padding. When it shows, the\n        // padding should be set according to the text of the counter.\n        // Using \"low\" priority to let the text be set by the template binding first.\n        this.on('change:isDirty', updateFindInputPadding, { priority: 'low' });\n        // Put the counter element next to the <input> in the find field.\n        this._findInputView.template.children[0].children.push(resultsCounterView);\n    }\n    /**\n     * Creates the collapsible view aggregating the advanced search options.\n     */\n    _createAdvancedOptionsCollapsible() {\n        const t = this.locale.t;\n        const collapsible = new CollapsibleView(this.locale, [\n            this._matchCaseSwitchView,\n            this._wholeWordsOnlySwitchView\n        ]);\n        collapsible.set({\n            label: t('Advanced options'),\n            isCollapsed: true\n        });\n        return collapsible;\n    }\n    /**\n     * Configures and returns the `<div>` element aggregating all form action buttons.\n     */\n    _createActionButtonsDiv() {\n        const actionsDivView = new View(this.locale);\n        this._replaceButtonView.bind('isEnabled').to(this, '_areCommandsEnabled', this, '_searchResultsFound', ({ replace }, resultsFound) => replace && resultsFound);\n        this._replaceAllButtonView.bind('isEnabled').to(this, '_areCommandsEnabled', this, '_searchResultsFound', ({ replaceAll }, resultsFound) => replaceAll && resultsFound);\n        this._replaceButtonView.on('execute', () => {\n            this.fire('replace', {\n                searchText: this._textToFind,\n                replaceText: this._textToReplace\n            });\n        });\n        this._replaceAllButtonView.on('execute', () => {\n            this.fire('replaceAll', {\n                searchText: this._textToFind,\n                replaceText: this._textToReplace\n            });\n            this.focus();\n        });\n        this._findButtonView.on('execute', this._onFindButtonExecute.bind(this));\n        actionsDivView.setTemplate({\n            tag: 'div',\n            attributes: {\n                class: ['ck', 'ck-find-and-replace-form__actions']\n            },\n            children: [\n                this._replaceAllButtonView,\n                this._replaceButtonView,\n                this._findButtonView\n            ]\n        });\n        return actionsDivView;\n    }\n    /**\n     * Creates, configures and returns and instance of a dropdown allowing users to narrow\n     * the search criteria down. The dropdown has a list with switch buttons for each option.\n     */\n    _createMatchCaseSwitch() {\n        const t = this.locale.t;\n        const matchCaseSwitchButton = new SwitchButtonView(this.locale);\n        matchCaseSwitchButton.set({\n            label: t('Match case'),\n            withText: true\n        });\n        // Let the switch be controlled by form's observable property.\n        matchCaseSwitchButton.bind('isOn').to(this, '_matchCase');\n        // // Update the state of the form when a switch is toggled.\n        matchCaseSwitchButton.on('execute', () => {\n            this._matchCase = !this._matchCase;\n            // Toggling a switch makes the form dirty because this changes search criteria\n            // just like typing text of the find input.\n            this.isDirty = true;\n        });\n        return matchCaseSwitchButton;\n    }\n    /**\n     * Creates, configures and returns and instance of a dropdown allowing users to narrow\n     * the search criteria down. The dropdown has a list with switch buttons for each option.\n     */\n    _createWholeWordsOnlySwitch() {\n        const t = this.locale.t;\n        const wholeWordsOnlySwitchButton = new SwitchButtonView(this.locale);\n        wholeWordsOnlySwitchButton.set({\n            label: t('Whole words only'),\n            withText: true\n        });\n        // Let the switch be controlled by form's observable property.\n        wholeWordsOnlySwitchButton.bind('isOn').to(this, '_wholeWordsOnly');\n        // // Update the state of the form when a switch is toggled.\n        wholeWordsOnlySwitchButton.on('execute', () => {\n            this._wholeWordsOnly = !this._wholeWordsOnly;\n            // Toggling a switch makes the form dirty because this changes search criteria\n            // just like typing text of the find input.\n            this.isDirty = true;\n        });\n        return wholeWordsOnlySwitchButton;\n    }\n    /**\n     * Initializes the {@link #_focusables} and {@link #_focusTracker} to allow navigation\n     * using <kbd>Tab</kbd> and <kbd>Shift</kbd>+<kbd>Tab</kbd> keystrokes in the right order.\n     */\n    _initFocusCycling() {\n        const childViews = [\n            this._findInputView,\n            this._findPrevButtonView,\n            this._findNextButtonView,\n            this._replaceInputView,\n            this._advancedOptionsCollapsibleView.buttonView,\n            this._matchCaseSwitchView,\n            this._wholeWordsOnlySwitchView,\n            this._replaceAllButtonView,\n            this._replaceButtonView,\n            this._findButtonView\n        ];\n        childViews.forEach(v => {\n            // Register the view as focusable.\n            this._focusables.add(v);\n            // Register the view in the focus tracker.\n            this._focusTracker.add(v.element);\n        });\n    }\n    /**\n     * Initializes the keystroke handling in the form.\n     */\n    _initKeystrokeHandling() {\n        const stopPropagation = (data) => data.stopPropagation();\n        const stopPropagationAndPreventDefault = (data) => {\n            data.stopPropagation();\n            data.preventDefault();\n        };\n        // Start listening for the keystrokes coming from #element.\n        this._keystrokes.listenTo(this.element);\n        // Find the next result upon F3.\n        this._keystrokes.set('f3', event => {\n            stopPropagationAndPreventDefault(event);\n            this._findNextButtonView.fire('execute');\n        });\n        // Find the previous result upon F3.\n        this._keystrokes.set('shift+f3', event => {\n            stopPropagationAndPreventDefault(event);\n            this._findPrevButtonView.fire('execute');\n        });\n        // Find or replace upon pressing Enter in the find and replace fields.\n        this._keystrokes.set('enter', event => {\n            const target = event.target;\n            if (target === this._findInputView.fieldView.element) {\n                if (this._areCommandsEnabled.findNext) {\n                    this._findNextButtonView.fire('execute');\n                }\n                else {\n                    this._findButtonView.fire('execute');\n                }\n                stopPropagationAndPreventDefault(event);\n            }\n            else if (target === this._replaceInputView.fieldView.element && !this.isDirty) {\n                this._replaceButtonView.fire('execute');\n                stopPropagationAndPreventDefault(event);\n            }\n        });\n        // Find previous upon pressing Shift+Enter in the find field.\n        this._keystrokes.set('shift+enter', event => {\n            const target = event.target;\n            if (target !== this._findInputView.fieldView.element) {\n                return;\n            }\n            if (this._areCommandsEnabled.findPrevious) {\n                this._findPrevButtonView.fire('execute');\n            }\n            else {\n                this._findButtonView.fire('execute');\n            }\n            stopPropagationAndPreventDefault(event);\n        });\n        // Since the form is in the dropdown panel which is a child of the toolbar, the toolbar's\n        // keystroke handler would take over the key management in the URL input.\n        // We need to prevent this ASAP. Otherwise, the basic caret movement using the arrow keys will be impossible.\n        this._keystrokes.set('arrowright', stopPropagation);\n        this._keystrokes.set('arrowleft', stopPropagation);\n        this._keystrokes.set('arrowup', stopPropagation);\n        this._keystrokes.set('arrowdown', stopPropagation);\n    }\n    /**\n     * Creates a button view.\n     *\n     * @param options The properties of the `ButtonView`.\n     * @returns The button view instance.\n     */\n    _createButton(options) {\n        const button = new ButtonView(this.locale);\n        button.set(options);\n        return button;\n    }\n    /**\n     * Creates a labeled input view.\n     *\n     * @param label The input label.\n     * @returns The labeled input view instance.\n     */\n    _createInputField(label, className) {\n        const labeledInput = new LabeledFieldView(this.locale, createLabeledInputText);\n        labeledInput.label = label;\n        labeledInput.class = className;\n        return labeledInput;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module find-and-replace/findandreplaceui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { IconFindReplace } from 'ckeditor5/src/icons.js';\nimport { ButtonView, MenuBarMenuListItemButtonView, Dialog, DialogViewPosition, createDropdown, DropdownView, FormHeaderView, CssTransitionDisablerMixin } from 'ckeditor5/src/ui.js';\nimport FindAndReplaceFormView from './ui/findandreplaceformview.js';\n/**\n * The default find and replace UI.\n *\n * It registers the `'findAndReplace'` UI button in the editor's {@link module:ui/componentfactory~ComponentFactory component factory}.\n * that uses the {@link module:find-and-replace/findandreplace~FindAndReplace FindAndReplace} plugin API.\n */\nexport default class FindAndReplaceUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [Dialog];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'FindAndReplaceUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * A reference to the find and replace form view.\n     */\n    formView;\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        editor.config.define('findAndReplace.uiType', 'dialog');\n        this.formView = null;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const isUiUsingDropdown = editor.config.get('findAndReplace.uiType') === 'dropdown';\n        const findCommand = editor.commands.get('find');\n        const t = this.editor.t;\n        // Register the toolbar component: dropdown or button (that opens a dialog).\n        editor.ui.componentFactory.add('findAndReplace', () => {\n            let view;\n            if (isUiUsingDropdown) {\n                view = this._createDropdown();\n                // Button should be disabled when in source editing mode. See #10001.\n                view.bind('isEnabled').to(findCommand);\n            }\n            else {\n                view = this._createDialogButtonForToolbar();\n            }\n            editor.keystrokes.set('Ctrl+F', (data, cancelEvent) => {\n                if (!findCommand.isEnabled) {\n                    return;\n                }\n                if (view instanceof DropdownView) {\n                    const dropdownButtonView = view.buttonView;\n                    if (!dropdownButtonView.isOn) {\n                        dropdownButtonView.fire('execute');\n                    }\n                }\n                else {\n                    if (view.isOn) {\n                        // If the dialog is open, do not close it. Instead focus it.\n                        // Unfortunately we can't simply use:\n                        // \tthis.formView!.focus();\n                        // because it would always move focus to the first input field, which we don't want.\n                        editor.plugins.get('Dialog').view.focus();\n                    }\n                    else {\n                        view.fire('execute');\n                    }\n                }\n                cancelEvent();\n            });\n            return view;\n        });\n        if (!isUiUsingDropdown) {\n            editor.ui.componentFactory.add('menuBar:findAndReplace', () => {\n                return this._createDialogButtonForMenuBar();\n            });\n        }\n        // Add the information about the keystroke to the accessibility database.\n        editor.accessibility.addKeystrokeInfos({\n            keystrokes: [\n                {\n                    label: t('Find in the document'),\n                    keystroke: 'CTRL+F'\n                }\n            ]\n        });\n    }\n    /**\n     * Creates a dropdown containing the find and replace form.\n     */\n    _createDropdown() {\n        const editor = this.editor;\n        const t = editor.locale.t;\n        const dropdownView = createDropdown(editor.locale);\n        dropdownView.once('change:isOpen', () => {\n            this.formView = this._createFormView();\n            this.formView.children.add(new FormHeaderView(editor.locale, {\n                label: t('Find and replace')\n            }), 0);\n            dropdownView.panelView.children.add(this.formView);\n        });\n        // Every time a dropdown is opened, the search text field should get focused and selected for better UX.\n        // Note: Using the low priority here to make sure the following listener starts working after\n        // the default action of the drop-down is executed (i.e. the panel showed up). Otherwise,\n        // the invisible form/input cannot be focused/selected.\n        //\n        // Each time a dropdown is closed, move the focus back to the find and replace toolbar button\n        // and let the find and replace editing feature know that all search results can be invalidated\n        // and no longer should be marked in the content.\n        dropdownView.on('change:isOpen', (event, name, isOpen) => {\n            if (isOpen) {\n                this._setupFormView();\n            }\n            else {\n                this.fire('searchReseted');\n            }\n        }, { priority: 'low' });\n        dropdownView.buttonView.set({\n            icon: IconFindReplace,\n            label: t('Find and replace'),\n            keystroke: 'CTRL+F',\n            tooltip: true\n        });\n        return dropdownView;\n    }\n    /**\n     * Creates a button that opens a dialog with the find and replace form.\n     */\n    _createDialogButtonForToolbar() {\n        const editor = this.editor;\n        const buttonView = this._createButton(ButtonView);\n        const dialog = editor.plugins.get('Dialog');\n        buttonView.set({\n            tooltip: true\n        });\n        // Button should be on when the find and replace dialog is opened.\n        buttonView.bind('isOn').to(dialog, 'id', id => id === 'findAndReplace');\n        // Every time a dialog is opened, the search text field should get focused and selected for better UX.\n        // Each time a dialog is closed, move the focus back to the find and replace toolbar button\n        // and let the find and replace editing feature know that all search results can be invalidated\n        // and no longer should be marked in the content.\n        buttonView.on('execute', () => {\n            if (buttonView.isOn) {\n                dialog.hide();\n            }\n            else {\n                this._showDialog();\n            }\n        });\n        return buttonView;\n    }\n    /**\n     * Creates a button for for menu bar that will show find and replace dialog.\n     */\n    _createDialogButtonForMenuBar() {\n        const buttonView = this._createButton(MenuBarMenuListItemButtonView);\n        const dialogPlugin = this.editor.plugins.get('Dialog');\n        const dialog = this.editor.plugins.get('Dialog');\n        buttonView.set({\n            role: 'menuitemcheckbox',\n            isToggleable: true\n        });\n        // Button should be on when the find and replace dialog is opened.\n        buttonView.bind('isOn').to(dialog, 'id', id => id === 'findAndReplace');\n        buttonView.on('execute', () => {\n            if (dialogPlugin.id === 'findAndReplace') {\n                dialogPlugin.hide();\n                return;\n            }\n            this._showDialog();\n        });\n        return buttonView;\n    }\n    /**\n     * Creates a button for find and replace command to use either in toolbar or in menu bar.\n     */\n    _createButton(ButtonClass) {\n        const editor = this.editor;\n        const findCommand = editor.commands.get('find');\n        const buttonView = new ButtonClass(editor.locale);\n        const t = editor.locale.t;\n        // Button should be disabled when in source editing mode. See #10001.\n        buttonView.bind('isEnabled').to(findCommand);\n        buttonView.set({\n            icon: IconFindReplace,\n            label: t('Find and replace'),\n            keystroke: 'CTRL+F'\n        });\n        return buttonView;\n    }\n    /**\n     * Shows the find and replace dialog.\n     */\n    _showDialog() {\n        const editor = this.editor;\n        const dialog = editor.plugins.get('Dialog');\n        const t = editor.locale.t;\n        if (!this.formView) {\n            this.formView = this._createFormView();\n        }\n        dialog.show({\n            id: 'findAndReplace',\n            title: t('Find and replace'),\n            content: this.formView,\n            position: DialogViewPosition.EDITOR_TOP_SIDE,\n            onShow: () => {\n                this._setupFormView();\n            },\n            onHide: () => {\n                this.fire('searchReseted');\n            }\n        });\n    }\n    /**\n     * Sets up the form view for the find and replace.\n     *\n     * @param formView A related form view.\n     */\n    _createFormView() {\n        const editor = this.editor;\n        const formView = new (CssTransitionDisablerMixin(FindAndReplaceFormView))(editor.locale);\n        const commands = editor.commands;\n        const findAndReplaceEditing = this.editor.plugins.get('FindAndReplaceEditing');\n        const editingState = findAndReplaceEditing.state;\n        formView.bind('highlightOffset').to(editingState, 'highlightedOffset');\n        // Let the form know how many results were found in total.\n        formView.listenTo(editingState.results, 'change', () => {\n            formView.matchCount = editingState.results.length;\n        });\n        // Command states are used to enable/disable individual form controls.\n        // To keep things simple, instead of binding 4 individual observables, there's only one that combines every\n        // commands' isEnabled state. Yes, it will change more often but this simplifies the structure of the form.\n        const findNextCommand = commands.get('findNext');\n        const findPreviousCommand = commands.get('findPrevious');\n        const replaceCommand = commands.get('replace');\n        const replaceAllCommand = commands.get('replaceAll');\n        formView.bind('_areCommandsEnabled').to(findNextCommand, 'isEnabled', findPreviousCommand, 'isEnabled', replaceCommand, 'isEnabled', replaceAllCommand, 'isEnabled', (findNext, findPrevious, replace, replaceAll) => ({ findNext, findPrevious, replace, replaceAll }));\n        // The UI plugin works as an interface between the form and the editing part of the feature.\n        formView.delegate('findNext', 'findPrevious', 'replace', 'replaceAll').to(this);\n        // Let the feature know that search results are no longer relevant because the user changed the searched phrase\n        // (or options) but didn't hit the \"Find\" button yet (e.g. still typing).\n        formView.on('change:isDirty', (evt, data, isDirty) => {\n            if (isDirty) {\n                this.fire('searchReseted');\n            }\n        });\n        return formView;\n    }\n    /**\n     * Clears the find and replace form and focuses the search text field.\n     */\n    _setupFormView() {\n        this.formView.disableCssTransitions();\n        this.formView.reset();\n        this.formView._findInputView.fieldView.select();\n        this.formView.enableCssTransitions();\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module find-and-replace/findcommand\n*/\nimport { Command } from 'ckeditor5/src/core.js';\n/**\n * The find command. It is used by the {@link module:find-and-replace/findandreplace~FindAndReplace find and replace feature}.\n */\nexport default class FindCommand extends Command {\n    /**\n     * The find and replace state object used for command operations.\n     */\n    _state;\n    /**\n     * Creates a new `FindCommand` instance.\n     *\n     * @param editor The editor on which this command will be used.\n     * @param state An object to hold plugin state.\n     */\n    constructor(editor, state) {\n        super(editor);\n        // The find command is always enabled.\n        this.isEnabled = true;\n        // It does not affect data so should be enabled in read-only mode.\n        this.affectsData = false;\n        this._state = state;\n    }\n    /**\n     * Executes the command.\n     *\n     * @param callbackOrText\n     * @param options Options object.\n     * @param options.matchCase If set to `true`, the letter case will be matched.\n     * @param options.wholeWords If set to `true`, only whole words that match `callbackOrText` will be matched.\n     *\n     * @fires execute\n     */\n    execute(callbackOrText, { matchCase, wholeWords } = {}) {\n        const { editor } = this;\n        const { model } = editor;\n        const findAndReplaceUtils = editor.plugins.get('FindAndReplaceUtils');\n        let findCallback;\n        let callbackSearchText = '';\n        // Allow to execute `find()` on a plugin with a keyword only.\n        if (typeof callbackOrText === 'string') {\n            findCallback = (...args) => ({\n                results: findAndReplaceUtils.findByTextCallback(callbackOrText, { matchCase, wholeWords })(...args),\n                searchText: callbackOrText\n            });\n        }\n        else {\n            findCallback = callbackOrText;\n        }\n        // Wrap the callback to get the search text that will be assigned to the state.\n        const oldCallback = findCallback;\n        findCallback = (...args) => {\n            const result = oldCallback(...args);\n            if (result && 'searchText' in result) {\n                callbackSearchText = result.searchText;\n            }\n            return result;\n        };\n        // Initial search is done on all nodes in all roots inside the content.\n        const results = model.document.getRootNames()\n            .reduce(((currentResults, rootName) => findAndReplaceUtils.updateFindResultFromRange(model.createRangeIn(model.document.getRoot(rootName)), model, findCallback, currentResults)), null);\n        this._state.clear(model);\n        this._state.results.addMany(results);\n        this._state.highlightedResult = results.get(0);\n        this._state.searchText = callbackSearchText;\n        if (findCallback) {\n            this._state.lastSearchCallback = findCallback;\n        }\n        this._state.matchCase = !!matchCase;\n        this._state.matchWholeWords = !!wholeWords;\n        return {\n            results,\n            findCallback\n        };\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { ObservableMixin, Collection } from 'ckeditor5/src/utils.js';\n/**\n * The object storing find and replace plugin state for a given editor instance.\n */\nexport default class FindAndReplaceState extends /* #__PURE__ */ ObservableMixin() {\n    /**\n     * Creates an instance of the state.\n     */\n    constructor(model) {\n        super();\n        this.set('results', new Collection());\n        this.set('highlightedResult', null);\n        this.set('highlightedOffset', 0);\n        this.set('searchText', '');\n        this.set('replaceText', '');\n        this.set('lastSearchCallback', null);\n        this.set('matchCase', false);\n        this.set('matchWholeWords', false);\n        this.results.on('change', (eventInfo, { removed, index }) => {\n            if (Array.from(removed).length) {\n                let highlightedResultRemoved = false;\n                model.change(writer => {\n                    for (const removedResult of removed) {\n                        if (this.highlightedResult === removedResult) {\n                            highlightedResultRemoved = true;\n                        }\n                        if (model.markers.has(removedResult.marker.name)) {\n                            writer.removeMarker(removedResult.marker);\n                        }\n                    }\n                });\n                if (highlightedResultRemoved) {\n                    const nextHighlightedIndex = index >= this.results.length ? 0 : index;\n                    this.highlightedResult = this.results.get(nextHighlightedIndex);\n                }\n            }\n        });\n        this.on('change:highlightedResult', () => {\n            this.refreshHighlightOffset(model);\n        });\n    }\n    /**\n     * Cleans the state up and removes markers from the model.\n     */\n    clear(model) {\n        this.searchText = '';\n        model.change(writer => {\n            if (this.highlightedResult) {\n                const oldMatchId = this.highlightedResult.marker.name.split(':')[1];\n                const oldMarker = model.markers.get(`findResultHighlighted:${oldMatchId}`);\n                if (oldMarker) {\n                    writer.removeMarker(oldMarker);\n                }\n            }\n            [...this.results].forEach(({ marker }) => {\n                writer.removeMarker(marker);\n            });\n        });\n        this.results.clear();\n    }\n    /**\n     * Refreshes the highlight result offset based on it's index within the result list.\n     */\n    refreshHighlightOffset(model) {\n        const { highlightedResult, results } = this;\n        if (highlightedResult) {\n            this.highlightedOffset = sortSearchResultsByMarkerPositions(model, [...results]).indexOf(highlightedResult) + 1;\n        }\n        else {\n            this.highlightedOffset = 0;\n        }\n    }\n}\n/**\n * Sorts search results by marker positions. Make sure that the results are sorted in the same order as they appear in the document\n * to avoid issues with the `find next` command. Apparently, the order of the results in the state might be different than the order\n * of the markers in the model.\n */\nexport function sortSearchResultsByMarkerPositions(model, results) {\n    const sortMapping = { before: -1, same: 0, after: 1, different: 1 };\n    // `compareWith` doesn't play well with multi-root documents, so we need to sort results by root name first\n    // and then sort them within each root. It prevents \"random\" order of results when the document has multiple roots.\n    // See more: https://github.com/ckeditor/ckeditor5/pull/17292#issuecomment-2442084549\n    return model.document.getRootNames().flatMap(rootName => results\n        .filter(result => result.marker.getStart().root.rootName === rootName)\n        .sort((a, b) => sortMapping[a.marker.getStart().compareWith(b.marker.getStart())]));\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module find-and-replace/replacecommandbase\n*/\nimport { Command } from 'ckeditor5/src/core.js';\nexport class ReplaceCommandBase extends Command {\n    /**\n     * The find and replace state object used for command operations.\n     */\n    _state;\n    /**\n     * Creates a new `ReplaceCommand` instance.\n     *\n     * @param editor Editor on which this command will be used.\n     * @param state An object to hold plugin state.\n     */\n    constructor(editor, state) {\n        super(editor);\n        // The replace command is always enabled.\n        this.isEnabled = true;\n        this._state = state;\n        // Since this command executes on particular result independent of selection, it should be checked directly in execute block.\n        this._isEnabledBasedOnSelection = false;\n    }\n    /**\n     * Common logic for both `replace` commands.\n     * Replace a given find result by a string or a callback.\n     *\n     * @param result A single result from the find command.\n     */\n    _replace(replacementText, result) {\n        const { model } = this.editor;\n        const range = result.marker.getRange();\n        // Don't replace a result that is in non-editable place.\n        if (!model.canEditAt(range)) {\n            return;\n        }\n        model.change(writer => {\n            // Don't replace a result (marker) that found its way into the $graveyard (e.g. removed by collaborators).\n            if (range.root.rootName === '$graveyard') {\n                this._state.results.remove(result);\n                return;\n            }\n            let textAttributes = {};\n            for (const item of range.getItems()) {\n                if (item.is('$text') || item.is('$textProxy')) {\n                    textAttributes = item.getAttributes();\n                    break;\n                }\n            }\n            model.insertContent(writer.createText(replacementText, textAttributes), range);\n            if (this._state.results.has(result)) {\n                this._state.results.remove(result);\n            }\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { sortSearchResultsByMarkerPositions } from './findandreplacestate.js';\nimport { ReplaceCommandBase } from './replacecommandbase.js';\n/**\n * The replace command. It is used by the {@link module:find-and-replace/findandreplace~FindAndReplace find and replace feature}.\n */\nexport default class ReplaceCommand extends ReplaceCommandBase {\n    /**\n     * Replace a given find result by a string or a callback.\n     *\n     * @param result A single result from the find command.\n     *\n     * @fires execute\n     */\n    execute(replacementText, result) {\n        // We save highlight offset here, as the information about the highlighted result will be lost after the changes.\n        //\n        // It happens because result list is partially regenerated if the result is removed from the paragraph.\n        // Partially means that all sibling result items that are placed in the same paragraph are removed and added again,\n        // which causes the highlighted result to be malformed (usually it's set to first but it's not guaranteed).\n        //\n        // While this saving can be done in editing state, it's better to keep it here, as it's a part of the command logic\n        // and might be super tricky to implement in multi-root documents.\n        //\n        // Keep in mind that the highlighted offset is indexed from 1, as it's displayed to the user. It's why we subtract 1 here.\n        //\n        // More info: https://github.com/ckeditor/ckeditor5/issues/16648\n        const oldHighlightOffset = Math.max(this._state.highlightedOffset - 1, 0);\n        this._replace(replacementText, result);\n        // Let's revert the highlight offset to the previous value.\n        if (this._state.results.length) {\n            // Highlight offset operates on sorted array, so we need to sort the results first.\n            // It's not guaranteed that items in state results are sorted, usually they are, but it's not guaranteed when\n            // the result is removed from the paragraph with other highlighted results.\n            const sortedResults = sortSearchResultsByMarkerPositions(this.editor.model, [...this._state.results]);\n            // Just make sure that we don't overflow the results array, so use modulo.\n            this._state.highlightedResult = sortedResults[oldHighlightOffset % sortedResults.length];\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module find-and-replace/replaceallcommand\n */\nimport { Collection } from 'ckeditor5/src/utils.js';\nimport { ReplaceCommandBase } from './replacecommandbase.js';\n/**\n * The replace all command. It is used by the {@link module:find-and-replace/findandreplace~FindAndReplace find and replace feature}.\n */\nexport default class ReplaceAllCommand extends ReplaceCommandBase {\n    /**\n     * Replaces all the occurrences of `textToReplace` with a given `newText` string.\n     *\n     * ```ts\n     *\treplaceAllCommand.execute( 'replaceAll', 'new text replacement', 'text to replace' );\n     * ```\n     *\n     * Alternatively you can call it from editor instance:\n     *\n     * ```ts\n     *\teditor.execute( 'replaceAll', 'new text', 'old text' );\n     * ```\n     *\n     * @param newText Text that will be inserted to the editor for each match.\n     * @param textToReplace Text to be replaced or a collection of matches\n     * as returned by the find command.\n     *\n     * @fires module:core/command~Command#event:execute\n     */\n    execute(newText, textToReplace) {\n        const { editor } = this;\n        const { model } = editor;\n        const findAndReplaceUtils = editor.plugins.get('FindAndReplaceUtils');\n        const results = textToReplace instanceof Collection ?\n            textToReplace : model.document.getRootNames()\n            .reduce(((currentResults, rootName) => findAndReplaceUtils.updateFindResultFromRange(model.createRangeIn(model.document.getRoot(rootName)), model, findAndReplaceUtils.findByTextCallback(textToReplace, this._state), currentResults)), null);\n        if (results.length) {\n            // Wrapped in single change will batch it into one transaction.\n            model.change(() => {\n                [...results].forEach(searchResult => {\n                    // Just reuse logic from the replace command to replace a single match.\n                    this._replace(newText, searchResult);\n                });\n            });\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module find-and-replace/findnextcommand\n*/\nimport { Command } from 'ckeditor5/src/core.js';\n/**\n * The find next command. Moves the highlight to the next search result.\n *\n * It is used by the {@link module:find-and-replace/findandreplace~FindAndReplace find and replace feature}.\n */\nexport default class FindNextCommand extends Command {\n    /**\n     * The find and replace state object used for command operations.\n     */\n    _state;\n    /**\n     * Creates a new `FindNextCommand` instance.\n     *\n     * @param editor The editor on which this command will be used.\n     * @param state An object to hold plugin state.\n     */\n    constructor(editor, state) {\n        super(editor);\n        // It does not affect data so should be enabled in read-only mode.\n        this.affectsData = false;\n        this._state = state;\n        this.isEnabled = false;\n        this.listenTo(this._state.results, 'change', () => {\n            this.isEnabled = this._state.results.length > 1;\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        this.isEnabled = this._state.results.length > 1;\n    }\n    /**\n     * @inheritDoc\n     */\n    execute() {\n        const results = this._state.results;\n        const currentIndex = results.getIndex(this._state.highlightedResult);\n        const nextIndex = currentIndex + 1 >= results.length ?\n            0 : currentIndex + 1;\n        this._state.highlightedResult = this._state.results.get(nextIndex);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module find-and-replace/findpreviouscommand\n*/\nimport FindNextCommand from './findnextcommand.js';\n/**\n * The find previous command. Moves the highlight to the previous search result.\n *\n * It is used by the {@link module:find-and-replace/findandreplace~FindAndReplace find and replace feature}.\n */\nexport default class FindPreviousCommand extends FindNextCommand {\n    /**\n     * @inheritDoc\n     */\n    execute() {\n        const results = this._state.results;\n        const currentIndex = results.getIndex(this._state.highlightedResult);\n        const previousIndex = currentIndex - 1 < 0 ?\n            this._state.results.length - 1 : currentIndex - 1;\n        this._state.highlightedResult = this._state.results.get(previousIndex);\n    }\n}\n","function toString(value) {\n    if (value == null) {\n        return '';\n    }\n    if (Array.isArray(value)) {\n        return value.map(toString).join(',');\n    }\n    const result = String(value);\n    if (result === '0' && Object.is(Number(value), -0)) {\n        return '-0';\n    }\n    return result;\n}\n\nexport { toString };\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Collection, uid } from 'ckeditor5/src/utils.js';\nimport { escapeRegExp } from 'es-toolkit/compat';\n/**\n * A set of helpers related to find and replace.\n */\nexport default class FindAndReplaceUtils extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'FindAndReplaceUtils';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * Executes findCallback and updates search results list.\n     *\n     * @param range The model range to scan for matches.\n     * @param model The model.\n     * @param findCallback The callback that should return `true` if provided text matches the search term.\n     * @param startResults An optional collection of find matches that the function should\n     * start with. This would be a collection returned by a previous `updateFindResultFromRange()` call.\n     * @returns A collection of objects describing find match.\n     *\n     * An example structure:\n     *\n     * ```js\n     * {\n     *\tid: resultId,\n     *\tlabel: foundItem.label,\n     *\tmarker\n     *\t}\n     * ```\n     */\n    updateFindResultFromRange(range, model, findCallback, startResults) {\n        const results = startResults || new Collection();\n        const checkIfResultAlreadyOnList = (marker) => results.find(markerItem => {\n            const { marker: resultsMarker } = markerItem;\n            const resultRange = resultsMarker.getRange();\n            const markerRange = marker.getRange();\n            return resultRange.isEqual(markerRange);\n        });\n        model.change(writer => {\n            [...range].forEach(({ type, item }) => {\n                if (type === 'elementStart') {\n                    if (model.schema.checkChild(item, '$text')) {\n                        let foundItems = findCallback({\n                            item,\n                            text: this.rangeToText(model.createRangeIn(item))\n                        });\n                        if (!foundItems) {\n                            return;\n                        }\n                        if ('results' in foundItems) {\n                            foundItems = foundItems.results;\n                        }\n                        foundItems.forEach(foundItem => {\n                            const resultId = `findResult:${uid()}`;\n                            const marker = writer.addMarker(resultId, {\n                                usingOperation: false,\n                                affectsData: false,\n                                range: writer.createRange(writer.createPositionAt(item, foundItem.start), writer.createPositionAt(item, foundItem.end))\n                            });\n                            const index = findInsertIndex(results, marker);\n                            if (!checkIfResultAlreadyOnList(marker)) {\n                                results.add({\n                                    id: resultId,\n                                    label: foundItem.label,\n                                    marker\n                                }, index);\n                            }\n                        });\n                    }\n                }\n            });\n        });\n        return results;\n    }\n    /**\n     * Returns text representation of a range. The returned text length should be the same as range length.\n     * In order to achieve this, this function will replace inline elements (text-line) as new line character (\"\\n\").\n     *\n     * @param range The model range.\n     * @returns The text content of the provided range.\n     */\n    rangeToText(range) {\n        return Array.from(range.getItems({ shallow: true })).reduce((rangeText, node) => {\n            // Trim text to a last occurrence of an inline element and update range start.\n            if (!(node.is('$text') || node.is('$textProxy'))) {\n                // Editor has only one inline element defined in schema: `<softBreak>` which is treated as new line character in blocks.\n                // Special handling might be needed for other inline elements (inline widgets).\n                return `${rangeText}\\n`;\n            }\n            return rangeText + node.data;\n        }, '');\n    }\n    /**\n     * Creates a text matching callback for a specified search term and matching options.\n     *\n     * @param searchTerm The search term.\n     * @param options Matching options.\n     * \t- options.matchCase=false If set to `true` letter casing will be ignored.\n     * \t- options.wholeWords=false If set to `true` only whole words that match `callbackOrText` will be matched.\n     */\n    findByTextCallback(searchTerm, options) {\n        let flags = 'gu';\n        if (!options.matchCase) {\n            flags += 'i';\n        }\n        let regExpQuery = `(${escapeRegExp(searchTerm)})`;\n        if (options.wholeWords) {\n            const nonLetterGroup = '[^a-zA-Z\\u00C0-\\u024F\\u1E00-\\u1EFF]';\n            if (!new RegExp('^' + nonLetterGroup).test(searchTerm)) {\n                regExpQuery = `(^|${nonLetterGroup}|_)${regExpQuery}`;\n            }\n            if (!new RegExp(nonLetterGroup + '$').test(searchTerm)) {\n                regExpQuery = `${regExpQuery}(?=_|${nonLetterGroup}|$)`;\n            }\n        }\n        const regExp = new RegExp(regExpQuery, flags);\n        function findCallback({ text }) {\n            const matches = [...text.matchAll(regExp)];\n            return matches.map(regexpMatchToFindResult);\n        }\n        return findCallback;\n    }\n}\n// Finds the appropriate index in the resultsList Collection.\nfunction findInsertIndex(resultsList, markerToInsert) {\n    const result = resultsList.find(({ marker }) => {\n        return markerToInsert.getStart().isBefore(marker.getStart());\n    });\n    return result ? resultsList.getIndex(result) : resultsList.length;\n}\n/**\n *  Maps RegExp match result to find result.\n */\nfunction regexpMatchToFindResult(matchResult) {\n    const lastGroupIndex = matchResult.length - 1;\n    let startOffset = matchResult.index;\n    // Searches with match all flag have an extra matching group with empty string or white space matched before the word.\n    // If the search term starts with the space already, there is no extra group even with match all flag on.\n    if (matchResult.length === 3) {\n        startOffset += matchResult[1].length;\n    }\n    return {\n        label: matchResult[lastGroupIndex],\n        start: startOffset,\n        end: startOffset + matchResult[lastGroupIndex].length\n    };\n}\n","import { escapeRegExp as escapeRegExp$1 } from '../../string/escapeRegExp.mjs';\nimport { toString } from '../util/toString.mjs';\n\nfunction escapeRegExp(str) {\n    return escapeRegExp$1(toString(str));\n}\n\nexport { escapeRegExp };\n","function escapeRegExp(str) {\n    return str.replace(/[\\\\^$.*+?()[\\]{}|]/g, '\\\\$&');\n}\n\nexport { escapeRegExp };\n","import { debounce as debounce$1 } from '../../function/debounce.mjs';\n\nfunction debounce(func, debounceMs = 0, options = {}) {\n    if (typeof options !== 'object') {\n        options = {};\n    }\n    const { signal, leading = false, trailing = true, maxWait } = options;\n    const edges = Array(2);\n    if (leading) {\n        edges[0] = 'leading';\n    }\n    if (trailing) {\n        edges[1] = 'trailing';\n    }\n    let result = undefined;\n    let pendingAt = null;\n    const _debounced = debounce$1(function (...args) {\n        result = func.apply(this, args);\n        pendingAt = null;\n    }, debounceMs, { signal, edges });\n    const debounced = function (...args) {\n        if (maxWait != null) {\n            if (pendingAt === null) {\n                pendingAt = Date.now();\n            }\n            else {\n                if (Date.now() - pendingAt >= maxWait) {\n                    result = func.apply(this, args);\n                    pendingAt = Date.now();\n                    _debounced.cancel();\n                    _debounced.schedule();\n                    return result;\n                }\n            }\n        }\n        _debounced.apply(this, args);\n        return result;\n    };\n    const flush = () => {\n        _debounced.flush();\n        return result;\n    };\n    debounced.cancel = _debounced.cancel;\n    debounced.flush = flush;\n    return debounced;\n}\n\nexport { debounce };\n","function debounce(func, debounceMs, { signal, edges } = {}) {\n    let pendingThis = undefined;\n    let pendingArgs = null;\n    const leading = edges != null && edges.includes('leading');\n    const trailing = edges == null || edges.includes('trailing');\n    const invoke = () => {\n        if (pendingArgs !== null) {\n            func.apply(pendingThis, pendingArgs);\n            pendingThis = undefined;\n            pendingArgs = null;\n        }\n    };\n    const onTimerEnd = () => {\n        if (trailing) {\n            invoke();\n        }\n        cancel();\n    };\n    let timeoutId = null;\n    const schedule = () => {\n        if (timeoutId != null) {\n            clearTimeout(timeoutId);\n        }\n        timeoutId = setTimeout(() => {\n            timeoutId = null;\n            onTimerEnd();\n        }, debounceMs);\n    };\n    const cancelTimer = () => {\n        if (timeoutId !== null) {\n            clearTimeout(timeoutId);\n            timeoutId = null;\n        }\n    };\n    const cancel = () => {\n        cancelTimer();\n        pendingThis = undefined;\n        pendingArgs = null;\n    };\n    const flush = () => {\n        cancelTimer();\n        invoke();\n    };\n    const debounced = function (...args) {\n        if (signal?.aborted) {\n            return;\n        }\n        pendingThis = this;\n        pendingArgs = args;\n        const isFirstCall = timeoutId == null;\n        schedule();\n        if (leading && isFirstCall) {\n            invoke();\n        }\n    };\n    debounced.schedule = schedule;\n    debounced.cancel = cancel;\n    debounced.flush = flush;\n    signal?.addEventListener('abort', cancel, { once: true });\n    return debounced;\n}\n\nexport { debounce };\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./findandreplace.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module find-and-replace/findandreplaceediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { scrollViewportToShowTarget } from 'ckeditor5/src/utils.js';\nimport FindCommand from './findcommand.js';\nimport ReplaceCommand from './replacecommand.js';\nimport ReplaceAllCommand from './replaceallcommand.js';\nimport FindNextCommand from './findnextcommand.js';\nimport FindPreviousCommand from './findpreviouscommand.js';\nimport FindAndReplaceState from './findandreplacestate.js';\nimport FindAndReplaceUtils from './findandreplaceutils.js';\nimport { debounce } from 'es-toolkit/compat';\nimport '../theme/findandreplace.css';\nconst HIGHLIGHT_CLASS = 'ck-find-result_selected';\n/**\n * Implements the editing part for find and replace plugin. For example conversion, commands etc.\n */\nexport default class FindAndReplaceEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [FindAndReplaceUtils];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'FindAndReplaceEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * An object storing the find and replace state within a given editor instance.\n     */\n    state;\n    /**\n     * @inheritDoc\n     */\n    init() {\n        this.state = new FindAndReplaceState(this.editor.model);\n        this.set('_isSearchActive', false);\n        this._defineConverters();\n        this._defineCommands();\n        this.listenTo(this.state, 'change:highlightedResult', (eventInfo, name, newValue, oldValue) => {\n            const { model } = this.editor;\n            model.change(writer => {\n                if (oldValue) {\n                    const oldMatchId = oldValue.marker.name.split(':')[1];\n                    const oldMarker = model.markers.get(`findResultHighlighted:${oldMatchId}`);\n                    if (oldMarker) {\n                        writer.removeMarker(oldMarker);\n                    }\n                }\n                if (newValue) {\n                    const newMatchId = newValue.marker.name.split(':')[1];\n                    writer.addMarker(`findResultHighlighted:${newMatchId}`, {\n                        usingOperation: false,\n                        affectsData: false,\n                        range: newValue.marker.getRange()\n                    });\n                }\n            });\n        });\n        /* istanbul ignore next -- @preserve */\n        const scrollToHighlightedResult = (eventInfo, name, newValue) => {\n            if (newValue) {\n                const domConverter = this.editor.editing.view.domConverter;\n                const viewRange = this.editor.editing.mapper.toViewRange(newValue.marker.getRange());\n                scrollViewportToShowTarget({\n                    target: domConverter.viewRangeToDom(viewRange),\n                    viewportOffset: 40\n                });\n            }\n        };\n        const debouncedScrollListener = debounce(scrollToHighlightedResult.bind(this), 32);\n        // Debounce scroll as highlight might be changed very frequently, e.g. when there's a replace all command.\n        this.listenTo(this.state, 'change:highlightedResult', debouncedScrollListener, { priority: 'low' });\n        // It's possible that the editor will get destroyed before debounced call kicks in.\n        // This would result with accessing a view three that is no longer in DOM.\n        this.listenTo(this.editor, 'destroy', debouncedScrollListener.cancel);\n        this.on('change:_isSearchActive', (evt, name, isSearchActive) => {\n            if (isSearchActive) {\n                this.listenTo(this.editor.model.document, 'change:data', this._onDocumentChange);\n            }\n            else {\n                this.stopListening(this.editor.model.document, 'change:data', this._onDocumentChange);\n            }\n        });\n    }\n    /**\n     * Initiate a search.\n     */\n    find(callbackOrText, findAttributes) {\n        this._isSearchActive = true;\n        this.editor.execute('find', callbackOrText, findAttributes);\n        return this.state.results;\n    }\n    /**\n     * Stops active results from updating, and clears out the results.\n     */\n    stop() {\n        this.state.clear(this.editor.model);\n        this._isSearchActive = false;\n    }\n    /**\n     * Sets up the commands.\n     */\n    _defineCommands() {\n        this.editor.commands.add('find', new FindCommand(this.editor, this.state));\n        this.editor.commands.add('findNext', new FindNextCommand(this.editor, this.state));\n        this.editor.commands.add('findPrevious', new FindPreviousCommand(this.editor, this.state));\n        this.editor.commands.add('replace', new ReplaceCommand(this.editor, this.state));\n        this.editor.commands.add('replaceAll', new ReplaceAllCommand(this.editor, this.state));\n    }\n    /**\n     * Sets up the marker downcast converters for search results highlighting.\n     */\n    _defineConverters() {\n        const { editor } = this;\n        // Setup the marker highlighting conversion.\n        editor.conversion.for('editingDowncast').markerToHighlight({\n            model: 'findResult',\n            view: ({ markerName }) => {\n                const [, id] = markerName.split(':');\n                // Marker removal from the view has a bug: https://github.com/ckeditor/ckeditor5/issues/7499\n                // A minimal option is to return a new object for each converted marker...\n                return {\n                    name: 'span',\n                    classes: ['ck-find-result'],\n                    attributes: {\n                        // ...however, adding a unique attribute should be future-proof..\n                        'data-find-result': id\n                    }\n                };\n            }\n        });\n        editor.conversion.for('editingDowncast').markerToHighlight({\n            model: 'findResultHighlighted',\n            view: ({ markerName }) => {\n                const [, id] = markerName.split(':');\n                // Marker removal from the view has a bug: https://github.com/ckeditor/ckeditor5/issues/7499\n                // A minimal option is to return a new object for each converted marker...\n                return {\n                    name: 'span',\n                    classes: [HIGHLIGHT_CLASS],\n                    attributes: {\n                        // ...however, adding a unique attribute should be future-proof..\n                        'data-find-result': id\n                    }\n                };\n            }\n        });\n    }\n    /**\n     * Reacts to document changes in order to update search list.\n     */\n    _onDocumentChange = () => {\n        const changedNodes = new Set();\n        const removedMarkers = new Set();\n        const model = this.editor.model;\n        const { results } = this.state;\n        const changes = model.document.differ.getChanges();\n        const changedMarkers = model.document.differ.getChangedMarkers();\n        // Get nodes in which changes happened to re-run a search callback on them.\n        changes.forEach(change => {\n            if (!change.position) {\n                return;\n            }\n            if (change.name === '$text' || (change.position.nodeAfter && model.schema.isInline(change.position.nodeAfter))) {\n                changedNodes.add(change.position.parent);\n                [...model.markers.getMarkersAtPosition(change.position)].forEach(markerAtChange => {\n                    removedMarkers.add(markerAtChange.name);\n                });\n            }\n            else if (change.type === 'insert' && change.position.nodeAfter) {\n                changedNodes.add(change.position.nodeAfter);\n            }\n        });\n        // Get markers from removed nodes also.\n        changedMarkers.forEach(({ name, data: { newRange } }) => {\n            if (newRange && newRange.start.root.rootName === '$graveyard') {\n                removedMarkers.add(name);\n            }\n        });\n        // Get markers from the updated nodes and remove all (search will be re-run on these nodes).\n        changedNodes.forEach(node => {\n            const markersInNode = [...model.markers.getMarkersIntersectingRange(model.createRangeIn(node))];\n            markersInNode.forEach(marker => removedMarkers.add(marker.name));\n        });\n        // Remove results from the changed part of content.\n        removedMarkers.forEach(markerName => {\n            if (!results.has(markerName)) {\n                return;\n            }\n            if (results.get(markerName) === this.state.highlightedResult) {\n                this.state.highlightedResult = null;\n            }\n            results.remove(markerName);\n        });\n        // Run search callback again on updated nodes.\n        const changedSearchResults = [];\n        const findAndReplaceUtils = this.editor.plugins.get('FindAndReplaceUtils');\n        changedNodes.forEach(nodeToCheck => {\n            const changedNodeSearchResults = findAndReplaceUtils.updateFindResultFromRange(model.createRangeOn(nodeToCheck), model, this.state.lastSearchCallback, results);\n            changedSearchResults.push(...changedNodeSearchResults);\n        });\n        changedMarkers.forEach(markerToCheck => {\n            // Handle search result highlight update when T&C plugin is active.\n            // Lookup is performed only on newly inserted markers.\n            if (markerToCheck.data.newRange) {\n                const changedNodeSearchResults = findAndReplaceUtils.updateFindResultFromRange(markerToCheck.data.newRange, model, this.state.lastSearchCallback, results);\n                changedSearchResults.push(...changedNodeSearchResults);\n            }\n        });\n        if (!this.state.highlightedResult && changedSearchResults.length) {\n            // If there are found phrases but none is selected, select the first one.\n            this.state.highlightedResult = changedSearchResults[0];\n        }\n        else {\n            // If there is already highlight item then refresh highlight offset after appending new items.\n            this.state.refreshHighlightOffset(model);\n        }\n    };\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module find-and-replace/findandreplace\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport FindAndReplaceUI from './findandreplaceui.js';\nimport FindAndReplaceEditing from './findandreplaceediting.js';\n/**\n * The find and replace plugin.\n *\n * For a detailed overview, check the {@glink features/find-and-replace Find and replace feature documentation}.\n *\n * This is a \"glue\" plugin which loads the following plugins:\n *\n * * The {@link module:find-and-replace/findandreplaceediting~FindAndReplaceEditing find and replace editing feature},\n * * The {@link module:find-and-replace/findandreplaceui~FindAndReplaceUI find and replace UI feature}\n */\nexport default class FindAndReplace extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [FindAndReplaceEditing, FindAndReplaceUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'FindAndReplace';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const ui = this.editor.plugins.get('FindAndReplaceUI');\n        const findAndReplaceEditing = this.editor.plugins.get('FindAndReplaceEditing');\n        const state = findAndReplaceEditing.state;\n        ui.on('findNext', (event, data) => {\n            // Data is contained only for the \"find\" button.\n            if (data) {\n                state.searchText = data.searchText;\n                findAndReplaceEditing.find(data.searchText, data);\n            }\n            else {\n                // Find next arrow button press.\n                this.editor.execute('findNext');\n            }\n        });\n        ui.on('findPrevious', (event, data) => {\n            if (data && state.searchText !== data.searchText) {\n                findAndReplaceEditing.find(data.searchText);\n            }\n            else {\n                // Subsequent calls.\n                this.editor.execute('findPrevious');\n            }\n        });\n        ui.on('replace', (event, data) => {\n            if (state.searchText !== data.searchText) {\n                findAndReplaceEditing.find(data.searchText);\n            }\n            const highlightedResult = state.highlightedResult;\n            if (highlightedResult) {\n                this.editor.execute('replace', data.replaceText, highlightedResult);\n            }\n        });\n        ui.on('replaceAll', (event, data) => {\n            // The state hadn't been yet built for this search text.\n            if (state.searchText !== data.searchText) {\n                findAndReplaceEditing.find(data.searchText);\n            }\n            this.editor.execute('replaceAll', data.replaceText, state.results);\n        });\n        // Reset the state when the user invalidated last search results, for instance,\n        // by starting typing another search query or changing options.\n        ui.on('searchReseted', () => {\n            state.clear(this.editor.model);\n            findAndReplaceEditing.stop();\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module font/fontcommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\n/**\n * The base font command.\n */\nexport default class FontCommand extends Command {\n    /**\n     * A model attribute on which this command operates.\n     */\n    attributeKey;\n    /**\n     * Creates an instance of the command.\n     *\n     * @param editor Editor instance.\n     * @param attributeKey The name of a model attribute on which this command operates.\n     */\n    constructor(editor, attributeKey) {\n        super(editor);\n        this.attributeKey = attributeKey;\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const model = this.editor.model;\n        const doc = model.document;\n        this.value = doc.selection.getAttribute(this.attributeKey);\n        this.isEnabled = model.schema.checkAttributeInSelection(doc.selection, this.attributeKey);\n    }\n    /**\n     * Executes the command. Applies the `value` of the {@link #attributeKey} to the selection.\n     * If no `value` is passed, it removes the attribute from the selection.\n     *\n     * @param options Options for the executed command.\n     * @param options.value The value to apply.\n     * @fires execute\n     */\n    execute(options = {}) {\n        const model = this.editor.model;\n        const document = model.document;\n        const selection = document.selection;\n        const value = options.value;\n        const batch = options.batch;\n        const updateAttribute = (writer) => {\n            if (selection.isCollapsed) {\n                if (value) {\n                    writer.setSelectionAttribute(this.attributeKey, value);\n                }\n                else {\n                    writer.removeSelectionAttribute(this.attributeKey);\n                }\n            }\n            else {\n                const ranges = model.schema.getValidRanges(selection.getRanges(), this.attributeKey);\n                for (const range of ranges) {\n                    if (value) {\n                        writer.setAttribute(this.attributeKey, value, range);\n                    }\n                    else {\n                        writer.removeAttribute(this.attributeKey, range);\n                    }\n                }\n            }\n        };\n        // In some scenarios, you may want to use a single undo step for multiple changes (e.g. in color picker).\n        if (batch) {\n            model.enqueueChange(batch, writer => {\n                updateAttribute(writer);\n            });\n        }\n        else {\n            model.change(writer => {\n                updateAttribute(writer);\n            });\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { ColorSelectorView } from 'ckeditor5/src/ui.js';\n/**\n * The name of the font size plugin.\n */\nexport const FONT_SIZE = 'fontSize';\n/**\n * The name of the font family plugin.\n */\nexport const FONT_FAMILY = 'fontFamily';\n/**\n * The name of the font color plugin.\n */\nexport const FONT_COLOR = 'fontColor';\n/**\n * The name of the font background color plugin.\n */\nexport const FONT_BACKGROUND_COLOR = 'fontBackgroundColor';\n/**\n * Builds a proper converter definition out of input data.\n */\nexport function buildDefinition(modelAttributeKey, options) {\n    const definition = {\n        model: {\n            key: modelAttributeKey,\n            values: []\n        },\n        view: {},\n        upcastAlso: {}\n    };\n    for (const option of options) {\n        definition.model.values.push(option.model);\n        definition.view[option.model] = option.view;\n        if (option.upcastAlso) {\n            definition.upcastAlso[option.model] = option.upcastAlso;\n        }\n    }\n    return definition;\n}\n/**\n * A {@link module:font/fontcolor~FontColor font color} and\n * {@link module:font/fontbackgroundcolor~FontBackgroundColor font background color} helper\n * responsible for upcasting data to the model.\n *\n * **Note**: The `styleAttr` parameter should be either `'color'` or `'background-color'`.\n */\nexport function renderUpcastAttribute(styleAttr) {\n    return (viewElement) => normalizeColorCode(viewElement.getStyle(styleAttr));\n}\n/**\n * A {@link module:font/fontcolor~FontColor font color} and\n * {@link module:font/fontbackgroundcolor~FontBackgroundColor font background color} helper\n * responsible for downcasting a color attribute to a `<span>` element.\n *\n * **Note**: The `styleAttr` parameter should be either `'color'` or `'background-color'`.\n */\nexport function renderDowncastElement(styleAttr) {\n    return (modelAttributeValue, { writer }) => writer.createAttributeElement('span', {\n        style: `${styleAttr}:${modelAttributeValue}`\n    }, { priority: 7 });\n}\n/**\n * A helper that adds {@link module:ui/colorselector/colorselectorview~ColorSelectorView} to the color dropdown with proper initial values.\n *\n * @param config.dropdownView The dropdown view to which a {@link module:ui/colorselector/colorselectorview~ColorSelectorView}\n * will be added.\n * @param config.colors An array with definitions representing colors to be displayed in the color selector.\n * @param config.removeButtonLabel The label for the button responsible for removing the color.\n * @param config.documentColorsLabel The label for the section with document colors.\n * @param config.documentColorsCount The number of document colors inside the dropdown.\n * @param config.colorPickerViewConfig Configuration of the color picker view.\n * @returns The new color selector view.\n */\nexport function addColorSelectorToDropdown({ dropdownView, colors, columns, removeButtonLabel, colorPickerLabel, documentColorsLabel, documentColorsCount, colorPickerViewConfig }) {\n    const locale = dropdownView.locale;\n    const colorSelectorView = new ColorSelectorView(locale, {\n        colors,\n        columns,\n        removeButtonLabel,\n        colorPickerLabel,\n        documentColorsLabel,\n        documentColorsCount,\n        colorPickerViewConfig\n    });\n    dropdownView.colorSelectorView = colorSelectorView;\n    dropdownView.panelView.children.add(colorSelectorView);\n    return colorSelectorView;\n}\n/**\n * Fixes the color value string.\n */\nfunction normalizeColorCode(value) {\n    return value.replace(/\\s/g, '');\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport FontCommand from '../fontcommand.js';\nimport { FONT_FAMILY } from '../utils.js';\n/**\n * The font family command. It is used by {@link module:font/fontfamily/fontfamilyediting~FontFamilyEditing}\n * to apply the font family.\n *\n * ```ts\n * editor.execute( 'fontFamily', { value: 'Arial' } );\n * ```\n *\n * **Note**: Executing the command without the value removes the attribute from the model.\n */\nexport default class FontFamilyCommand extends FontCommand {\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor, FONT_FAMILY);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module font/fontfamily/utils\n */\n/**\n * Normalizes the {@link module:font/fontconfig~FontFamilyConfig#options configuration options}\n * to the {@link module:font/fontconfig~FontFamilyOption} format.\n *\n * @param configuredOptions An array of options taken from the configuration.\n */\nexport function normalizeOptions(configuredOptions) {\n    // Convert options to objects.\n    return configuredOptions\n        .map(getOptionDefinition)\n        // Filter out undefined values that `getOptionDefinition` might return.\n        .filter(option => option !== undefined);\n}\n/**\n * Returns an option definition either created from string shortcut.\n * If object is passed then this method will return it without alternating it. Returns undefined for item than cannot be parsed.\n *\n */\nfunction getOptionDefinition(option) {\n    // Treat any object as full item definition provided by user in configuration.\n    if (typeof option === 'object') {\n        return option;\n    }\n    // Handle 'default' string as a special case. It will be used to remove the fontFamily attribute.\n    if (option === 'default') {\n        return {\n            title: 'Default',\n            model: undefined\n        };\n    }\n    // Ignore values that we cannot parse to a definition.\n    if (typeof option !== 'string') {\n        return undefined;\n    }\n    // Return font family definition from font string.\n    return generateFontPreset(option);\n}\n/**\n * Creates a predefined preset for pixel size. It deconstructs font-family like string into full configuration option.\n * A font definition is passed as coma delimited set of font family names. Font names might be quoted.\n *\n * @param fontDefinition A font definition form configuration.\n */\nfunction generateFontPreset(fontDefinition) {\n    // Remove quotes from font names. They will be normalized later.\n    const fontNames = fontDefinition.replace(/\"|'/g, '').split(',');\n    // The first matched font name will be used as dropdown list item title and as model value.\n    const firstFontName = fontNames[0];\n    // CSS-compatible font names.\n    const cssFontNames = fontNames.map(normalizeFontNameForCSS).join(', ');\n    return {\n        title: firstFontName,\n        model: cssFontNames,\n        view: {\n            name: 'span',\n            styles: {\n                'font-family': cssFontNames\n            },\n            priority: 7\n        }\n    };\n}\n/**\n * Normalizes font name for the style attribute. It adds braces (') if font name contains spaces.\n */\nfunction normalizeFontNameForCSS(fontName) {\n    fontName = fontName.trim();\n    // Compound font names should be quoted.\n    if (fontName.indexOf(' ') > 0) {\n        fontName = `'${fontName}'`;\n    }\n    return fontName;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module font/fontfamily/fontfamilyediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport FontFamilyCommand from './fontfamilycommand.js';\nimport { normalizeOptions } from './utils.js';\nimport { buildDefinition, FONT_FAMILY } from '../utils.js';\n/**\n * The font family editing feature.\n *\n * It introduces the {@link module:font/fontfamily/fontfamilycommand~FontFamilyCommand command} and\n * the `fontFamily` attribute in the {@link module:engine/model/model~Model model} which renders\n * in the {@link module:engine/view/view view} as an inline `<span>` element (`<span style=\"font-family: Arial\">`),\n * depending on the {@link module:font/fontconfig~FontFamilyConfig configuration}.\n */\nexport default class FontFamilyEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'FontFamilyEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        // Define default configuration using font families shortcuts.\n        editor.config.define(FONT_FAMILY, {\n            options: [\n                'default',\n                'Arial, Helvetica, sans-serif',\n                'Courier New, Courier, monospace',\n                'Georgia, serif',\n                'Lucida Sans Unicode, Lucida Grande, sans-serif',\n                'Tahoma, Geneva, sans-serif',\n                'Times New Roman, Times, serif',\n                'Trebuchet MS, Helvetica, sans-serif',\n                'Verdana, Geneva, sans-serif'\n            ],\n            supportAllValues: false\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        // Allow fontFamily attribute on text nodes.\n        editor.model.schema.extend('$text', { allowAttributes: FONT_FAMILY });\n        editor.model.schema.setAttributeProperties(FONT_FAMILY, {\n            isFormatting: true,\n            copyOnEnter: true\n        });\n        // Get configured font family options without \"default\" option.\n        const options = normalizeOptions(editor.config.get('fontFamily.options')).filter(item => item.model);\n        const definition = buildDefinition(FONT_FAMILY, options);\n        // Set-up the two-way conversion.\n        if (editor.config.get('fontFamily.supportAllValues')) {\n            this._prepareAnyValueConverters();\n            this._prepareCompatibilityConverter();\n        }\n        else {\n            editor.conversion.attributeToElement(definition);\n        }\n        editor.commands.add(FONT_FAMILY, new FontFamilyCommand(editor));\n    }\n    /**\n     * These converters enable keeping any value found as `style=\"font-family: *\"` as a value of an attribute on a text even\n     * if it is not defined in the plugin configuration.\n     */\n    _prepareAnyValueConverters() {\n        const editor = this.editor;\n        editor.conversion.for('downcast').attributeToElement({\n            model: FONT_FAMILY,\n            view: (attributeValue, { writer }) => {\n                return writer.createAttributeElement('span', { style: 'font-family:' + attributeValue }, { priority: 7 });\n            }\n        });\n        editor.conversion.for('upcast').elementToAttribute({\n            model: {\n                key: FONT_FAMILY,\n                value: (viewElement) => viewElement.getStyle('font-family')\n            },\n            view: {\n                name: 'span',\n                styles: {\n                    'font-family': /.*/\n                }\n            }\n        });\n    }\n    /**\n     * Adds support for legacy `<font face=\"..\">` formatting.\n     */\n    _prepareCompatibilityConverter() {\n        const editor = this.editor;\n        editor.conversion.for('upcast').elementToAttribute({\n            view: {\n                name: 'font',\n                attributes: {\n                    'face': /.*/\n                }\n            },\n            model: {\n                key: FONT_FAMILY,\n                value: (viewElement) => viewElement.getAttribute('face')\n            }\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module font/fontfamily/fontfamilyui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Collection } from 'ckeditor5/src/utils.js';\nimport { IconFontFamily } from 'ckeditor5/src/icons.js';\nimport { ViewModel, createDropdown, addListToDropdown, MenuBarMenuView, MenuBarMenuListView, MenuBarMenuListItemView, MenuBarMenuListItemButtonView } from 'ckeditor5/src/ui.js';\nimport { normalizeOptions } from './utils.js';\nimport { FONT_FAMILY } from '../utils.js';\n/**\n * The font family UI plugin. It introduces the `'fontFamily'` dropdown.\n */\nexport default class FontFamilyUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'FontFamilyUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = editor.t;\n        const options = this._getLocalizedOptions();\n        const command = editor.commands.get(FONT_FAMILY);\n        const accessibleLabel = t('Font Family');\n        const listOptions = _prepareListOptions(options, command);\n        // Register UI component.\n        editor.ui.componentFactory.add(FONT_FAMILY, locale => {\n            const dropdownView = createDropdown(locale);\n            addListToDropdown(dropdownView, listOptions, {\n                role: 'menu',\n                ariaLabel: accessibleLabel\n            });\n            dropdownView.buttonView.set({\n                label: accessibleLabel,\n                icon: IconFontFamily,\n                tooltip: true\n            });\n            dropdownView.extendTemplate({\n                attributes: {\n                    class: 'ck-font-family-dropdown'\n                }\n            });\n            dropdownView.bind('isEnabled').to(command);\n            // Execute command when an item from the dropdown is selected.\n            this.listenTo(dropdownView, 'execute', evt => {\n                editor.execute(evt.source.commandName, { value: evt.source.commandParam });\n                editor.editing.view.focus();\n            });\n            return dropdownView;\n        });\n        editor.ui.componentFactory.add(`menuBar:${FONT_FAMILY}`, locale => {\n            const menuView = new MenuBarMenuView(locale);\n            menuView.buttonView.set({\n                label: accessibleLabel,\n                icon: IconFontFamily\n            });\n            menuView.bind('isEnabled').to(command);\n            const listView = new MenuBarMenuListView(locale);\n            for (const definition of listOptions) {\n                const listItemView = new MenuBarMenuListItemView(locale, menuView);\n                const buttonView = new MenuBarMenuListItemButtonView(locale);\n                buttonView.set({\n                    role: 'menuitemradio',\n                    isToggleable: true\n                });\n                buttonView.bind(...Object.keys(definition.model)).to(definition.model);\n                buttonView.delegate('execute').to(menuView);\n                buttonView.on('execute', () => {\n                    editor.execute(definition.model.commandName, {\n                        value: definition.model.commandParam\n                    });\n                    editor.editing.view.focus();\n                });\n                listItemView.children.add(buttonView);\n                listView.items.add(listItemView);\n            }\n            menuView.panelView.children.add(listView);\n            return menuView;\n        });\n    }\n    /**\n     * Returns options as defined in `config.fontFamily.options` but processed to account for\n     * editor localization, i.e. to display {@link module:font/fontconfig~FontFamilyOption}\n     * in the correct language.\n     *\n     * Note: The reason behind this method is that there is no way to use {@link module:utils/locale~Locale#t}\n     * when the user configuration is defined because the editor does not exist yet.\n     */\n    _getLocalizedOptions() {\n        const editor = this.editor;\n        const t = editor.t;\n        const options = normalizeOptions((editor.config.get(FONT_FAMILY)).options);\n        return options.map(option => {\n            // The only title to localize is \"Default\" others are font names.\n            if (option.title === 'Default') {\n                option.title = t('Default');\n            }\n            return option;\n        });\n    }\n}\n/**\n * Prepares FontFamily dropdown items.\n */\nfunction _prepareListOptions(options, command) {\n    const itemDefinitions = new Collection();\n    // Create dropdown items.\n    for (const option of options) {\n        const def = {\n            type: 'button',\n            model: new ViewModel({\n                commandName: FONT_FAMILY,\n                commandParam: option.model,\n                label: option.title,\n                role: 'menuitemradio',\n                withText: true\n            })\n        };\n        def.model.bind('isOn').to(command, 'value', value => {\n            // \"Default\" or check in strict font-family converters mode.\n            if (value === option.model) {\n                return true;\n            }\n            if (!value || !option.model) {\n                return false;\n            }\n            return value.split(',')[0].replace(/'/g, '').toLowerCase() === option.model.toLowerCase();\n        });\n        // Try to set a dropdown list item style.\n        if (option.view && typeof option.view !== 'string' && option.view.styles) {\n            def.model.set('labelStyle', `font-family: ${option.view.styles['font-family']}`);\n        }\n        itemDefinitions.add(def);\n    }\n    return itemDefinitions;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module font/fontfamily\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport FontFamilyEditing from './fontfamily/fontfamilyediting.js';\nimport FontFamilyUI from './fontfamily/fontfamilyui.js';\n/**\n * The font family plugin.\n *\n * For a detailed overview, check the {@glink features/font font feature} documentatiom\n * and the {@glink api/font package page}.\n *\n * This is a \"glue\" plugin which loads the {@link module:font/fontfamily/fontfamilyediting~FontFamilyEditing} and\n * {@link module:font/fontfamily/fontfamilyui~FontFamilyUI} features in the editor.\n */\nexport default class FontFamily extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [FontFamilyEditing, FontFamilyUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'FontFamily';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport FontCommand from '../fontcommand.js';\nimport { FONT_SIZE } from '../utils.js';\n/**\n * The font size command. It is used by {@link module:font/fontsize/fontsizeediting~FontSizeEditing}\n * to apply the font size.\n *\n * ```ts\n * editor.execute( 'fontSize', { value: 'small' } );\n * ```\n *\n * **Note**: Executing the command without the value removes the attribute from the model.\n */\nexport default class FontSizeCommand extends FontCommand {\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor, FONT_SIZE);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module font/fontsize/utils\n */\nimport { CKEditorError } from 'ckeditor5/src/utils.js';\n/**\n * Normalizes and translates the {@link module:font/fontconfig~FontSizeConfig#options configuration options}\n * to the {@link module:font/fontconfig~FontSizeOption} format.\n *\n * @param configuredOptions An array of options taken from the configuration.\n */\nexport function normalizeOptions(configuredOptions) {\n    // Convert options to objects.\n    return configuredOptions\n        .map(item => getOptionDefinition(item))\n        // Filter out undefined values that `getOptionDefinition` might return.\n        .filter((option) => option !== undefined);\n}\n// Default named presets map. Always create a new instance of the preset object in order to avoid modifying references.\nconst namedPresets = {\n    get tiny() {\n        return {\n            title: 'Tiny',\n            model: 'tiny',\n            view: {\n                name: 'span',\n                classes: 'text-tiny',\n                priority: 7\n            }\n        };\n    },\n    get small() {\n        return {\n            title: 'Small',\n            model: 'small',\n            view: {\n                name: 'span',\n                classes: 'text-small',\n                priority: 7\n            }\n        };\n    },\n    get big() {\n        return {\n            title: 'Big',\n            model: 'big',\n            view: {\n                name: 'span',\n                classes: 'text-big',\n                priority: 7\n            }\n        };\n    },\n    get huge() {\n        return {\n            title: 'Huge',\n            model: 'huge',\n            view: {\n                name: 'span',\n                classes: 'text-huge',\n                priority: 7\n            }\n        };\n    }\n};\n/**\n * Returns an option definition either from preset or creates one from number shortcut.\n * If object is passed then this method will return it without alternating it. Returns undefined for item than cannot be parsed.\n */\nfunction getOptionDefinition(option) {\n    if (typeof option === 'number') {\n        option = String(option);\n    }\n    // Check whether passed option is a full item definition provided by user in configuration.\n    if (typeof option === 'object' && isFullItemDefinition(option)) {\n        return attachPriority(option);\n    }\n    const preset = findPreset(option);\n    // Item is a named preset.\n    if (preset) {\n        return attachPriority(preset);\n    }\n    // 'Default' font size. It will be used to remove the fontSize attribute.\n    if (option === 'default') {\n        return {\n            model: undefined,\n            title: 'Default'\n        };\n    }\n    // At this stage we probably have numerical value to generate a preset so parse it's value.\n    // Discard any faulty values.\n    if (isNumericalDefinition(option)) {\n        return undefined;\n    }\n    // Return font size definition from size value.\n    return generatePixelPreset(option);\n}\n/**\n * Creates a predefined preset for pixel size.\n * @param definition Font size in pixels.\n * @returns\n */\nfunction generatePixelPreset(definition) {\n    // Extend a short (numeric value) definition.\n    if (typeof definition === 'string') {\n        definition = {\n            title: definition,\n            model: `${parseFloat(definition)}px`\n        };\n    }\n    definition.view = {\n        name: 'span',\n        styles: {\n            'font-size': definition.model\n        }\n    };\n    return attachPriority(definition);\n}\n/**\n * Adds the priority to the view element definition if missing. It's required due to ckeditor/ckeditor5#2291\n */\nfunction attachPriority(definition) {\n    if (definition.view && typeof definition.view !== 'string' && !definition.view.priority) {\n        definition.view.priority = 7;\n    }\n    return definition;\n}\n/**\n * Returns a prepared preset definition. If passed an object, a name of preset should be defined as `model` value.\n *\n * @param definition.model A preset name.\n */\nfunction findPreset(definition) {\n    return typeof definition === 'string' ? namedPresets[definition] : namedPresets[definition.model];\n}\n/**\n * We treat `definition` as completed if it is an object that contains `title`, `model` and `view` values.\n */\nfunction isFullItemDefinition(definition) {\n    return definition.title && definition.model && definition.view;\n}\nfunction isNumericalDefinition(definition) {\n    let numberValue;\n    if (typeof definition === 'object') {\n        if (!definition.model) {\n            /**\n             * Provided value as an option for {@link module:font/fontsize~FontSize} seems to invalid.\n             *\n             * See valid examples described in the {@link module:font/fontconfig~FontSizeConfig#options plugin configuration}.\n             *\n             * @error font-size-invalid-definition\n             */\n            throw new CKEditorError('font-size-invalid-definition', null, definition);\n        }\n        else {\n            numberValue = parseFloat(definition.model);\n        }\n    }\n    else {\n        numberValue = parseFloat(definition);\n    }\n    return isNaN(numberValue);\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module font/fontsize/fontsizeediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { CKEditorError } from 'ckeditor5/src/utils.js';\nimport { isLength, isPercentage } from 'ckeditor5/src/engine.js';\nimport FontSizeCommand from './fontsizecommand.js';\nimport { normalizeOptions } from './utils.js';\nimport { buildDefinition, FONT_SIZE } from '../utils.js';\n// Mapping of `<font size=\"..\">` styling to CSS's `font-size` values.\nconst styleFontSize = [\n    'x-small',\n    'x-small',\n    'small',\n    'medium',\n    'large',\n    'x-large',\n    'xx-large',\n    'xxx-large'\n];\n/**\n * The font size editing feature.\n *\n * It introduces the {@link module:font/fontsize/fontsizecommand~FontSizeCommand command} and the `fontSize`\n * attribute in the {@link module:engine/model/model~Model model} which renders in the {@link module:engine/view/view view}\n * as a `<span>` element with either:\n * * a style attribute (`<span style=\"font-size:12px\">...</span>`),\n * * or a class attribute (`<span class=\"text-small\">...</span>`)\n *\n * depending on the {@link module:font/fontconfig~FontSizeConfig configuration}.\n */\nexport default class FontSizeEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'FontSizeEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        // Define default configuration using named presets.\n        editor.config.define(FONT_SIZE, {\n            options: [\n                'tiny',\n                'small',\n                'default',\n                'big',\n                'huge'\n            ],\n            supportAllValues: false\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        // Allow fontSize attribute on text nodes.\n        editor.model.schema.extend('$text', { allowAttributes: FONT_SIZE });\n        editor.model.schema.setAttributeProperties(FONT_SIZE, {\n            isFormatting: true,\n            copyOnEnter: true\n        });\n        const supportAllValues = editor.config.get('fontSize.supportAllValues');\n        // Define view to model conversion.\n        const options = normalizeOptions(this.editor.config.get('fontSize.options'))\n            .filter(item => item.model);\n        const definition = buildDefinition(FONT_SIZE, options);\n        // Set-up the two-way conversion.\n        if (supportAllValues) {\n            this._prepareAnyValueConverters(definition);\n            this._prepareCompatibilityConverter();\n        }\n        else {\n            editor.conversion.attributeToElement(definition);\n        }\n        // Add FontSize command.\n        editor.commands.add(FONT_SIZE, new FontSizeCommand(editor));\n    }\n    /**\n     * These converters enable keeping any value found as `style=\"font-size: *\"` as a value of an attribute on a text even\n     * if it is not defined in the plugin configuration.\n     *\n     * @param definition Converter definition out of input data.\n     */\n    _prepareAnyValueConverters(definition) {\n        const editor = this.editor;\n        // If `fontSize.supportAllValues=true`, we do not allow to use named presets in the plugin's configuration.\n        const presets = definition.model.values.filter((value) => {\n            return !isLength(String(value)) && !isPercentage(String(value));\n        });\n        if (presets.length) {\n            /**\n             * If {@link module:font/fontconfig~FontSizeConfig#supportAllValues `config.fontSize.supportAllValues`} is `true`,\n             * you need to use numerical values as font size options.\n             *\n             * See valid examples described in the {@link module:font/fontconfig~FontSizeConfig#options plugin configuration}.\n             *\n             * @error font-size-invalid-use-of-named-presets\n             * @param {Array.<String>} presets Invalid values.\n             */\n            throw new CKEditorError('font-size-invalid-use-of-named-presets', null, { presets });\n        }\n        editor.conversion.for('downcast').attributeToElement({\n            model: FONT_SIZE,\n            view: (attributeValue, { writer }) => {\n                if (!attributeValue) {\n                    return;\n                }\n                return writer.createAttributeElement('span', { style: 'font-size:' + attributeValue }, { priority: 7 });\n            }\n        });\n        editor.conversion.for('upcast').elementToAttribute({\n            model: {\n                key: FONT_SIZE,\n                value: (viewElement) => viewElement.getStyle('font-size')\n            },\n            view: {\n                name: 'span',\n                styles: {\n                    'font-size': /.*/\n                }\n            }\n        });\n    }\n    /**\n     * Adds support for legacy `<font size=\"..\">` formatting.\n     */\n    _prepareCompatibilityConverter() {\n        const editor = this.editor;\n        editor.conversion.for('upcast').elementToAttribute({\n            view: {\n                name: 'font',\n                attributes: {\n                    // Documentation mentions sizes from 1 to 7. To handle old content we support all values\n                    // up to 999 but clamp it to the valid range. Why 999? It should cover accidental values\n                    // similar to percentage, e.g. 100%, 200% which could be the usual mistake for font size.\n                    'size': /^[+-]?\\d{1,3}$/\n                }\n            },\n            model: {\n                key: FONT_SIZE,\n                value: (viewElement) => {\n                    const value = viewElement.getAttribute('size');\n                    const isRelative = value[0] === '-' || value[0] === '+';\n                    let size = parseInt(value, 10);\n                    if (isRelative) {\n                        // Add relative size (which can be negative) to the default size = 3.\n                        size = 3 + size;\n                    }\n                    const maxSize = styleFontSize.length - 1;\n                    const clampedSize = Math.min(Math.max(size, 0), maxSize);\n                    return styleFontSize[clampedSize];\n                }\n            }\n        });\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./fontsize.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module font/fontsize/fontsizeui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { IconFontSize } from 'ckeditor5/src/icons.js';\nimport { ViewModel, createDropdown, addListToDropdown, MenuBarMenuView, MenuBarMenuListView, MenuBarMenuListItemView, MenuBarMenuListItemButtonView } from 'ckeditor5/src/ui.js';\nimport { Collection } from 'ckeditor5/src/utils.js';\nimport { normalizeOptions } from './utils.js';\nimport { FONT_SIZE } from '../utils.js';\nimport '../../theme/fontsize.css';\n/**\n * The font size UI plugin. It introduces the `'fontSize'` dropdown.\n */\nexport default class FontSizeUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'FontSizeUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = editor.t;\n        const options = this._getLocalizedOptions();\n        const command = editor.commands.get(FONT_SIZE);\n        const accessibleLabel = t('Font Size');\n        const listOptions = _prepareListOptions(options, command);\n        // Register UI component.\n        editor.ui.componentFactory.add(FONT_SIZE, locale => {\n            const dropdownView = createDropdown(locale);\n            addListToDropdown(dropdownView, listOptions, {\n                role: 'menu',\n                ariaLabel: accessibleLabel\n            });\n            // Create dropdown model.\n            dropdownView.buttonView.set({\n                label: accessibleLabel,\n                icon: IconFontSize,\n                tooltip: true\n            });\n            dropdownView.extendTemplate({\n                attributes: {\n                    class: [\n                        'ck-font-size-dropdown'\n                    ]\n                }\n            });\n            dropdownView.bind('isEnabled').to(command);\n            // Execute command when an item from the dropdown is selected.\n            this.listenTo(dropdownView, 'execute', evt => {\n                editor.execute(evt.source.commandName, { value: evt.source.commandParam });\n                editor.editing.view.focus();\n            });\n            return dropdownView;\n        });\n        editor.ui.componentFactory.add(`menuBar:${FONT_SIZE}`, locale => {\n            const menuView = new MenuBarMenuView(locale);\n            menuView.buttonView.set({\n                label: accessibleLabel,\n                icon: IconFontSize\n            });\n            menuView.bind('isEnabled').to(command);\n            const listView = new MenuBarMenuListView(locale);\n            for (const definition of listOptions) {\n                const listItemView = new MenuBarMenuListItemView(locale, menuView);\n                const buttonView = new MenuBarMenuListItemButtonView(locale);\n                buttonView.set({\n                    role: 'menuitemradio',\n                    isToggleable: true\n                });\n                buttonView.bind(...Object.keys(definition.model)).to(definition.model);\n                buttonView.delegate('execute').to(menuView);\n                buttonView.on('execute', () => {\n                    editor.execute(definition.model.commandName, {\n                        value: definition.model.commandParam\n                    });\n                    editor.editing.view.focus();\n                });\n                listItemView.children.add(buttonView);\n                listView.items.add(listItemView);\n            }\n            menuView.panelView.children.add(listView);\n            return menuView;\n        });\n    }\n    /**\n     * Returns options as defined in `config.fontSize.options` but processed to account for\n     * editor localization, i.e. to display {@link module:font/fontconfig~FontSizeOption}\n     * in the correct language.\n     *\n     * Note: The reason behind this method is that there is no way to use {@link module:utils/locale~Locale#t}\n     * when the user configuration is defined because the editor does not exist yet.\n     */\n    _getLocalizedOptions() {\n        const editor = this.editor;\n        const t = editor.t;\n        const localizedTitles = {\n            Default: t('Default'),\n            Tiny: t('Tiny'),\n            Small: t('Small'),\n            Big: t('Big'),\n            Huge: t('Huge')\n        };\n        const options = normalizeOptions((editor.config.get(FONT_SIZE)).options);\n        return options.map(option => {\n            const title = localizedTitles[option.title];\n            if (title && title != option.title) {\n                // Clone the option to avoid altering the original `namedPresets` from `./utils.js`.\n                option = Object.assign({}, option, { title });\n            }\n            return option;\n        });\n    }\n}\n/**\n * Prepares FontSize dropdown items.\n */\nfunction _prepareListOptions(options, command) {\n    const itemDefinitions = new Collection();\n    for (const option of options) {\n        const def = {\n            type: 'button',\n            model: new ViewModel({\n                commandName: FONT_SIZE,\n                commandParam: option.model,\n                label: option.title,\n                class: 'ck-fontsize-option',\n                role: 'menuitemradio',\n                withText: true\n            })\n        };\n        if (option.view && typeof option.view !== 'string') {\n            if (option.view.styles) {\n                def.model.set('labelStyle', `font-size:${option.view.styles['font-size']}`);\n            }\n            if (option.view.classes) {\n                def.model.set('class', `${def.model.class} ${option.view.classes}`);\n            }\n        }\n        def.model.bind('isOn').to(command, 'value', value => value === option.model);\n        // Add the option to the collection.\n        itemDefinitions.add(def);\n    }\n    return itemDefinitions;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module font/fontsize\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport FontSizeEditing from './fontsize/fontsizeediting.js';\nimport FontSizeUI from './fontsize/fontsizeui.js';\nimport { normalizeOptions } from './fontsize/utils.js';\n/**\n * The font size plugin.\n *\n * For a detailed overview, check the {@glink features/font font feature} documentation\n * and the {@glink api/font package page}.\n *\n * This is a \"glue\" plugin which loads the {@link module:font/fontsize/fontsizeediting~FontSizeEditing} and\n * {@link module:font/fontsize/fontsizeui~FontSizeUI} features in the editor.\n */\nexport default class FontSize extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [FontSizeEditing, FontSizeUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'FontSize';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * Normalizes and translates the {@link module:font/fontconfig~FontSizeConfig#options configuration options}\n     * to the {@link module:font/fontconfig~FontSizeOption} format.\n     *\n     * @param configuredOptions An array of options taken from the configuration.\n     */\n    normalizeSizeOptions(options) {\n        return normalizeOptions(options);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport FontCommand from '../fontcommand.js';\nimport { FONT_COLOR } from '../utils.js';\n/**\n * The font color command. It is used by {@link module:font/fontcolor/fontcolorediting~FontColorEditing}\n * to apply the font color.\n *\n * ```ts\n * editor.execute( 'fontColor', { value: 'rgb(250, 20, 20)' } );\n * ```\n *\n * **Note**: Executing the command with the `null` value removes the attribute from the model.\n */\nexport default class FontColorCommand extends FontCommand {\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor, FONT_COLOR);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module font/fontcolor/fontcolorediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport FontColorCommand from './fontcolorcommand.js';\nimport { FONT_COLOR, renderDowncastElement, renderUpcastAttribute } from '../utils.js';\n/**\n * The font color editing feature.\n *\n * It introduces the {@link module:font/fontcolor/fontcolorcommand~FontColorCommand command} and\n * the `fontColor` attribute in the {@link module:engine/model/model~Model model} which renders\n * in the {@link module:engine/view/view view} as a `<span>` element (`<span style=\"color: ...\">`),\n * depending on the {@link module:font/fontconfig~FontColorConfig configuration}.\n */\nexport default class FontColorEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'FontColorEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        editor.config.define(FONT_COLOR, {\n            colors: [\n                {\n                    color: 'hsl(0, 0%, 0%)',\n                    label: 'Black'\n                },\n                {\n                    color: 'hsl(0, 0%, 30%)',\n                    label: 'Dim grey'\n                },\n                {\n                    color: 'hsl(0, 0%, 60%)',\n                    label: 'Grey'\n                },\n                {\n                    color: 'hsl(0, 0%, 90%)',\n                    label: 'Light grey'\n                },\n                {\n                    color: 'hsl(0, 0%, 100%)',\n                    label: 'White',\n                    hasBorder: true\n                },\n                {\n                    color: 'hsl(0, 75%, 60%)',\n                    label: 'Red'\n                },\n                {\n                    color: 'hsl(30, 75%, 60%)',\n                    label: 'Orange'\n                },\n                {\n                    color: 'hsl(60, 75%, 60%)',\n                    label: 'Yellow'\n                },\n                {\n                    color: 'hsl(90, 75%, 60%)',\n                    label: 'Light green'\n                },\n                {\n                    color: 'hsl(120, 75%, 60%)',\n                    label: 'Green'\n                },\n                {\n                    color: 'hsl(150, 75%, 60%)',\n                    label: 'Aquamarine'\n                },\n                {\n                    color: 'hsl(180, 75%, 60%)',\n                    label: 'Turquoise'\n                },\n                {\n                    color: 'hsl(210, 75%, 60%)',\n                    label: 'Light blue'\n                },\n                {\n                    color: 'hsl(240, 75%, 60%)',\n                    label: 'Blue'\n                },\n                {\n                    color: 'hsl(270, 75%, 60%)',\n                    label: 'Purple'\n                }\n            ],\n            columns: 5\n        });\n        editor.conversion.for('upcast').elementToAttribute({\n            view: {\n                name: 'span',\n                styles: {\n                    'color': /[\\s\\S]+/\n                }\n            },\n            model: {\n                key: FONT_COLOR,\n                value: renderUpcastAttribute('color')\n            }\n        });\n        // Support legacy `<font color=\"..\">` formatting.\n        editor.conversion.for('upcast').elementToAttribute({\n            view: {\n                name: 'font',\n                attributes: {\n                    'color': /^#?\\w+$/\n                }\n            },\n            model: {\n                key: FONT_COLOR,\n                value: (viewElement) => viewElement.getAttribute('color')\n            }\n        });\n        editor.conversion.for('downcast').attributeToElement({\n            model: FONT_COLOR,\n            view: renderDowncastElement('color')\n        });\n        editor.commands.add(FONT_COLOR, new FontColorCommand(editor));\n        // Allow the font color attribute on text nodes.\n        editor.model.schema.extend('$text', { allowAttributes: FONT_COLOR });\n        editor.model.schema.setAttributeProperties(FONT_COLOR, {\n            isFormatting: true,\n            copyOnEnter: true\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module font/ui/colorui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { createDropdown, normalizeColorOptions, getLocalizedColorOptions, focusChildOnDropdownOpen, MenuBarMenuView, ColorSelectorView } from 'ckeditor5/src/ui.js';\nimport { addColorSelectorToDropdown } from '../utils.js';\n/**\n * The color UI plugin which isolates the common logic responsible for displaying dropdowns with color grids.\n *\n * It is used to create the `'fontBackgroundColor'` and `'fontColor'` dropdowns, each hosting\n * a {@link module:ui/colorselector/colorselectorview~ColorSelectorView}.\n */\nexport default class ColorUI extends Plugin {\n    /**\n     * The name of the command which will be executed when a color tile is clicked.\n     */\n    commandName;\n    /**\n     * The name of this component in the {@link module:ui/componentfactory~ComponentFactory}.\n     * Also the configuration scope name in `editor.config`.\n     */\n    componentName;\n    /**\n     * The SVG icon used by the dropdown.\n     */\n    icon;\n    /**\n     * The label used by the dropdown.\n     */\n    dropdownLabel;\n    /**\n     * The number of columns in the color grid.\n     */\n    columns;\n    /**\n     * Creates a plugin which introduces a dropdown with a pre–configured\n     * {@link module:ui/colorselector/colorselectorview~ColorSelectorView}.\n     *\n     * @param config The configuration object.\n     * @param config.commandName The name of the command which will be executed when a color tile is clicked.\n     * @param config.componentName The name of the dropdown in the {@link module:ui/componentfactory~ComponentFactory}\n     * and the configuration scope name in `editor.config`.\n     * @param config.icon The SVG icon used by the dropdown.\n     * @param config.dropdownLabel The label used by the dropdown.\n     */\n    constructor(editor, { commandName, componentName, icon, dropdownLabel }) {\n        super(editor);\n        this.commandName = commandName;\n        this.componentName = componentName;\n        this.icon = icon;\n        this.dropdownLabel = dropdownLabel;\n        this.columns = editor.config.get(`${this.componentName}.columns`);\n    }\n    /**\n    * @inheritDoc\n    */\n    init() {\n        const editor = this.editor;\n        const locale = editor.locale;\n        const t = locale.t;\n        const command = editor.commands.get(this.commandName);\n        const componentConfig = editor.config.get(this.componentName);\n        const colorsConfig = normalizeColorOptions(componentConfig.colors);\n        const localizedColors = getLocalizedColorOptions(locale, colorsConfig);\n        const documentColorsCount = componentConfig.documentColors;\n        const hasColorPicker = componentConfig.colorPicker !== false;\n        // Register the UI component.\n        editor.ui.componentFactory.add(this.componentName, locale => {\n            const dropdownView = createDropdown(locale);\n            // Font color dropdown rendering is deferred once it gets open to improve performance (#6192).\n            let dropdownContentRendered = false;\n            const colorSelectorView = addColorSelectorToDropdown({\n                dropdownView,\n                colors: localizedColors.map(option => ({\n                    label: option.label,\n                    color: option.model,\n                    options: {\n                        hasBorder: option.hasBorder\n                    }\n                })),\n                columns: this.columns,\n                removeButtonLabel: t('Remove color'),\n                colorPickerLabel: t('Color picker'),\n                documentColorsLabel: documentColorsCount !== 0 ? t('Document colors') : '',\n                documentColorsCount: documentColorsCount === undefined ? this.columns : documentColorsCount,\n                colorPickerViewConfig: hasColorPicker ? (componentConfig.colorPicker || {}) : false\n            });\n            colorSelectorView.bind('selectedColor').to(command, 'value');\n            dropdownView.buttonView.set({\n                label: this.dropdownLabel,\n                icon: this.icon,\n                tooltip: true\n            });\n            dropdownView.extendTemplate({\n                attributes: {\n                    class: 'ck-color-ui-dropdown'\n                }\n            });\n            dropdownView.bind('isEnabled').to(command);\n            colorSelectorView.on('execute', (evt, data) => {\n                if (dropdownView.isOpen) {\n                    editor.execute(this.commandName, {\n                        value: data.value,\n                        batch: this._undoStepBatch\n                    });\n                }\n                if (data.source !== 'colorPicker') {\n                    editor.editing.view.focus();\n                }\n                if (data.source === 'colorPickerSaveButton') {\n                    dropdownView.isOpen = false;\n                }\n            });\n            colorSelectorView.on('colorPicker:show', () => {\n                this._undoStepBatch = editor.model.createBatch();\n            });\n            colorSelectorView.on('colorPicker:cancel', () => {\n                if (this._undoStepBatch.operations.length) {\n                    // We need to close the dropdown before the undo batch.\n                    // Otherwise, ColorUI treats undo as a selected color change,\n                    // propagating the update to the whole selection.\n                    // That's an issue if spans with various colors were selected.\n                    dropdownView.isOpen = false;\n                    editor.execute('undo', this._undoStepBatch);\n                }\n                editor.editing.view.focus();\n            });\n            dropdownView.on('change:isOpen', (evt, name, isVisible) => {\n                if (!dropdownContentRendered) {\n                    dropdownContentRendered = true;\n                    dropdownView.colorSelectorView.appendUI();\n                }\n                if (isVisible) {\n                    if (documentColorsCount !== 0) {\n                        colorSelectorView.updateDocumentColors(editor.model, this.componentName);\n                    }\n                    colorSelectorView.updateSelectedColors();\n                    colorSelectorView.showColorGridsFragment();\n                }\n            });\n            // Accessibility: focus the first active color when opening the dropdown.\n            focusChildOnDropdownOpen(dropdownView, () => dropdownView.colorSelectorView.colorGridsFragmentView.staticColorsGrid.items.find((item) => item.isOn));\n            return dropdownView;\n        });\n        // Register menu bar button..\n        editor.ui.componentFactory.add(`menuBar:${this.componentName}`, locale => {\n            const menuView = new MenuBarMenuView(locale);\n            menuView.buttonView.set({\n                label: this.dropdownLabel,\n                icon: this.icon\n            });\n            menuView.bind('isEnabled').to(command);\n            // Font color sub-menu rendering is deferred once it gets open to improve performance (#6192).\n            let contentRendered = false;\n            const colorSelectorView = new ColorSelectorView(locale, {\n                colors: localizedColors.map(option => ({\n                    label: option.label,\n                    color: option.model,\n                    options: {\n                        hasBorder: option.hasBorder\n                    }\n                })),\n                columns: this.columns,\n                removeButtonLabel: t('Remove color'),\n                colorPickerLabel: t('Color picker'),\n                documentColorsLabel: documentColorsCount !== 0 ? t('Document colors') : '',\n                documentColorsCount: documentColorsCount === undefined ? this.columns : documentColorsCount,\n                colorPickerViewConfig: false\n            });\n            colorSelectorView.bind('selectedColor').to(command, 'value');\n            colorSelectorView.delegate('execute').to(menuView);\n            colorSelectorView.on('execute', (evt, data) => {\n                editor.execute(this.commandName, {\n                    value: data.value,\n                    batch: this._undoStepBatch\n                });\n                editor.editing.view.focus();\n            });\n            menuView.on('change:isOpen', (evt, name, isVisible) => {\n                if (!contentRendered) {\n                    contentRendered = true;\n                    colorSelectorView.appendUI();\n                }\n                if (isVisible) {\n                    if (documentColorsCount !== 0) {\n                        colorSelectorView.updateDocumentColors(editor.model, this.componentName);\n                    }\n                    colorSelectorView.updateSelectedColors();\n                    colorSelectorView.showColorGridsFragment();\n                }\n            });\n            menuView.panelView.children.add(colorSelectorView);\n            return menuView;\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module font/fontcolor/fontcolorui\n */\nimport { IconFontColor } from 'ckeditor5/src/icons.js';\nimport ColorUI from '../ui/colorui.js';\nimport { FONT_COLOR } from '../utils.js';\n/**\n * The font color UI plugin. It introduces the `'fontColor'` dropdown.\n */\nexport default class FontColorUI extends ColorUI {\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        const t = editor.locale.t;\n        super(editor, {\n            commandName: FONT_COLOR,\n            componentName: FONT_COLOR,\n            icon: IconFontColor,\n            dropdownLabel: t('Font Color')\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'FontColorUI';\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module font/fontcolor\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport FontColorEditing from './fontcolor/fontcolorediting.js';\nimport FontColorUI from './fontcolor/fontcolorui.js';\n/**\n * The font color plugin.\n *\n * For a detailed overview, check the {@glink features/font font feature} documentation\n * and the {@glink api/font package page}.\n *\n * This is a \"glue\" plugin which loads the {@link module:font/fontcolor/fontcolorediting~FontColorEditing} and\n * {@link module:font/fontcolor/fontcolorui~FontColorUI} features in the editor.\n */\nexport default class FontColor extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [FontColorEditing, FontColorUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'FontColor';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport FontCommand from '../fontcommand.js';\nimport { FONT_BACKGROUND_COLOR } from '../utils.js';\n/**\n * The font background color command. It is used by\n * {@link module:font/fontbackgroundcolor/fontbackgroundcolorediting~FontBackgroundColorEditing}\n * to apply the font background color.\n *\n * ```ts\n * editor.execute( 'fontBackgroundColor', { value: 'rgb(250, 20, 20)' } );\n * ```\n *\n * **Note**: Executing the command with the `null` value removes the attribute from the model.\n */\nexport default class FontBackgroundColorCommand extends FontCommand {\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor, FONT_BACKGROUND_COLOR);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module font/fontbackgroundcolor/fontbackgroundcolorediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { addBackgroundRules } from 'ckeditor5/src/engine.js';\nimport FontBackgroundColorCommand from './fontbackgroundcolorcommand.js';\nimport { FONT_BACKGROUND_COLOR, renderDowncastElement, renderUpcastAttribute } from '../utils.js';\n/**\n * The font background color editing feature.\n *\n * It introduces the {@link module:font/fontbackgroundcolor/fontbackgroundcolorcommand~FontBackgroundColorCommand command} and\n * the `fontBackgroundColor` attribute in the {@link module:engine/model/model~Model model} which renders\n * in the {@link module:engine/view/view view} as a `<span>` element (`<span style=\"background-color: ...\">`),\n * depending on the {@link module:font/fontconfig~FontColorConfig configuration}.\n */\nexport default class FontBackgroundColorEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'FontBackgroundColorEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        editor.config.define(FONT_BACKGROUND_COLOR, {\n            colors: [\n                {\n                    color: 'hsl(0, 0%, 0%)',\n                    label: 'Black'\n                },\n                {\n                    color: 'hsl(0, 0%, 30%)',\n                    label: 'Dim grey'\n                },\n                {\n                    color: 'hsl(0, 0%, 60%)',\n                    label: 'Grey'\n                },\n                {\n                    color: 'hsl(0, 0%, 90%)',\n                    label: 'Light grey'\n                },\n                {\n                    color: 'hsl(0, 0%, 100%)',\n                    label: 'White',\n                    hasBorder: true\n                },\n                {\n                    color: 'hsl(0, 75%, 60%)',\n                    label: 'Red'\n                },\n                {\n                    color: 'hsl(30, 75%, 60%)',\n                    label: 'Orange'\n                },\n                {\n                    color: 'hsl(60, 75%, 60%)',\n                    label: 'Yellow'\n                },\n                {\n                    color: 'hsl(90, 75%, 60%)',\n                    label: 'Light green'\n                },\n                {\n                    color: 'hsl(120, 75%, 60%)',\n                    label: 'Green'\n                },\n                {\n                    color: 'hsl(150, 75%, 60%)',\n                    label: 'Aquamarine'\n                },\n                {\n                    color: 'hsl(180, 75%, 60%)',\n                    label: 'Turquoise'\n                },\n                {\n                    color: 'hsl(210, 75%, 60%)',\n                    label: 'Light blue'\n                },\n                {\n                    color: 'hsl(240, 75%, 60%)',\n                    label: 'Blue'\n                },\n                {\n                    color: 'hsl(270, 75%, 60%)',\n                    label: 'Purple'\n                }\n            ],\n            columns: 5\n        });\n        editor.data.addStyleProcessorRules(addBackgroundRules);\n        editor.conversion.for('upcast').elementToAttribute({\n            view: {\n                name: 'span',\n                styles: {\n                    'background-color': /[\\s\\S]+/\n                }\n            },\n            model: {\n                key: FONT_BACKGROUND_COLOR,\n                value: renderUpcastAttribute('background-color')\n            }\n        });\n        editor.conversion.for('downcast').attributeToElement({\n            model: FONT_BACKGROUND_COLOR,\n            view: renderDowncastElement('background-color')\n        });\n        editor.commands.add(FONT_BACKGROUND_COLOR, new FontBackgroundColorCommand(editor));\n        // Allow the font backgroundColor attribute on text nodes.\n        editor.model.schema.extend('$text', { allowAttributes: FONT_BACKGROUND_COLOR });\n        editor.model.schema.setAttributeProperties(FONT_BACKGROUND_COLOR, {\n            isFormatting: true,\n            copyOnEnter: true\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module font/fontbackgroundcolor/fontbackgroundcolorui\n */\nimport { IconFontBackground } from 'ckeditor5/src/icons.js';\nimport ColorUI from '../ui/colorui.js';\nimport { FONT_BACKGROUND_COLOR } from '../utils.js';\n/**\n * The font background color UI plugin. It introduces the `'fontBackgroundColor'` dropdown.\n */\nexport default class FontBackgroundColorUI extends ColorUI {\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        const t = editor.locale.t;\n        super(editor, {\n            commandName: FONT_BACKGROUND_COLOR,\n            componentName: FONT_BACKGROUND_COLOR,\n            icon: IconFontBackground,\n            dropdownLabel: t('Font Background Color')\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'FontBackgroundColorUI';\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module font/fontbackgroundcolor\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport FontBackgroundColorEditing from './fontbackgroundcolor/fontbackgroundcolorediting.js';\nimport FontBackgroundColorUI from './fontbackgroundcolor/fontbackgroundcolorui.js';\n/**\n * The font background color plugin.\n *\n * For a detailed overview, check the {@glink features/font font feature} documentation\n * and the {@glink api/font package page}.\n *\n * This is a \"glue\" plugin which loads\n * the {@link module:font/fontbackgroundcolor/fontbackgroundcolorediting~FontBackgroundColorEditing} and\n * {@link module:font/fontbackgroundcolor/fontbackgroundcolorui~FontBackgroundColorUI} features in the editor.\n */\nexport default class FontBackgroundColor extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [FontBackgroundColorEditing, FontBackgroundColorUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'FontBackgroundColor';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module font/font\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport FontFamily from './fontfamily.js';\nimport FontSize from './fontsize.js';\nimport FontColor from './fontcolor.js';\nimport FontBackgroundColor from './fontbackgroundcolor.js';\n/**\n * A plugin that enables a set of text styling features:\n *\n * * {@link module:font/fontsize~FontSize},\n * * {@link module:font/fontfamily~FontFamily}.\n * * {@link module:font/fontcolor~FontColor},\n * * {@link module:font/fontbackgroundcolor~FontBackgroundColor}.\n *\n * For a detailed overview, check the {@glink features/font Font feature} documentation\n * and the {@glink api/font package page}.\n */\nexport default class Font extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [FontFamily, FontSize, FontColor, FontBackgroundColor];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'Font';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","function getSymbols(object) {\n    return Object.getOwnPropertySymbols(object).filter(symbol => Object.prototype.propertyIsEnumerable.call(object, symbol));\n}\n\nexport { getSymbols };\n","function getTag(value) {\n    if (value == null) {\n        return value === undefined ? '[object Undefined]' : '[object Null]';\n    }\n    return Object.prototype.toString.call(value);\n}\n\nexport { getTag };\n","const regexpTag = '[object RegExp]';\nconst stringTag = '[object String]';\nconst numberTag = '[object Number]';\nconst booleanTag = '[object Boolean]';\nconst argumentsTag = '[object Arguments]';\nconst symbolTag = '[object Symbol]';\nconst dateTag = '[object Date]';\nconst mapTag = '[object Map]';\nconst setTag = '[object Set]';\nconst arrayTag = '[object Array]';\nconst functionTag = '[object Function]';\nconst arrayBufferTag = '[object ArrayBuffer]';\nconst objectTag = '[object Object]';\nconst errorTag = '[object Error]';\nconst dataViewTag = '[object DataView]';\nconst uint8ArrayTag = '[object Uint8Array]';\nconst uint8ClampedArrayTag = '[object Uint8ClampedArray]';\nconst uint16ArrayTag = '[object Uint16Array]';\nconst uint32ArrayTag = '[object Uint32Array]';\nconst bigUint64ArrayTag = '[object BigUint64Array]';\nconst int8ArrayTag = '[object Int8Array]';\nconst int16ArrayTag = '[object Int16Array]';\nconst int32ArrayTag = '[object Int32Array]';\nconst bigInt64ArrayTag = '[object BigInt64Array]';\nconst float32ArrayTag = '[object Float32Array]';\nconst float64ArrayTag = '[object Float64Array]';\n\nexport { argumentsTag, arrayBufferTag, arrayTag, bigInt64ArrayTag, bigUint64ArrayTag, booleanTag, dataViewTag, dateTag, errorTag, float32ArrayTag, float64ArrayTag, functionTag, int16ArrayTag, int32ArrayTag, int8ArrayTag, mapTag, numberTag, objectTag, regexpTag, setTag, stringTag, symbolTag, uint16ArrayTag, uint32ArrayTag, uint8ArrayTag, uint8ClampedArrayTag };\n","function isPrimitive(value) {\n    return value == null || (typeof value !== 'object' && typeof value !== 'function');\n}\n\nexport { isPrimitive };\n","function isTypedArray(x) {\n    return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n\nexport { isTypedArray };\n","import { getSymbols } from '../compat/_internal/getSymbols.mjs';\nimport { getTag } from '../compat/_internal/getTag.mjs';\nimport { uint32ArrayTag, uint16ArrayTag, uint8ClampedArrayTag, uint8ArrayTag, symbolTag, stringTag, setTag, regexpTag, objectTag, numberTag, mapTag, int32ArrayTag, int16ArrayTag, int8ArrayTag, float64ArrayTag, float32ArrayTag, dateTag, booleanTag, dataViewTag, arrayBufferTag, arrayTag, argumentsTag } from '../compat/_internal/tags.mjs';\nimport { isPrimitive } from '../predicate/isPrimitive.mjs';\nimport { isTypedArray } from '../predicate/isTypedArray.mjs';\n\nfunction cloneDeepWith(obj, cloneValue) {\n    return cloneDeepWithImpl(obj, undefined, obj, new Map(), cloneValue);\n}\nfunction cloneDeepWithImpl(valueToClone, keyToClone, objectToClone, stack = new Map(), cloneValue = undefined) {\n    const cloned = cloneValue?.(valueToClone, keyToClone, objectToClone, stack);\n    if (cloned != null) {\n        return cloned;\n    }\n    if (isPrimitive(valueToClone)) {\n        return valueToClone;\n    }\n    if (stack.has(valueToClone)) {\n        return stack.get(valueToClone);\n    }\n    if (Array.isArray(valueToClone)) {\n        const result = new Array(valueToClone.length);\n        stack.set(valueToClone, result);\n        for (let i = 0; i < valueToClone.length; i++) {\n            result[i] = cloneDeepWithImpl(valueToClone[i], i, objectToClone, stack, cloneValue);\n        }\n        if (Object.hasOwn(valueToClone, 'index')) {\n            result.index = valueToClone.index;\n        }\n        if (Object.hasOwn(valueToClone, 'input')) {\n            result.input = valueToClone.input;\n        }\n        return result;\n    }\n    if (valueToClone instanceof Date) {\n        return new Date(valueToClone.getTime());\n    }\n    if (valueToClone instanceof RegExp) {\n        const result = new RegExp(valueToClone.source, valueToClone.flags);\n        result.lastIndex = valueToClone.lastIndex;\n        return result;\n    }\n    if (valueToClone instanceof Map) {\n        const result = new Map();\n        stack.set(valueToClone, result);\n        for (const [key, value] of valueToClone) {\n            result.set(key, cloneDeepWithImpl(value, key, objectToClone, stack, cloneValue));\n        }\n        return result;\n    }\n    if (valueToClone instanceof Set) {\n        const result = new Set();\n        stack.set(valueToClone, result);\n        for (const value of valueToClone) {\n            result.add(cloneDeepWithImpl(value, undefined, objectToClone, stack, cloneValue));\n        }\n        return result;\n    }\n    if (typeof Buffer !== 'undefined' && Buffer.isBuffer(valueToClone)) {\n        return valueToClone.subarray();\n    }\n    if (isTypedArray(valueToClone)) {\n        const result = new (Object.getPrototypeOf(valueToClone).constructor)(valueToClone.length);\n        stack.set(valueToClone, result);\n        for (let i = 0; i < valueToClone.length; i++) {\n            result[i] = cloneDeepWithImpl(valueToClone[i], i, objectToClone, stack, cloneValue);\n        }\n        return result;\n    }\n    if (valueToClone instanceof ArrayBuffer ||\n        (typeof SharedArrayBuffer !== 'undefined' && valueToClone instanceof SharedArrayBuffer)) {\n        return valueToClone.slice(0);\n    }\n    if (valueToClone instanceof DataView) {\n        const result = new DataView(valueToClone.buffer.slice(0), valueToClone.byteOffset, valueToClone.byteLength);\n        stack.set(valueToClone, result);\n        copyProperties(result, valueToClone, objectToClone, stack, cloneValue);\n        return result;\n    }\n    if (typeof File !== 'undefined' && valueToClone instanceof File) {\n        const result = new File([valueToClone], valueToClone.name, {\n            type: valueToClone.type,\n        });\n        stack.set(valueToClone, result);\n        copyProperties(result, valueToClone, objectToClone, stack, cloneValue);\n        return result;\n    }\n    if (valueToClone instanceof Blob) {\n        const result = new Blob([valueToClone], { type: valueToClone.type });\n        stack.set(valueToClone, result);\n        copyProperties(result, valueToClone, objectToClone, stack, cloneValue);\n        return result;\n    }\n    if (valueToClone instanceof Error) {\n        const result = new valueToClone.constructor();\n        stack.set(valueToClone, result);\n        result.message = valueToClone.message;\n        result.name = valueToClone.name;\n        result.stack = valueToClone.stack;\n        result.cause = valueToClone.cause;\n        copyProperties(result, valueToClone, objectToClone, stack, cloneValue);\n        return result;\n    }\n    if (typeof valueToClone === 'object' && isCloneableObject(valueToClone)) {\n        const result = Object.create(Object.getPrototypeOf(valueToClone));\n        stack.set(valueToClone, result);\n        copyProperties(result, valueToClone, objectToClone, stack, cloneValue);\n        return result;\n    }\n    return valueToClone;\n}\nfunction copyProperties(target, source, objectToClone = target, stack, cloneValue) {\n    const keys = [...Object.keys(source), ...getSymbols(source)];\n    for (let i = 0; i < keys.length; i++) {\n        const key = keys[i];\n        const descriptor = Object.getOwnPropertyDescriptor(target, key);\n        if (descriptor == null || descriptor.writable) {\n            target[key] = cloneDeepWithImpl(source[key], key, objectToClone, stack, cloneValue);\n        }\n    }\n}\nfunction isCloneableObject(object) {\n    switch (getTag(object)) {\n        case argumentsTag:\n        case arrayTag:\n        case arrayBufferTag:\n        case dataViewTag:\n        case booleanTag:\n        case dateTag:\n        case float32ArrayTag:\n        case float64ArrayTag:\n        case int8ArrayTag:\n        case int16ArrayTag:\n        case int32ArrayTag:\n        case mapTag:\n        case numberTag:\n        case objectTag:\n        case regexpTag:\n        case setTag:\n        case stringTag:\n        case symbolTag:\n        case uint8ArrayTag:\n        case uint8ClampedArrayTag:\n        case uint16ArrayTag:\n        case uint32ArrayTag: {\n            return true;\n        }\n        default: {\n            return false;\n        }\n    }\n}\n\nexport { cloneDeepWith, cloneDeepWithImpl, copyProperties };\n","import { cloneDeepWith } from './cloneDeepWith.mjs';\n\nfunction cloneDeep(obj) {\n    return cloneDeepWith(obj);\n}\n\nexport { cloneDeep };\n","import { cloneDeepWith as cloneDeepWith$1, copyProperties } from '../../object/cloneDeepWith.mjs';\nimport { argumentsTag, booleanTag, stringTag, numberTag } from '../_internal/tags.mjs';\n\nfunction cloneDeepWith(obj, cloneValue) {\n    return cloneDeepWith$1(obj, (value, key, object, stack) => {\n        const cloned = cloneValue?.(value, key, object, stack);\n        if (cloned != null) {\n            return cloned;\n        }\n        if (typeof obj !== 'object') {\n            return undefined;\n        }\n        switch (Object.prototype.toString.call(obj)) {\n            case numberTag:\n            case stringTag:\n            case booleanTag: {\n                const result = new obj.constructor(obj?.valueOf());\n                copyProperties(result, obj);\n                return result;\n            }\n            case argumentsTag: {\n                const result = {};\n                copyProperties(result, obj);\n                result.length = obj.length;\n                result[Symbol.iterator] = obj[Symbol.iterator];\n                return result;\n            }\n            default: {\n                return undefined;\n            }\n        }\n    });\n}\n\nexport { cloneDeepWith };\n","const CASE_SPLIT_PATTERN = /\\p{Lu}?\\p{Ll}+|[0-9]+|\\p{Lu}+(?!\\p{Ll})|\\p{Emoji_Presentation}|\\p{Extended_Pictographic}|\\p{L}+/gu;\nfunction words(str) {\n    return Array.from(str.match(CASE_SPLIT_PATTERN) ?? []);\n}\n\nexport { CASE_SPLIT_PATTERN, words };\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { startCase, cloneDeep } from 'es-toolkit/compat';\n/**\n* Helper function for the downcast converter. Updates attributes on the given view element.\n*\n* @param writer The view writer.\n* @param oldViewAttributes The previous GHS attribute value.\n* @param newViewAttributes The current GHS attribute value.\n* @param viewElement The view element to update.\n*/\nexport function updateViewAttributes(writer, oldViewAttributes, newViewAttributes, viewElement) {\n    if (oldViewAttributes) {\n        removeViewAttributes(writer, oldViewAttributes, viewElement);\n    }\n    if (newViewAttributes) {\n        setViewAttributes(writer, newViewAttributes, viewElement);\n    }\n}\n/**\n * Helper function for the downcast converter. Sets attributes on the given view element.\n *\n * @param writer The view writer.\n * @param viewAttributes The GHS attribute value.\n * @param viewElement The view element to update.\n */\nexport function setViewAttributes(writer, viewAttributes, viewElement) {\n    if (viewAttributes.attributes) {\n        for (const [key, value] of Object.entries(viewAttributes.attributes)) {\n            writer.setAttribute(key, value, viewElement);\n        }\n    }\n    if (viewAttributes.styles) {\n        writer.setStyle(viewAttributes.styles, viewElement);\n    }\n    if (viewAttributes.classes) {\n        writer.addClass(viewAttributes.classes, viewElement);\n    }\n}\n/**\n * Helper function for the downcast converter. Removes attributes on the given view element.\n *\n * @param writer The view writer.\n * @param viewAttributes The GHS attribute value.\n * @param viewElement The view element to update.\n */\nexport function removeViewAttributes(writer, viewAttributes, viewElement) {\n    if (viewAttributes.attributes) {\n        for (const [key] of Object.entries(viewAttributes.attributes)) {\n            writer.removeAttribute(key, viewElement);\n        }\n    }\n    if (viewAttributes.styles) {\n        for (const style of Object.keys(viewAttributes.styles)) {\n            writer.removeStyle(style, viewElement);\n        }\n    }\n    if (viewAttributes.classes) {\n        writer.removeClass(viewAttributes.classes, viewElement);\n    }\n}\n/**\n* Merges view element attribute objects.\n*/\nexport function mergeViewElementAttributes(target, source) {\n    const result = cloneDeep(target);\n    let key = 'attributes';\n    for (key in source) {\n        // Merge classes.\n        if (key == 'classes') {\n            result[key] = Array.from(new Set([...(target[key] || []), ...source[key]]));\n        }\n        // Merge attributes or styles.\n        else {\n            result[key] = { ...target[key], ...source[key] };\n        }\n    }\n    return result;\n}\nexport function modifyGhsAttribute(writer, item, ghsAttributeName, subject, callback) {\n    const oldValue = item.getAttribute(ghsAttributeName);\n    const newValue = {};\n    for (const kind of ['attributes', 'styles', 'classes']) {\n        // Properties other than `subject` should be assigned from `oldValue`.\n        if (kind != subject) {\n            if (oldValue && oldValue[kind]) {\n                newValue[kind] = oldValue[kind];\n            }\n            continue;\n        }\n        // `callback` should be applied on property [`subject`].\n        if (subject == 'classes') {\n            const values = new Set(oldValue && oldValue.classes || []);\n            callback(values);\n            if (values.size) {\n                newValue[kind] = Array.from(values);\n            }\n            continue;\n        }\n        const values = new Map(Object.entries(oldValue && oldValue[kind] || {}));\n        callback(values);\n        if (values.size) {\n            newValue[kind] = Object.fromEntries(values);\n        }\n    }\n    if (Object.keys(newValue).length) {\n        if (item.is('documentSelection')) {\n            writer.setSelectionAttribute(ghsAttributeName, newValue);\n        }\n        else {\n            writer.setAttribute(ghsAttributeName, newValue, item);\n        }\n    }\n    else if (oldValue) {\n        if (item.is('documentSelection')) {\n            writer.removeSelectionAttribute(ghsAttributeName);\n        }\n        else {\n            writer.removeAttribute(ghsAttributeName, item);\n        }\n    }\n}\n/**\n * Transforms passed string to PascalCase format. Examples:\n * * `div` => `Div`\n * * `h1` => `H1`\n * * `table` => `Table`\n */\nexport function toPascalCase(data) {\n    return startCase(data).replace(/ /g, '');\n}\n/**\n * Returns the attribute name of the model element that holds raw HTML attributes.\n */\nexport function getHtmlAttributeName(viewElementName) {\n    return `html${toPascalCase(viewElementName)}Attributes`;\n}\n","import { words } from '../../string/words.mjs';\nimport { normalizeForCase } from '../_internal/normalizeForCase.mjs';\n\nfunction startCase(str) {\n    const words$1 = words(normalizeForCase(str).trim());\n    let result = '';\n    for (let i = 0; i < words$1.length; i++) {\n        const word = words$1[i];\n        if (result) {\n            result += ' ';\n        }\n        if (word === word.toUpperCase()) {\n            result += word;\n        }\n        else {\n            result += word[0].toUpperCase() + word.slice(1).toLowerCase();\n        }\n    }\n    return result;\n}\n\nexport { startCase };\n","import { toString } from '../util/toString.mjs';\n\nfunction normalizeForCase(str) {\n    if (typeof str !== 'string') {\n        str = toString(str);\n    }\n    return str.replace(/['\\u2019]/g, '');\n}\n\nexport { normalizeForCase };\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { toWidget } from 'ckeditor5/src/widget.js';\nimport { setViewAttributes, mergeViewElementAttributes, updateViewAttributes, getHtmlAttributeName } from './utils.js';\n/**\n * View-to-model conversion helper for object elements.\n *\n * Preserves object element content in `htmlContent` attribute.\n *\n * @returns Returns a conversion callback.\n*/\nexport function viewToModelObjectConverter({ model: modelName }) {\n    return (viewElement, conversionApi) => {\n        // Let's keep element HTML and its attributes, so we can rebuild element in downcast conversions.\n        return conversionApi.writer.createElement(modelName, {\n            htmlContent: viewElement.getCustomProperty('$rawContent')\n        });\n    };\n}\n/**\n * Conversion helper converting an object element to an HTML object widget.\n *\n * @returns Returns a conversion callback.\n*/\nexport function toObjectWidgetConverter(editor, { view: viewName, isInline }) {\n    const t = editor.t;\n    return (modelElement, { writer }) => {\n        const widgetLabel = t('HTML object');\n        const viewElement = createObjectView(viewName, modelElement, writer);\n        const viewAttributes = modelElement.getAttribute(getHtmlAttributeName(viewName));\n        writer.addClass('html-object-embed__content', viewElement);\n        if (viewAttributes) {\n            setViewAttributes(writer, viewAttributes, viewElement);\n        }\n        // Widget cannot be a raw element because the widget system would not be able\n        // to add its UI to it. Thus, we need separate view container.\n        const viewContainer = writer.createContainerElement(isInline ? 'span' : 'div', {\n            class: 'html-object-embed',\n            'data-html-object-embed-label': widgetLabel\n        }, viewElement);\n        return toWidget(viewContainer, writer, { label: widgetLabel });\n    };\n}\n/**\n* Creates object view element from the given model element.\n*/\nexport function createObjectView(viewName, modelElement, writer) {\n    return writer.createRawElement(viewName, null, (domElement, domConverter) => {\n        domConverter.setContentOf(domElement, modelElement.getAttribute('htmlContent'));\n    });\n}\n/**\n * View-to-attribute conversion helper preserving inline element attributes on `$text`.\n *\n * @returns Returns a conversion callback.\n*/\nexport function viewToAttributeInlineConverter({ view: viewName, model: attributeKey, allowEmpty }, dataFilter) {\n    return dispatcher => {\n        dispatcher.on(`element:${viewName}`, (evt, data, conversionApi) => {\n            let viewAttributes = dataFilter.processViewAttributes(data.viewItem, conversionApi);\n            // Do not apply the attribute if the element itself is already consumed and there are no view attributes to store.\n            if (!viewAttributes && !conversionApi.consumable.test(data.viewItem, { name: true })) {\n                return;\n            }\n            // Otherwise, we might need to convert it to an empty object just to preserve element itself,\n            // for example `<cite>` => <$text htmlCite=\"{}\">.\n            viewAttributes = viewAttributes || {};\n            // Consume the element itself if it wasn't consumed by any other converter.\n            conversionApi.consumable.consume(data.viewItem, { name: true });\n            // Since we are converting to attribute we need a range on which we will set the attribute.\n            // If the range is not created yet, we will create it.\n            if (!data.modelRange) {\n                data = Object.assign(data, conversionApi.convertChildren(data.viewItem, data.modelCursor));\n            }\n            // Convert empty inline element if allowed and has any attributes.\n            if (allowEmpty && data.modelRange.isCollapsed && Object.keys(viewAttributes).length) {\n                const modelElement = conversionApi.writer.createElement('htmlEmptyElement');\n                if (!conversionApi.safeInsert(modelElement, data.modelCursor)) {\n                    return;\n                }\n                const parts = conversionApi.getSplitParts(modelElement);\n                data.modelRange = conversionApi.writer.createRange(data.modelRange.start, conversionApi.writer.createPositionAfter(parts[parts.length - 1]));\n                conversionApi.updateConversionResult(modelElement, data);\n                setAttributeOnItem(modelElement, viewAttributes, conversionApi);\n                return;\n            }\n            // Set attribute on each item in range according to the schema.\n            for (const node of data.modelRange.getItems()) {\n                setAttributeOnItem(node, viewAttributes, conversionApi);\n            }\n        }, { priority: 'low' });\n    };\n    function setAttributeOnItem(node, viewAttributes, conversionApi) {\n        if (conversionApi.schema.checkAttribute(node, attributeKey)) {\n            // Node's children are converted recursively, so node can already include model attribute.\n            // We want to extend it, not replace.\n            const nodeAttributes = node.getAttribute(attributeKey);\n            const attributesToAdd = mergeViewElementAttributes(viewAttributes, nodeAttributes || {});\n            conversionApi.writer.setAttribute(attributeKey, attributesToAdd, node);\n        }\n    }\n}\n/**\n * Conversion helper converting an empty inline model element to an HTML element or widget.\n */\nexport function emptyInlineModelElementToViewConverter({ model: attributeKey, view: viewName }, asWidget) {\n    return (item, { writer, consumable }) => {\n        if (!item.hasAttribute(attributeKey)) {\n            return null;\n        }\n        const viewElement = writer.createContainerElement(viewName);\n        const attributeValue = item.getAttribute(attributeKey);\n        consumable.consume(item, `attribute:${attributeKey}`);\n        setViewAttributes(writer, attributeValue, viewElement);\n        viewElement.getFillerOffset = () => null;\n        return asWidget ? toWidget(viewElement, writer) : viewElement;\n    };\n}\n/**\n * Attribute-to-view conversion helper applying attributes to view element preserved on `$text`.\n *\n * @returns Returns a conversion callback.\n*/\nexport function attributeToViewInlineConverter({ priority, view: viewName }) {\n    return (attributeValue, conversionApi) => {\n        if (!attributeValue) {\n            return;\n        }\n        const { writer } = conversionApi;\n        const viewElement = writer.createAttributeElement(viewName, null, { priority });\n        setViewAttributes(writer, attributeValue, viewElement);\n        return viewElement;\n    };\n}\n/**\n * View-to-model conversion helper preserving allowed attributes on block element.\n *\n * All matched attributes will be preserved on `html*Attributes` attribute.\n *\n * @returns Returns a conversion callback.\n*/\nexport function viewToModelBlockAttributeConverter({ view: viewName }, dataFilter) {\n    return (dispatcher) => {\n        dispatcher.on(`element:${viewName}`, (evt, data, conversionApi) => {\n            // Converting an attribute of an element that has not been converted to anything does not make sense\n            // because there will be nowhere to set that attribute on. At this stage, the element should've already\n            // been converted. A collapsed range can show up in to-do lists (<input>) or complex widgets (e.g. table).\n            // (https://github.com/ckeditor/ckeditor5/issues/11000).\n            if (!data.modelRange || data.modelRange.isCollapsed) {\n                return;\n            }\n            const viewAttributes = dataFilter.processViewAttributes(data.viewItem, conversionApi);\n            if (!viewAttributes) {\n                return;\n            }\n            conversionApi.writer.setAttribute(getHtmlAttributeName(data.viewItem.name), viewAttributes, data.modelRange);\n        }, { priority: 'low' });\n    };\n}\n/**\n * Model-to-view conversion helper applying attributes preserved in `html*Attributes` attribute\n * for block elements.\n *\n * @returns Returns a conversion callback.\n*/\nexport function modelToViewBlockAttributeConverter({ view: viewName, model: modelName }) {\n    return (dispatcher) => {\n        dispatcher.on(`attribute:${getHtmlAttributeName(viewName)}:${modelName}`, (evt, data, conversionApi) => {\n            if (!conversionApi.consumable.consume(data.item, evt.name)) {\n                return;\n            }\n            const { attributeOldValue, attributeNewValue } = data;\n            const viewWriter = conversionApi.writer;\n            const viewElement = conversionApi.mapper.toViewElement(data.item);\n            updateViewAttributes(viewWriter, attributeOldValue, attributeNewValue, viewElement);\n        });\n    };\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module html-support/schemadefinitions\n */\n// Skipped elements due to HTML deprecation:\n// * noframes (not sure if we should provide support for this element. CKE4 is not supporting frameset and frame,\n//   but it will unpack <frameset><noframes>foobar</noframes></frameset> to <noframes>foobar</noframes>, so there\n//   may be some content loss. Although using noframes as a standalone element seems invalid)\n// * keygen (this one is also empty)\n// * applet (support is limited mostly to old IE)\n// * basefont (this one is also empty)\n// * isindex (basically no support for modern browsers at all)\n//\n// Skipped elements due to lack empty element support:\n// * hr\n// * area\n// * br\n// * command\n// * map\n// * wbr\n// * colgroup -> col\n//\n// Skipped elements due to complexity:\n// * datalist with option elements used as a data source for input[list] element\n//\n// Skipped elements as they are handled as an object content:\n// * track\n// * source\n// * option\n// * param\n// * optgroup\n//\n// Skipped full page HTML elements:\n// * body\n// * html\n// * title\n// * head\n// * meta\n// * link\n// * etc...\n//\n// Skipped hidden elements:\n// noscript\nexport default {\n    block: [\n        // Existing features.\n        {\n            model: 'codeBlock',\n            view: 'pre'\n        },\n        {\n            model: 'paragraph',\n            view: 'p'\n        },\n        {\n            model: 'blockQuote',\n            view: 'blockquote'\n        },\n        {\n            model: 'listItem',\n            view: 'li'\n        },\n        {\n            model: 'pageBreak',\n            view: 'div'\n        },\n        {\n            model: 'rawHtml',\n            view: 'div'\n        },\n        {\n            model: 'table',\n            view: 'table'\n        },\n        {\n            model: 'tableRow',\n            view: 'tr'\n        },\n        {\n            model: 'tableCell',\n            view: 'td'\n        },\n        {\n            model: 'tableCell',\n            view: 'th'\n        },\n        {\n            model: 'tableColumnGroup',\n            view: 'colgroup'\n        },\n        {\n            model: 'tableColumn',\n            view: 'col'\n        },\n        {\n            model: 'caption',\n            view: 'caption'\n        },\n        {\n            model: 'caption',\n            view: 'figcaption'\n        },\n        {\n            model: 'imageBlock',\n            view: 'img'\n        },\n        {\n            model: 'imageInline',\n            view: 'img'\n        },\n        {\n            model: 'horizontalLine',\n            view: 'hr'\n        },\n        // Compatibility features.\n        {\n            model: 'htmlP',\n            view: 'p',\n            modelSchema: {\n                inheritAllFrom: '$block'\n            }\n        },\n        {\n            model: 'htmlBlockquote',\n            view: 'blockquote',\n            modelSchema: {\n                inheritAllFrom: '$container'\n            }\n        },\n        {\n            model: 'htmlTable',\n            view: 'table',\n            modelSchema: {\n                allowWhere: '$block',\n                isBlock: true\n            }\n        },\n        {\n            model: 'htmlTbody',\n            view: 'tbody',\n            modelSchema: {\n                allowIn: 'htmlTable',\n                isBlock: false\n            }\n        },\n        {\n            model: 'htmlThead',\n            view: 'thead',\n            modelSchema: {\n                allowIn: 'htmlTable',\n                isBlock: false\n            }\n        },\n        {\n            model: 'htmlTfoot',\n            view: 'tfoot',\n            modelSchema: {\n                allowIn: 'htmlTable',\n                isBlock: false\n            }\n        },\n        {\n            model: 'htmlCaption',\n            view: 'caption',\n            modelSchema: {\n                allowIn: 'htmlTable',\n                allowChildren: '$text',\n                isBlock: false\n            }\n        },\n        {\n            model: 'htmlColgroup',\n            view: 'colgroup',\n            modelSchema: {\n                allowIn: 'htmlTable',\n                allowChildren: 'col',\n                isBlock: false\n            }\n        },\n        {\n            model: 'htmlCol',\n            view: 'col',\n            modelSchema: {\n                allowIn: 'htmlColgroup',\n                isBlock: false\n            }\n        },\n        {\n            model: 'htmlTr',\n            view: 'tr',\n            modelSchema: {\n                allowIn: ['htmlTable', 'htmlThead', 'htmlTbody'],\n                isLimit: true\n            }\n        },\n        // TODO can also include text.\n        {\n            model: 'htmlTd',\n            view: 'td',\n            modelSchema: {\n                allowIn: 'htmlTr',\n                allowContentOf: '$container',\n                isLimit: true,\n                isBlock: false\n            }\n        },\n        // TODO can also include text.\n        {\n            model: 'htmlTh',\n            view: 'th',\n            modelSchema: {\n                allowIn: 'htmlTr',\n                allowContentOf: '$container',\n                isLimit: true,\n                isBlock: false\n            }\n        },\n        // TODO can also include text.\n        {\n            model: 'htmlFigure',\n            view: 'figure',\n            modelSchema: {\n                inheritAllFrom: '$container',\n                isBlock: false\n            }\n        },\n        // TODO can also include other block elements.\n        {\n            model: 'htmlFigcaption',\n            view: 'figcaption',\n            modelSchema: {\n                allowIn: 'htmlFigure',\n                allowChildren: '$text',\n                isBlock: false\n            }\n        },\n        // TODO can also include text.\n        {\n            model: 'htmlAddress',\n            view: 'address',\n            modelSchema: {\n                inheritAllFrom: '$container',\n                isBlock: false\n            }\n        },\n        // TODO can also include text.\n        {\n            model: 'htmlAside',\n            view: 'aside',\n            modelSchema: {\n                inheritAllFrom: '$container',\n                isBlock: false\n            }\n        },\n        // TODO can also include text.\n        {\n            model: 'htmlMain',\n            view: 'main',\n            modelSchema: {\n                inheritAllFrom: '$container',\n                isBlock: false\n            }\n        },\n        // TODO can also include text.\n        {\n            model: 'htmlDetails',\n            view: 'details',\n            modelSchema: {\n                inheritAllFrom: '$container',\n                isBlock: false\n            }\n        },\n        {\n            model: 'htmlSummary',\n            view: 'summary',\n            modelSchema: {\n                allowChildren: [\n                    'htmlH1',\n                    'htmlH2',\n                    'htmlH3',\n                    'htmlH4',\n                    'htmlH5',\n                    'htmlH6',\n                    '$text'\n                ],\n                allowIn: 'htmlDetails',\n                isBlock: false\n            }\n        },\n        {\n            model: 'htmlDiv',\n            view: 'div',\n            paragraphLikeModel: 'htmlDivParagraph',\n            modelSchema: {\n                inheritAllFrom: '$container'\n            }\n        },\n        // TODO can also include text.\n        {\n            model: 'htmlFieldset',\n            view: 'fieldset',\n            modelSchema: {\n                inheritAllFrom: '$container',\n                isBlock: false\n            }\n        },\n        // TODO can also include h1-h6.\n        {\n            model: 'htmlLegend',\n            view: 'legend',\n            modelSchema: {\n                allowIn: 'htmlFieldset',\n                allowChildren: '$text'\n            }\n        },\n        // TODO can also include text.\n        {\n            model: 'htmlHeader',\n            view: 'header',\n            modelSchema: {\n                inheritAllFrom: '$container',\n                isBlock: false\n            }\n        },\n        // TODO can also include text.\n        {\n            model: 'htmlFooter',\n            view: 'footer',\n            modelSchema: {\n                inheritAllFrom: '$container',\n                isBlock: false\n            }\n        },\n        // TODO can also include text.\n        {\n            model: 'htmlForm',\n            view: 'form',\n            modelSchema: {\n                inheritAllFrom: '$container',\n                isBlock: true\n            }\n        },\n        {\n            model: 'htmlHgroup',\n            view: 'hgroup',\n            modelSchema: {\n                allowIn: ['$root', '$container'],\n                allowChildren: [\n                    'paragraph',\n                    'htmlP',\n                    'htmlH1',\n                    'htmlH2',\n                    'htmlH3',\n                    'htmlH4',\n                    'htmlH5',\n                    'htmlH6'\n                ],\n                isBlock: false\n            }\n        },\n        {\n            model: 'htmlH1',\n            view: 'h1',\n            modelSchema: {\n                inheritAllFrom: '$block'\n            }\n        },\n        {\n            model: 'htmlH2',\n            view: 'h2',\n            modelSchema: {\n                inheritAllFrom: '$block'\n            }\n        },\n        {\n            model: 'htmlH3',\n            view: 'h3',\n            modelSchema: {\n                inheritAllFrom: '$block'\n            }\n        },\n        {\n            model: 'htmlH4',\n            view: 'h4',\n            modelSchema: {\n                inheritAllFrom: '$block'\n            }\n        },\n        {\n            model: 'htmlH5',\n            view: 'h5',\n            modelSchema: {\n                inheritAllFrom: '$block'\n            }\n        },\n        {\n            model: 'htmlH6',\n            view: 'h6',\n            modelSchema: {\n                inheritAllFrom: '$block'\n            }\n        },\n        {\n            model: '$htmlList',\n            modelSchema: {\n                allowWhere: '$container',\n                allowChildren: ['$htmlList', 'htmlLi'],\n                isBlock: false\n            }\n        },\n        {\n            model: 'htmlDir',\n            view: 'dir',\n            modelSchema: {\n                inheritAllFrom: '$htmlList'\n            }\n        },\n        {\n            model: 'htmlMenu',\n            view: 'menu',\n            modelSchema: {\n                inheritAllFrom: '$htmlList'\n            }\n        },\n        {\n            model: 'htmlUl',\n            view: 'ul',\n            modelSchema: {\n                inheritAllFrom: '$htmlList'\n            }\n        },\n        {\n            model: 'htmlOl',\n            view: 'ol',\n            modelSchema: {\n                inheritAllFrom: '$htmlList'\n            }\n        },\n        // TODO can also include other block elements.\n        {\n            model: 'htmlLi',\n            view: 'li',\n            modelSchema: {\n                allowIn: '$htmlList',\n                allowChildren: '$text',\n                isBlock: false\n            }\n        },\n        {\n            model: 'htmlPre',\n            view: 'pre',\n            modelSchema: {\n                inheritAllFrom: '$block'\n            }\n        },\n        {\n            model: 'htmlArticle',\n            view: 'article',\n            modelSchema: {\n                inheritAllFrom: '$container',\n                isBlock: false\n            }\n        },\n        {\n            model: 'htmlSection',\n            view: 'section',\n            modelSchema: {\n                inheritAllFrom: '$container',\n                isBlock: false\n            }\n        },\n        // TODO can also include text.\n        {\n            model: 'htmlNav',\n            view: 'nav',\n            modelSchema: {\n                inheritAllFrom: '$container',\n                isBlock: false\n            }\n        },\n        {\n            model: 'htmlDivDl',\n            view: 'div',\n            modelSchema: {\n                allowChildren: ['htmlDt', 'htmlDd'],\n                allowIn: 'htmlDl'\n            }\n        },\n        {\n            model: 'htmlDl',\n            view: 'dl',\n            modelSchema: {\n                allowWhere: '$container',\n                allowChildren: ['htmlDt', 'htmlDd', 'htmlDivDl'],\n                isBlock: false\n            }\n        },\n        {\n            model: 'htmlDt',\n            view: 'dt',\n            modelSchema: {\n                allowChildren: '$block',\n                isBlock: false\n            }\n        },\n        {\n            model: 'htmlDd',\n            view: 'dd',\n            modelSchema: {\n                allowChildren: '$block',\n                isBlock: false\n            }\n        },\n        {\n            model: 'htmlCenter',\n            view: 'center',\n            modelSchema: {\n                inheritAllFrom: '$container',\n                isBlock: false\n            }\n        },\n        {\n            model: 'htmlHr',\n            view: 'hr',\n            isEmpty: true,\n            modelSchema: {\n                inheritAllFrom: '$blockObject'\n            }\n        }\n    ],\n    inline: [\n        // Existing features (attribute set on an existing model element).\n        {\n            model: 'htmlLiAttributes',\n            view: 'li',\n            appliesToBlock: true,\n            coupledAttribute: 'listItemId'\n        },\n        {\n            model: 'htmlOlAttributes',\n            view: 'ol',\n            appliesToBlock: true,\n            coupledAttribute: 'listItemId'\n        },\n        {\n            model: 'htmlUlAttributes',\n            view: 'ul',\n            appliesToBlock: true,\n            coupledAttribute: 'listItemId'\n        },\n        {\n            model: 'htmlFigureAttributes',\n            view: 'figure',\n            appliesToBlock: 'table'\n        },\n        {\n            model: 'htmlTheadAttributes',\n            view: 'thead',\n            appliesToBlock: 'table'\n        },\n        {\n            model: 'htmlTbodyAttributes',\n            view: 'tbody',\n            appliesToBlock: 'table'\n        },\n        {\n            model: 'htmlFigureAttributes',\n            view: 'figure',\n            appliesToBlock: 'imageBlock'\n        },\n        // Compatibility features.\n        {\n            model: 'htmlAcronym',\n            view: 'acronym',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlTt',\n            view: 'tt',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlFont',\n            view: 'font',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlTime',\n            view: 'time',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlVar',\n            view: 'var',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlBig',\n            view: 'big',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlSmall',\n            view: 'small',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlSamp',\n            view: 'samp',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlQ',\n            view: 'q',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlOutput',\n            view: 'output',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlKbd',\n            view: 'kbd',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlBdi',\n            view: 'bdi',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlBdo',\n            view: 'bdo',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlAbbr',\n            view: 'abbr',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlA',\n            view: 'a',\n            priority: 5,\n            coupledAttribute: 'linkHref'\n        },\n        {\n            model: 'htmlStrong',\n            view: 'strong',\n            coupledAttribute: 'bold',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlB',\n            view: 'b',\n            coupledAttribute: 'bold',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlI',\n            view: 'i',\n            coupledAttribute: 'italic',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlEm',\n            view: 'em',\n            coupledAttribute: 'italic',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlS',\n            view: 's',\n            coupledAttribute: 'strikethrough',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        // TODO According to HTML-spec can behave as div-like element, although CKE4 only handles it as an inline element.\n        {\n            model: 'htmlDel',\n            view: 'del',\n            coupledAttribute: 'strikethrough',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        // TODO According to HTML-spec can behave as div-like element, although CKE4 only handles it as an inline element.\n        {\n            model: 'htmlIns',\n            view: 'ins',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlU',\n            view: 'u',\n            coupledAttribute: 'underline',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlSub',\n            view: 'sub',\n            coupledAttribute: 'subscript',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlSup',\n            view: 'sup',\n            coupledAttribute: 'superscript',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlCode',\n            view: 'code',\n            coupledAttribute: 'code',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlMark',\n            view: 'mark',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlSpan',\n            view: 'span',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlCite',\n            view: 'cite',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlLabel',\n            view: 'label',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlDfn',\n            view: 'dfn',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        // Objects.\n        {\n            model: 'htmlObject',\n            view: 'object',\n            isObject: true,\n            modelSchema: {\n                inheritAllFrom: '$inlineObject'\n            }\n        },\n        {\n            model: 'htmlIframe',\n            view: 'iframe',\n            isObject: true,\n            modelSchema: {\n                inheritAllFrom: '$inlineObject'\n            }\n        },\n        {\n            model: 'htmlInput',\n            view: 'input',\n            isObject: true,\n            modelSchema: {\n                inheritAllFrom: '$inlineObject'\n            }\n        },\n        {\n            model: 'htmlButton',\n            view: 'button',\n            isObject: true,\n            modelSchema: {\n                inheritAllFrom: '$inlineObject'\n            }\n        },\n        {\n            model: 'htmlTextarea',\n            view: 'textarea',\n            isObject: true,\n            modelSchema: {\n                inheritAllFrom: '$inlineObject'\n            }\n        },\n        {\n            model: 'htmlSelect',\n            view: 'select',\n            isObject: true,\n            modelSchema: {\n                inheritAllFrom: '$inlineObject'\n            }\n        },\n        {\n            model: 'htmlVideo',\n            view: 'video',\n            isObject: true,\n            modelSchema: {\n                inheritAllFrom: '$inlineObject'\n            }\n        },\n        {\n            model: 'htmlEmbed',\n            view: 'embed',\n            isObject: true,\n            modelSchema: {\n                inheritAllFrom: '$inlineObject'\n            }\n        },\n        {\n            model: 'htmlOembed',\n            view: 'oembed',\n            isObject: true,\n            modelSchema: {\n                inheritAllFrom: '$inlineObject'\n            }\n        },\n        {\n            model: 'htmlAudio',\n            view: 'audio',\n            isObject: true,\n            modelSchema: {\n                inheritAllFrom: '$inlineObject'\n            }\n        },\n        {\n            model: 'htmlImg',\n            view: 'img',\n            isObject: true,\n            modelSchema: {\n                inheritAllFrom: '$inlineObject'\n            }\n        },\n        {\n            model: 'htmlCanvas',\n            view: 'canvas',\n            isObject: true,\n            modelSchema: {\n                inheritAllFrom: '$inlineObject'\n            }\n        },\n        // TODO it could be probably represented as non-object element, although it has graphical representation,\n        // so probably makes more sense to keep it as an object.\n        {\n            model: 'htmlMeter',\n            view: 'meter',\n            isObject: true,\n            modelSchema: {\n                inheritAllFrom: '$inlineObject'\n            }\n        },\n        // TODO it could be probably represented as non-object element, although it has graphical representation,\n        // so probably makes more sense to keep it as an object.\n        {\n            model: 'htmlProgress',\n            view: 'progress',\n            isObject: true,\n            modelSchema: {\n                inheritAllFrom: '$inlineObject'\n            }\n        },\n        {\n            model: 'htmlScript',\n            view: 'script',\n            modelSchema: {\n                allowWhere: ['$text', '$block'],\n                isInline: true\n            }\n        },\n        {\n            model: 'htmlStyle',\n            view: 'style',\n            modelSchema: {\n                allowWhere: ['$text', '$block'],\n                isInline: true\n            }\n        },\n        {\n            model: 'htmlCustomElement',\n            view: '$customElement',\n            modelSchema: {\n                allowWhere: ['$text', '$block'],\n                allowAttributesOf: '$inlineObject',\n                isInline: true\n            }\n        }\n    ]\n};\n","import { getTag } from '../_internal/getTag.mjs';\n\nfunction isArguments(value) {\n    return value !== null && typeof value === 'object' && getTag(value) === '[object Arguments]';\n}\n\nexport { isArguments };\n","import { cloneDeep } from './cloneDeep.mjs';\nimport { clone } from '../../object/clone.mjs';\nimport { isPrimitive } from '../../predicate/isPrimitive.mjs';\nimport { getSymbols } from '../_internal/getSymbols.mjs';\nimport { isArguments } from '../predicate/isArguments.mjs';\nimport { isObjectLike } from '../predicate/isObjectLike.mjs';\nimport { isPlainObject } from '../predicate/isPlainObject.mjs';\nimport { isTypedArray } from '../predicate/isTypedArray.mjs';\n\nfunction mergeWith(object, ...otherArgs) {\n    const sources = otherArgs.slice(0, -1);\n    const merge = otherArgs[otherArgs.length - 1];\n    let result = object;\n    for (let i = 0; i < sources.length; i++) {\n        const source = sources[i];\n        result = mergeWithDeep(result, source, merge, new Map());\n    }\n    return result;\n}\nfunction mergeWithDeep(target, source, merge, stack) {\n    if (isPrimitive(target)) {\n        target = Object(target);\n    }\n    if (source == null || typeof source !== 'object') {\n        return target;\n    }\n    if (stack.has(source)) {\n        return clone(stack.get(source));\n    }\n    stack.set(source, target);\n    if (Array.isArray(source)) {\n        source = source.slice();\n        for (let i = 0; i < source.length; i++) {\n            source[i] = source[i] ?? undefined;\n        }\n    }\n    const sourceKeys = [...Object.keys(source), ...getSymbols(source)];\n    for (let i = 0; i < sourceKeys.length; i++) {\n        const key = sourceKeys[i];\n        let sourceValue = source[key];\n        let targetValue = target[key];\n        if (isArguments(sourceValue)) {\n            sourceValue = { ...sourceValue };\n        }\n        if (isArguments(targetValue)) {\n            targetValue = { ...targetValue };\n        }\n        if (typeof Buffer !== 'undefined' && Buffer.isBuffer(sourceValue)) {\n            sourceValue = cloneDeep(sourceValue);\n        }\n        if (Array.isArray(sourceValue)) {\n            if (typeof targetValue === 'object' && targetValue != null) {\n                const cloned = [];\n                const targetKeys = Reflect.ownKeys(targetValue);\n                for (let i = 0; i < targetKeys.length; i++) {\n                    const targetKey = targetKeys[i];\n                    cloned[targetKey] = targetValue[targetKey];\n                }\n                targetValue = cloned;\n            }\n            else {\n                targetValue = [];\n            }\n        }\n        const merged = merge(targetValue, sourceValue, key, target, source, stack);\n        if (merged != null) {\n            target[key] = merged;\n        }\n        else if (Array.isArray(sourceValue)) {\n            target[key] = mergeWithDeep(targetValue, sourceValue, merge, stack);\n        }\n        else if (isObjectLike(targetValue) && isObjectLike(sourceValue)) {\n            target[key] = mergeWithDeep(targetValue, sourceValue, merge, stack);\n        }\n        else if (targetValue == null && isPlainObject(sourceValue)) {\n            target[key] = mergeWithDeep({}, sourceValue, merge, stack);\n        }\n        else if (targetValue == null && isTypedArray(sourceValue)) {\n            target[key] = cloneDeep(sourceValue);\n        }\n        else if (targetValue === undefined || sourceValue !== undefined) {\n            target[key] = sourceValue;\n        }\n    }\n    return target;\n}\n\nexport { mergeWith };\n","import { isPrimitive } from '../predicate/isPrimitive.mjs';\nimport { isTypedArray } from '../predicate/isTypedArray.mjs';\n\nfunction clone(obj) {\n    if (isPrimitive(obj)) {\n        return obj;\n    }\n    if (Array.isArray(obj) ||\n        isTypedArray(obj) ||\n        obj instanceof ArrayBuffer ||\n        (typeof SharedArrayBuffer !== 'undefined' && obj instanceof SharedArrayBuffer)) {\n        return obj.slice(0);\n    }\n    const prototype = Object.getPrototypeOf(obj);\n    const Constructor = prototype.constructor;\n    if (obj instanceof Date || obj instanceof Map || obj instanceof Set) {\n        return new Constructor(obj);\n    }\n    if (obj instanceof RegExp) {\n        const newRegExp = new Constructor(obj);\n        newRegExp.lastIndex = obj.lastIndex;\n        return newRegExp;\n    }\n    if (obj instanceof DataView) {\n        return new Constructor(obj.buffer.slice(0));\n    }\n    if (obj instanceof Error) {\n        const newError = new Constructor(obj.message);\n        newError.stack = obj.stack;\n        newError.name = obj.name;\n        newError.cause = obj.cause;\n        return newError;\n    }\n    if (typeof File !== 'undefined' && obj instanceof File) {\n        const newFile = new Constructor([obj], obj.name, { type: obj.type, lastModified: obj.lastModified });\n        return newFile;\n    }\n    if (typeof obj === 'object') {\n        const newObject = Object.create(prototype);\n        return Object.assign(newObject, obj);\n    }\n    return obj;\n}\n\nexport { clone };\n","import { isTypedArray as isTypedArray$1 } from '../../predicate/isTypedArray.mjs';\n\nfunction isTypedArray(x) {\n    return isTypedArray$1(x);\n}\n\nexport { isTypedArray };\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module html-support/dataschema\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { toArray } from 'ckeditor5/src/utils.js';\nimport defaultConfig from './schemadefinitions.js';\nimport { mergeWith } from 'es-toolkit/compat';\n/**\n * Holds representation of the extended HTML document type definitions to be used by the\n * editor in HTML support.\n *\n * Data schema is represented by data schema definitions.\n *\n * To add new definition for block element,\n * use {@link module:html-support/dataschema~DataSchema#registerBlockElement} method:\n *\n * ```ts\n * dataSchema.registerBlockElement( {\n * \tview: 'section',\n * \tmodel: 'my-section',\n * \tmodelSchema: {\n * \t\tinheritAllFrom: '$block'\n * \t}\n * } );\n * ```\n *\n * To add new definition for inline element,\n * use {@link module:html-support/dataschema~DataSchema#registerInlineElement} method:\n *\n * ```\n * dataSchema.registerInlineElement( {\n * \tview: 'span',\n * \tmodel: 'my-span',\n * \tattributeProperties: {\n * \t\tcopyOnEnter: true\n * \t}\n * } );\n * ```\n */\nexport default class DataSchema extends Plugin {\n    /**\n     * A map of registered data schema definitions.\n     */\n    _definitions = [];\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'DataSchema';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        for (const definition of defaultConfig.block) {\n            this.registerBlockElement(definition);\n        }\n        for (const definition of defaultConfig.inline) {\n            this.registerInlineElement(definition);\n        }\n    }\n    /**\n     * Add new data schema definition describing block element.\n     */\n    registerBlockElement(definition) {\n        this._definitions.push({ ...definition, isBlock: true });\n    }\n    /**\n     * Add new data schema definition describing inline element.\n     */\n    registerInlineElement(definition) {\n        this._definitions.push({ ...definition, isInline: true });\n    }\n    /**\n     * Updates schema definition describing block element with new properties.\n     *\n     * Creates new scheme if it doesn't exist.\n     * Array properties are concatenated with original values.\n     *\n     * @param definition Definition update.\n     */\n    extendBlockElement(definition) {\n        this._extendDefinition({ ...definition, isBlock: true });\n    }\n    /**\n     * Updates schema definition describing inline element with new properties.\n     *\n     * Creates new scheme if it doesn't exist.\n     * Array properties are concatenated with original values.\n     *\n     * @param definition Definition update.\n     */\n    extendInlineElement(definition) {\n        this._extendDefinition({ ...definition, isInline: true });\n    }\n    /**\n     * Returns all definitions matching the given view name.\n     *\n     * @param includeReferences Indicates if this method should also include definitions of referenced models.\n     */\n    getDefinitionsForView(viewName, includeReferences = false) {\n        const definitions = new Set();\n        for (const definition of this._getMatchingViewDefinitions(viewName)) {\n            if (includeReferences) {\n                for (const reference of this._getReferences(definition.model)) {\n                    definitions.add(reference);\n                }\n            }\n            definitions.add(definition);\n        }\n        return definitions;\n    }\n    /**\n     * Returns definitions matching the given model name.\n     */\n    getDefinitionsForModel(modelName) {\n        return this._definitions.filter(definition => definition.model == modelName);\n    }\n    /**\n     * Returns definitions matching the given view name.\n     */\n    _getMatchingViewDefinitions(viewName) {\n        return this._definitions.filter(def => def.view && testViewName(viewName, def.view));\n    }\n    /**\n     * Resolves all definition references registered for the given data schema definition.\n     *\n     * @param modelName Data schema model name.\n     */\n    *_getReferences(modelName) {\n        const inheritProperties = [\n            'inheritAllFrom',\n            'inheritTypesFrom',\n            'allowWhere',\n            'allowContentOf',\n            'allowAttributesOf'\n        ];\n        const definitions = this._definitions.filter(definition => definition.model == modelName);\n        for (const { modelSchema } of definitions) {\n            if (!modelSchema) {\n                continue;\n            }\n            for (const property of inheritProperties) {\n                for (const referenceName of toArray(modelSchema[property] || [])) {\n                    const definitions = this._definitions.filter(definition => definition.model == referenceName);\n                    for (const definition of definitions) {\n                        if (referenceName !== modelName) {\n                            yield* this._getReferences(definition.model);\n                            yield definition;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    /**\n     * Updates schema definition with new properties.\n     *\n     * Creates new scheme if it doesn't exist.\n     * Array properties are concatenated with original values.\n     *\n     * @param definition Definition update.\n     */\n    _extendDefinition(definition) {\n        const currentDefinitions = Array.from(this._definitions.entries())\n            .filter(([, currentDefinition]) => currentDefinition.model == definition.model);\n        if (currentDefinitions.length == 0) {\n            this._definitions.push(definition);\n            return;\n        }\n        for (const [idx, currentDefinition] of currentDefinitions) {\n            this._definitions[idx] = mergeWith({}, currentDefinition, definition, (target, source) => {\n                return Array.isArray(target) ? target.concat(source) : undefined;\n            });\n        }\n    }\n}\n/**\n * Test view name against the given pattern.\n */\nfunction testViewName(pattern, viewName) {\n    if (typeof pattern === 'string') {\n        return pattern === viewName;\n    }\n    if (pattern instanceof RegExp) {\n        return pattern.test(viewName);\n    }\n    return false;\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./datafilter.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module html-support/datafilter\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Matcher, StylesMap } from 'ckeditor5/src/engine.js';\nimport { CKEditorError, priorities, isValidAttributeName } from 'ckeditor5/src/utils.js';\nimport { Widget } from 'ckeditor5/src/widget.js';\nimport { viewToModelObjectConverter, toObjectWidgetConverter, createObjectView, viewToAttributeInlineConverter, attributeToViewInlineConverter, emptyInlineModelElementToViewConverter, viewToModelBlockAttributeConverter, modelToViewBlockAttributeConverter } from './converters.js';\nimport { default as DataSchema } from './dataschema.js';\nimport { getHtmlAttributeName } from './utils.js';\nimport { isPlainObject } from 'es-toolkit/compat';\nimport '../theme/datafilter.css';\n/**\n * Allows to validate elements and element attributes registered by {@link module:html-support/dataschema~DataSchema}.\n *\n * To enable registered element in the editor, use {@link module:html-support/datafilter~DataFilter#allowElement} method:\n *\n * ```ts\n * dataFilter.allowElement( 'section' );\n * ```\n *\n * You can also allow or disallow specific element attributes:\n *\n * ```ts\n * // Allow `data-foo` attribute on `section` element.\n * dataFilter.allowAttributes( {\n * \tname: 'section',\n * \tattributes: {\n * \t\t'data-foo': true\n * \t}\n * } );\n *\n * // Disallow `color` style attribute on 'section' element.\n * dataFilter.disallowAttributes( {\n * \tname: 'section',\n * \tstyles: {\n * \t\tcolor: /[\\s\\S]+/\n * \t}\n * } );\n * ```\n *\n * To apply the information about allowed and disallowed attributes in custom integration plugin,\n * use the {@link module:html-support/datafilter~DataFilter#processViewAttributes `processViewAttributes()`} method.\n */\nexport default class DataFilter extends Plugin {\n    /**\n     * An instance of the {@link module:html-support/dataschema~DataSchema}.\n     */\n    _dataSchema;\n    /**\n     * {@link module:engine/view/matcher~Matcher Matcher} instance describing rules upon which\n     * content attributes should be allowed.\n     */\n    _allowedAttributes;\n    /**\n     * {@link module:engine/view/matcher~Matcher Matcher} instance describing rules upon which\n     * content attributes should be disallowed.\n     */\n    _disallowedAttributes;\n    /**\n     * Allowed element definitions by {@link module:html-support/datafilter~DataFilter#allowElement} method.\n    */\n    _allowedElements;\n    /**\n     * Disallowed element names by {@link module:html-support/datafilter~DataFilter#disallowElement} method.\n     */\n    _disallowedElements;\n    /**\n     * Indicates if {@link module:engine/controller/datacontroller~DataController editor's data controller}\n     * data has been already initialized.\n    */\n    _dataInitialized;\n    /**\n     * Cached map of coupled attributes. Keys are the feature attributes names\n     * and values are arrays with coupled GHS attributes names.\n     */\n    _coupledAttributes;\n    constructor(editor) {\n        super(editor);\n        this._dataSchema = editor.plugins.get('DataSchema');\n        this._allowedAttributes = new Matcher();\n        this._disallowedAttributes = new Matcher();\n        this._allowedElements = new Set();\n        this._disallowedElements = new Set();\n        this._dataInitialized = false;\n        this._coupledAttributes = null;\n        this._registerElementsAfterInit();\n        this._registerElementHandlers();\n        this._registerCoupledAttributesPostFixer();\n        this._registerAssociatedHtmlAttributesPostFixer();\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'DataFilter';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [DataSchema, Widget];\n    }\n    /**\n     * Load a configuration of one or many elements, where their attributes should be allowed.\n     *\n     * **Note**: Rules will be applied just before next data pipeline data init or set.\n     *\n     * @param config Configuration of elements that should have their attributes accepted in the editor.\n     */\n    loadAllowedConfig(config) {\n        for (const pattern of config) {\n            // MatcherPattern allows omitting `name` to widen the search of elements.\n            // Let's keep it consistent and match every element if a `name` has not been provided.\n            const elementName = pattern.name || /[\\s\\S]+/;\n            const rules = splitRules(pattern);\n            this.allowElement(elementName);\n            rules.forEach(pattern => this.allowAttributes(pattern));\n        }\n    }\n    /**\n     * Load a configuration of one or many elements, where their attributes should be disallowed.\n     *\n     * **Note**: Rules will be applied just before next data pipeline data init or set.\n     *\n     * @param config Configuration of elements that should have their attributes rejected from the editor.\n     */\n    loadDisallowedConfig(config) {\n        for (const pattern of config) {\n            // MatcherPattern allows omitting `name` to widen the search of elements.\n            // Let's keep it consistent and match every element if a `name` has not been provided.\n            const elementName = pattern.name || /[\\s\\S]+/;\n            const rules = splitRules(pattern);\n            // Disallow element itself if there is no other rules.\n            if (rules.length == 0) {\n                this.disallowElement(elementName);\n            }\n            else {\n                rules.forEach(pattern => this.disallowAttributes(pattern));\n            }\n        }\n    }\n    /**\n     * Load a configuration of one or many elements, where when empty should be allowed.\n     *\n     * **Note**: It modifies DataSchema so must be loaded before registering filtering rules.\n     *\n     * @param config Configuration of elements that should be preserved even if empty.\n     */\n    loadAllowedEmptyElementsConfig(config) {\n        for (const elementName of config) {\n            this.allowEmptyElement(elementName);\n        }\n    }\n    /**\n     * Allow the given element in the editor context.\n     *\n     * This method will only allow elements described by the {@link module:html-support/dataschema~DataSchema} used\n     * to create data filter.\n     *\n     * **Note**: Rules will be applied just before next data pipeline data init or set.\n     *\n     * @param viewName String or regular expression matching view name.\n     */\n    allowElement(viewName) {\n        for (const definition of this._dataSchema.getDefinitionsForView(viewName, true)) {\n            this._addAllowedElement(definition);\n            // Reset cached map to recalculate it on the next usage.\n            this._coupledAttributes = null;\n        }\n    }\n    /**\n     * Disallow the given element in the editor context.\n     *\n     * This method will only disallow elements described by the {@link module:html-support/dataschema~DataSchema} used\n     * to create data filter.\n     *\n     * @param viewName String or regular expression matching view name.\n     */\n    disallowElement(viewName) {\n        for (const definition of this._dataSchema.getDefinitionsForView(viewName, false)) {\n            this._disallowedElements.add(definition.view);\n        }\n    }\n    /**\n     * Allow the given empty element in the editor context.\n     *\n     * This method will only allow elements described by the {@link module:html-support/dataschema~DataSchema} used\n     * to create data filter.\n     *\n     * **Note**: It modifies DataSchema so must be called before registering filtering rules.\n     *\n     * @param viewName String or regular expression matching view name.\n     */\n    allowEmptyElement(viewName) {\n        for (const definition of this._dataSchema.getDefinitionsForView(viewName, true)) {\n            if (definition.isInline) {\n                this._dataSchema.extendInlineElement({ ...definition, allowEmpty: true });\n            }\n        }\n    }\n    /**\n     * Allow the given attributes for view element allowed by {@link #allowElement} method.\n     *\n     * @param config Pattern matching all attributes which should be allowed.\n     */\n    allowAttributes(config) {\n        this._allowedAttributes.add(config);\n    }\n    /**\n     * Disallow the given attributes for view element allowed by {@link #allowElement} method.\n     *\n     * @param config Pattern matching all attributes which should be disallowed.\n     */\n    disallowAttributes(config) {\n        this._disallowedAttributes.add(config);\n    }\n    /**\n     * Processes all allowed and disallowed attributes on the view element by consuming them and returning the allowed ones.\n     *\n     * This method applies the configuration set up by {@link #allowAttributes `allowAttributes()`}\n     * and {@link #disallowAttributes `disallowAttributes()`} over the given view element by consuming relevant attributes.\n     * It returns the allowed attributes that were found on the given view element for further processing by integration code.\n     *\n     * ```ts\n     * dispatcher.on( 'element:myElement', ( evt, data, conversionApi ) => {\n     * \t// Get rid of disallowed and extract all allowed attributes from a viewElement.\n     * \tconst viewAttributes = dataFilter.processViewAttributes( data.viewItem, conversionApi );\n     * \t// Do something with them, i.e. store inside a model as a dictionary.\n     * \tif ( viewAttributes ) {\n     * \t\tconversionApi.writer.setAttribute( 'htmlAttributesOfMyElement', viewAttributes, data.modelRange );\n     * \t}\n     * } );\n     * ```\n     *\n     * @see module:engine/conversion/viewconsumable~ViewConsumable#consume\n     *\n     * @returns Object with following properties:\n     * - attributes Set with matched attribute names.\n     * - styles Set with matched style names.\n     * - classes Set with matched class names.\n     */\n    processViewAttributes(viewElement, conversionApi) {\n        const { consumable } = conversionApi;\n        // Make sure that the disabled attributes are handled before the allowed attributes are called.\n        // For example, for block images the <figure> converter triggers conversion for <img> first and then for other elements, i.e. <a>.\n        matchAndConsumeAttributes(viewElement, this._disallowedAttributes, consumable);\n        return prepareGHSAttribute(viewElement, matchAndConsumeAttributes(viewElement, this._allowedAttributes, consumable));\n    }\n    /**\n     * Adds allowed element definition and fires registration event.\n     */\n    _addAllowedElement(definition) {\n        if (this._allowedElements.has(definition)) {\n            return;\n        }\n        this._allowedElements.add(definition);\n        // For attribute based integrations (table figure, document lists, etc.) register related element definitions.\n        if ('appliesToBlock' in definition && typeof definition.appliesToBlock == 'string') {\n            for (const relatedDefinition of this._dataSchema.getDefinitionsForModel(definition.appliesToBlock)) {\n                if (relatedDefinition.isBlock) {\n                    this._addAllowedElement(relatedDefinition);\n                }\n            }\n        }\n        // We need to wait for all features to be initialized before we can register\n        // element, so we can access existing features model schemas.\n        // If the data has not been initialized yet, _registerElementsAfterInit() method will take care of\n        // registering elements.\n        if (this._dataInitialized) {\n            // Defer registration to the next data pipeline data set so any disallow rules could be applied\n            // even if added after allow rule (disallowElement).\n            this.editor.data.once('set', () => {\n                this._fireRegisterEvent(definition);\n            }, {\n                // With the highest priority listener we are able to register elements right before\n                // running data conversion.\n                priority: priorities.highest + 1\n            });\n        }\n    }\n    /**\n     * Registers elements allowed by {@link module:html-support/datafilter~DataFilter#allowElement} method\n     * once {@link module:engine/controller/datacontroller~DataController editor's data controller} is initialized.\n    */\n    _registerElementsAfterInit() {\n        this.editor.data.on('init', () => {\n            this._dataInitialized = true;\n            for (const definition of this._allowedElements) {\n                this._fireRegisterEvent(definition);\n            }\n        }, {\n            // With highest priority listener we are able to register elements right before\n            // running data conversion. Also:\n            // * Make sure that priority is higher than the one used by `RealTimeCollaborationClient`,\n            // as RTC is stopping event propagation.\n            // * Make sure no other features hook into this event before GHS because otherwise the\n            // downcast conversion (for these features) could run before GHS registered its converters\n            // (https://github.com/ckeditor/ckeditor5/issues/11356).\n            priority: priorities.highest + 1\n        });\n    }\n    /**\n     * Registers default element handlers.\n     */\n    _registerElementHandlers() {\n        this.on('register', (evt, definition) => {\n            const schema = this.editor.model.schema;\n            // Object element should be only registered for new features.\n            // If the model schema is already registered, it should be handled by\n            // #_registerBlockElement() or #_registerObjectElement() attribute handlers.\n            if (definition.isObject && !schema.isRegistered(definition.model)) {\n                this._registerObjectElement(definition);\n            }\n            else if (definition.isBlock) {\n                this._registerBlockElement(definition);\n            }\n            else if (definition.isInline) {\n                this._registerInlineElement(definition);\n            }\n            else {\n                /**\n                 * The definition cannot be handled by the data filter.\n                 *\n                 * Make sure that the registered definition is correct.\n                 *\n                 * @error data-filter-invalid-definition\n                 */\n                throw new CKEditorError('data-filter-invalid-definition', null, definition);\n            }\n            evt.stop();\n        }, { priority: 'lowest' });\n    }\n    /**\n     * Registers a model post-fixer that is removing coupled GHS attributes of inline elements. Those attributes\n     * are removed if a coupled feature attribute is removed.\n     *\n     * For example, consider following HTML:\n     *\n     * ```html\n     * <a href=\"foo.html\" id=\"myId\">bar</a>\n     * ```\n     *\n     * Which would be upcasted to following text node in the model:\n     *\n     * ```html\n     * <$text linkHref=\"foo.html\" htmlA=\"{ attributes: { id: 'myId' } }\">bar</$text>\n     * ```\n     *\n     * When the user removes the link from that text (using UI), only `linkHref` attribute would be removed:\n     *\n     * ```html\n     * <$text htmlA=\"{ attributes: { id: 'myId' } }\">bar</$text>\n     * ```\n     *\n     * The `htmlA` attribute would stay in the model and would cause GHS to generate an `<a>` element.\n     * This is incorrect from UX point of view, as the user wanted to remove the whole link (not only `href`).\n     */\n    _registerCoupledAttributesPostFixer() {\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        model.document.registerPostFixer(writer => {\n            const changes = model.document.differ.getChanges();\n            let changed = false;\n            const coupledAttributes = this._getCoupledAttributesMap();\n            for (const change of changes) {\n                // Handle only attribute removals.\n                if (change.type != 'attribute' || change.attributeNewValue !== null) {\n                    continue;\n                }\n                // Find a list of coupled GHS attributes.\n                const attributeKeys = coupledAttributes.get(change.attributeKey);\n                if (!attributeKeys) {\n                    continue;\n                }\n                // Remove the coupled GHS attributes on the same range as the feature attribute was removed.\n                for (const { item } of change.range.getWalker()) {\n                    for (const attributeKey of attributeKeys) {\n                        if (item.hasAttribute(attributeKey)) {\n                            writer.removeAttribute(attributeKey, item);\n                            changed = true;\n                        }\n                    }\n                }\n            }\n            return changed;\n        });\n        this.listenTo(selection, 'change:attribute', (evt, { attributeKeys }) => {\n            const removeAttributes = new Set();\n            const coupledAttributes = this._getCoupledAttributesMap();\n            for (const attributeKey of attributeKeys) {\n                // Handle only attribute removals.\n                if (selection.hasAttribute(attributeKey)) {\n                    continue;\n                }\n                // Find a list of coupled GHS attributes.\n                const coupledAttributeKeys = coupledAttributes.get(attributeKey);\n                if (!coupledAttributeKeys) {\n                    continue;\n                }\n                for (const coupledAttributeKey of coupledAttributeKeys) {\n                    if (selection.hasAttribute(coupledAttributeKey)) {\n                        removeAttributes.add(coupledAttributeKey);\n                    }\n                }\n            }\n            if (removeAttributes.size == 0) {\n                return;\n            }\n            model.change(writer => {\n                for (const attributeKey of removeAttributes) {\n                    writer.removeSelectionAttribute(attributeKey);\n                }\n            });\n        });\n    }\n    /**\n     * Removes `html*Attributes` attributes from incompatible elements.\n     *\n     * For example, consider the following HTML:\n     *\n     * ```html\n     * <heading2 htmlH2Attributes=\"...\">foobar[]</heading2>\n     * ```\n     *\n     * Pressing `enter` creates a new `paragraph` element that inherits\n     * the `htmlH2Attributes` attribute from `heading2`.\n     *\n     * ```html\n     * <heading2 htmlH2Attributes=\"...\">foobar</heading2>\n     * <paragraph htmlH2Attributes=\"...\">[]</paragraph>\n     * ```\n     *\n     * This postfixer ensures that this doesn't happen, and that elements can\n     * only have `html*Attributes` associated with them,\n     * e.g.: `htmlPAttributes` for `<p>`, `htmlDivAttributes` for `<div>`, etc.\n     *\n     * With it enabled, pressing `enter` at the end of `<heading2>` will create\n     * a new paragraph without the `htmlH2Attributes` attribute.\n     *\n     * ```html\n     * <heading2 htmlH2Attributes=\"...\">foobar</heading2>\n     * <paragraph>[]</paragraph>\n     * ```\n     */\n    _registerAssociatedHtmlAttributesPostFixer() {\n        const model = this.editor.model;\n        model.document.registerPostFixer(writer => {\n            const changes = model.document.differ.getChanges();\n            let changed = false;\n            for (const change of changes) {\n                if (change.type !== 'insert' || change.name === '$text') {\n                    continue;\n                }\n                for (const attr of change.attributes.keys()) {\n                    if (!attr.startsWith('html') || !attr.endsWith('Attributes')) {\n                        continue;\n                    }\n                    if (!model.schema.checkAttribute(change.name, attr)) {\n                        writer.removeAttribute(attr, change.position.nodeAfter);\n                        changed = true;\n                    }\n                }\n            }\n            return changed;\n        });\n    }\n    /**\n     * Collects the map of coupled attributes. The returned map is keyed by the feature attribute name\n     * and coupled GHS attribute names are stored in the value array.\n     */\n    _getCoupledAttributesMap() {\n        if (this._coupledAttributes) {\n            return this._coupledAttributes;\n        }\n        this._coupledAttributes = new Map();\n        for (const definition of this._allowedElements) {\n            if (definition.coupledAttribute && definition.model) {\n                const attributeNames = this._coupledAttributes.get(definition.coupledAttribute);\n                if (attributeNames) {\n                    attributeNames.push(definition.model);\n                }\n                else {\n                    this._coupledAttributes.set(definition.coupledAttribute, [definition.model]);\n                }\n            }\n        }\n        return this._coupledAttributes;\n    }\n    /**\n     * Fires `register` event for the given element definition.\n     */\n    _fireRegisterEvent(definition) {\n        if (definition.view && this._disallowedElements.has(definition.view)) {\n            return;\n        }\n        this.fire(definition.view ? `register:${definition.view}` : 'register', definition);\n    }\n    /**\n     * Registers object element and attribute converters for the given data schema definition.\n     */\n    _registerObjectElement(definition) {\n        const editor = this.editor;\n        const schema = editor.model.schema;\n        const conversion = editor.conversion;\n        const { view: viewName, model: modelName } = definition;\n        schema.register(modelName, definition.modelSchema);\n        /* istanbul ignore next: paranoid check -- @preserve */\n        if (!viewName) {\n            return;\n        }\n        schema.extend(definition.model, {\n            allowAttributes: [getHtmlAttributeName(viewName), 'htmlContent']\n        });\n        // Store element content in special `$rawContent` custom property to\n        // avoid editor's data filtering mechanism.\n        editor.data.registerRawContentMatcher({\n            name: viewName\n        });\n        conversion.for('upcast').elementToElement({\n            view: viewName,\n            model: viewToModelObjectConverter(definition),\n            // With a `low` priority, `paragraph` plugin auto-paragraphing mechanism is executed. Make sure\n            // this listener is called before it. If not, some elements will be transformed into a paragraph.\n            // `+ 2` is used to take priority over `_addDefaultH1Conversion` in the Heading plugin.\n            converterPriority: priorities.low + 2\n        });\n        conversion.for('upcast').add(viewToModelBlockAttributeConverter(definition, this));\n        conversion.for('editingDowncast').elementToStructure({\n            model: {\n                name: modelName,\n                attributes: [getHtmlAttributeName(viewName)]\n            },\n            view: toObjectWidgetConverter(editor, definition)\n        });\n        conversion.for('dataDowncast').elementToElement({\n            model: modelName,\n            view: (modelElement, { writer }) => {\n                return createObjectView(viewName, modelElement, writer);\n            }\n        });\n        conversion.for('dataDowncast').add(modelToViewBlockAttributeConverter(definition));\n    }\n    /**\n     * Registers block element and attribute converters for the given data schema definition.\n     */\n    _registerBlockElement(definition) {\n        const editor = this.editor;\n        const schema = editor.model.schema;\n        const conversion = editor.conversion;\n        const { view: viewName, model: modelName } = definition;\n        if (!schema.isRegistered(definition.model)) {\n            // Do not register converters and empty schema for editor existing feature\n            // as empty schema won't allow element anywhere in the model.\n            if (!definition.modelSchema) {\n                return;\n            }\n            schema.register(definition.model, definition.modelSchema);\n            if (!viewName) {\n                return;\n            }\n            conversion.for('upcast').elementToElement({\n                model: modelName,\n                view: viewName,\n                // With a `low` priority, `paragraph` plugin auto-paragraphing mechanism is executed. Make sure\n                // this listener is called before it. If not, some elements will be transformed into a paragraph.\n                // `+ 2` is used to take priority over `_addDefaultH1Conversion` in the Heading plugin.\n                converterPriority: priorities.low + 2\n            });\n            conversion.for('downcast').elementToElement({\n                model: modelName,\n                view: (modelElement, { writer }) => definition.isEmpty ?\n                    writer.createEmptyElement(viewName) :\n                    writer.createContainerElement(viewName)\n            });\n        }\n        if (!viewName) {\n            return;\n        }\n        schema.extend(definition.model, {\n            allowAttributes: getHtmlAttributeName(viewName)\n        });\n        conversion.for('upcast').add(viewToModelBlockAttributeConverter(definition, this));\n        conversion.for('downcast').add(modelToViewBlockAttributeConverter(definition));\n    }\n    /**\n     * Registers inline element and attribute converters for the given data schema definition.\n     *\n     * Extends `$text` model schema to allow the given definition model attribute and its properties.\n     */\n    _registerInlineElement(definition) {\n        const editor = this.editor;\n        const schema = editor.model.schema;\n        const conversion = editor.conversion;\n        const attributeKey = definition.model;\n        // This element is stored in the model as an attribute on a block element, for example DocumentLists.\n        if (definition.appliesToBlock) {\n            return;\n        }\n        schema.extend('$text', {\n            allowAttributes: attributeKey\n        });\n        if (definition.attributeProperties) {\n            schema.setAttributeProperties(attributeKey, definition.attributeProperties);\n        }\n        conversion.for('upcast').add(viewToAttributeInlineConverter(definition, this));\n        conversion.for('downcast').attributeToElement({\n            model: attributeKey,\n            view: attributeToViewInlineConverter(definition)\n        });\n        if (!definition.allowEmpty) {\n            return;\n        }\n        schema.setAttributeProperties(attributeKey, { copyFromObject: false });\n        if (!schema.isRegistered('htmlEmptyElement')) {\n            schema.register('htmlEmptyElement', {\n                inheritAllFrom: '$inlineObject'\n            });\n        }\n        editor.data.htmlProcessor.domConverter.registerInlineObjectMatcher(element => {\n            // Element must be empty and have any attribute.\n            if (element.name == definition.view &&\n                element.isEmpty &&\n                Array.from(element.getAttributeKeys()).length) {\n                return {\n                    name: true\n                };\n            }\n            return null;\n        });\n        conversion.for('editingDowncast')\n            .elementToElement({\n            model: 'htmlEmptyElement',\n            view: emptyInlineModelElementToViewConverter(definition, true)\n        });\n        conversion.for('dataDowncast')\n            .elementToElement({\n            model: 'htmlEmptyElement',\n            view: emptyInlineModelElementToViewConverter(definition)\n        });\n    }\n}\n/**\n * Matches and consumes matched attributes.\n *\n * @returns Object with following properties:\n * - attributes Array with matched attribute names.\n * - classes Array with matched class names.\n * - styles Array with matched style names.\n */\nfunction matchAndConsumeAttributes(viewElement, matcher, consumable) {\n    const matches = matcher.matchAll(viewElement) || [];\n    const stylesProcessor = viewElement.document.stylesProcessor;\n    return matches.reduce((result, { match }) => {\n        for (const [key, token] of match.attributes || []) {\n            // Verify and consume styles.\n            if (key == 'style') {\n                const style = token;\n                // Check longer forms of the same style as those could be matched\n                // but not present in the element directly.\n                // Consider only longhand (or longer than current notation) so that\n                // we do not include all sides of the box if only one side is allowed.\n                const sortedRelatedStyles = stylesProcessor.getRelatedStyles(style)\n                    .filter(relatedStyle => relatedStyle.split('-').length > style.split('-').length)\n                    .sort((a, b) => b.split('-').length - a.split('-').length);\n                for (const relatedStyle of sortedRelatedStyles) {\n                    if (consumable.consume(viewElement, { styles: [relatedStyle] })) {\n                        result.styles.push(relatedStyle);\n                    }\n                }\n                // Verify and consume style as specified in the matcher.\n                if (consumable.consume(viewElement, { styles: [style] })) {\n                    result.styles.push(style);\n                }\n            }\n            // Verify and consume class names.\n            else if (key == 'class') {\n                const className = token;\n                if (consumable.consume(viewElement, { classes: [className] })) {\n                    result.classes.push(className);\n                }\n            }\n            else {\n                // Verify and consume other attributes.\n                if (consumable.consume(viewElement, { attributes: [key] })) {\n                    result.attributes.push(key);\n                }\n            }\n        }\n        return result;\n    }, {\n        attributes: [],\n        classes: [],\n        styles: []\n    });\n}\n/**\n * Prepares the GHS attribute value as an object with element attributes' values.\n */\nfunction prepareGHSAttribute(viewElement, { attributes, classes, styles }) {\n    if (!attributes.length && !classes.length && !styles.length) {\n        return null;\n    }\n    return {\n        ...(attributes.length && {\n            attributes: getAttributes(viewElement, attributes)\n        }),\n        ...(styles.length && {\n            styles: getReducedStyles(viewElement, styles)\n        }),\n        ...(classes.length && {\n            classes\n        })\n    };\n}\n/**\n * Returns attributes as an object with names and values.\n */\nfunction getAttributes(viewElement, attributes) {\n    const attributesObject = {};\n    for (const key of attributes) {\n        const value = viewElement.getAttribute(key);\n        if (value !== undefined && isValidAttributeName(key)) {\n            attributesObject[key] = value;\n        }\n    }\n    return attributesObject;\n}\n/**\n * Returns styles as an object reduced to shorthand notation without redundant entries.\n */\nfunction getReducedStyles(viewElement, styles) {\n    // Use StyleMap to reduce style value to the minimal form (without shorthand and long-hand notation and duplication).\n    const stylesMap = new StylesMap(viewElement.document.stylesProcessor);\n    for (const key of styles) {\n        const styleValue = viewElement.getStyle(key);\n        if (styleValue !== undefined) {\n            stylesMap.set(key, styleValue);\n        }\n    }\n    return Object.fromEntries(stylesMap.getStylesEntries());\n}\n/**\n * Matcher by default has to match **all** patterns to count it as an actual match. Splitting the pattern\n * into separate patterns means that any matched pattern will be count as a match.\n *\n * @param pattern Pattern to split.\n * @param attributeName Name of the attribute to split (e.g. 'attributes', 'classes', 'styles').\n */\nfunction splitPattern(pattern, attributeName) {\n    const { name } = pattern;\n    const attributeValue = pattern[attributeName];\n    if (isPlainObject(attributeValue)) {\n        return Object.entries(attributeValue)\n            .map(([key, value]) => ({\n            name,\n            [attributeName]: {\n                [key]: value\n            }\n        }));\n    }\n    if (Array.isArray(attributeValue)) {\n        return attributeValue\n            .map(value => ({\n            name,\n            [attributeName]: [value]\n        }));\n    }\n    return [pattern];\n}\n/**\n * Rules are matched in conjunction (AND operation), but we want to have a match if *any* of the rules is matched (OR operation).\n * By splitting the rules we force the latter effect.\n */\nfunction splitRules(rules) {\n    const { name, attributes, classes, styles } = rules;\n    const splitRules = [];\n    if (attributes) {\n        splitRules.push(...splitPattern({ name, attributes }, 'attributes'));\n    }\n    if (classes) {\n        splitRules.push(...splitPattern({ name, classes }, 'classes'));\n    }\n    if (styles) {\n        splitRules.push(...splitPattern({ name, styles }, 'styles'));\n    }\n    return splitRules;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { updateViewAttributes } from '../utils.js';\nimport DataFilter from '../datafilter.js';\n/**\n * Provides the General HTML Support integration with {@link module:code-block/codeblock~CodeBlock Code Block} feature.\n */\nexport default class CodeBlockElementSupport extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [DataFilter];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'CodeBlockElementSupport';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        if (!this.editor.plugins.has('CodeBlockEditing')) {\n            return;\n        }\n        const dataFilter = this.editor.plugins.get(DataFilter);\n        dataFilter.on('register:pre', (evt, definition) => {\n            if (definition.model !== 'codeBlock') {\n                return;\n            }\n            const editor = this.editor;\n            const schema = editor.model.schema;\n            const conversion = editor.conversion;\n            // Extend codeBlock to allow attributes required by attribute filtration.\n            schema.extend('codeBlock', {\n                allowAttributes: ['htmlPreAttributes', 'htmlContentAttributes']\n            });\n            conversion.for('upcast').add(viewToModelCodeBlockAttributeConverter(dataFilter));\n            conversion.for('downcast').add(modelToViewCodeBlockAttributeConverter());\n            evt.stop();\n        });\n    }\n}\n/**\n * View-to-model conversion helper preserving allowed attributes on {@link module:code-block/codeblock~CodeBlock Code Block}\n * feature model element.\n *\n * Attributes are preserved as a value of `html*Attributes` model attribute.\n * @param dataFilter\n * @returns Returns a conversion callback.\n */\nfunction viewToModelCodeBlockAttributeConverter(dataFilter) {\n    return (dispatcher) => {\n        dispatcher.on('element:code', (evt, data, conversionApi) => {\n            const viewCodeElement = data.viewItem;\n            const viewPreElement = viewCodeElement.parent;\n            if (!viewPreElement || !viewPreElement.is('element', 'pre')) {\n                return;\n            }\n            preserveElementAttributes(viewPreElement, 'htmlPreAttributes');\n            preserveElementAttributes(viewCodeElement, 'htmlContentAttributes');\n            function preserveElementAttributes(viewElement, attributeName) {\n                const viewAttributes = dataFilter.processViewAttributes(viewElement, conversionApi);\n                if (viewAttributes) {\n                    conversionApi.writer.setAttribute(attributeName, viewAttributes, data.modelRange);\n                }\n            }\n        }, { priority: 'low' });\n    };\n}\n/**\n * Model-to-view conversion helper applying attributes from {@link module:code-block/codeblock~CodeBlock Code Block}\n * feature model element.\n * @returns Returns a conversion callback.\n */\nfunction modelToViewCodeBlockAttributeConverter() {\n    return (dispatcher) => {\n        dispatcher.on('attribute:htmlPreAttributes:codeBlock', (evt, data, conversionApi) => {\n            if (!conversionApi.consumable.consume(data.item, evt.name)) {\n                return;\n            }\n            const { attributeOldValue, attributeNewValue } = data;\n            const viewCodeElement = conversionApi.mapper.toViewElement(data.item);\n            const viewPreElement = viewCodeElement.parent;\n            updateViewAttributes(conversionApi.writer, attributeOldValue, attributeNewValue, viewPreElement);\n        });\n        dispatcher.on('attribute:htmlContentAttributes:codeBlock', (evt, data, conversionApi) => {\n            if (!conversionApi.consumable.consume(data.item, evt.name)) {\n                return;\n            }\n            const { attributeOldValue, attributeNewValue } = data;\n            const viewCodeElement = conversionApi.mapper.toViewElement(data.item);\n            updateViewAttributes(conversionApi.writer, attributeOldValue, attributeNewValue, viewCodeElement);\n        });\n    };\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { priorities } from 'ckeditor5/src/utils.js';\nimport { modelToViewBlockAttributeConverter, viewToModelBlockAttributeConverter } from '../converters.js';\nimport DataFilter from '../datafilter.js';\nimport { getHtmlAttributeName } from '../utils.js';\n/**\n * Provides the General HTML Support integration for elements which can behave like sectioning element (e.g. article) or\n * element accepting only inline content (e.g. paragraph).\n *\n * The distinction between this two content models is important for choosing correct schema model and proper content conversion.\n * As an example, it ensures that:\n *\n * * children elements paragraphing is enabled for sectioning elements only,\n * * element and its content can be correctly handled by editing view (splitting and merging elements),\n * * model element HTML is semantically correct and easier to work with.\n *\n * If element contains any block element, it will be treated as a sectioning element and registered using\n * {@link module:html-support/dataschema~DataSchemaDefinition#model} and\n * {@link module:html-support/dataschema~DataSchemaDefinition#modelSchema} in editor schema.\n * Otherwise, it will be registered under {@link module:html-support/dataschema~DataSchemaBlockElementDefinition#paragraphLikeModel} model\n * name with model schema accepting only inline content (inheriting from `$block`).\n */\nexport default class DualContentModelElementSupport extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [DataFilter];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'DualContentModelElementSupport';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const dataFilter = this.editor.plugins.get(DataFilter);\n        dataFilter.on('register', (evt, definition) => {\n            const blockDefinition = definition;\n            const editor = this.editor;\n            const schema = editor.model.schema;\n            const conversion = editor.conversion;\n            if (!blockDefinition.paragraphLikeModel) {\n                return;\n            }\n            // Can only apply to newly registered features.\n            if (schema.isRegistered(blockDefinition.model) || schema.isRegistered(blockDefinition.paragraphLikeModel)) {\n                return;\n            }\n            const paragraphLikeModelDefinition = {\n                model: blockDefinition.paragraphLikeModel,\n                view: blockDefinition.view\n            };\n            schema.register(blockDefinition.model, blockDefinition.modelSchema);\n            schema.register(paragraphLikeModelDefinition.model, {\n                inheritAllFrom: '$block'\n            });\n            conversion.for('upcast').elementToElement({\n                view: blockDefinition.view,\n                model: (viewElement, { writer }) => {\n                    if (this._hasBlockContent(viewElement)) {\n                        return writer.createElement(blockDefinition.model);\n                    }\n                    return writer.createElement(paragraphLikeModelDefinition.model);\n                },\n                // With a `low` priority, `paragraph` plugin auto-paragraphing mechanism is executed. Make sure\n                // this listener is called before it. If not, some elements will be transformed into a paragraph.\n                converterPriority: priorities.low + 0.5\n            });\n            conversion.for('downcast').elementToElement({\n                view: blockDefinition.view,\n                model: blockDefinition.model\n            });\n            this._addAttributeConversion(blockDefinition);\n            conversion.for('downcast').elementToElement({\n                view: paragraphLikeModelDefinition.view,\n                model: paragraphLikeModelDefinition.model\n            });\n            this._addAttributeConversion(paragraphLikeModelDefinition);\n            evt.stop();\n        });\n    }\n    /**\n     * Checks whether the given view element includes any other block element.\n     */\n    _hasBlockContent(viewElement) {\n        const view = this.editor.editing.view;\n        const blockElements = view.domConverter.blockElements;\n        // Traversing the viewElement subtree looking for block elements.\n        // Especially for the cases like <div><a href=\"#\"><p>foo</p></a></div>.\n        // https://github.com/ckeditor/ckeditor5/issues/11513\n        for (const viewItem of view.createRangeIn(viewElement).getItems()) {\n            if (viewItem.is('element') && blockElements.includes(viewItem.name)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    /**\n     * Adds attribute filtering conversion for the given data schema.\n     */\n    _addAttributeConversion(definition) {\n        const editor = this.editor;\n        const conversion = editor.conversion;\n        const dataFilter = editor.plugins.get(DataFilter);\n        editor.model.schema.extend(definition.model, {\n            allowAttributes: getHtmlAttributeName(definition.view)\n        });\n        conversion.for('upcast').add(viewToModelBlockAttributeConverter(definition, dataFilter));\n        conversion.for('downcast').add(modelToViewBlockAttributeConverter(definition));\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module html-support/integrations/heading\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Enter } from 'ckeditor5/src/enter.js';\nimport DataSchema from '../dataschema.js';\n/**\n * Provides the General HTML Support integration with {@link module:heading/heading~Heading Heading} feature.\n */\nexport default class HeadingElementSupport extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [DataSchema, Enter];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'HeadingElementSupport';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        if (!editor.plugins.has('HeadingEditing')) {\n            return;\n        }\n        const options = editor.config.get('heading.options');\n        this.registerHeadingElements(editor, options);\n    }\n    /**\n     * Registers all elements supported by HeadingEditing to enable custom attributes for those elements.\n     */\n    registerHeadingElements(editor, options) {\n        const dataSchema = editor.plugins.get(DataSchema);\n        const headerModels = [];\n        for (const option of options) {\n            if ('model' in option && 'view' in option) {\n                dataSchema.registerBlockElement({\n                    view: option.view,\n                    model: option.model\n                });\n                headerModels.push(option.model);\n            }\n        }\n        dataSchema.extendBlockElement({\n            model: 'htmlHgroup',\n            modelSchema: {\n                allowChildren: headerModels\n            }\n        });\n        dataSchema.extendBlockElement({\n            model: 'htmlSummary',\n            modelSchema: {\n                allowChildren: headerModels\n            }\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module html-support/integrations/integrationutils\n */\n/**\n * Returns the first view element descendant matching the given view name.\n * Includes view element itself.\n *\n * @internal\n */\nexport function getDescendantElement(writer, containerElement, elementName) {\n    const range = writer.createRangeOn(containerElement);\n    for (const { item } of range.getWalker()) {\n        if (item.is('element', elementName)) {\n            return item;\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module html-support/integrations/image\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport DataFilter from '../datafilter.js';\nimport { setViewAttributes, updateViewAttributes } from '../utils.js';\nimport { getDescendantElement } from './integrationutils.js';\n/**\n * Provides the General HTML Support integration with the {@link module:image/image~Image Image} feature.\n */\nexport default class ImageElementSupport extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [DataFilter];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageElementSupport';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        // At least one image plugin should be loaded for the integration to work properly.\n        if (!editor.plugins.has('ImageInlineEditing') && !editor.plugins.has('ImageBlockEditing')) {\n            return;\n        }\n        const schema = editor.model.schema;\n        const conversion = editor.conversion;\n        const dataFilter = editor.plugins.get(DataFilter);\n        dataFilter.on('register:figure', () => {\n            conversion.for('upcast').add(viewToModelFigureAttributeConverter(dataFilter));\n        });\n        dataFilter.on('register:img', (evt, definition) => {\n            if (definition.model !== 'imageBlock' && definition.model !== 'imageInline') {\n                return;\n            }\n            if (schema.isRegistered('imageBlock')) {\n                schema.extend('imageBlock', {\n                    allowAttributes: [\n                        'htmlImgAttributes',\n                        // Figure and Link don't have model counterpart.\n                        // We will preserve attributes on image model element using these attribute keys.\n                        'htmlFigureAttributes',\n                        'htmlLinkAttributes'\n                    ]\n                });\n            }\n            if (schema.isRegistered('imageInline')) {\n                schema.extend('imageInline', {\n                    allowAttributes: [\n                        // `htmlA` is needed for standard GHS link integration.\n                        'htmlA',\n                        'htmlImgAttributes'\n                    ]\n                });\n            }\n            conversion.for('upcast').add(viewToModelImageAttributeConverter(dataFilter));\n            conversion.for('downcast').add(modelToViewImageAttributeConverter());\n            if (editor.plugins.has('LinkImage')) {\n                conversion.for('upcast').add(viewToModelLinkImageAttributeConverter(dataFilter, editor));\n            }\n            evt.stop();\n        });\n    }\n}\n/**\n * View-to-model conversion helper preserving allowed attributes on the {@link module:image/image~Image Image}\n * feature model element.\n *\n * @returns Returns a conversion callback.\n */\nfunction viewToModelImageAttributeConverter(dataFilter) {\n    return (dispatcher) => {\n        dispatcher.on('element:img', (evt, data, conversionApi) => {\n            if (!data.modelRange) {\n                return;\n            }\n            const viewImageElement = data.viewItem;\n            const viewAttributes = dataFilter.processViewAttributes(viewImageElement, conversionApi);\n            if (viewAttributes) {\n                conversionApi.writer.setAttribute('htmlImgAttributes', viewAttributes, data.modelRange);\n            }\n        }, { priority: 'low' });\n    };\n}\n/**\n * View-to-model conversion helper preserving allowed attributes on {@link module:image/image~Image Image}\n * feature model element from link view element.\n *\n * @returns Returns a conversion callback.\n */\nfunction viewToModelLinkImageAttributeConverter(dataFilter, editor) {\n    const imageUtils = editor.plugins.get('ImageUtils');\n    return (dispatcher) => {\n        dispatcher.on('element:a', (evt, data, conversionApi) => {\n            const viewLink = data.viewItem;\n            const viewImage = imageUtils.findViewImgElement(viewLink);\n            if (!viewImage) {\n                return;\n            }\n            const modelImage = data.modelCursor.parent;\n            if (!modelImage.is('element', 'imageBlock')) {\n                return;\n            }\n            const viewAttributes = dataFilter.processViewAttributes(viewLink, conversionApi);\n            if (viewAttributes) {\n                conversionApi.writer.setAttribute('htmlLinkAttributes', viewAttributes, modelImage);\n            }\n        }, { priority: 'low' });\n    };\n}\n/**\n * View-to-model conversion helper preserving allowed attributes on {@link module:image/image~Image Image}\n * feature model element from figure view element.\n *\n * @returns Returns a conversion callback.\n */\nfunction viewToModelFigureAttributeConverter(dataFilter) {\n    return (dispatcher) => {\n        dispatcher.on('element:figure', (evt, data, conversionApi) => {\n            const viewFigureElement = data.viewItem;\n            if (!data.modelRange || !viewFigureElement.hasClass('image')) {\n                return;\n            }\n            const viewAttributes = dataFilter.processViewAttributes(viewFigureElement, conversionApi);\n            if (viewAttributes) {\n                conversionApi.writer.setAttribute('htmlFigureAttributes', viewAttributes, data.modelRange);\n            }\n        }, { priority: 'low' });\n    };\n}\n/**\n * A model-to-view conversion helper applying attributes from the {@link module:image/image~Image Image}\n * feature.\n * @returns Returns a conversion callback.\n */\nfunction modelToViewImageAttributeConverter() {\n    return (dispatcher) => {\n        addInlineAttributeConversion('htmlImgAttributes');\n        addBlockAttributeConversion('img', 'htmlImgAttributes');\n        addBlockAttributeConversion('figure', 'htmlFigureAttributes');\n        addBlockAttributeConversion('a', 'htmlLinkAttributes');\n        function addInlineAttributeConversion(attributeName) {\n            dispatcher.on(`attribute:${attributeName}:imageInline`, (evt, data, conversionApi) => {\n                if (!conversionApi.consumable.consume(data.item, evt.name)) {\n                    return;\n                }\n                const { attributeOldValue, attributeNewValue } = data;\n                const viewElement = conversionApi.mapper.toViewElement(data.item);\n                updateViewAttributes(conversionApi.writer, attributeOldValue, attributeNewValue, viewElement);\n            }, { priority: 'low' });\n        }\n        function addBlockAttributeConversion(elementName, attributeName) {\n            dispatcher.on(`attribute:${attributeName}:imageBlock`, (evt, data, conversionApi) => {\n                if (!conversionApi.consumable.test(data.item, evt.name)) {\n                    return;\n                }\n                const { attributeOldValue, attributeNewValue } = data;\n                const containerElement = conversionApi.mapper.toViewElement(data.item);\n                const viewElement = getDescendantElement(conversionApi.writer, containerElement, elementName);\n                if (viewElement) {\n                    updateViewAttributes(conversionApi.writer, attributeOldValue, attributeNewValue, viewElement);\n                    conversionApi.consumable.consume(data.item, evt.name);\n                }\n            }, { priority: 'low' });\n            if (elementName === 'a') {\n                // To have a link element in the view, we need to attach a converter to the `linkHref` attribute as well.\n                dispatcher.on('attribute:linkHref:imageBlock', (evt, data, conversionApi) => {\n                    if (!conversionApi.consumable.consume(data.item, 'attribute:htmlLinkAttributes:imageBlock')) {\n                        return;\n                    }\n                    const containerElement = conversionApi.mapper.toViewElement(data.item);\n                    const viewElement = getDescendantElement(conversionApi.writer, containerElement, 'a');\n                    setViewAttributes(conversionApi.writer, data.item.getAttribute('htmlLinkAttributes'), viewElement);\n                }, { priority: 'low' });\n            }\n        }\n    };\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module html-support/integrations/mediaembed\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport DataFilter from '../datafilter.js';\nimport DataSchema from '../dataschema.js';\nimport { updateViewAttributes, getHtmlAttributeName } from '../utils.js';\nimport { getDescendantElement } from './integrationutils.js';\n/**\n * Provides the General HTML Support integration with {@link module:media-embed/mediaembed~MediaEmbed Media Embed} feature.\n */\nexport default class MediaEmbedElementSupport extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [DataFilter];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'MediaEmbedElementSupport';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        // Stop here if MediaEmbed plugin is not provided or the integrator wants to output markup with previews as\n        // we do not support filtering previews.\n        if (!editor.plugins.has('MediaEmbed') || editor.config.get('mediaEmbed.previewsInData')) {\n            return;\n        }\n        const schema = editor.model.schema;\n        const conversion = editor.conversion;\n        const dataFilter = this.editor.plugins.get(DataFilter);\n        const dataSchema = this.editor.plugins.get(DataSchema);\n        const mediaElementName = editor.config.get('mediaEmbed.elementName');\n        // Overwrite GHS schema definition for a given elementName.\n        dataSchema.registerBlockElement({\n            model: 'media',\n            view: mediaElementName\n        });\n        dataFilter.on('register:figure', () => {\n            conversion.for('upcast').add(viewToModelFigureAttributesConverter(dataFilter));\n        });\n        dataFilter.on(`register:${mediaElementName}`, (evt, definition) => {\n            if (definition.model !== 'media') {\n                return;\n            }\n            schema.extend('media', {\n                allowAttributes: [\n                    getHtmlAttributeName(mediaElementName),\n                    'htmlFigureAttributes'\n                ]\n            });\n            conversion.for('upcast').add(viewToModelMediaAttributesConverter(dataFilter, mediaElementName));\n            conversion.for('dataDowncast').add(modelToViewMediaAttributeConverter(mediaElementName));\n            evt.stop();\n        });\n    }\n}\nfunction viewToModelMediaAttributesConverter(dataFilter, mediaElementName) {\n    const upcastMedia = (evt, data, conversionApi) => {\n        const viewMediaElement = data.viewItem;\n        preserveElementAttributes(viewMediaElement, getHtmlAttributeName(mediaElementName));\n        function preserveElementAttributes(viewElement, attributeName) {\n            const viewAttributes = dataFilter.processViewAttributes(viewElement, conversionApi);\n            if (viewAttributes) {\n                conversionApi.writer.setAttribute(attributeName, viewAttributes, data.modelRange);\n            }\n        }\n    };\n    return (dispatcher) => {\n        dispatcher.on(`element:${mediaElementName}`, upcastMedia, { priority: 'low' });\n    };\n}\n/**\n * View-to-model conversion helper preserving allowed attributes on {@link module:media-embed/mediaembed~MediaEmbed MediaEmbed}\n * feature model element from figure view element.\n *\n * @returns Returns a conversion callback.\n */\nfunction viewToModelFigureAttributesConverter(dataFilter) {\n    return (dispatcher) => {\n        dispatcher.on('element:figure', (evt, data, conversionApi) => {\n            const viewFigureElement = data.viewItem;\n            if (!data.modelRange || !viewFigureElement.hasClass('media')) {\n                return;\n            }\n            const viewAttributes = dataFilter.processViewAttributes(viewFigureElement, conversionApi);\n            if (viewAttributes) {\n                conversionApi.writer.setAttribute('htmlFigureAttributes', viewAttributes, data.modelRange);\n            }\n        }, { priority: 'low' });\n    };\n}\nfunction modelToViewMediaAttributeConverter(mediaElementName) {\n    return (dispatcher) => {\n        addAttributeConversionDispatcherHandler(mediaElementName, getHtmlAttributeName(mediaElementName));\n        addAttributeConversionDispatcherHandler('figure', 'htmlFigureAttributes');\n        function addAttributeConversionDispatcherHandler(elementName, attributeName) {\n            dispatcher.on(`attribute:${attributeName}:media`, (evt, data, conversionApi) => {\n                if (!conversionApi.consumable.consume(data.item, evt.name)) {\n                    return;\n                }\n                const { attributeOldValue, attributeNewValue } = data;\n                const containerElement = conversionApi.mapper.toViewElement(data.item);\n                const viewElement = getDescendantElement(conversionApi.writer, containerElement, elementName);\n                updateViewAttributes(conversionApi.writer, attributeOldValue, attributeNewValue, viewElement);\n            });\n        }\n    };\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module html-support/integrations/script\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { createObjectView, modelToViewBlockAttributeConverter, viewToModelBlockAttributeConverter, viewToModelObjectConverter } from '../converters.js';\nimport DataFilter from '../datafilter.js';\n/**\n * Provides the General HTML Support for `script` elements.\n */\nexport default class ScriptElementSupport extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [DataFilter];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ScriptElementSupport';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const dataFilter = this.editor.plugins.get(DataFilter);\n        dataFilter.on('register:script', (evt, definition) => {\n            const editor = this.editor;\n            const schema = editor.model.schema;\n            const conversion = editor.conversion;\n            schema.register('htmlScript', definition.modelSchema);\n            schema.extend('htmlScript', {\n                allowAttributes: ['htmlScriptAttributes', 'htmlContent'],\n                isContent: true\n            });\n            editor.data.registerRawContentMatcher({\n                name: 'script'\n            });\n            conversion.for('upcast').elementToElement({\n                view: 'script',\n                model: viewToModelObjectConverter(definition)\n            });\n            conversion.for('upcast').add(viewToModelBlockAttributeConverter(definition, dataFilter));\n            conversion.for('downcast').elementToElement({\n                model: 'htmlScript',\n                view: (modelElement, { writer }) => {\n                    return createObjectView('script', modelElement, writer);\n                }\n            });\n            conversion.for('downcast').add(modelToViewBlockAttributeConverter(definition));\n            evt.stop();\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { updateViewAttributes } from '../utils.js';\nimport DataFilter from '../datafilter.js';\nimport { getDescendantElement } from './integrationutils.js';\nconst STYLE_ATTRIBUTES_TO_PROPAGATE = [\n    'width',\n    'max-width',\n    'min-width',\n    'height',\n    'min-height',\n    'max-height'\n];\n/**\n * Provides the General HTML Support integration with {@link module:table/table~Table Table} feature.\n */\nexport default class TableElementSupport extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [DataFilter];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TableElementSupport';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        if (!editor.plugins.has('TableEditing')) {\n            return;\n        }\n        const schema = editor.model.schema;\n        const conversion = editor.conversion;\n        const dataFilter = editor.plugins.get(DataFilter);\n        const tableUtils = editor.plugins.get('TableUtils');\n        dataFilter.on('register:figure', () => {\n            conversion.for('upcast').add(viewToModelFigureAttributeConverter(dataFilter));\n        });\n        dataFilter.on('register:table', (evt, definition) => {\n            if (definition.model !== 'table') {\n                return;\n            }\n            schema.extend('table', {\n                allowAttributes: [\n                    'htmlTableAttributes',\n                    // Figure, thead and tbody elements don't have model counterparts.\n                    // We will be preserving attributes on table element using these attribute keys.\n                    'htmlFigureAttributes', 'htmlTheadAttributes', 'htmlTbodyAttributes'\n                ]\n            });\n            conversion.for('upcast').add(viewToModelTableAttributeConverter(dataFilter));\n            conversion.for('downcast').add(modelToViewTableAttributeConverter());\n            editor.model.document.registerPostFixer(createHeadingRowsPostFixer(editor.model, tableUtils));\n            evt.stop();\n        });\n    }\n}\n/**\n * Creates a model post-fixer for thead and tbody GHS related attributes.\n */\nfunction createHeadingRowsPostFixer(model, tableUtils) {\n    return writer => {\n        const changes = model.document.differ.getChanges();\n        let wasFixed = false;\n        for (const change of changes) {\n            if (change.type != 'attribute' || change.attributeKey != 'headingRows') {\n                continue;\n            }\n            const table = change.range.start.nodeAfter;\n            const hasTHeadAttributes = table.getAttribute('htmlTheadAttributes');\n            const hasTBodyAttributes = table.getAttribute('htmlTbodyAttributes');\n            if (hasTHeadAttributes && !change.attributeNewValue) {\n                writer.removeAttribute('htmlTheadAttributes', table);\n                wasFixed = true;\n            }\n            else if (hasTBodyAttributes && change.attributeNewValue == tableUtils.getRows(table)) {\n                writer.removeAttribute('htmlTbodyAttributes', table);\n                wasFixed = true;\n            }\n        }\n        return wasFixed;\n    };\n}\n/**\n * View-to-model conversion helper preserving allowed attributes on {@link module:table/table~Table Table}\n * feature model element.\n *\n * @returns Returns a conversion callback.\n */\nfunction viewToModelTableAttributeConverter(dataFilter) {\n    return (dispatcher) => {\n        dispatcher.on('element:table', (evt, data, conversionApi) => {\n            if (!data.modelRange) {\n                return;\n            }\n            const viewTableElement = data.viewItem;\n            preserveElementAttributes(viewTableElement, 'htmlTableAttributes');\n            for (const childNode of viewTableElement.getChildren()) {\n                if (childNode.is('element', 'thead')) {\n                    preserveElementAttributes(childNode, 'htmlTheadAttributes');\n                }\n                if (childNode.is('element', 'tbody')) {\n                    preserveElementAttributes(childNode, 'htmlTbodyAttributes');\n                }\n            }\n            function preserveElementAttributes(viewElement, attributeName) {\n                const viewAttributes = dataFilter.processViewAttributes(viewElement, conversionApi);\n                if (viewAttributes) {\n                    conversionApi.writer.setAttribute(attributeName, viewAttributes, data.modelRange);\n                }\n            }\n        }, { priority: 'low' });\n    };\n}\n/**\n * View-to-model conversion helper preserving allowed attributes on {@link module:table/table~Table Table}\n * feature model element from figure view element.\n *\n * @returns Returns a conversion callback.\n */\nfunction viewToModelFigureAttributeConverter(dataFilter) {\n    return (dispatcher) => {\n        dispatcher.on('element:figure', (evt, data, conversionApi) => {\n            const viewFigureElement = data.viewItem;\n            if (!data.modelRange || !viewFigureElement.hasClass('table')) {\n                return;\n            }\n            const viewAttributes = dataFilter.processViewAttributes(viewFigureElement, conversionApi);\n            if (viewAttributes) {\n                conversionApi.writer.setAttribute('htmlFigureAttributes', viewAttributes, data.modelRange);\n            }\n        }, { priority: 'low' });\n    };\n}\n/**\n * Model-to-view conversion helper applying attributes from {@link module:table/table~Table Table}\n * feature.\n *\n * @returns Returns a conversion callback.\n */\nfunction modelToViewTableAttributeConverter() {\n    return (dispatcher) => {\n        addAttributeConversionDispatcherHandler('table', 'htmlTableAttributes');\n        addAttributeConversionDispatcherHandler('figure', 'htmlFigureAttributes');\n        addAttributeConversionDispatcherHandler('thead', 'htmlTheadAttributes');\n        addAttributeConversionDispatcherHandler('tbody', 'htmlTbodyAttributes');\n        function addAttributeConversionDispatcherHandler(elementName, attributeName) {\n            dispatcher.on(`attribute:${attributeName}:table`, (evt, data, conversionApi) => {\n                if (!conversionApi.consumable.test(data.item, evt.name)) {\n                    return;\n                }\n                const containerElement = conversionApi.mapper.toViewElement(data.item);\n                const viewElement = getDescendantElement(conversionApi.writer, containerElement, elementName);\n                if (!viewElement) {\n                    return;\n                }\n                conversionApi.consumable.consume(data.item, evt.name);\n                // Downcast selected styles to a figure element instead of a table element.\n                if (attributeName === 'htmlTableAttributes' && containerElement !== viewElement) {\n                    const oldAttributes = splitAttributesForFigureAndTable(data.attributeOldValue);\n                    const newAttributes = splitAttributesForFigureAndTable(data.attributeNewValue);\n                    updateViewAttributes(conversionApi.writer, oldAttributes.tableAttributes, newAttributes.tableAttributes, viewElement);\n                    updateViewAttributes(conversionApi.writer, oldAttributes.figureAttributes, newAttributes.figureAttributes, containerElement);\n                }\n                else {\n                    updateViewAttributes(conversionApi.writer, data.attributeOldValue, data.attributeNewValue, viewElement);\n                }\n            });\n        }\n    };\n}\n/**\n * Splits styles based on the `STYLE_ATTRIBUTES_TO_PROPAGATE` pattern that should be moved to the parent element\n * and those that should remain on element.\n */\nfunction splitAttributesForFigureAndTable(data) {\n    const figureAttributes = {};\n    const tableAttributes = { ...data };\n    if (!data || !('styles' in data)) {\n        return { figureAttributes, tableAttributes };\n    }\n    tableAttributes.styles = {};\n    for (const [key, value] of Object.entries(data.styles)) {\n        if (STYLE_ATTRIBUTES_TO_PROPAGATE.includes(key)) {\n            figureAttributes.styles = { ...figureAttributes.styles, [key]: value };\n        }\n        else {\n            tableAttributes.styles = { ...tableAttributes.styles, [key]: value };\n        }\n    }\n    return { figureAttributes, tableAttributes };\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module html-support/integrations/style\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { createObjectView, modelToViewBlockAttributeConverter, viewToModelBlockAttributeConverter, viewToModelObjectConverter } from '../converters.js';\nimport DataFilter from '../datafilter.js';\n/**\n * Provides the General HTML Support for `style` elements.\n */\nexport default class StyleElementSupport extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [DataFilter];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'StyleElementSupport';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const dataFilter = this.editor.plugins.get(DataFilter);\n        dataFilter.on('register:style', (evt, definition) => {\n            const editor = this.editor;\n            const schema = editor.model.schema;\n            const conversion = editor.conversion;\n            schema.register('htmlStyle', definition.modelSchema);\n            schema.extend('htmlStyle', {\n                allowAttributes: ['htmlStyleAttributes', 'htmlContent'],\n                isContent: true\n            });\n            editor.data.registerRawContentMatcher({\n                name: 'style'\n            });\n            conversion.for('upcast').elementToElement({\n                view: 'style',\n                model: viewToModelObjectConverter(definition)\n            });\n            conversion.for('upcast').add(viewToModelBlockAttributeConverter(definition, dataFilter));\n            conversion.for('downcast').elementToElement({\n                model: 'htmlStyle',\n                view: (modelElement, { writer }) => {\n                    return createObjectView('style', modelElement, writer);\n                }\n            });\n            conversion.for('downcast').add(modelToViewBlockAttributeConverter(definition));\n            evt.stop();\n        });\n    }\n}\n","function isPlainObject(value) {\n    if (!value || typeof value !== 'object') {\n        return false;\n    }\n    const proto = Object.getPrototypeOf(value);\n    const hasObjectPrototype = proto === null ||\n        proto === Object.prototype ||\n        Object.getPrototypeOf(proto) === null;\n    if (!hasObjectPrototype) {\n        return false;\n    }\n    return Object.prototype.toString.call(value) === '[object Object]';\n}\n\nexport { isPlainObject };\n","import { isPlainObject } from './isPlainObject.mjs';\nimport { getSymbols } from '../compat/_internal/getSymbols.mjs';\nimport { getTag } from '../compat/_internal/getTag.mjs';\nimport { functionTag, regexpTag, symbolTag, dateTag, booleanTag, numberTag, stringTag, objectTag, errorTag, dataViewTag, arrayBufferTag, float64ArrayTag, float32ArrayTag, bigInt64ArrayTag, int32ArrayTag, int16ArrayTag, int8ArrayTag, bigUint64ArrayTag, uint32ArrayTag, uint16ArrayTag, uint8ClampedArrayTag, uint8ArrayTag, arrayTag, setTag, mapTag, argumentsTag } from '../compat/_internal/tags.mjs';\nimport { eq } from '../compat/util/eq.mjs';\n\nfunction isEqualWith(a, b, areValuesEqual) {\n    return isEqualWithImpl(a, b, undefined, undefined, undefined, undefined, areValuesEqual);\n}\nfunction isEqualWithImpl(a, b, property, aParent, bParent, stack, areValuesEqual) {\n    const result = areValuesEqual(a, b, property, aParent, bParent, stack);\n    if (result !== undefined) {\n        return result;\n    }\n    if (typeof a === typeof b) {\n        switch (typeof a) {\n            case 'bigint':\n            case 'string':\n            case 'boolean':\n            case 'symbol':\n            case 'undefined': {\n                return a === b;\n            }\n            case 'number': {\n                return a === b || Object.is(a, b);\n            }\n            case 'function': {\n                return a === b;\n            }\n            case 'object': {\n                return areObjectsEqual(a, b, stack, areValuesEqual);\n            }\n        }\n    }\n    return areObjectsEqual(a, b, stack, areValuesEqual);\n}\nfunction areObjectsEqual(a, b, stack, areValuesEqual) {\n    if (Object.is(a, b)) {\n        return true;\n    }\n    let aTag = getTag(a);\n    let bTag = getTag(b);\n    if (aTag === argumentsTag) {\n        aTag = objectTag;\n    }\n    if (bTag === argumentsTag) {\n        bTag = objectTag;\n    }\n    if (aTag !== bTag) {\n        return false;\n    }\n    switch (aTag) {\n        case stringTag:\n            return a.toString() === b.toString();\n        case numberTag: {\n            const x = a.valueOf();\n            const y = b.valueOf();\n            return eq(x, y);\n        }\n        case booleanTag:\n        case dateTag:\n        case symbolTag:\n            return Object.is(a.valueOf(), b.valueOf());\n        case regexpTag: {\n            return a.source === b.source && a.flags === b.flags;\n        }\n        case functionTag: {\n            return a === b;\n        }\n    }\n    stack = stack ?? new Map();\n    const aStack = stack.get(a);\n    const bStack = stack.get(b);\n    if (aStack != null && bStack != null) {\n        return aStack === b;\n    }\n    stack.set(a, b);\n    stack.set(b, a);\n    try {\n        switch (aTag) {\n            case mapTag: {\n                if (a.size !== b.size) {\n                    return false;\n                }\n                for (const [key, value] of a.entries()) {\n                    if (!b.has(key) || !isEqualWithImpl(value, b.get(key), key, a, b, stack, areValuesEqual)) {\n                        return false;\n                    }\n                }\n                return true;\n            }\n            case setTag: {\n                if (a.size !== b.size) {\n                    return false;\n                }\n                const aValues = Array.from(a.values());\n                const bValues = Array.from(b.values());\n                for (let i = 0; i < aValues.length; i++) {\n                    const aValue = aValues[i];\n                    const index = bValues.findIndex(bValue => {\n                        return isEqualWithImpl(aValue, bValue, undefined, a, b, stack, areValuesEqual);\n                    });\n                    if (index === -1) {\n                        return false;\n                    }\n                    bValues.splice(index, 1);\n                }\n                return true;\n            }\n            case arrayTag:\n            case uint8ArrayTag:\n            case uint8ClampedArrayTag:\n            case uint16ArrayTag:\n            case uint32ArrayTag:\n            case bigUint64ArrayTag:\n            case int8ArrayTag:\n            case int16ArrayTag:\n            case int32ArrayTag:\n            case bigInt64ArrayTag:\n            case float32ArrayTag:\n            case float64ArrayTag: {\n                if (typeof Buffer !== 'undefined' && Buffer.isBuffer(a) !== Buffer.isBuffer(b)) {\n                    return false;\n                }\n                if (a.length !== b.length) {\n                    return false;\n                }\n                for (let i = 0; i < a.length; i++) {\n                    if (!isEqualWithImpl(a[i], b[i], i, a, b, stack, areValuesEqual)) {\n                        return false;\n                    }\n                }\n                return true;\n            }\n            case arrayBufferTag: {\n                if (a.byteLength !== b.byteLength) {\n                    return false;\n                }\n                return areObjectsEqual(new Uint8Array(a), new Uint8Array(b), stack, areValuesEqual);\n            }\n            case dataViewTag: {\n                if (a.byteLength !== b.byteLength || a.byteOffset !== b.byteOffset) {\n                    return false;\n                }\n                return areObjectsEqual(new Uint8Array(a), new Uint8Array(b), stack, areValuesEqual);\n            }\n            case errorTag: {\n                return a.name === b.name && a.message === b.message;\n            }\n            case objectTag: {\n                const areEqualInstances = areObjectsEqual(a.constructor, b.constructor, stack, areValuesEqual) ||\n                    (isPlainObject(a) && isPlainObject(b));\n                if (!areEqualInstances) {\n                    return false;\n                }\n                const aKeys = [...Object.keys(a), ...getSymbols(a)];\n                const bKeys = [...Object.keys(b), ...getSymbols(b)];\n                if (aKeys.length !== bKeys.length) {\n                    return false;\n                }\n                for (let i = 0; i < aKeys.length; i++) {\n                    const propKey = aKeys[i];\n                    const aProp = a[propKey];\n                    if (!Object.hasOwn(b, propKey)) {\n                        return false;\n                    }\n                    const bProp = b[propKey];\n                    if (!isEqualWithImpl(aProp, bProp, propKey, a, b, stack, areValuesEqual)) {\n                        return false;\n                    }\n                }\n                return true;\n            }\n            default: {\n                return false;\n            }\n        }\n    }\n    finally {\n        stack.delete(a);\n        stack.delete(b);\n    }\n}\n\nexport { isEqualWith };\n","function eq(value, other) {\n    return value === other || (Number.isNaN(value) && Number.isNaN(other));\n}\n\nexport { eq };\n","function noop() { }\n\nexport { noop };\n","import { isEqualWith } from './isEqualWith.mjs';\nimport { noop } from '../function/noop.mjs';\n\nfunction isEqual(a, b) {\n    return isEqualWith(a, b, noop);\n}\n\nexport { isEqual };\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module html-support/integrations/list\n */\nimport { isEqual } from 'es-toolkit/compat';\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { getHtmlAttributeName, setViewAttributes } from '../utils.js';\nimport DataFilter from '../datafilter.js';\n/**\n * Provides the General HTML Support integration with the {@link module:list/list~List List} feature.\n */\nexport default class ListElementSupport extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [DataFilter];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ListElementSupport';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        if (!editor.plugins.has('ListEditing')) {\n            return;\n        }\n        const schema = editor.model.schema;\n        const conversion = editor.conversion;\n        const dataFilter = editor.plugins.get(DataFilter);\n        const listEditing = editor.plugins.get('ListEditing');\n        const listUtils = editor.plugins.get('ListUtils');\n        const viewElements = ['ul', 'ol', 'li'];\n        // Register downcast strategy.\n        // Note that this must be done before document list editing registers conversion in afterInit.\n        listEditing.registerDowncastStrategy({\n            scope: 'item',\n            attributeName: 'htmlLiAttributes',\n            setAttributeOnDowncast: setViewAttributes\n        });\n        listEditing.registerDowncastStrategy({\n            scope: 'list',\n            attributeName: 'htmlUlAttributes',\n            setAttributeOnDowncast: setViewAttributes\n        });\n        listEditing.registerDowncastStrategy({\n            scope: 'list',\n            attributeName: 'htmlOlAttributes',\n            setAttributeOnDowncast: setViewAttributes\n        });\n        dataFilter.on('register', (evt, definition) => {\n            if (!viewElements.includes(definition.view)) {\n                return;\n            }\n            evt.stop();\n            // Do not register same converters twice.\n            if (schema.checkAttribute('$block', 'htmlLiAttributes')) {\n                return;\n            }\n            const allowAttributes = viewElements.map(element => getHtmlAttributeName(element));\n            schema.extend('$listItem', { allowAttributes });\n            conversion.for('upcast').add(dispatcher => {\n                dispatcher.on('element:ul', viewToModelListAttributeConverter('htmlUlAttributes', dataFilter), { priority: 'low' });\n                dispatcher.on('element:ol', viewToModelListAttributeConverter('htmlOlAttributes', dataFilter), { priority: 'low' });\n                dispatcher.on('element:li', viewToModelListAttributeConverter('htmlLiAttributes', dataFilter), { priority: 'low' });\n            });\n        });\n        // Make sure that all items in a single list (items at the same level & listType) have the same properties.\n        listEditing.on('postFixer', (evt, { listNodes, writer }) => {\n            for (const { node, previousNodeInList } of listNodes) {\n                // This is a first item of a nested list.\n                if (!previousNodeInList) {\n                    continue;\n                }\n                if (previousNodeInList.getAttribute('listType') == node.getAttribute('listType')) {\n                    const attribute = getAttributeFromListType(previousNodeInList.getAttribute('listType'));\n                    const value = previousNodeInList.getAttribute(attribute);\n                    if (!isEqual(node.getAttribute(attribute), value) &&\n                        writer.model.schema.checkAttribute(node, attribute)) {\n                        writer.setAttribute(attribute, value, node);\n                        evt.return = true;\n                    }\n                }\n                if (previousNodeInList.getAttribute('listItemId') == node.getAttribute('listItemId')) {\n                    const value = previousNodeInList.getAttribute('htmlLiAttributes');\n                    if (!isEqual(node.getAttribute('htmlLiAttributes'), value) &&\n                        writer.model.schema.checkAttribute(node, 'htmlLiAttributes')) {\n                        writer.setAttribute('htmlLiAttributes', value, node);\n                        evt.return = true;\n                    }\n                }\n            }\n        });\n        // Remove `ol` attributes from `ul` elements and vice versa.\n        listEditing.on('postFixer', (evt, { listNodes, writer }) => {\n            for (const { node } of listNodes) {\n                const listType = node.getAttribute('listType');\n                if (!listUtils.isNumberedListType(listType) && node.getAttribute('htmlOlAttributes')) {\n                    writer.removeAttribute('htmlOlAttributes', node);\n                    evt.return = true;\n                }\n                if (listUtils.isNumberedListType(listType) && node.getAttribute('htmlUlAttributes')) {\n                    writer.removeAttribute('htmlUlAttributes', node);\n                    evt.return = true;\n                }\n            }\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    afterInit() {\n        const editor = this.editor;\n        if (!editor.commands.get('indentList')) {\n            return;\n        }\n        // Reset list attributes after indenting list items.\n        const indentList = editor.commands.get('indentList');\n        this.listenTo(indentList, 'afterExecute', (evt, changedBlocks) => {\n            editor.model.change(writer => {\n                for (const node of changedBlocks) {\n                    const attribute = getAttributeFromListType(node.getAttribute('listType'));\n                    if (!editor.model.schema.checkAttribute(node, attribute)) {\n                        continue;\n                    }\n                    // Just reset the attribute.\n                    // If there is a previous indented list that this node should be merged into,\n                    // the postfixer will unify all the attributes of both sub-lists.\n                    writer.setAttribute(attribute, {}, node);\n                }\n            });\n        });\n    }\n}\n/**\n * View-to-model conversion helper preserving allowed attributes on {@link TODO}\n * feature model element.\n *\n * @returns Returns a conversion callback.\n */\nfunction viewToModelListAttributeConverter(attributeName, dataFilter) {\n    return (evt, data, conversionApi) => {\n        const viewElement = data.viewItem;\n        if (!data.modelRange) {\n            Object.assign(data, conversionApi.convertChildren(data.viewItem, data.modelCursor));\n        }\n        const viewAttributes = dataFilter.processViewAttributes(viewElement, conversionApi);\n        for (const item of data.modelRange.getItems({ shallow: true })) {\n            // Apply only to list item blocks.\n            if (!item.hasAttribute('listItemId')) {\n                continue;\n            }\n            // Set list attributes only on same level items, those nested deeper are already handled\n            // by the recursive conversion.\n            if (item.hasAttribute('htmlUlAttributes') || item.hasAttribute('htmlOlAttributes')) {\n                continue;\n            }\n            if (conversionApi.writer.model.schema.checkAttribute(item, attributeName)) {\n                conversionApi.writer.setAttribute(attributeName, viewAttributes || {}, item);\n            }\n        }\n    };\n}\n/**\n * Returns HTML attribute name based on provided list type.\n */\nfunction getAttributeFromListType(listType) {\n    return listType === 'numbered' || listType == 'customNumbered' ?\n        'htmlOlAttributes' :\n        'htmlUlAttributes';\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module html-support/integrations/horizontalline\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport DataFilter from '../datafilter.js';\nimport { updateViewAttributes } from '../utils.js';\nimport { getDescendantElement } from './integrationutils.js';\nimport { viewToModelBlockAttributeConverter } from '../converters.js';\n/**\n * Provides the General HTML Support integration with the {@link module:horizontal-line/horizontalline~HorizontalLine} feature.\n */\nexport default class HorizontalLineElementSupport extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [DataFilter];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'HorizontalLineElementSupport';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        if (!editor.plugins.has('HorizontalLineEditing')) {\n            return;\n        }\n        const schema = editor.model.schema;\n        const conversion = editor.conversion;\n        const dataFilter = editor.plugins.get(DataFilter);\n        dataFilter.on('register:hr', (evt, definition) => {\n            if (definition.model !== 'horizontalLine') {\n                return;\n            }\n            schema.extend('horizontalLine', {\n                allowAttributes: ['htmlHrAttributes']\n            });\n            conversion.for('upcast').add(viewToModelBlockAttributeConverter(definition, dataFilter));\n            conversion.for('downcast').add(modelToViewHorizontalLineAttributeConverter());\n            evt.stop();\n        });\n    }\n}\n/**\n * A model-to-view conversion helper applying attributes from the\n * {@link module:horizontal-line/horizontalline~HorizontalLine HorizontalLine} feature.\n *\n * @returns Returns a conversion callback.\n */\nfunction modelToViewHorizontalLineAttributeConverter() {\n    return (dispatcher) => {\n        dispatcher.on('attribute:htmlHrAttributes:horizontalLine', (evt, data, conversionApi) => {\n            if (!conversionApi.consumable.test(data.item, evt.name)) {\n                return;\n            }\n            const { attributeOldValue, attributeNewValue } = data;\n            const containerElement = conversionApi.mapper.toViewElement(data.item);\n            const viewElement = getDescendantElement(conversionApi.writer, containerElement, 'hr');\n            if (viewElement) {\n                updateViewAttributes(conversionApi.writer, attributeOldValue, attributeNewValue, viewElement);\n                conversionApi.consumable.consume(data.item, evt.name);\n            }\n        }, { priority: 'low' });\n    };\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module html-support/integrations/customelement\n */\n/* globals document */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { UpcastWriter } from 'ckeditor5/src/engine.js';\nimport DataSchema from '../dataschema.js';\nimport DataFilter from '../datafilter.js';\nimport { setViewAttributes } from '../utils.js';\n/**\n * Provides the General HTML Support for custom elements (not registered in the {@link module:html-support/dataschema~DataSchema}).\n */\nexport default class CustomElementSupport extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [DataFilter, DataSchema];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'CustomElementSupport';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const dataFilter = this.editor.plugins.get(DataFilter);\n        const dataSchema = this.editor.plugins.get(DataSchema);\n        dataFilter.on('register:$customElement', (evt, definition) => {\n            evt.stop();\n            const editor = this.editor;\n            const schema = editor.model.schema;\n            const conversion = editor.conversion;\n            const unsafeElements = editor.editing.view.domConverter.unsafeElements;\n            const preLikeElements = editor.data.htmlProcessor.domConverter.preElements;\n            schema.register(definition.model, definition.modelSchema);\n            schema.extend(definition.model, {\n                allowAttributes: ['htmlElementName', 'htmlCustomElementAttributes', 'htmlContent'],\n                isContent: true\n            });\n            // For the `<template>` element we use only raw-content because DOM API exposes its content\n            // only as a document fragment in the `content` property (or innerHTML).\n            editor.data.htmlProcessor.domConverter.registerRawContentMatcher({ name: 'template' });\n            // Being executed on the low priority, it will catch all elements that were not caught by other converters.\n            conversion.for('upcast').elementToElement({\n                view: /.*/,\n                model: (viewElement, conversionApi) => {\n                    // Do not try to convert $comment fake element.\n                    if (viewElement.name == '$comment') {\n                        return null;\n                    }\n                    if (!isValidElementName(viewElement.name)) {\n                        return null;\n                    }\n                    // Allow for fallback only if this element is not defined in data schema to make sure\n                    // that this will handle only custom elements not registered in the data schema.\n                    if (dataSchema.getDefinitionsForView(viewElement.name).size) {\n                        return null;\n                    }\n                    // Make sure that this element will not render in the editing view.\n                    if (!unsafeElements.includes(viewElement.name)) {\n                        unsafeElements.push(viewElement.name);\n                    }\n                    // Make sure that whitespaces will not be trimmed or replaced by nbsps while stringify content.\n                    if (!preLikeElements.includes(viewElement.name)) {\n                        preLikeElements.push(viewElement.name);\n                    }\n                    const modelElement = conversionApi.writer.createElement(definition.model, {\n                        htmlElementName: viewElement.name\n                    });\n                    const htmlAttributes = dataFilter.processViewAttributes(viewElement, conversionApi);\n                    if (htmlAttributes) {\n                        conversionApi.writer.setAttribute('htmlCustomElementAttributes', htmlAttributes, modelElement);\n                    }\n                    let htmlContent;\n                    // For the `<template>` element we use only raw-content because DOM API exposes its content\n                    // only as a document fragment in the `content` property.\n                    if (viewElement.is('element', 'template') && viewElement.getCustomProperty('$rawContent')) {\n                        htmlContent = viewElement.getCustomProperty('$rawContent');\n                    }\n                    else {\n                        // Store the whole element in the attribute so that DomConverter will be able to use the pre like element context.\n                        const viewWriter = new UpcastWriter(viewElement.document);\n                        const documentFragment = viewWriter.createDocumentFragment(viewElement);\n                        const domFragment = editor.data.htmlProcessor.domConverter.viewToDom(documentFragment);\n                        const domElement = domFragment.firstChild;\n                        while (domElement.firstChild) {\n                            domFragment.appendChild(domElement.firstChild);\n                        }\n                        domElement.remove();\n                        htmlContent = editor.data.htmlProcessor.htmlWriter.getHtml(domFragment);\n                    }\n                    conversionApi.writer.setAttribute('htmlContent', htmlContent, modelElement);\n                    // Consume the content of the element.\n                    for (const { item } of editor.editing.view.createRangeIn(viewElement)) {\n                        conversionApi.consumable.consume(item, { name: true });\n                    }\n                    return modelElement;\n                },\n                converterPriority: 'low'\n            });\n            // Because this element is unsafe (DomConverter#unsafeElements), it will render as a transparent <span> but it must\n            // be rendered anyway for the mapping between the model and the view to exist.\n            conversion.for('editingDowncast').elementToElement({\n                model: {\n                    name: definition.model,\n                    attributes: ['htmlElementName', 'htmlCustomElementAttributes', 'htmlContent']\n                },\n                view: (modelElement, { writer }) => {\n                    const viewName = modelElement.getAttribute('htmlElementName');\n                    const viewElement = writer.createRawElement(viewName);\n                    if (modelElement.hasAttribute('htmlCustomElementAttributes')) {\n                        setViewAttributes(writer, modelElement.getAttribute('htmlCustomElementAttributes'), viewElement);\n                    }\n                    return viewElement;\n                }\n            });\n            conversion.for('dataDowncast').elementToElement({\n                model: {\n                    name: definition.model,\n                    attributes: ['htmlElementName', 'htmlCustomElementAttributes', 'htmlContent']\n                },\n                view: (modelElement, { writer }) => {\n                    const viewName = modelElement.getAttribute('htmlElementName');\n                    const htmlContent = modelElement.getAttribute('htmlContent');\n                    const viewElement = writer.createRawElement(viewName, null, (domElement, domConverter) => {\n                        domConverter.setContentOf(domElement, htmlContent);\n                    });\n                    if (modelElement.hasAttribute('htmlCustomElementAttributes')) {\n                        setViewAttributes(writer, modelElement.getAttribute('htmlCustomElementAttributes'), viewElement);\n                    }\n                    return viewElement;\n                }\n            });\n        });\n    }\n}\n/**\n * Returns true if name is valid for a DOM element name.\n */\nfunction isValidElementName(name) {\n    try {\n        document.createElement(name);\n    }\n    catch (error) {\n        return false;\n    }\n    return true;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module html-support/generalhtmlsupport\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { toArray } from 'ckeditor5/src/utils.js';\nimport DataFilter from './datafilter.js';\nimport CodeBlockElementSupport from './integrations/codeblock.js';\nimport DualContentModelElementSupport from './integrations/dualcontent.js';\nimport HeadingElementSupport from './integrations/heading.js';\nimport ImageElementSupport from './integrations/image.js';\nimport MediaEmbedElementSupport from './integrations/mediaembed.js';\nimport ScriptElementSupport from './integrations/script.js';\nimport TableElementSupport from './integrations/table.js';\nimport StyleElementSupport from './integrations/style.js';\nimport ListElementSupport from './integrations/list.js';\nimport HorizontalLineElementSupport from './integrations/horizontalline.js';\nimport CustomElementSupport from './integrations/customelement.js';\nimport { getHtmlAttributeName, modifyGhsAttribute } from './utils.js';\n/**\n * The General HTML Support feature.\n *\n * This is a \"glue\" plugin which initializes the {@link module:html-support/datafilter~DataFilter data filter} configuration\n * and features integration with the General HTML Support.\n */\nexport default class GeneralHtmlSupport extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'GeneralHtmlSupport';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [\n            DataFilter,\n            CodeBlockElementSupport,\n            DualContentModelElementSupport,\n            HeadingElementSupport,\n            ImageElementSupport,\n            MediaEmbedElementSupport,\n            ScriptElementSupport,\n            TableElementSupport,\n            StyleElementSupport,\n            ListElementSupport,\n            HorizontalLineElementSupport,\n            CustomElementSupport\n        ];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const dataFilter = editor.plugins.get(DataFilter);\n        // Load the allowed empty inline elements' configuration.\n        // Note that this modifies DataSchema so must be loaded before registering filtering rules.\n        dataFilter.loadAllowedEmptyElementsConfig(editor.config.get('htmlSupport.allowEmpty') || []);\n        // Load the filtering configuration.\n        dataFilter.loadAllowedConfig(editor.config.get('htmlSupport.allow') || []);\n        dataFilter.loadDisallowedConfig(editor.config.get('htmlSupport.disallow') || []);\n    }\n    /**\n     * Returns a GHS model attribute name related to a given view element name.\n     *\n     * @internal\n     * @param viewElementName A view element name.\n     */\n    getGhsAttributeNameForElement(viewElementName) {\n        const dataSchema = this.editor.plugins.get('DataSchema');\n        const definitions = Array.from(dataSchema.getDefinitionsForView(viewElementName, false));\n        const inlineDefinition = definitions.find(definition => (definition.isInline && !definitions[0].isObject));\n        if (inlineDefinition) {\n            return inlineDefinition.model;\n        }\n        return getHtmlAttributeName(viewElementName);\n    }\n    /**\n     * Updates GHS model attribute for a specified view element name, so it includes the given class name.\n     *\n     * @internal\n     * @param viewElementName A view element name.\n     * @param className The css class to add.\n     * @param selectable The selection or element to update.\n     */\n    addModelHtmlClass(viewElementName, className, selectable) {\n        const model = this.editor.model;\n        const ghsAttributeName = this.getGhsAttributeNameForElement(viewElementName);\n        model.change(writer => {\n            for (const item of getItemsToUpdateGhsAttribute(model, selectable, ghsAttributeName)) {\n                modifyGhsAttribute(writer, item, ghsAttributeName, 'classes', classes => {\n                    for (const value of toArray(className)) {\n                        classes.add(value);\n                    }\n                });\n            }\n        });\n    }\n    /**\n     * Updates GHS model attribute for a specified view element name, so it does not include the given class name.\n     *\n     * @internal\n     * @param viewElementName A view element name.\n     * @param className The css class to remove.\n     * @param selectable The selection or element to update.\n     */\n    removeModelHtmlClass(viewElementName, className, selectable) {\n        const model = this.editor.model;\n        const ghsAttributeName = this.getGhsAttributeNameForElement(viewElementName);\n        model.change(writer => {\n            for (const item of getItemsToUpdateGhsAttribute(model, selectable, ghsAttributeName)) {\n                modifyGhsAttribute(writer, item, ghsAttributeName, 'classes', classes => {\n                    for (const value of toArray(className)) {\n                        classes.delete(value);\n                    }\n                });\n            }\n        });\n    }\n    /**\n     * Updates GHS model attribute for a specified view element name, so it includes the given attribute.\n     *\n     * @param viewElementName A view element name.\n     * @param attributes The object with attributes to set.\n     * @param selectable The selection or element to update.\n     */\n    setModelHtmlAttributes(viewElementName, attributes, selectable) {\n        const model = this.editor.model;\n        const ghsAttributeName = this.getGhsAttributeNameForElement(viewElementName);\n        model.change(writer => {\n            for (const item of getItemsToUpdateGhsAttribute(model, selectable, ghsAttributeName)) {\n                modifyGhsAttribute(writer, item, ghsAttributeName, 'attributes', attributesMap => {\n                    for (const [key, value] of Object.entries(attributes)) {\n                        attributesMap.set(key, value);\n                    }\n                });\n            }\n        });\n    }\n    /**\n     * Updates GHS model attribute for a specified view element name, so it does not include the given attribute.\n     *\n     * @param viewElementName A view element name.\n     * @param attributeName The attribute name (or names) to remove.\n     * @param selectable The selection or element to update.\n     */\n    removeModelHtmlAttributes(viewElementName, attributeName, selectable) {\n        const model = this.editor.model;\n        const ghsAttributeName = this.getGhsAttributeNameForElement(viewElementName);\n        model.change(writer => {\n            for (const item of getItemsToUpdateGhsAttribute(model, selectable, ghsAttributeName)) {\n                modifyGhsAttribute(writer, item, ghsAttributeName, 'attributes', attributesMap => {\n                    for (const key of toArray(attributeName)) {\n                        attributesMap.delete(key);\n                    }\n                });\n            }\n        });\n    }\n    /**\n     * Updates GHS model attribute for a specified view element name, so it includes a given style.\n     *\n     * @param viewElementName A view element name.\n     * @param styles The object with styles to set.\n     * @param selectable The selection or element to update.\n     */\n    setModelHtmlStyles(viewElementName, styles, selectable) {\n        const model = this.editor.model;\n        const ghsAttributeName = this.getGhsAttributeNameForElement(viewElementName);\n        model.change(writer => {\n            for (const item of getItemsToUpdateGhsAttribute(model, selectable, ghsAttributeName)) {\n                modifyGhsAttribute(writer, item, ghsAttributeName, 'styles', stylesMap => {\n                    for (const [key, value] of Object.entries(styles)) {\n                        stylesMap.set(key, value);\n                    }\n                });\n            }\n        });\n    }\n    /**\n     * Updates GHS model attribute for a specified view element name, so it does not include a given style.\n     *\n     * @param viewElementName A view element name.\n     * @param properties The style (or styles list) to remove.\n     * @param selectable The selection or element to update.\n     */\n    removeModelHtmlStyles(viewElementName, properties, selectable) {\n        const model = this.editor.model;\n        const ghsAttributeName = this.getGhsAttributeNameForElement(viewElementName);\n        model.change(writer => {\n            for (const item of getItemsToUpdateGhsAttribute(model, selectable, ghsAttributeName)) {\n                modifyGhsAttribute(writer, item, ghsAttributeName, 'styles', stylesMap => {\n                    for (const key of toArray(properties)) {\n                        stylesMap.delete(key);\n                    }\n                });\n            }\n        });\n    }\n}\n/**\n * Returns an iterator over an items in the selectable that accept given GHS attribute.\n */\nfunction* getItemsToUpdateGhsAttribute(model, selectable, ghsAttributeName) {\n    if (!selectable) {\n        return;\n    }\n    if (!(Symbol.iterator in selectable) && selectable.is('documentSelection') && selectable.isCollapsed) {\n        if (model.schema.checkAttributeInSelection(selectable, ghsAttributeName)) {\n            yield selectable;\n        }\n    }\n    else {\n        for (const range of getValidRangesForSelectable(model, selectable, ghsAttributeName)) {\n            yield* range.getItems({ shallow: true });\n        }\n    }\n}\n/**\n * Translates a given selectable to an iterable of ranges.\n */\nfunction getValidRangesForSelectable(model, selectable, ghsAttributeName) {\n    if (!(Symbol.iterator in selectable) &&\n        (selectable.is('node') ||\n            selectable.is('$text') ||\n            selectable.is('$textProxy'))) {\n        if (model.schema.checkAttribute(selectable, ghsAttributeName)) {\n            return [model.createRangeOn(selectable)];\n        }\n        else {\n            return [];\n        }\n    }\n    else {\n        return model.schema.getValidRanges(model.createSelection(selectable).getRanges(), ghsAttributeName);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { uid } from 'ckeditor5/src/utils.js';\n/**\n * The HTML comment feature. It preserves the HTML comments (`<!-- -->`) in the editor data.\n *\n * For a detailed overview, check the {@glink features/html/html-comments HTML comment feature documentation}.\n */\nexport default class HtmlComment extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'HtmlComment';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const loadedCommentsContent = new Map();\n        editor.data.processor.skipComments = false;\n        // Allow storing comment's content as the $root attribute with the name `$comment:<unique id>`.\n        editor.model.schema.addAttributeCheck((context, attributeName) => {\n            if (context.endsWith('$root') && attributeName.startsWith('$comment')) {\n                return true;\n            }\n        });\n        // Convert the `$comment` view element to `$comment:<unique id>` marker and store its content (the comment itself) as a $root\n        // attribute. The comment content is needed in the `dataDowncast` pipeline to re-create the comment node.\n        editor.conversion.for('upcast').elementToMarker({\n            view: '$comment',\n            model: viewElement => {\n                const markerUid = uid();\n                const markerName = `$comment:${markerUid}`;\n                const commentContent = viewElement.getCustomProperty('$rawContent');\n                loadedCommentsContent.set(markerName, commentContent);\n                return markerName;\n            }\n        });\n        // Convert the `$comment` marker to `$comment` UI element with `$rawContent` custom property containing the comment content.\n        editor.conversion.for('dataDowncast').markerToElement({\n            model: '$comment',\n            view: (modelElement, { writer }) => {\n                let root = undefined;\n                for (const rootName of this.editor.model.document.getRootNames()) {\n                    root = this.editor.model.document.getRoot(rootName);\n                    if (root.hasAttribute(modelElement.markerName)) {\n                        break;\n                    }\n                }\n                const markerName = modelElement.markerName;\n                const commentContent = root.getAttribute(markerName);\n                const comment = writer.createUIElement('$comment');\n                writer.setCustomProperty('$rawContent', commentContent, comment);\n                return comment;\n            }\n        });\n        // Remove comments' markers and their corresponding $root attributes, which are moved to the graveyard.\n        editor.model.document.registerPostFixer(writer => {\n            let changed = false;\n            const markers = editor.model.document.differ.getChangedMarkers().filter(marker => marker.name.startsWith('$comment:'));\n            for (const marker of markers) {\n                const { oldRange, newRange } = marker.data;\n                if (oldRange && newRange && oldRange.root == newRange.root) {\n                    // The marker was moved in the same root. Don't do anything.\n                    continue;\n                }\n                if (oldRange) {\n                    // The comment marker was moved from one root to another (most probably to the graveyard).\n                    // Remove the related attribute from the previous root.\n                    const oldRoot = oldRange.root;\n                    if (oldRoot.hasAttribute(marker.name)) {\n                        writer.removeAttribute(marker.name, oldRoot);\n                        changed = true;\n                    }\n                }\n                if (newRange) {\n                    const newRoot = newRange.root;\n                    if (newRoot.rootName == '$graveyard') {\n                        // Comment marker was moved to the graveyard -- remove it entirely.\n                        writer.removeMarker(marker.name);\n                        changed = true;\n                    }\n                    else if (!newRoot.hasAttribute(marker.name)) {\n                        // Comment marker was just added or was moved to another root - updated roots attributes.\n                        //\n                        // Added fallback to `''` for the comment content in case if someone incorrectly added just the marker \"by hand\"\n                        // and forgot to add the root attribute or add them in different change blocks.\n                        //\n                        // It caused an infinite loop in one of the unit tests.\n                        writer.setAttribute(marker.name, loadedCommentsContent.get(marker.name) || '', newRoot);\n                        changed = true;\n                    }\n                }\n            }\n            return changed;\n        });\n        // Delete all comment markers from the document before setting new data.\n        editor.data.on('set', () => {\n            for (const commentMarker of editor.model.markers.getMarkersGroup('$comment')) {\n                this.removeHtmlComment(commentMarker.name);\n            }\n        }, { priority: 'high' });\n        // Delete all comment markers that are within a removed range.\n        // Delete all comment markers at the limit element boundaries if the whole content of the limit element is removed.\n        editor.model.on('deleteContent', (evt, [selection]) => {\n            for (const range of selection.getRanges()) {\n                const limitElement = editor.model.schema.getLimitElement(range);\n                const firstPosition = editor.model.createPositionAt(limitElement, 0);\n                const lastPosition = editor.model.createPositionAt(limitElement, 'end');\n                let affectedCommentIDs;\n                if (firstPosition.isTouching(range.start) && lastPosition.isTouching(range.end)) {\n                    affectedCommentIDs = this.getHtmlCommentsInRange(editor.model.createRange(firstPosition, lastPosition));\n                }\n                else {\n                    affectedCommentIDs = this.getHtmlCommentsInRange(range, { skipBoundaries: true });\n                }\n                for (const commentMarkerID of affectedCommentIDs) {\n                    this.removeHtmlComment(commentMarkerID);\n                }\n            }\n        }, { priority: 'high' });\n    }\n    /**\n     * Creates an HTML comment on the specified position and returns its ID.\n     *\n     * *Note*: If two comments are created at the same position, the second comment will be inserted before the first one.\n     *\n     * @returns Comment ID. This ID can be later used to e.g. remove the comment from the content.\n     */\n    createHtmlComment(position, content) {\n        const id = uid();\n        const editor = this.editor;\n        const model = editor.model;\n        const root = model.document.getRoot(position.root.rootName);\n        const markerName = `$comment:${id}`;\n        return model.change(writer => {\n            const range = writer.createRange(position);\n            writer.addMarker(markerName, {\n                usingOperation: true,\n                affectsData: true,\n                range\n            });\n            writer.setAttribute(markerName, content, root);\n            return markerName;\n        });\n    }\n    /**\n     * Removes an HTML comment with the given comment ID.\n     *\n     * It does nothing and returns `false` if the comment with the given ID does not exist.\n     * Otherwise it removes the comment and returns `true`.\n     *\n     * Note that a comment can be removed also by removing the content around the comment.\n     *\n     * @param commentID The ID of the comment to be removed.\n     * @returns `true` when the comment with the given ID was removed, `false` otherwise.\n     */\n    removeHtmlComment(commentID) {\n        const editor = this.editor;\n        const marker = editor.model.markers.get(commentID);\n        if (!marker) {\n            return false;\n        }\n        editor.model.change(writer => {\n            writer.removeMarker(marker);\n        });\n        return true;\n    }\n    /**\n     * Gets the HTML comment data for the comment with a given ID.\n     *\n     * Returns `null` if the comment does not exist.\n     */\n    getHtmlCommentData(commentID) {\n        const editor = this.editor;\n        const marker = editor.model.markers.get(commentID);\n        if (!marker) {\n            return null;\n        }\n        let content = '';\n        for (const root of this.editor.model.document.getRoots()) {\n            if (root.hasAttribute(commentID)) {\n                content = root.getAttribute(commentID);\n                break;\n            }\n        }\n        return {\n            content,\n            position: marker.getStart()\n        };\n    }\n    /**\n     * Gets all HTML comments in the given range.\n     *\n     * By default, it includes comments at the range boundaries.\n     *\n     * @param range\n     * @param options.skipBoundaries When set to `true` the range boundaries will be skipped.\n     * @returns HTML comment IDs\n     */\n    getHtmlCommentsInRange(range, { skipBoundaries = false } = {}) {\n        const includeBoundaries = !skipBoundaries;\n        // Unfortunately, MarkerCollection#getMarkersAtPosition() filters out collapsed markers.\n        return Array.from(this.editor.model.markers.getMarkersGroup('$comment'))\n            .filter(marker => isCommentMarkerInRange(marker, range))\n            .map(marker => marker.name);\n        function isCommentMarkerInRange(commentMarker, range) {\n            const position = commentMarker.getRange().start;\n            return ((position.isAfter(range.start) || (includeBoundaries && position.isEqual(range.start))) &&\n                (position.isBefore(range.end) || (includeBoundaries && position.isEqual(range.end))));\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module html-support/htmlpagedataprocessor\n */\nimport { HtmlDataProcessor, UpcastWriter } from 'ckeditor5/src/engine.js';\n/**\n * The full page HTML data processor class.\n * This data processor implementation uses HTML as input and output data.\n */\nexport default class HtmlPageDataProcessor extends HtmlDataProcessor {\n    /**\n     * @inheritDoc\n     */\n    toView(data) {\n        // Ignore content that is not a full page source.\n        if (!/<(?:html|body|head|meta)(?:\\s[^>]*)?>/i.test(data.trim().slice(0, 10000))) {\n            return super.toView(data);\n        }\n        // Store doctype and xml declaration in a separate properties as they can't be stringified later.\n        let docType = '';\n        let xmlDeclaration = '';\n        data = data.trim().replace(/<\\?xml\\s[^?]*\\?>/i, match => {\n            xmlDeclaration = match;\n            return '';\n        });\n        data = data.trim().replace(/^<!DOCTYPE\\s[^>]*?>/i, match => {\n            docType = match;\n            return '';\n        });\n        // Convert input HTML data to DOM DocumentFragment.\n        const domFragment = this._toDom(data);\n        // Convert DOM DocumentFragment to view DocumentFragment.\n        const viewFragment = this.domConverter.domToView(domFragment, { skipComments: this.skipComments });\n        const writer = new UpcastWriter(viewFragment.document);\n        // Using the DOM document with body content extracted as a skeleton of the page.\n        writer.setCustomProperty('$fullPageDocument', domFragment.ownerDocument.documentElement.outerHTML, viewFragment);\n        // List of `<style>` elements extracted from document's `<head>` element.\n        const headStylesElements = Array.from(domFragment.ownerDocument.querySelectorAll('head style'));\n        writer.setCustomProperty('$fullPageHeadStyles', headStylesElements, viewFragment);\n        if (docType) {\n            writer.setCustomProperty('$fullPageDocType', docType, viewFragment);\n        }\n        if (xmlDeclaration) {\n            writer.setCustomProperty('$fullPageXmlDeclaration', xmlDeclaration, viewFragment);\n        }\n        return viewFragment;\n    }\n    /**\n     * @inheritDoc\n     */\n    toData(viewFragment) {\n        let data = super.toData(viewFragment);\n        const page = viewFragment.getCustomProperty('$fullPageDocument');\n        const docType = viewFragment.getCustomProperty('$fullPageDocType');\n        const xmlDeclaration = viewFragment.getCustomProperty('$fullPageXmlDeclaration');\n        if (page) {\n            data = page.replace(/<\\/body\\s*>/, data + '$&');\n            if (docType) {\n                data = docType + '\\n' + data;\n            }\n            if (xmlDeclaration) {\n                data = xmlDeclaration + '\\n' + data;\n            }\n        }\n        return data;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module html-support/fullpage\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { logWarning, global } from 'ckeditor5/src/utils.js';\nimport { UpcastWriter } from 'ckeditor5/src/engine.js';\nimport HtmlPageDataProcessor from './htmlpagedataprocessor.js';\n/**\n * The full page editing feature. It preserves the whole HTML page in the editor data.\n */\nexport default class FullPage extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'FullPage';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        editor.config.define('htmlSupport.fullPage', {\n            allowRenderStylesFromHead: false,\n            sanitizeCss: rawCss => {\n                /**\n                 * When using the Full page with the `config.htmlSupport.fullPage.allowRenderStylesFromHead` set to `true`,\n                 * it is strongly recommended to define a sanitize function that will clean up the CSS\n                 * which is present in the `<head>` in editors content in order to avoid XSS vulnerability.\n                 *\n                 * For a detailed overview, check the {@glink features/html/full-page-html Full page HTML feature} documentation.\n                 *\n                 * @error css-full-page-provide-sanitize-function\n                 */\n                logWarning('css-full-page-provide-sanitize-function');\n                return {\n                    css: rawCss,\n                    hasChanged: false\n                };\n            }\n        });\n        editor.data.processor = new HtmlPageDataProcessor(editor.data.viewDocument);\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const properties = ['$fullPageDocument', '$fullPageDocType', '$fullPageXmlDeclaration', '$fullPageHeadStyles'];\n        editor.model.schema.extend('$root', {\n            allowAttributes: properties\n        });\n        // Apply custom properties from view document fragment to the model root attributes.\n        editor.data.on('toModel', (evt, [viewElementOrFragment]) => {\n            const root = editor.model.document.getRoot();\n            editor.model.change(writer => {\n                for (const name of properties) {\n                    const value = viewElementOrFragment.getCustomProperty(name);\n                    if (value) {\n                        writer.setAttribute(name, value, root);\n                    }\n                }\n            });\n            if (isAllowedRenderStylesFromHead(editor)) {\n                this._renderStylesFromHead(root);\n            }\n        }, { priority: 'low' });\n        // Apply root attributes to the view document fragment.\n        editor.data.on('toView', (evt, [modelElementOrFragment]) => {\n            if (!modelElementOrFragment.is('rootElement')) {\n                return;\n            }\n            const root = modelElementOrFragment;\n            const viewFragment = evt.return;\n            if (!root.hasAttribute('$fullPageDocument')) {\n                return;\n            }\n            const writer = new UpcastWriter(viewFragment.document);\n            for (const name of properties) {\n                const value = root.getAttribute(name);\n                if (value) {\n                    writer.setCustomProperty(name, value, viewFragment);\n                }\n            }\n        }, { priority: 'low' });\n        // Clear root attributes related to full page editing on editor content reset.\n        editor.data.on('set', () => {\n            const root = editor.model.document.getRoot();\n            editor.model.change(writer => {\n                for (const name of properties) {\n                    if (root.hasAttribute(name)) {\n                        writer.removeAttribute(name, root);\n                    }\n                }\n            });\n        }, { priority: 'high' });\n        // Make sure that document is returned even if there is no content in the page body.\n        editor.data.on('get', (evt, args) => {\n            if (!args[0]) {\n                args[0] = {};\n            }\n            args[0].trim = false;\n        }, { priority: 'high' });\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        super.destroy();\n        if (isAllowedRenderStylesFromHead(this.editor)) {\n            this._removeStyleElementsFromDom();\n        }\n    }\n    /**\n     * Checks if in the document exists any `<style>` elements injected by the plugin and removes them,\n     * so these could be re-rendered later.\n     * There is used `data-full-page-style-id` attribute to recognize styles injected by the feature.\n     */\n    _removeStyleElementsFromDom() {\n        const existingStyleElements = Array.from(global.document.querySelectorAll(`[data-full-page-style-id=\"${this.editor.id}\"]`));\n        for (const style of existingStyleElements) {\n            style.remove();\n        }\n    }\n    /**\n     * Extracts `<style>` elements from the full page data and renders them in the main document `<head>`.\n     * CSS content is sanitized before rendering.\n     */\n    _renderStyleElementsInDom(root) {\n        const editor = this.editor;\n        // Get `<style>` elements list from the `<head>` from the full page data.\n        const styleElements = root.getAttribute('$fullPageHeadStyles');\n        if (!styleElements) {\n            return;\n        }\n        const sanitizeCss = editor.config.get('htmlSupport.fullPage.sanitizeCss');\n        // Add `data-full-page-style-id` attribute to the `<style>` element and render it in `<head>` in the main document.\n        for (const style of styleElements) {\n            style.setAttribute('data-full-page-style-id', editor.id);\n            // Sanitize the CSS content before rendering it in the editor.\n            const sanitizedCss = sanitizeCss(style.innerText);\n            if (sanitizedCss.hasChanged) {\n                style.innerText = sanitizedCss.css;\n            }\n            global.document.head.append(style);\n        }\n    }\n    /**\n     * Removes existing `<style>` elements injected by the plugin and renders new ones from the full page data.\n     */\n    _renderStylesFromHead(root) {\n        this._removeStyleElementsFromDom();\n        this._renderStyleElementsInDom(root);\n    }\n}\n/**\n * Normalize the Full page configuration option `allowRenderStylesFromHead`.\n */\nfunction isAllowedRenderStylesFromHead(editor) {\n    return editor.config.get('htmlSupport.fullPage.allowRenderStylesFromHead');\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module heading/headingcommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { first } from 'ckeditor5/src/utils.js';\n/**\n * The heading command. It is used by the {@link module:heading/heading~Heading heading feature} to apply headings.\n */\nexport default class HeadingCommand extends Command {\n    /**\n     * Set of defined model's elements names that this command support.\n     * See {@link module:heading/headingconfig~HeadingOption}.\n     */\n    modelElements;\n    /**\n     * Creates an instance of the command.\n     *\n     * @param editor Editor instance.\n     * @param modelElements Names of the element which this command can apply in the model.\n     */\n    constructor(editor, modelElements) {\n        super(editor);\n        this.modelElements = modelElements;\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const block = first(this.editor.model.document.selection.getSelectedBlocks());\n        this.value = !!block && this.modelElements.includes(block.name) && block.name;\n        this.isEnabled = !!block && this.modelElements.some(heading => checkCanBecomeHeading(block, heading, this.editor.model.schema));\n    }\n    /**\n     * Executes the command. Applies the heading to the selected blocks or, if the first selected\n     * block is a heading already, turns selected headings (of this level only) to paragraphs.\n     *\n     * @param options.value Name of the element which this command will apply in the model.\n     * @fires execute\n     */\n    execute(options) {\n        const model = this.editor.model;\n        const document = model.document;\n        const modelElement = options.value;\n        model.change(writer => {\n            const blocks = Array.from(document.selection.getSelectedBlocks())\n                .filter(block => {\n                return checkCanBecomeHeading(block, modelElement, model.schema);\n            });\n            for (const block of blocks) {\n                if (!block.is('element', modelElement)) {\n                    writer.rename(block, modelElement);\n                }\n            }\n        });\n    }\n}\n/**\n * Checks whether the given block can be replaced by a specific heading.\n *\n * @param block A block to be tested.\n * @param heading Command element name in the model.\n * @param schema The schema of the document.\n */\nfunction checkCanBecomeHeading(block, heading, schema) {\n    return schema.checkChild(block.parent, heading) && !schema.isObject(block);\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module heading/headingediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Paragraph } from 'ckeditor5/src/paragraph.js';\nimport { priorities } from 'ckeditor5/src/utils.js';\nimport HeadingCommand from './headingcommand.js';\nconst defaultModelElement = 'paragraph';\n/**\n * The headings engine feature. It handles switching between block formats &ndash; headings and paragraph.\n * This class represents the engine part of the heading feature. See also {@link module:heading/heading~Heading}.\n * It introduces `heading1`-`headingN` commands which allow to convert paragraphs into headings.\n */\nexport default class HeadingEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'HeadingEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        editor.config.define('heading', {\n            options: [\n                { model: 'paragraph', title: 'Paragraph', class: 'ck-heading_paragraph' },\n                { model: 'heading1', view: 'h2', title: 'Heading 1', class: 'ck-heading_heading1' },\n                { model: 'heading2', view: 'h3', title: 'Heading 2', class: 'ck-heading_heading2' },\n                { model: 'heading3', view: 'h4', title: 'Heading 3', class: 'ck-heading_heading3' }\n            ]\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [Paragraph];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const options = editor.config.get('heading.options');\n        const modelElements = [];\n        for (const option of options) {\n            // Skip paragraph - it is defined in required Paragraph feature.\n            if (option.model === 'paragraph') {\n                continue;\n            }\n            // Schema.\n            editor.model.schema.register(option.model, {\n                inheritAllFrom: '$block'\n            });\n            editor.conversion.elementToElement(option);\n            modelElements.push(option.model);\n        }\n        this._addDefaultH1Conversion(editor);\n        // Register the heading command for this option.\n        editor.commands.add('heading', new HeadingCommand(editor, modelElements));\n    }\n    /**\n     * @inheritDoc\n     */\n    afterInit() {\n        // If the enter command is added to the editor, alter its behavior.\n        // Enter at the end of a heading element should create a paragraph.\n        const editor = this.editor;\n        const enterCommand = editor.commands.get('enter');\n        const options = editor.config.get('heading.options');\n        if (enterCommand) {\n            this.listenTo(enterCommand, 'afterExecute', (evt, data) => {\n                const positionParent = editor.model.document.selection.getFirstPosition().parent;\n                const isHeading = options.some(option => positionParent.is('element', option.model));\n                if (isHeading && !positionParent.is('element', defaultModelElement) && positionParent.childCount === 0) {\n                    data.writer.rename(positionParent, defaultModelElement);\n                }\n            });\n        }\n    }\n    /**\n     * Adds default conversion for `h1` -> `heading1` with a low priority.\n     *\n     * @param editor Editor instance on which to add the `h1` conversion.\n     */\n    _addDefaultH1Conversion(editor) {\n        editor.conversion.for('upcast').elementToElement({\n            model: 'heading1',\n            view: 'h1',\n            // With a `low` priority, `paragraph` plugin autoparagraphing mechanism is executed. Make sure\n            // this listener is called before it. If not, `h1` will be transformed into a paragraph.\n            converterPriority: priorities.low + 1\n        });\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./heading.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module heading/headingui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { ViewModel, createDropdown, addListToDropdown, MenuBarMenuListItemView, MenuBarMenuListView, MenuBarMenuView, MenuBarMenuListItemButtonView } from 'ckeditor5/src/ui.js';\nimport { Collection } from 'ckeditor5/src/utils.js';\nimport { getLocalizedOptions } from './utils.js';\nimport '../theme/heading.css';\n/**\n * The headings UI feature. It introduces the `headings` dropdown.\n */\nexport default class HeadingUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'HeadingUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = editor.t;\n        const options = getLocalizedOptions(editor);\n        const defaultTitle = t('Choose heading');\n        const accessibleLabel = t('Heading');\n        // Register UI component.\n        editor.ui.componentFactory.add('heading', locale => {\n            const titles = {};\n            const itemDefinitions = new Collection();\n            const headingCommand = editor.commands.get('heading');\n            const paragraphCommand = editor.commands.get('paragraph');\n            const commands = [headingCommand];\n            for (const option of options) {\n                const def = {\n                    type: 'button',\n                    model: new ViewModel({\n                        label: option.title,\n                        class: option.class,\n                        role: 'menuitemradio',\n                        withText: true\n                    })\n                };\n                if (option.model === 'paragraph') {\n                    def.model.bind('isOn').to(paragraphCommand, 'value');\n                    def.model.set('commandName', 'paragraph');\n                    commands.push(paragraphCommand);\n                }\n                else {\n                    def.model.bind('isOn').to(headingCommand, 'value', value => value === option.model);\n                    def.model.set({\n                        commandName: 'heading',\n                        commandValue: option.model\n                    });\n                }\n                // Add the option to the collection.\n                itemDefinitions.add(def);\n                titles[option.model] = option.title;\n            }\n            const dropdownView = createDropdown(locale);\n            addListToDropdown(dropdownView, itemDefinitions, {\n                ariaLabel: accessibleLabel,\n                role: 'menu'\n            });\n            dropdownView.buttonView.set({\n                ariaLabel: accessibleLabel,\n                ariaLabelledBy: undefined,\n                isOn: false,\n                withText: true,\n                tooltip: accessibleLabel\n            });\n            dropdownView.extendTemplate({\n                attributes: {\n                    class: [\n                        'ck-heading-dropdown'\n                    ]\n                }\n            });\n            dropdownView.bind('isEnabled').toMany(commands, 'isEnabled', (...areEnabled) => {\n                return areEnabled.some(isEnabled => isEnabled);\n            });\n            dropdownView.buttonView.bind('label').to(headingCommand, 'value', paragraphCommand, 'value', (heading, paragraph) => {\n                const whichModel = paragraph ? 'paragraph' : heading;\n                if (typeof whichModel === 'boolean') {\n                    return defaultTitle;\n                }\n                // If none of the commands is active, display default title.\n                if (!titles[whichModel]) {\n                    return defaultTitle;\n                }\n                return titles[whichModel];\n            });\n            dropdownView.buttonView.bind('ariaLabel').to(headingCommand, 'value', paragraphCommand, 'value', (heading, paragraph) => {\n                const whichModel = paragraph ? 'paragraph' : heading;\n                if (typeof whichModel === 'boolean') {\n                    return accessibleLabel;\n                }\n                // If none of the commands is active, display default title.\n                if (!titles[whichModel]) {\n                    return accessibleLabel;\n                }\n                return `${titles[whichModel]}, ${accessibleLabel}`;\n            });\n            // Execute command when an item from the dropdown is selected.\n            this.listenTo(dropdownView, 'execute', evt => {\n                const { commandName, commandValue } = evt.source;\n                editor.execute(commandName, commandValue ? { value: commandValue } : undefined);\n                editor.editing.view.focus();\n            });\n            return dropdownView;\n        });\n        editor.ui.componentFactory.add('menuBar:heading', locale => {\n            const menuView = new MenuBarMenuView(locale);\n            const headingCommand = editor.commands.get('heading');\n            const paragraphCommand = editor.commands.get('paragraph');\n            const commands = [headingCommand];\n            const listView = new MenuBarMenuListView(locale);\n            menuView.set({\n                class: 'ck-heading-dropdown'\n            });\n            listView.set({\n                ariaLabel: t('Heading'),\n                role: 'menu'\n            });\n            menuView.buttonView.set({\n                label: t('Heading')\n            });\n            menuView.panelView.children.add(listView);\n            for (const option of options) {\n                const listItemView = new MenuBarMenuListItemView(locale, menuView);\n                const buttonView = new MenuBarMenuListItemButtonView(locale);\n                listItemView.children.add(buttonView);\n                listView.items.add(listItemView);\n                buttonView.set({\n                    isToggleable: true,\n                    label: option.title,\n                    role: 'menuitemradio',\n                    class: option.class\n                });\n                buttonView.delegate('execute').to(menuView);\n                buttonView.on('execute', () => {\n                    const commandName = option.model === 'paragraph' ? 'paragraph' : 'heading';\n                    editor.execute(commandName, { value: option.model });\n                    editor.editing.view.focus();\n                });\n                if (option.model === 'paragraph') {\n                    buttonView.bind('isOn').to(paragraphCommand, 'value');\n                    commands.push(paragraphCommand);\n                }\n                else {\n                    buttonView.bind('isOn').to(headingCommand, 'value', value => value === option.model);\n                }\n            }\n            menuView.bind('isEnabled').toMany(commands, 'isEnabled', (...areEnabled) => {\n                return areEnabled.some(isEnabled => isEnabled);\n            });\n            return menuView;\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * Returns heading options as defined in `config.heading.options` but processed to consider\n * the editor localization, i.e. to display {@link module:heading/headingconfig~HeadingOption}\n * in the correct language.\n *\n * Note: The reason behind this method is that there is no way to use {@link module:utils/locale~Locale#t}\n * when the user configuration is defined because the editor does not exist yet.\n */\nexport function getLocalizedOptions(editor) {\n    const t = editor.t;\n    const localizedTitles = {\n        'Paragraph': t('Paragraph'),\n        'Heading 1': t('Heading 1'),\n        'Heading 2': t('Heading 2'),\n        'Heading 3': t('Heading 3'),\n        'Heading 4': t('Heading 4'),\n        'Heading 5': t('Heading 5'),\n        'Heading 6': t('Heading 6')\n    };\n    return editor.config.get('heading.options').map(option => {\n        const title = localizedTitles[option.title];\n        if (title && title != option.title) {\n            option.title = title;\n        }\n        return option;\n    });\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module heading/heading\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport HeadingEditing from './headingediting.js';\nimport HeadingUI from './headingui.js';\nimport '../theme/heading.css';\n/**\n * The headings feature.\n *\n * For a detailed overview, check the {@glink features/headings Headings feature} guide\n * and the {@glink api/heading package page}.\n *\n * This is a \"glue\" plugin which loads the {@link module:heading/headingediting~HeadingEditing heading editing feature}\n * and {@link module:heading/headingui~HeadingUI heading UI feature}.\n *\n * @extends module:core/plugin~Plugin\n */\nexport default class Heading extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [HeadingEditing, HeadingUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'Heading';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module heading/title\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { first } from 'ckeditor5/src/utils.js';\nimport { DowncastWriter, enablePlaceholder, hidePlaceholder, needsPlaceholder, showPlaceholder } from 'ckeditor5/src/engine.js';\n// A list of element names that should be treated by the Title plugin as title-like.\n// This means that an element of a type from this list will be changed to a title element\n// when it is the first element in the root.\nconst titleLikeElements = new Set(['paragraph', 'heading1', 'heading2', 'heading3', 'heading4', 'heading5', 'heading6']);\n/**\n * The Title plugin.\n *\n * It splits the document into `Title` and `Body` sections.\n */\nexport default class Title extends Plugin {\n    /**\n     * A reference to an empty paragraph in the body\n     * created when there is no element in the body for the placeholder purposes.\n     */\n    _bodyPlaceholder = new Map();\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'Title';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return ['Paragraph'];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const model = editor.model;\n        // To use the schema for disabling some features when the selection is inside the title element\n        // it is needed to create the following structure:\n        //\n        // <title>\n        //     <title-content>The title text</title-content>\n        // </title>\n        //\n        // See: https://github.com/ckeditor/ckeditor5/issues/2005.\n        model.schema.register('title', { isBlock: true, allowIn: '$root' });\n        model.schema.register('title-content', { isBlock: true, allowIn: 'title', allowAttributes: ['alignment'] });\n        model.schema.extend('$text', { allowIn: 'title-content' });\n        // Disallow all attributes in `title-content`.\n        model.schema.addAttributeCheck(context => {\n            if (context.endsWith('title-content $text')) {\n                return false;\n            }\n        });\n        // Because `title` is represented by two elements in the model\n        // but only one in the view, it is needed to adjust Mapper.\n        editor.editing.mapper.on('modelToViewPosition', mapModelPositionToView(editor.editing.view));\n        editor.data.mapper.on('modelToViewPosition', mapModelPositionToView(editor.editing.view));\n        // Conversion.\n        editor.conversion.for('downcast').elementToElement({ model: 'title-content', view: 'h1' });\n        editor.conversion.for('downcast').add(dispatcher => dispatcher.on('insert:title', (evt, data, conversionApi) => {\n            conversionApi.consumable.consume(data.item, evt.name);\n        }));\n        // Custom converter is used for data v -> m conversion to avoid calling post-fixer when setting data.\n        // See https://github.com/ckeditor/ckeditor5/issues/2036.\n        editor.data.upcastDispatcher.on('element:h1', dataViewModelH1Insertion, { priority: 'high' });\n        editor.data.upcastDispatcher.on('element:h2', dataViewModelH1Insertion, { priority: 'high' });\n        editor.data.upcastDispatcher.on('element:h3', dataViewModelH1Insertion, { priority: 'high' });\n        // Take care about correct `title` element structure.\n        model.document.registerPostFixer(writer => this._fixTitleContent(writer));\n        // Create and take care of correct position of a `title` element.\n        model.document.registerPostFixer(writer => this._fixTitleElement(writer));\n        // Create element for `Body` placeholder if it is missing.\n        model.document.registerPostFixer(writer => this._fixBodyElement(writer));\n        // Prevent from adding extra at the end of the document.\n        model.document.registerPostFixer(writer => this._fixExtraParagraph(writer));\n        // Attach `Title` and `Body` placeholders to the empty title and/or content.\n        this._attachPlaceholders();\n        // Attach Tab handling.\n        this._attachTabPressHandling();\n    }\n    /**\n     * Returns the title of the document. Note that because this plugin does not allow any formatting inside\n     * the title element, the output of this method will be a plain text, with no HTML tags.\n     *\n     * It is not recommended to use this method together with features that insert markers to the\n     * data output, like comments or track changes features. If such markers start in the title and end in the\n     * body, the result of this method might be incorrect.\n     *\n     * @param options Additional configuration passed to the conversion process.\n     * See {@link module:engine/controller/datacontroller~DataController#get `DataController#get`}.\n     * @returns The title of the document.\n     */\n    getTitle(options = {}) {\n        const rootName = options.rootName ? options.rootName : undefined;\n        const titleElement = this._getTitleElement(rootName);\n        const titleContentElement = titleElement.getChild(0);\n        return this.editor.data.stringify(titleContentElement, options);\n    }\n    /**\n     * Returns the body of the document.\n     *\n     * Note that it is not recommended to use this method together with features that insert markers to the\n     * data output, like comments or track changes features. If such markers start in the title and end in the\n     * body, the result of this method might be incorrect.\n     *\n     * @param options Additional configuration passed to the conversion process.\n     * See {@link module:engine/controller/datacontroller~DataController#get `DataController#get`}.\n     * @returns The body of the document.\n     */\n    getBody(options = {}) {\n        const editor = this.editor;\n        const data = editor.data;\n        const model = editor.model;\n        const rootName = options.rootName ? options.rootName : undefined;\n        const root = editor.model.document.getRoot(rootName);\n        const view = editor.editing.view;\n        const viewWriter = new DowncastWriter(view.document);\n        const rootRange = model.createRangeIn(root);\n        const viewDocumentFragment = viewWriter.createDocumentFragment();\n        // Find all markers that intersects with body.\n        const bodyStartPosition = model.createPositionAfter(root.getChild(0));\n        const bodyRange = model.createRange(bodyStartPosition, model.createPositionAt(root, 'end'));\n        const markers = new Map();\n        for (const marker of model.markers) {\n            const intersection = bodyRange.getIntersection(marker.getRange());\n            if (intersection) {\n                markers.set(marker.name, intersection);\n            }\n        }\n        // Convert the entire root to view.\n        data.mapper.clearBindings();\n        data.mapper.bindElements(root, viewDocumentFragment);\n        data.downcastDispatcher.convert(rootRange, markers, viewWriter, options);\n        // Remove title element from view.\n        viewWriter.remove(viewWriter.createRangeOn(viewDocumentFragment.getChild(0)));\n        // view -> data\n        return editor.data.processor.toData(viewDocumentFragment);\n    }\n    /**\n     * Returns the `title` element when it is in the document. Returns `undefined` otherwise.\n     */\n    _getTitleElement(rootName) {\n        const root = this.editor.model.document.getRoot(rootName);\n        for (const child of root.getChildren()) {\n            if (isTitle(child)) {\n                return child;\n            }\n        }\n    }\n    /**\n     * Model post-fixer callback that ensures that `title` has only one `title-content` child.\n     * All additional children should be moved after the `title` element and renamed to a paragraph.\n     */\n    _fixTitleContent(writer) {\n        let changed = false;\n        for (const rootName of this.editor.model.document.getRootNames()) {\n            const title = this._getTitleElement(rootName);\n            // If there is no title in the content it will be created by `_fixTitleElement` post-fixer.\n            // If the title has just one element, then it is correct. No fixing.\n            if (!title || title.maxOffset === 1) {\n                continue;\n            }\n            const titleChildren = Array.from(title.getChildren());\n            // Skip first child because it is an allowed element.\n            titleChildren.shift();\n            for (const titleChild of titleChildren) {\n                writer.move(writer.createRangeOn(titleChild), title, 'after');\n                writer.rename(titleChild, 'paragraph');\n            }\n            changed = true;\n        }\n        return changed;\n    }\n    /**\n     * Model post-fixer callback that creates a title element when it is missing,\n     * takes care of the correct position of it and removes additional title elements.\n     */\n    _fixTitleElement(writer) {\n        let changed = false;\n        const model = this.editor.model;\n        for (const modelRoot of this.editor.model.document.getRoots()) {\n            const titleElements = Array.from(modelRoot.getChildren()).filter(isTitle);\n            const firstTitleElement = titleElements[0];\n            const firstRootChild = modelRoot.getChild(0);\n            // When title element is at the beginning of the document then try to fix additional title elements (if there are any).\n            if (firstRootChild.is('element', 'title')) {\n                if (titleElements.length > 1) {\n                    fixAdditionalTitleElements(titleElements, writer, model);\n                    changed = true;\n                }\n                continue;\n            }\n            // When there is no title in the document and first element in the document cannot be changed\n            // to the title then create an empty title element at the beginning of the document.\n            if (!firstTitleElement && !titleLikeElements.has(firstRootChild.name)) {\n                const title = writer.createElement('title');\n                writer.insert(title, modelRoot);\n                writer.insertElement('title-content', title);\n                changed = true;\n                continue;\n            }\n            if (titleLikeElements.has(firstRootChild.name)) {\n                // Change the first element in the document to the title if it can be changed (is title-like).\n                changeElementToTitle(firstRootChild, writer, model);\n            }\n            else {\n                // Otherwise, move the first occurrence of the title element to the beginning of the document.\n                writer.move(writer.createRangeOn(firstTitleElement), modelRoot, 0);\n            }\n            fixAdditionalTitleElements(titleElements, writer, model);\n            changed = true;\n        }\n        return changed;\n    }\n    /**\n     * Model post-fixer callback that adds an empty paragraph at the end of the document\n     * when it is needed for the placeholder purposes.\n     */\n    _fixBodyElement(writer) {\n        let changed = false;\n        for (const rootName of this.editor.model.document.getRootNames()) {\n            const modelRoot = this.editor.model.document.getRoot(rootName);\n            if (modelRoot.childCount < 2) {\n                const placeholder = writer.createElement('paragraph');\n                writer.insert(placeholder, modelRoot, 1);\n                this._bodyPlaceholder.set(rootName, placeholder);\n                changed = true;\n            }\n        }\n        return changed;\n    }\n    /**\n     * Model post-fixer callback that removes a paragraph from the end of the document\n     * if it was created for the placeholder purposes and is not needed anymore.\n     */\n    _fixExtraParagraph(writer) {\n        let changed = false;\n        for (const rootName of this.editor.model.document.getRootNames()) {\n            const root = this.editor.model.document.getRoot(rootName);\n            const placeholder = this._bodyPlaceholder.get(rootName);\n            if (shouldRemoveLastParagraph(placeholder, root)) {\n                this._bodyPlaceholder.delete(rootName);\n                writer.remove(placeholder);\n                changed = true;\n            }\n        }\n        return changed;\n    }\n    /**\n     * Attaches the `Title` and `Body` placeholders to the title and/or content.\n     */\n    _attachPlaceholders() {\n        const editor = this.editor;\n        const t = editor.t;\n        const view = editor.editing.view;\n        const sourceElement = editor.sourceElement;\n        const titlePlaceholder = editor.config.get('title.placeholder') || t('Type your title');\n        const bodyPlaceholder = editor.config.get('placeholder') ||\n            sourceElement && sourceElement.tagName.toLowerCase() === 'textarea' && sourceElement.getAttribute('placeholder') ||\n            t('Type or paste your content here.');\n        // Attach placeholder to the view title element.\n        editor.editing.downcastDispatcher.on('insert:title-content', (evt, data, conversionApi) => {\n            const element = conversionApi.mapper.toViewElement(data.item);\n            element.placeholder = titlePlaceholder;\n            enablePlaceholder({\n                view,\n                element,\n                keepOnFocus: true\n            });\n        });\n        // Attach placeholder to first element after a title element and remove it if it's not needed anymore.\n        // First element after title can change, so we need to observe all changes keep placeholder in sync.\n        const bodyViewElements = new Map();\n        // This post-fixer runs after the model post-fixer, so we can assume that the second child in view root will always exist.\n        view.document.registerPostFixer(writer => {\n            let hasChanged = false;\n            for (const viewRoot of view.document.roots) {\n                // `viewRoot` can be empty despite the model post-fixers if the model root was detached.\n                if (viewRoot.isEmpty) {\n                    continue;\n                }\n                // If `viewRoot` is not empty, then we can expect at least two elements in it.\n                const body = viewRoot.getChild(1);\n                const oldBody = bodyViewElements.get(viewRoot.rootName);\n                // If body element has changed we need to disable placeholder on the previous element and enable on the new one.\n                if (body !== oldBody) {\n                    if (oldBody) {\n                        hidePlaceholder(writer, oldBody);\n                        writer.removeAttribute('data-placeholder', oldBody);\n                    }\n                    writer.setAttribute('data-placeholder', bodyPlaceholder, body);\n                    bodyViewElements.set(viewRoot.rootName, body);\n                    hasChanged = true;\n                }\n                // Then we need to display placeholder if it is needed.\n                // See: https://github.com/ckeditor/ckeditor5/issues/8689.\n                if (needsPlaceholder(body, true) && viewRoot.childCount === 2 && body.name === 'p') {\n                    hasChanged = showPlaceholder(writer, body) ? true : hasChanged;\n                }\n                else {\n                    // Or hide if it is not needed.\n                    hasChanged = hidePlaceholder(writer, body) ? true : hasChanged;\n                }\n            }\n            return hasChanged;\n        });\n    }\n    /**\n     * Creates navigation between the title and body sections using <kbd>Tab</kbd> and <kbd>Shift</kbd>+<kbd>Tab</kbd> keys.\n     */\n    _attachTabPressHandling() {\n        const editor = this.editor;\n        const model = editor.model;\n        // Pressing <kbd>Tab</kbd> inside the title should move the caret to the body.\n        editor.keystrokes.set('TAB', (data, cancel) => {\n            model.change(writer => {\n                const selection = model.document.selection;\n                const selectedElements = Array.from(selection.getSelectedBlocks());\n                if (selectedElements.length === 1 && selectedElements[0].is('element', 'title-content')) {\n                    const root = selection.getFirstPosition().root;\n                    const firstBodyElement = root.getChild(1);\n                    writer.setSelection(firstBodyElement, 0);\n                    cancel();\n                }\n            });\n        });\n        // Pressing <kbd>Shift</kbd>+<kbd>Tab</kbd> at the beginning of the body should move the caret to the title.\n        editor.keystrokes.set('SHIFT + TAB', (data, cancel) => {\n            model.change(writer => {\n                const selection = model.document.selection;\n                if (!selection.isCollapsed) {\n                    return;\n                }\n                const selectedElement = first(selection.getSelectedBlocks());\n                const selectionPosition = selection.getFirstPosition();\n                const root = editor.model.document.getRoot(selectionPosition.root.rootName);\n                const title = root.getChild(0);\n                const body = root.getChild(1);\n                if (selectedElement === body && selectionPosition.isAtStart) {\n                    writer.setSelection(title.getChild(0), 0);\n                    cancel();\n                }\n            });\n        });\n    }\n}\n/**\n * A view-to-model converter for the h1 that appears at the beginning of the document (a title element).\n *\n * @see module:engine/conversion/upcastdispatcher~UpcastDispatcher#event:element\n * @param evt An object containing information about the fired event.\n * @param data An object containing conversion input, a placeholder for conversion output and possibly other values.\n * @param conversionApi Conversion interface to be used by the callback.\n */\nfunction dataViewModelH1Insertion(evt, data, conversionApi) {\n    const modelCursor = data.modelCursor;\n    const viewItem = data.viewItem;\n    if (!modelCursor.isAtStart || !modelCursor.parent.is('element', '$root')) {\n        return;\n    }\n    if (!conversionApi.consumable.consume(viewItem, { name: true })) {\n        return;\n    }\n    const modelWriter = conversionApi.writer;\n    const title = modelWriter.createElement('title');\n    const titleContent = modelWriter.createElement('title-content');\n    modelWriter.append(titleContent, title);\n    modelWriter.insert(title, modelCursor);\n    conversionApi.convertChildren(viewItem, titleContent);\n    conversionApi.updateConversionResult(title, data);\n}\n/**\n * Maps position from the beginning of the model `title` element to the beginning of the view `h1` element.\n *\n * ```html\n * <title>^<title-content>Foo</title-content></title> -> <h1>^Foo</h1>\n * ```\n */\nfunction mapModelPositionToView(editingView) {\n    return (evt, data) => {\n        const positionParent = data.modelPosition.parent;\n        if (!positionParent.is('element', 'title')) {\n            return;\n        }\n        const modelTitleElement = positionParent.parent;\n        const viewElement = data.mapper.toViewElement(modelTitleElement);\n        data.viewPosition = editingView.createPositionAt(viewElement, 0);\n        evt.stop();\n    };\n}\n/**\n * @returns Returns true when given element is a title. Returns false otherwise.\n */\nfunction isTitle(element) {\n    return element.is('element', 'title');\n}\n/**\n * Changes the given element to the title element.\n */\nfunction changeElementToTitle(element, writer, model) {\n    const title = writer.createElement('title');\n    writer.insert(title, element, 'before');\n    writer.insert(element, title, 0);\n    writer.rename(element, 'title-content');\n    model.schema.removeDisallowedAttributes([element], writer);\n}\n/**\n * Loops over the list of title elements and fixes additional ones.\n *\n * @returns Returns true when there was any change. Returns false otherwise.\n */\nfunction fixAdditionalTitleElements(titleElements, writer, model) {\n    let hasChanged = false;\n    for (const title of titleElements) {\n        if (title.index !== 0) {\n            fixTitleElement(title, writer, model);\n            hasChanged = true;\n        }\n    }\n    return hasChanged;\n}\n/**\n * Changes given title element to a paragraph or removes it when it is empty.\n */\nfunction fixTitleElement(title, writer, model) {\n    const child = title.getChild(0);\n    // Empty title should be removed.\n    // It is created as a result of pasting to the title element.\n    if (child.isEmpty) {\n        writer.remove(title);\n        return;\n    }\n    writer.move(writer.createRangeOn(child), title, 'before');\n    writer.rename(child, 'paragraph');\n    writer.remove(title);\n    model.schema.removeDisallowedAttributes([child], writer);\n}\n/**\n * Returns true when the last paragraph in the document was created only for the placeholder\n * purpose and it's not needed anymore. Returns false otherwise.\n */\nfunction shouldRemoveLastParagraph(placeholder, root) {\n    if (!placeholder || !placeholder.is('element', 'paragraph') || placeholder.childCount) {\n        return false;\n    }\n    if (root.childCount <= 2 || root.getChild(root.childCount - 1) !== placeholder) {\n        return false;\n    }\n    return true;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { findOptimalInsertionRange } from 'ckeditor5/src/widget.js';\n/**\n * The horizontal line command.\n *\n * The command is registered by {@link module:horizontal-line/horizontallineediting~HorizontalLineEditing} as `'horizontalLine'`.\n *\n * To insert a horizontal line at the current selection, execute the command:\n *\n * ```ts\n * editor.execute( 'horizontalLine' );\n * ```\n */\nexport default class HorizontalLineCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const model = this.editor.model;\n        const schema = model.schema;\n        const selection = model.document.selection;\n        this.isEnabled = isHorizontalLineAllowedInParent(selection, schema, model);\n    }\n    /**\n     * Executes the command.\n     *\n     * @fires execute\n     */\n    execute() {\n        const model = this.editor.model;\n        model.change(writer => {\n            const horizontalElement = writer.createElement('horizontalLine');\n            model.insertObject(horizontalElement, null, null, { setSelection: 'after' });\n        });\n    }\n}\n/**\n * Checks if a horizontal line is allowed by the schema in the optimal insertion parent.\n *\n * @param model Model instance.\n */\nfunction isHorizontalLineAllowedInParent(selection, schema, model) {\n    const parent = getInsertHorizontalLineParent(selection, model);\n    return schema.checkChild(parent, 'horizontalLine');\n}\n/**\n * Returns a node that will be used to insert a horizontal line with `model.insertContent` to check if the horizontal line can be\n * placed there.\n *\n * @param model Model instance.\n */\nfunction getInsertHorizontalLineParent(selection, model) {\n    const insertionRange = findOptimalInsertionRange(selection, model);\n    const parent = insertionRange.start.parent;\n    if (parent.isEmpty && !parent.is('element', '$root')) {\n        return parent.parent;\n    }\n    return parent;\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./horizontalline.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module horizontal-line/horizontallineediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { toWidget } from 'ckeditor5/src/widget.js';\nimport HorizontalLineCommand from './horizontallinecommand.js';\nimport '../theme/horizontalline.css';\n/**\n * The horizontal line editing feature.\n */\nexport default class HorizontalLineEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'HorizontalLineEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const schema = editor.model.schema;\n        const t = editor.t;\n        const conversion = editor.conversion;\n        schema.register('horizontalLine', {\n            inheritAllFrom: '$blockObject'\n        });\n        conversion.for('dataDowncast').elementToElement({\n            model: 'horizontalLine',\n            view: (modelElement, { writer }) => {\n                return writer.createEmptyElement('hr');\n            }\n        });\n        conversion.for('editingDowncast').elementToStructure({\n            model: 'horizontalLine',\n            view: (modelElement, { writer }) => {\n                const label = t('Horizontal line');\n                const viewWrapper = writer.createContainerElement('div', null, writer.createEmptyElement('hr'));\n                writer.addClass('ck-horizontal-line', viewWrapper);\n                writer.setCustomProperty('hr', true, viewWrapper);\n                return toHorizontalLineWidget(viewWrapper, writer, label);\n            }\n        });\n        conversion.for('upcast').elementToElement({ view: 'hr', model: 'horizontalLine' });\n        editor.commands.add('horizontalLine', new HorizontalLineCommand(editor));\n    }\n}\n/**\n * Converts a given {@link module:engine/view/element~Element} to a horizontal line widget:\n * * Adds a {@link module:engine/view/element~Element#_setCustomProperty custom property} allowing to\n *   recognize the horizontal line widget element.\n * * Calls the {@link module:widget/utils~toWidget} function with the proper element's label creator.\n *\n * @param writer An instance of the view writer.\n */\nfunction toHorizontalLineWidget(viewElement, writer, label) {\n    writer.setCustomProperty('horizontalLine', true, viewElement);\n    return toWidget(viewElement, writer, { label });\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module horizontal-line/horizontallineui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { IconHorizontalLine } from 'ckeditor5/src/icons.js';\nimport { ButtonView, MenuBarMenuListItemButtonView } from 'ckeditor5/src/ui.js';\n/**\n * The horizontal line UI plugin.\n */\nexport default class HorizontalLineUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'HorizontalLineUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        // Add the `horizontalLine` button to feature components.\n        editor.ui.componentFactory.add('horizontalLine', () => {\n            const buttonView = this._createButton(ButtonView);\n            buttonView.set({\n                tooltip: true\n            });\n            return buttonView;\n        });\n        editor.ui.componentFactory.add('menuBar:horizontalLine', () => {\n            return this._createButton(MenuBarMenuListItemButtonView);\n        });\n    }\n    /**\n     * Creates a button for horizontal line command to use either in toolbar or in menu bar.\n     */\n    _createButton(ButtonClass) {\n        const editor = this.editor;\n        const locale = editor.locale;\n        const command = editor.commands.get('horizontalLine');\n        const view = new ButtonClass(editor.locale);\n        const t = locale.t;\n        view.set({\n            label: t('Horizontal line'),\n            icon: IconHorizontalLine\n        });\n        view.bind('isEnabled').to(command, 'isEnabled');\n        // Execute the command.\n        this.listenTo(view, 'execute', () => {\n            editor.execute('horizontalLine');\n            editor.editing.view.focus();\n        });\n        return view;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module horizontal-line/horizontalline\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Widget } from 'ckeditor5/src/widget.js';\nimport HorizontalLineEditing from './horizontallineediting.js';\nimport HorizontalLineUI from './horizontallineui.js';\n/**\n * The horizontal line feature.\n *\n * It provides the possibility to insert a horizontal line into the rich-text editor.\n *\n * For a detailed overview, check the {@glink features/horizontal-line Horizontal line feature} documentation.\n */\nexport default class HorizontalLine extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [HorizontalLineEditing, HorizontalLineUI, Widget];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'HorizontalLine';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { findOptimalInsertionRange } from 'ckeditor5/src/widget.js';\n/**\n * The insert HTML embed element command.\n *\n * The command is registered by {@link module:html-embed/htmlembedediting~HtmlEmbedEditing} as `'htmlEmbed'`.\n *\n * To insert an empty HTML embed element at the current selection, execute the command:\n *\n * ```ts\n * editor.execute( 'htmlEmbed' );\n * ```\n *\n * You can specify the initial content of a new HTML embed in the argument:\n *\n * ```ts\n * editor.execute( 'htmlEmbed', '<b>Initial content.</b>' );\n * ```\n *\n * To update the content of the HTML embed, select it in the model and pass the content in the argument:\n *\n * ```ts\n * editor.execute( 'htmlEmbed', '<b>New content of an existing embed.</b>' );\n * ```\n */\nexport default class HtmlEmbedCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const model = this.editor.model;\n        const schema = model.schema;\n        const selection = model.document.selection;\n        const selectedRawHtmlElement = getSelectedRawHtmlModelWidget(selection);\n        this.isEnabled = isHtmlEmbedAllowedInParent(selection, schema, model);\n        this.value = selectedRawHtmlElement ? selectedRawHtmlElement.getAttribute('value') || '' : null;\n    }\n    /**\n     * Executes the command, which either:\n     *\n     * * creates and inserts a new HTML embed element if none was selected,\n     * * updates the content of the HTML embed if one was selected.\n     *\n     * @fires execute\n     * @param value When passed, the value (content) will be set on a new embed or a selected one.\n     */\n    execute(value) {\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        model.change(writer => {\n            let htmlEmbedElement;\n            // If the command has a non-null value, there must be some HTML embed selected in the model.\n            if (this.value !== null) {\n                htmlEmbedElement = getSelectedRawHtmlModelWidget(selection);\n            }\n            else {\n                htmlEmbedElement = writer.createElement('rawHtml');\n                model.insertObject(htmlEmbedElement, null, null, { setSelection: 'on' });\n            }\n            writer.setAttribute('value', value, htmlEmbedElement);\n        });\n    }\n}\n/**\n * Checks if an HTML embed is allowed by the schema in the optimal insertion parent.\n */\nfunction isHtmlEmbedAllowedInParent(selection, schema, model) {\n    const parent = getInsertHtmlEmbedParent(selection, model);\n    return schema.checkChild(parent, 'rawHtml');\n}\n/**\n * Returns a node that will be used to insert a html embed with `model.insertContent` to check if a html embed element can be placed there.\n */\nfunction getInsertHtmlEmbedParent(selection, model) {\n    const insertionRange = findOptimalInsertionRange(selection, model);\n    const parent = insertionRange.start.parent;\n    if (parent.isEmpty && !parent.is('rootElement')) {\n        return parent.parent;\n    }\n    return parent;\n}\n/**\n * Returns the selected HTML embed element in the model, if any.\n */\nfunction getSelectedRawHtmlModelWidget(selection) {\n    const selectedElement = selection.getSelectedElement();\n    if (selectedElement && selectedElement.is('element', 'rawHtml')) {\n        return selectedElement;\n    }\n    return null;\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./htmlembed.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module html-embed/htmlembedediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { ButtonView } from 'ckeditor5/src/ui.js';\nimport { toWidget } from 'ckeditor5/src/widget.js';\nimport { logWarning, createElement } from 'ckeditor5/src/utils.js';\nimport { IconCancel, IconCheck, IconPencil } from 'ckeditor5/src/icons.js';\nimport HtmlEmbedCommand from './htmlembedcommand.js';\nimport '../theme/htmlembed.css';\n/**\n * The HTML embed editing feature.\n */\nexport default class HtmlEmbedEditing extends Plugin {\n    /**\n     * Keeps references to {@link module:ui/button/buttonview~ButtonView edit, save, and cancel} button instances created for\n     * each widget so they can be destroyed if they are no longer in DOM after the editing view was re-rendered.\n     */\n    _widgetButtonViewReferences = new Set();\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'HtmlEmbedEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        editor.config.define('htmlEmbed', {\n            showPreviews: false,\n            sanitizeHtml: rawHtml => {\n                /**\n                 * When using the HTML embed feature with the `config.htmlEmbed.showPreviews` set to `true`, it is strongly recommended to\n                 * define a sanitize function that will clean up the input HTML in order to avoid XSS vulnerability.\n                 *\n                 * For a detailed overview, check the {@glink features/html/html-embed HTML embed feature} documentation.\n                 *\n                 * @error html-embed-provide-sanitize-function\n                 */\n                logWarning('html-embed-provide-sanitize-function');\n                return {\n                    html: rawHtml,\n                    hasChanged: false\n                };\n            }\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const schema = editor.model.schema;\n        schema.register('rawHtml', {\n            inheritAllFrom: '$blockObject',\n            allowAttributes: ['value']\n        });\n        editor.commands.add('htmlEmbed', new HtmlEmbedCommand(editor));\n        this._setupConversion();\n    }\n    /**\n     * Prepares converters for the feature.\n     */\n    _setupConversion() {\n        const editor = this.editor;\n        const t = editor.t;\n        const view = editor.editing.view;\n        const widgetButtonViewReferences = this._widgetButtonViewReferences;\n        const htmlEmbedConfig = editor.config.get('htmlEmbed');\n        // Destroy UI buttons created for widgets that have been removed from the view document (e.g. in the previous conversion).\n        // This prevents unexpected memory leaks from UI views.\n        this.editor.editing.view.on('render', () => {\n            for (const buttonView of widgetButtonViewReferences) {\n                if (buttonView.element && buttonView.element.isConnected) {\n                    return;\n                }\n                buttonView.destroy();\n                widgetButtonViewReferences.delete(buttonView);\n            }\n        }, { priority: 'lowest' });\n        // Register div.raw-html-embed as a raw content element so all of it's content will be provided\n        // as a view element's custom property while data upcasting.\n        editor.data.registerRawContentMatcher({\n            name: 'div',\n            classes: 'raw-html-embed'\n        });\n        editor.conversion.for('upcast').elementToElement({\n            view: {\n                name: 'div',\n                classes: 'raw-html-embed'\n            },\n            model: (viewElement, { writer }) => {\n                // The div.raw-html-embed is registered as a raw content element,\n                // so all it's content is available in a custom property.\n                return writer.createElement('rawHtml', {\n                    value: viewElement.getCustomProperty('$rawContent')\n                });\n            }\n        });\n        editor.conversion.for('dataDowncast').elementToElement({\n            model: 'rawHtml',\n            view: (modelElement, { writer }) => {\n                return writer.createRawElement('div', { class: 'raw-html-embed' }, function (domElement) {\n                    domElement.innerHTML = modelElement.getAttribute('value') || '';\n                });\n            }\n        });\n        editor.conversion.for('editingDowncast').elementToStructure({\n            model: { name: 'rawHtml', attributes: ['value'] },\n            view: (modelElement, { writer }) => {\n                let domContentWrapper;\n                let state;\n                let props;\n                const viewContentWrapper = writer.createRawElement('div', {\n                    class: 'raw-html-embed__content-wrapper'\n                }, function (domElement) {\n                    domContentWrapper = domElement;\n                    renderContent({ editor, domElement, state, props });\n                    // Since there is a `data-cke-ignore-events` attribute set on the wrapper element in the editable mode,\n                    // the explicit `mousedown` handler on the `capture` phase is needed to move the selection onto the whole\n                    // HTML embed widget.\n                    domContentWrapper.addEventListener('mousedown', () => {\n                        if (state.isEditable) {\n                            const model = editor.model;\n                            const selectedElement = model.document.selection.getSelectedElement();\n                            // Move the selection onto the whole HTML embed widget if it's currently not selected.\n                            if (selectedElement !== modelElement) {\n                                model.change(writer => writer.setSelection(modelElement, 'on'));\n                            }\n                        }\n                    }, true);\n                });\n                // API exposed on each raw HTML embed widget so other features can control a particular widget.\n                const rawHtmlApi = {\n                    makeEditable() {\n                        state = Object.assign({}, state, {\n                            isEditable: true\n                        });\n                        renderContent({ domElement: domContentWrapper, editor, state, props });\n                        view.change(writer => {\n                            writer.setAttribute('data-cke-ignore-events', 'true', viewContentWrapper);\n                        });\n                        // This could be potentially pulled to a separate method called focusTextarea().\n                        domContentWrapper.querySelector('textarea').focus();\n                    },\n                    save(newValue) {\n                        // If the value didn't change, we just cancel. If it changed,\n                        // it's enough to update the model – the entire widget will be reconverted.\n                        if (newValue !== state.getRawHtmlValue()) {\n                            editor.execute('htmlEmbed', newValue);\n                            editor.editing.view.focus();\n                        }\n                        else {\n                            this.cancel();\n                        }\n                    },\n                    cancel() {\n                        state = Object.assign({}, state, {\n                            isEditable: false\n                        });\n                        renderContent({ domElement: domContentWrapper, editor, state, props });\n                        editor.editing.view.focus();\n                        view.change(writer => {\n                            writer.removeAttribute('data-cke-ignore-events', viewContentWrapper);\n                        });\n                    }\n                };\n                state = {\n                    showPreviews: htmlEmbedConfig.showPreviews,\n                    isEditable: false,\n                    getRawHtmlValue: () => modelElement.getAttribute('value') || ''\n                };\n                props = {\n                    sanitizeHtml: htmlEmbedConfig.sanitizeHtml,\n                    textareaPlaceholder: t('Paste raw HTML here...'),\n                    onEditClick() {\n                        rawHtmlApi.makeEditable();\n                    },\n                    onSaveClick(newValue) {\n                        rawHtmlApi.save(newValue);\n                    },\n                    onCancelClick() {\n                        rawHtmlApi.cancel();\n                    }\n                };\n                const viewContainer = writer.createContainerElement('div', {\n                    class: 'raw-html-embed',\n                    'data-html-embed-label': t('HTML snippet'),\n                    dir: editor.locale.uiLanguageDirection\n                }, viewContentWrapper);\n                writer.setCustomProperty('rawHtmlApi', rawHtmlApi, viewContainer);\n                writer.setCustomProperty('rawHtml', true, viewContainer);\n                return toWidget(viewContainer, writer, {\n                    label: t('HTML snippet'),\n                    hasSelectionHandle: true\n                });\n            }\n        });\n        function renderContent({ editor, domElement, state, props }) {\n            // Remove all children;\n            domElement.textContent = '';\n            const domDocument = domElement.ownerDocument;\n            let domTextarea;\n            if (state.isEditable) {\n                const textareaProps = {\n                    isDisabled: false,\n                    placeholder: props.textareaPlaceholder\n                };\n                domTextarea = createDomTextarea({ domDocument, state, props: textareaProps });\n                domElement.append(domTextarea);\n            }\n            else if (state.showPreviews) {\n                const previewContainerProps = {\n                    sanitizeHtml: props.sanitizeHtml\n                };\n                domElement.append(createPreviewContainer({ domDocument, state, props: previewContainerProps, editor }));\n            }\n            else {\n                const textareaProps = {\n                    isDisabled: true,\n                    placeholder: props.textareaPlaceholder\n                };\n                domElement.append(createDomTextarea({ domDocument, state, props: textareaProps }));\n            }\n            const buttonsWrapperProps = {\n                onEditClick: props.onEditClick,\n                onSaveClick: () => {\n                    props.onSaveClick(domTextarea.value);\n                },\n                onCancelClick: props.onCancelClick\n            };\n            domElement.prepend(createDomButtonsWrapper({ editor, domDocument, state, props: buttonsWrapperProps }));\n        }\n        function createDomButtonsWrapper({ editor, domDocument, state, props }) {\n            const domButtonsWrapper = createElement(domDocument, 'div', {\n                class: 'raw-html-embed__buttons-wrapper'\n            });\n            if (state.isEditable) {\n                const saveButtonView = createUIButton(editor, 'save', props.onSaveClick);\n                const cancelButtonView = createUIButton(editor, 'cancel', props.onCancelClick);\n                domButtonsWrapper.append(saveButtonView.element, cancelButtonView.element);\n                widgetButtonViewReferences.add(saveButtonView).add(cancelButtonView);\n            }\n            else {\n                const editButtonView = createUIButton(editor, 'edit', props.onEditClick);\n                domButtonsWrapper.append(editButtonView.element);\n                widgetButtonViewReferences.add(editButtonView);\n            }\n            return domButtonsWrapper;\n        }\n        function createDomTextarea({ domDocument, state, props }) {\n            const domTextarea = createElement(domDocument, 'textarea', {\n                placeholder: props.placeholder,\n                class: 'ck ck-reset ck-input ck-input-text raw-html-embed__source'\n            });\n            domTextarea.disabled = props.isDisabled;\n            domTextarea.value = state.getRawHtmlValue();\n            return domTextarea;\n        }\n        function createPreviewContainer({ editor, domDocument, state, props }) {\n            const sanitizedOutput = props.sanitizeHtml(state.getRawHtmlValue());\n            const placeholderText = state.getRawHtmlValue().length > 0 ?\n                t('No preview available') :\n                t('Empty snippet content');\n            const domPreviewPlaceholder = createElement(domDocument, 'div', {\n                class: 'ck ck-reset_all raw-html-embed__preview-placeholder'\n            }, placeholderText);\n            const domPreviewContent = createElement(domDocument, 'div', {\n                class: 'raw-html-embed__preview-content',\n                dir: editor.locale.contentLanguageDirection\n            });\n            // Creating a contextual document fragment allows executing scripts when inserting into the preview element.\n            // See: #8326.\n            const domRange = domDocument.createRange();\n            const domDocumentFragment = domRange.createContextualFragment(sanitizedOutput.html);\n            domPreviewContent.appendChild(domDocumentFragment);\n            const domPreviewContainer = createElement(domDocument, 'div', {\n                class: 'raw-html-embed__preview'\n            }, [\n                domPreviewPlaceholder, domPreviewContent\n            ]);\n            return domPreviewContainer;\n        }\n    }\n}\n/**\n * Returns a UI button view that can be used in conversion.\n */\nfunction createUIButton(editor, type, onClick) {\n    const { t } = editor.locale;\n    const buttonView = new ButtonView(editor.locale);\n    const command = editor.commands.get('htmlEmbed');\n    buttonView.set({\n        class: `raw-html-embed__${type}-button`,\n        icon: IconPencil,\n        tooltip: true,\n        tooltipPosition: editor.locale.uiLanguageDirection === 'rtl' ? 'e' : 'w'\n    });\n    buttonView.render();\n    if (type === 'edit') {\n        buttonView.set({\n            icon: IconPencil,\n            label: t('Edit source')\n        });\n        buttonView.bind('isEnabled').to(command);\n    }\n    else if (type === 'save') {\n        buttonView.set({\n            icon: IconCheck,\n            label: t('Save changes')\n        });\n        buttonView.bind('isEnabled').to(command);\n    }\n    else {\n        buttonView.set({\n            icon: IconCancel,\n            label: t('Cancel')\n        });\n    }\n    buttonView.on('execute', onClick);\n    return buttonView;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module html-embed/htmlembedui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { IconHtml } from 'ckeditor5/src/icons.js';\nimport { ButtonView, MenuBarMenuListItemButtonView } from 'ckeditor5/src/ui.js';\n/**\n * The HTML embed UI plugin.\n */\nexport default class HtmlEmbedUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'HtmlEmbedUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const locale = editor.locale;\n        const t = locale.t;\n        // Add the `htmlEmbed` button to feature components.\n        editor.ui.componentFactory.add('htmlEmbed', () => {\n            const buttonView = this._createButton(ButtonView);\n            buttonView.set({\n                tooltip: true,\n                label: t('Insert HTML')\n            });\n            return buttonView;\n        });\n        editor.ui.componentFactory.add('menuBar:htmlEmbed', () => {\n            const buttonView = this._createButton(MenuBarMenuListItemButtonView);\n            buttonView.set({\n                label: t('HTML snippet')\n            });\n            return buttonView;\n        });\n    }\n    /**\n     * Creates a button for html embed command to use either in toolbar or in menu bar.\n     */\n    _createButton(ButtonClass) {\n        const editor = this.editor;\n        const command = editor.commands.get('htmlEmbed');\n        const view = new ButtonClass(editor.locale);\n        view.set({\n            icon: IconHtml\n        });\n        view.bind('isEnabled').to(command, 'isEnabled');\n        // Execute the command.\n        this.listenTo(view, 'execute', () => {\n            editor.execute('htmlEmbed');\n            editor.editing.view.focus();\n            const rawHtmlApi = editor.editing.view.document.selection\n                .getSelectedElement()\n                .getCustomProperty('rawHtmlApi');\n            rawHtmlApi.makeEditable();\n        });\n        return view;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module html-embed/htmlembed\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Widget } from 'ckeditor5/src/widget.js';\nimport HtmlEmbedEditing from './htmlembedediting.js';\nimport HtmlEmbedUI from './htmlembedui.js';\n/**\n * The HTML embed feature.\n *\n * It allows inserting HTML snippets directly into the editor.\n *\n * For a detailed overview, check the {@glink features/html/html-embed HTML embed feature} documentation.\n */\nexport default class HtmlEmbed extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [HtmlEmbedEditing, HtmlEmbedUI, Widget];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'HtmlEmbed';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module indent/indentediting\n */\nimport { Plugin, MultiCommand } from 'ckeditor5/src/core.js';\n/**\n * The indent editing feature.\n *\n * This plugin registers the `'indent'` and `'outdent'` commands.\n *\n * **Note**: In order for the commands to work, at least one of the compatible features is required. Read more in the\n * {@link module:indent/indent~Indent indent feature} API documentation.\n */\nexport default class IndentEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'IndentEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        editor.commands.add('indent', new MultiCommand(editor));\n        editor.commands.add('outdent', new MultiCommand(editor));\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module indent/indentui\n */\nimport { ButtonView, MenuBarMenuListItemButtonView } from 'ckeditor5/src/ui.js';\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { IconIndent, IconOutdent } from 'ckeditor5/src/icons.js';\n/**\n * The indent UI feature.\n *\n * This plugin registers the `'indent'` and `'outdent'` buttons.\n *\n * **Note**: In order for the commands to work, at least one of the compatible features is required. Read more in\n * the {@link module:indent/indent~Indent indent feature} API documentation.\n */\nexport default class IndentUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'IndentUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const locale = editor.locale;\n        const t = editor.t;\n        const localizedIndentIcon = locale.uiLanguageDirection == 'ltr' ? IconIndent : IconOutdent;\n        const localizedOutdentIcon = locale.uiLanguageDirection == 'ltr' ? IconOutdent : IconIndent;\n        this._defineButton('indent', t('Increase indent'), localizedIndentIcon);\n        this._defineButton('outdent', t('Decrease indent'), localizedOutdentIcon);\n    }\n    /**\n     * Defines UI buttons for both toolbar and menu bar.\n     */\n    _defineButton(commandName, label, icon) {\n        const editor = this.editor;\n        editor.ui.componentFactory.add(commandName, () => {\n            const buttonView = this._createButton(ButtonView, commandName, label, icon);\n            buttonView.set({\n                tooltip: true\n            });\n            return buttonView;\n        });\n        editor.ui.componentFactory.add('menuBar:' + commandName, () => {\n            return this._createButton(MenuBarMenuListItemButtonView, commandName, label, icon);\n        });\n    }\n    /**\n     * Creates a button to use either in toolbar or in menu bar.\n     */\n    _createButton(ButtonClass, commandName, label, icon) {\n        const editor = this.editor;\n        const command = editor.commands.get(commandName);\n        const view = new ButtonClass(editor.locale);\n        view.set({\n            label,\n            icon\n        });\n        view.bind('isEnabled').to(command, 'isEnabled');\n        // Execute the command.\n        this.listenTo(view, 'execute', () => {\n            editor.execute(commandName);\n            editor.editing.view.focus();\n        });\n        return view;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module indent/indent\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport IndentEditing from './indentediting.js';\nimport IndentUI from './indentui.js';\n/**\n * The indent feature.\n *\n * This plugin acts as a single entry point plugin for other features that implement indentation of elements like lists or paragraphs.\n *\n * The compatible features are:\n *\n * * The {@link module:list/list~List} or {@link module:list/list/listediting~ListEditing} feature for list indentation.\n * * The {@link module:indent/indentblock~IndentBlock} feature for block indentation.\n *\n * This is a \"glue\" plugin that loads the following plugins:\n *\n * * The {@link module:indent/indentediting~IndentEditing indent editing feature}.\n * * The {@link module:indent/indentui~IndentUI indent UI feature}.\n *\n * The dependent plugins register the `'indent'` and `'outdent'` commands and introduce the `'indent'` and `'outdent'` buttons\n * that allow to increase or decrease text indentation of supported elements.\n *\n * **Note**: In order for the commands and buttons to work, at least one of compatible features is required.\n */\nexport default class Indent extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'Indent';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [IndentEditing, IndentUI];\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module indent/indentblockcommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { first } from 'ckeditor5/src/utils.js';\n/**\n * The indent block command.\n *\n * The command is registered by the {@link module:indent/indentblock~IndentBlock} as `'indentBlock'` for indenting blocks and\n * `'outdentBlock'` for outdenting blocks.\n *\n * To increase block indentation at the current selection, execute the command:\n *\n * ```ts\n * editor.execute( 'indentBlock' );\n * ```\n *\n * To decrease block indentation at the current selection, execute the command:\n *\n * ```ts\n * editor.execute( 'outdentBlock' );\n * ```\n */\nexport default class IndentBlockCommand extends Command {\n    /**\n     * The command's indentation behavior.\n     */\n    _indentBehavior;\n    /**\n     * Creates an instance of the command.\n     */\n    constructor(editor, indentBehavior) {\n        super(editor);\n        this._indentBehavior = indentBehavior;\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const editor = this.editor;\n        const model = editor.model;\n        const block = first(model.document.selection.getSelectedBlocks());\n        if (!block || !this._isIndentationChangeAllowed(block)) {\n            this.isEnabled = false;\n            return;\n        }\n        this.isEnabled = this._indentBehavior.checkEnabled(block.getAttribute('blockIndent'));\n    }\n    /**\n     * @inheritDoc\n     */\n    execute() {\n        const model = this.editor.model;\n        const blocksToChange = this._getBlocksToChange();\n        model.change(writer => {\n            for (const block of blocksToChange) {\n                const currentIndent = block.getAttribute('blockIndent');\n                const nextIndent = this._indentBehavior.getNextIndent(currentIndent);\n                if (nextIndent) {\n                    writer.setAttribute('blockIndent', nextIndent, block);\n                }\n                else {\n                    writer.removeAttribute('blockIndent', block);\n                }\n            }\n        });\n    }\n    /**\n     * Returns blocks from selection that should have blockIndent selection set.\n     */\n    _getBlocksToChange() {\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        const blocksInSelection = Array.from(selection.getSelectedBlocks());\n        return blocksInSelection.filter(block => this._isIndentationChangeAllowed(block));\n    }\n    /**\n     * Returns false if indentation cannot be applied, i.e.:\n     * - for blocks disallowed by schema declaration\n     * - for blocks in Document Lists (disallowed forward indentation only). See https://github.com/ckeditor/ckeditor5/issues/14155.\n     * Otherwise returns true.\n     */\n    _isIndentationChangeAllowed(element) {\n        const editor = this.editor;\n        if (!editor.model.schema.checkAttribute(element, 'blockIndent')) {\n            return false;\n        }\n        if (!editor.plugins.has('ListUtils')) {\n            return true;\n        }\n        // Only forward indentation is disallowed in list items. This allows the user to outdent blocks that are already indented.\n        if (!this._indentBehavior.isForward) {\n            return true;\n        }\n        const documentListUtils = editor.plugins.get('ListUtils');\n        return !documentListUtils.isListItemBlock(element);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * The block indentation behavior that uses offsets to set indentation.\n */\nexport default class IndentUsingOffset {\n    /**\n     * The direction of indentation.\n     */\n    isForward;\n    /**\n     * The offset of the next indentation step.\n     */\n    offset;\n    /**\n     * Indentation unit.\n     */\n    unit;\n    /**\n     * Creates an instance of the indentation behavior.\n     *\n     * @param config.direction The direction of indentation.\n     * @param config.offset The offset of the next indentation step.\n     * @param config.unit Indentation unit.\n     */\n    constructor(config) {\n        this.isForward = config.direction === 'forward';\n        this.offset = config.offset;\n        this.unit = config.unit;\n    }\n    /**\n     * @inheritDoc\n     */\n    checkEnabled(indentAttributeValue) {\n        const currentOffset = parseFloat(indentAttributeValue || '0');\n        // The command is always enabled for forward indentation.\n        return this.isForward || currentOffset > 0;\n    }\n    /**\n     * @inheritDoc\n     */\n    getNextIndent(indentAttributeValue) {\n        const currentOffset = parseFloat(indentAttributeValue || '0');\n        const isSameUnit = !indentAttributeValue || indentAttributeValue.endsWith(this.unit);\n        if (!isSameUnit) {\n            return this.isForward ? this.offset + this.unit : undefined;\n        }\n        const nextOffset = this.isForward ? this.offset : -this.offset;\n        const offsetToSet = currentOffset + nextOffset;\n        return offsetToSet > 0 ? offsetToSet + this.unit : undefined;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * The block indentation behavior that uses classes to set indentation.\n */\nexport default class IndentUsingClasses {\n    /**\n     * The direction of indentation.\n     */\n    isForward;\n    /**\n     * A list of classes used for indentation.\n     */\n    classes;\n    /**\n     * Creates an instance of the indentation behavior.\n     *\n     * @param config.direction The direction of indentation.\n     * @param config.classes A list of classes used for indentation.\n     */\n    constructor(config) {\n        this.isForward = config.direction === 'forward';\n        this.classes = config.classes;\n    }\n    /**\n     * @inheritDoc\n     */\n    checkEnabled(indentAttributeValue) {\n        const currentIndex = this.classes.indexOf(indentAttributeValue);\n        if (this.isForward) {\n            return currentIndex < this.classes.length - 1;\n        }\n        else {\n            return currentIndex >= 0;\n        }\n    }\n    /**\n     * @inheritDoc\n     */\n    getNextIndent(indentAttributeValue) {\n        const currentIndex = this.classes.indexOf(indentAttributeValue);\n        const indexStep = this.isForward ? 1 : -1;\n        return this.classes[currentIndex + indexStep];\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module indent/indentblock\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { addMarginRules } from 'ckeditor5/src/engine.js';\nimport IndentBlockCommand from './indentblockcommand.js';\nimport IndentUsingOffset from './indentcommandbehavior/indentusingoffset.js';\nimport IndentUsingClasses from './indentcommandbehavior/indentusingclasses.js';\nconst DEFAULT_ELEMENTS = ['paragraph', 'heading1', 'heading2', 'heading3', 'heading4', 'heading5', 'heading6'];\n/**\n * The block indentation feature.\n *\n * It registers the `'indentBlock'` and `'outdentBlock'` commands.\n *\n * If the plugin {@link module:indent/indent~Indent} is defined, it also attaches the `'indentBlock'` and `'outdentBlock'` commands to\n * the `'indent'` and `'outdent'` commands.\n */\nexport default class IndentBlock extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        editor.config.define('indentBlock', {\n            offset: 40,\n            unit: 'px'\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'IndentBlock';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const configuration = editor.config.get('indentBlock');\n        if (configuration.classes && configuration.classes.length) {\n            this._setupConversionUsingClasses(configuration.classes);\n            editor.commands.add('indentBlock', new IndentBlockCommand(editor, new IndentUsingClasses({\n                direction: 'forward',\n                classes: configuration.classes\n            })));\n            editor.commands.add('outdentBlock', new IndentBlockCommand(editor, new IndentUsingClasses({\n                direction: 'backward',\n                classes: configuration.classes\n            })));\n        }\n        else {\n            editor.data.addStyleProcessorRules(addMarginRules);\n            this._setupConversionUsingOffset();\n            editor.commands.add('indentBlock', new IndentBlockCommand(editor, new IndentUsingOffset({\n                direction: 'forward',\n                offset: configuration.offset,\n                unit: configuration.unit\n            })));\n            editor.commands.add('outdentBlock', new IndentBlockCommand(editor, new IndentUsingOffset({\n                direction: 'backward',\n                offset: configuration.offset,\n                unit: configuration.unit\n            })));\n        }\n    }\n    /**\n     * @inheritDoc\n     */\n    afterInit() {\n        const editor = this.editor;\n        const schema = editor.model.schema;\n        const indentCommand = editor.commands.get('indent');\n        const outdentCommand = editor.commands.get('outdent');\n        // Enable block indentation to heading configuration options. If it is not defined enable in paragraph and default headings.\n        const options = editor.config.get('heading.options');\n        const configuredElements = options && options.map(option => option.model);\n        const knownElements = configuredElements || DEFAULT_ELEMENTS;\n        knownElements.forEach(elementName => {\n            if (schema.isRegistered(elementName)) {\n                schema.extend(elementName, { allowAttributes: 'blockIndent' });\n            }\n        });\n        schema.setAttributeProperties('blockIndent', { isFormatting: true });\n        indentCommand.registerChildCommand(editor.commands.get('indentBlock'));\n        outdentCommand.registerChildCommand(editor.commands.get('outdentBlock'));\n    }\n    /**\n     * Setups conversion for using offset indents.\n     */\n    _setupConversionUsingOffset() {\n        const conversion = this.editor.conversion;\n        const locale = this.editor.locale;\n        const marginProperty = locale.contentLanguageDirection === 'rtl' ? 'margin-right' : 'margin-left';\n        conversion.for('upcast').attributeToAttribute({\n            view: {\n                styles: {\n                    [marginProperty]: /[\\s\\S]+/\n                }\n            },\n            model: {\n                key: 'blockIndent',\n                value: (viewElement) => {\n                    // Do not indent block elements in Document Lists. See https://github.com/ckeditor/ckeditor5/issues/12466.\n                    if (!viewElement.is('element', 'li')) {\n                        return viewElement.getStyle(marginProperty);\n                    }\n                }\n            }\n        });\n        conversion.for('downcast').attributeToAttribute({\n            model: 'blockIndent',\n            view: modelAttributeValue => {\n                return {\n                    key: 'style',\n                    value: {\n                        [marginProperty]: modelAttributeValue\n                    }\n                };\n            }\n        });\n    }\n    /**\n     * Setups conversion for using classes.\n     */\n    _setupConversionUsingClasses(classes) {\n        const definition = {\n            model: {\n                key: 'blockIndent',\n                values: []\n            },\n            view: {}\n        };\n        for (const className of classes) {\n            definition.model.values.push(className);\n            definition.view[className] = {\n                key: 'class',\n                value: [className]\n            };\n        }\n        this.editor.conversion.attributeToAttribute(definition);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module link/utils/automaticdecorators\n */\nimport { toMap } from 'ckeditor5/src/utils.js';\n/**\n * Helper class that ties together all {@link module:link/linkconfig~LinkDecoratorAutomaticDefinition} and provides\n * the {@link module:engine/conversion/downcasthelpers~DowncastHelpers#attributeToElement downcast dispatchers} for them.\n */\nexport default class AutomaticDecorators {\n    /**\n     * Stores the definition of {@link module:link/linkconfig~LinkDecoratorAutomaticDefinition automatic decorators}.\n     * This data is used as a source for a downcast dispatcher to create a proper conversion to output data.\n     */\n    _definitions = new Set();\n    /**\n     * Gives information about the number of decorators stored in the {@link module:link/utils/automaticdecorators~AutomaticDecorators}\n     * instance.\n     */\n    get length() {\n        return this._definitions.size;\n    }\n    /**\n     * Adds automatic decorator objects or an array with them to be used during downcasting.\n     *\n     * @param item A configuration object of automatic rules for decorating links. It might also be an array of such objects.\n     */\n    add(item) {\n        if (Array.isArray(item)) {\n            item.forEach(item => this._definitions.add(item));\n        }\n        else {\n            this._definitions.add(item);\n        }\n    }\n    /**\n     * Provides the conversion helper used in the {@link module:engine/conversion/downcasthelpers~DowncastHelpers#add} method.\n     *\n     * @returns A dispatcher function used as conversion helper in {@link module:engine/conversion/downcasthelpers~DowncastHelpers#add}.\n     */\n    getDispatcher() {\n        return dispatcher => {\n            dispatcher.on('attribute:linkHref', (evt, data, conversionApi) => {\n                // There is only test as this behavior decorates links and\n                // it is run before dispatcher which actually consumes this node.\n                // This allows on writing own dispatcher with highest priority,\n                // which blocks both native converter and this additional decoration.\n                if (!conversionApi.consumable.test(data.item, 'attribute:linkHref')) {\n                    return;\n                }\n                // Automatic decorators for block links are handled e.g. in LinkImageEditing.\n                if (!(data.item.is('selection') || conversionApi.schema.isInline(data.item))) {\n                    return;\n                }\n                const viewWriter = conversionApi.writer;\n                const viewSelection = viewWriter.document.selection;\n                for (const item of this._definitions) {\n                    const viewElement = viewWriter.createAttributeElement('a', item.attributes, {\n                        priority: 5\n                    });\n                    if (item.classes) {\n                        viewWriter.addClass(item.classes, viewElement);\n                    }\n                    for (const key in item.styles) {\n                        viewWriter.setStyle(key, item.styles[key], viewElement);\n                    }\n                    viewWriter.setCustomProperty('link', true, viewElement);\n                    if (item.callback(data.attributeNewValue)) {\n                        if (data.item.is('selection')) {\n                            viewWriter.wrap(viewSelection.getFirstRange(), viewElement);\n                        }\n                        else {\n                            viewWriter.wrap(conversionApi.mapper.toViewRange(data.range), viewElement);\n                        }\n                    }\n                    else {\n                        viewWriter.unwrap(conversionApi.mapper.toViewRange(data.range), viewElement);\n                    }\n                }\n            }, { priority: 'high' });\n        };\n    }\n    /**\n     * Provides the conversion helper used in the {@link module:engine/conversion/downcasthelpers~DowncastHelpers#add} method\n     * when linking images.\n     *\n     * @returns A dispatcher function used as conversion helper in {@link module:engine/conversion/downcasthelpers~DowncastHelpers#add}.\n     */\n    getDispatcherForLinkedImage() {\n        return dispatcher => {\n            dispatcher.on('attribute:linkHref:imageBlock', (evt, data, { writer, mapper }) => {\n                const viewFigure = mapper.toViewElement(data.item);\n                const linkInImage = Array.from(viewFigure.getChildren())\n                    .find((child) => child.is('element', 'a'));\n                // It's not guaranteed that the anchor is present in the image block during execution of this dispatcher.\n                // It might have been removed during the execution of unlink command that runs the image link downcast dispatcher\n                // that is executed before this one and removes the anchor from the image block.\n                if (!linkInImage) {\n                    return;\n                }\n                for (const item of this._definitions) {\n                    const attributes = toMap(item.attributes);\n                    if (item.callback(data.attributeNewValue)) {\n                        for (const [key, val] of attributes) {\n                            // Left for backward compatibility. Since v30 decorator should\n                            // accept `classes` and `styles` separately from `attributes`.\n                            if (key === 'class') {\n                                writer.addClass(val, linkInImage);\n                            }\n                            else {\n                                writer.setAttribute(key, val, linkInImage);\n                            }\n                        }\n                        if (item.classes) {\n                            writer.addClass(item.classes, linkInImage);\n                        }\n                        for (const key in item.styles) {\n                            writer.setStyle(key, item.styles[key], linkInImage);\n                        }\n                    }\n                    else {\n                        for (const [key, val] of attributes) {\n                            if (key === 'class') {\n                                writer.removeClass(val, linkInImage);\n                            }\n                            else {\n                                writer.removeAttribute(key, linkInImage);\n                            }\n                        }\n                        if (item.classes) {\n                            writer.removeClass(item.classes, linkInImage);\n                        }\n                        for (const key in item.styles) {\n                            writer.removeStyle(key, linkInImage);\n                        }\n                    }\n                }\n            });\n        };\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { upperFirst } from 'es-toolkit/compat';\nconst ATTRIBUTE_WHITESPACES = /[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205f\\u3000]/g; // eslint-disable-line no-control-regex\nconst SAFE_URL_TEMPLATE = '^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))';\n// Simplified email test - should be run over previously found URL.\nconst EMAIL_REG_EXP = /^[\\S]+@((?![-_])(?:[-\\w\\u00a1-\\uffff]{0,63}[^-_]\\.))+(?:[a-z\\u00a1-\\uffff]{2,})$/i;\n// The regex checks for the protocol syntax ('xxxx://' or 'xxxx:')\n// or non-word characters at the beginning of the link ('/', '#' etc.).\nconst PROTOCOL_REG_EXP = /^((\\w+:(\\/{2,})?)|(\\W))/i;\nconst DEFAULT_LINK_PROTOCOLS = [\n    'https?',\n    'ftps?',\n    'mailto'\n];\n/**\n * A keystroke used by the {@link module:link/linkui~LinkUI link UI feature}.\n */\nexport const LINK_KEYSTROKE = 'Ctrl+K';\n/**\n * Returns `true` if a given view node is the link element.\n */\nexport function isLinkElement(node) {\n    return node.is('attributeElement') && !!node.getCustomProperty('link');\n}\n/**\n * Creates a link {@link module:engine/view/attributeelement~AttributeElement} with the provided `href` attribute.\n */\nexport function createLinkElement(href, { writer }) {\n    // Priority 5 - https://github.com/ckeditor/ckeditor5-link/issues/121.\n    const linkElement = writer.createAttributeElement('a', { href }, { priority: 5 });\n    writer.setCustomProperty('link', true, linkElement);\n    return linkElement;\n}\n/**\n * Returns a safe URL based on a given value.\n *\n * A URL is considered safe if it is safe for the user (does not contain any malicious code).\n *\n * If a URL is considered unsafe, a simple `\"#\"` is returned.\n *\n * @internal\n */\nexport function ensureSafeUrl(url, allowedProtocols = DEFAULT_LINK_PROTOCOLS) {\n    const urlString = String(url);\n    const protocolsList = allowedProtocols.join('|');\n    const customSafeRegex = new RegExp(`${SAFE_URL_TEMPLATE.replace('<protocols>', protocolsList)}`, 'i');\n    return isSafeUrl(urlString, customSafeRegex) ? urlString : '#';\n}\n/**\n * Checks whether the given URL is safe for the user (does not contain any malicious code).\n */\nfunction isSafeUrl(url, customRegexp) {\n    const normalizedUrl = url.replace(ATTRIBUTE_WHITESPACES, '');\n    return !!normalizedUrl.match(customRegexp);\n}\n/**\n * Returns the {@link module:link/linkconfig~LinkConfig#decorators `config.link.decorators`} configuration processed\n * to respect the locale of the editor, i.e. to display the {@link module:link/linkconfig~LinkDecoratorManualDefinition label}\n * in the correct language.\n *\n * **Note**: Only the few most commonly used labels are translated automatically. Other labels should be manually\n * translated in the {@link module:link/linkconfig~LinkConfig#decorators `config.link.decorators`} configuration.\n *\n * @param t Shorthand for {@link module:utils/locale~Locale#t Locale#t}.\n * @param decorators The decorator reference where the label values should be localized.\n */\nexport function getLocalizedDecorators(t, decorators) {\n    const localizedDecoratorsLabels = {\n        'Open in a new tab': t('Open in a new tab'),\n        'Downloadable': t('Downloadable')\n    };\n    decorators.forEach(decorator => {\n        if ('label' in decorator && localizedDecoratorsLabels[decorator.label]) {\n            decorator.label = localizedDecoratorsLabels[decorator.label];\n        }\n        return decorator;\n    });\n    return decorators;\n}\n/**\n * Converts an object with defined decorators to a normalized array of decorators. The `id` key is added for each decorator and\n * is used as the attribute's name in the model.\n */\nexport function normalizeDecorators(decorators) {\n    const retArray = [];\n    if (decorators) {\n        for (const [key, value] of Object.entries(decorators)) {\n            const decorator = Object.assign({}, value, { id: `link${upperFirst(key)}` });\n            retArray.push(decorator);\n        }\n    }\n    return retArray;\n}\n/**\n * Returns `true` if the specified `element` can be linked (the element allows the `linkHref` attribute).\n */\nexport function isLinkableElement(element, schema) {\n    if (!element) {\n        return false;\n    }\n    return schema.checkAttribute(element.name, 'linkHref');\n}\n/**\n * Returns `true` if the specified `value` is an email.\n */\nexport function isEmail(value) {\n    return EMAIL_REG_EXP.test(value);\n}\n/**\n * Adds the protocol prefix to the specified `link` when:\n *\n * * it does not contain it already, and there is a {@link module:link/linkconfig~LinkConfig#defaultProtocol `defaultProtocol` }\n * configuration value provided,\n * * or the link is an email address.\n */\nexport function addLinkProtocolIfApplicable(link, defaultProtocol) {\n    const protocol = isEmail(link) ? 'mailto:' : defaultProtocol;\n    const isProtocolNeeded = !!protocol && !linkHasProtocol(link);\n    return link && isProtocolNeeded ? protocol + link : link;\n}\n/**\n * Checks if protocol is already included in the link.\n */\nexport function linkHasProtocol(link) {\n    return PROTOCOL_REG_EXP.test(link);\n}\n/**\n * Opens the link in a new browser tab.\n */\nexport function openLink(link) {\n    window.open(link, '_blank', 'noopener');\n}\n/**\n * Returns a text of a link range.\n *\n * If the returned value is `undefined`, the range contains elements other than text nodes.\n */\nexport function extractTextFromLinkRange(range) {\n    let text = '';\n    for (const item of range.getItems()) {\n        if (!item.is('$text') && !item.is('$textProxy')) {\n            return;\n        }\n        text += item.data;\n    }\n    return text;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module link/linkcommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { findAttributeRange } from 'ckeditor5/src/typing.js';\nimport { Collection, diff, first, toMap } from 'ckeditor5/src/utils.js';\nimport { LivePosition } from 'ckeditor5/src/engine.js';\nimport AutomaticDecorators from './utils/automaticdecorators.js';\nimport { extractTextFromLinkRange, isLinkableElement } from './utils.js';\n/**\n * The link command. It is used by the {@link module:link/link~Link link feature}.\n */\nexport default class LinkCommand extends Command {\n    /**\n     * A collection of {@link module:link/utils/manualdecorator~ManualDecorator manual decorators}\n     * corresponding to the {@link module:link/linkconfig~LinkConfig#decorators decorator configuration}.\n     *\n     * You can consider it a model with states of manual decorators added to the currently selected link.\n     */\n    manualDecorators = new Collection();\n    /**\n     * An instance of the helper that ties together all {@link module:link/linkconfig~LinkDecoratorAutomaticDefinition}\n     * that are used by the {@glink features/link link} and the {@glink features/images/images-linking linking images} features.\n     */\n    automaticDecorators = new AutomaticDecorators();\n    /**\n     * Synchronizes the state of {@link #manualDecorators} with the currently present elements in the model.\n     */\n    restoreManualDecoratorStates() {\n        for (const manualDecorator of this.manualDecorators) {\n            manualDecorator.value = this._getDecoratorStateFromModel(manualDecorator.id);\n        }\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        const selectedElement = selection.getSelectedElement() || first(selection.getSelectedBlocks());\n        // A check for any integration that allows linking elements (e.g. `LinkImage`).\n        // Currently the selection reads attributes from text nodes only. See #7429 and #7465.\n        if (isLinkableElement(selectedElement, model.schema)) {\n            this.value = selectedElement.getAttribute('linkHref');\n            this.isEnabled = model.schema.checkAttribute(selectedElement, 'linkHref');\n        }\n        else {\n            this.value = selection.getAttribute('linkHref');\n            this.isEnabled = model.schema.checkAttributeInSelection(selection, 'linkHref');\n        }\n        for (const manualDecorator of this.manualDecorators) {\n            manualDecorator.value = this._getDecoratorStateFromModel(manualDecorator.id);\n        }\n    }\n    /**\n     * Executes the command.\n     *\n     * When the selection is non-collapsed, the `linkHref` attribute will be applied to nodes inside the selection, but only to\n     * those nodes where the `linkHref` attribute is allowed (disallowed nodes will be omitted).\n     *\n     * When the selection is collapsed and is not inside the text with the `linkHref` attribute, a\n     * new {@link module:engine/model/text~Text text node} with the `linkHref` attribute will be inserted in place of the caret, but\n     * only if such element is allowed in this place. The `_data` of the inserted text will equal the `href` parameter.\n     * The selection will be updated to wrap the just inserted text node.\n     *\n     * When the selection is collapsed and inside the text with the `linkHref` attribute, the attribute value will be updated.\n     *\n     * # Decorators and model attribute management\n     *\n     * There is an optional argument to this command that applies or removes model\n     * {@glink framework/architecture/editing-engine#text-attributes text attributes} brought by\n     * {@link module:link/utils/manualdecorator~ManualDecorator manual link decorators}.\n     *\n     * Text attribute names in the model correspond to the entries in the {@link module:link/linkconfig~LinkConfig#decorators\n     * configuration}.\n     * For every decorator configured, a model text attribute exists with the \"link\" prefix. For example, a `'linkMyDecorator'` attribute\n     * corresponds to `'myDecorator'` in the configuration.\n     *\n     * To learn more about link decorators, check out the {@link module:link/linkconfig~LinkConfig#decorators `config.link.decorators`}\n     * documentation.\n     *\n     * Here is how to manage decorator attributes with the link command:\n     *\n     * ```ts\n     * const linkCommand = editor.commands.get( 'link' );\n     *\n     * // Adding a new decorator attribute.\n     * linkCommand.execute( 'http://example.com', {\n     * \tlinkIsExternal: true\n     * } );\n     *\n     * // Removing a decorator attribute from the selection.\n     * linkCommand.execute( 'http://example.com', {\n     * \tlinkIsExternal: false\n     * } );\n     *\n     * // Adding multiple decorator attributes at the same time.\n     * linkCommand.execute( 'http://example.com', {\n     * \tlinkIsExternal: true,\n     * \tlinkIsDownloadable: true,\n     * } );\n     *\n     * // Removing and adding decorator attributes at the same time.\n     * linkCommand.execute( 'http://example.com', {\n     * \tlinkIsExternal: false,\n     * \tlinkFoo: true,\n     * \tlinkIsDownloadable: false,\n     * } );\n     * ```\n     *\n     * **Note**: If the decorator attribute name is not specified, its state remains untouched.\n     *\n     * **Note**: {@link module:link/unlinkcommand~UnlinkCommand#execute `UnlinkCommand#execute()`} removes all\n     * decorator attributes.\n     *\n     * An optional parameter called `displayedText` is to add or update text of the link that represents the `href`. For example:\n     *\n     * ```ts\n     * const linkCommand = editor.commands.get( 'link' );\n     *\n     * // Adding a new link with `displayedText` attribute.\n     * linkCommand.execute( 'http://example.com', {}, 'Example' );\n     * ```\n     *\n     * The above code will create an anchor like this:\n     *\n     * ```html\n     * <a href=\"http://example.com\">Example</a>\n     * ```\n     *\n     * @fires execute\n     * @param href Link destination.\n     * @param manualDecoratorIds The information about manual decorator attributes to be applied or removed upon execution.\n     * @param displayedText Text of the link.\n     */\n    execute(href, manualDecoratorIds = {}, displayedText) {\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        // Stores information about manual decorators to turn them on/off when command is applied.\n        const truthyManualDecorators = [];\n        const falsyManualDecorators = [];\n        for (const name in manualDecoratorIds) {\n            if (manualDecoratorIds[name]) {\n                truthyManualDecorators.push(name);\n            }\n            else {\n                falsyManualDecorators.push(name);\n            }\n        }\n        model.change(writer => {\n            const updateLinkAttributes = (itemOrRange) => {\n                writer.setAttribute('linkHref', href, itemOrRange);\n                truthyManualDecorators.forEach(item => writer.setAttribute(item, true, itemOrRange));\n                falsyManualDecorators.forEach(item => writer.removeAttribute(item, itemOrRange));\n            };\n            const updateLinkTextIfNeeded = (range, linkHref) => {\n                const linkText = extractTextFromLinkRange(range);\n                if (!linkText) {\n                    return range;\n                }\n                // Make a copy not to override the command param value.\n                let newText = displayedText;\n                if (!newText) {\n                    // Replace the link text with the new href if previously href was equal to text.\n                    // For example: `<a href=\"http://ckeditor.com/\">http://ckeditor.com/</a>`.\n                    newText = linkHref && linkHref == linkText ? href : linkText;\n                }\n                // Only if needed.\n                if (newText != linkText) {\n                    const changes = findChanges(linkText, newText);\n                    let insertsLength = 0;\n                    for (const { offset, actual, expected } of changes) {\n                        const updatedOffset = offset + insertsLength;\n                        const subRange = writer.createRange(range.start.getShiftedBy(updatedOffset), range.start.getShiftedBy(updatedOffset + actual.length));\n                        // Collect formatting attributes from replaced text.\n                        const textNode = getLinkPartTextNode(subRange, range);\n                        const attributes = textNode.getAttributes();\n                        const formattingAttributes = Array\n                            .from(attributes)\n                            .filter(([key]) => model.schema.getAttributeProperties(key).isFormatting);\n                        // Create a new text node.\n                        const newTextNode = writer.createText(expected, formattingAttributes);\n                        // Set link attributes before inserting to document to avoid Differ attributes edge case.\n                        updateLinkAttributes(newTextNode);\n                        // Replace text with formatting.\n                        model.insertContent(newTextNode, subRange);\n                        // Sum of all previous inserts.\n                        insertsLength += expected.length;\n                    }\n                    return writer.createRange(range.start, range.start.getShiftedBy(newText.length));\n                }\n            };\n            const collapseSelectionAtLinkEnd = (linkRange) => {\n                const { plugins } = this.editor;\n                writer.setSelection(linkRange.end);\n                if (plugins.has('TwoStepCaretMovement')) {\n                    // After replacing the text of the link, we need to move the caret to the end of the link,\n                    // override it's gravity to forward to prevent keeping e.g. bold attribute on the caret\n                    // which was previously inside the link.\n                    //\n                    // If the plugin is not available, the caret will be placed at the end of the link and the\n                    // bold attribute will be kept even if command moved caret outside the link.\n                    plugins.get('TwoStepCaretMovement')._handleForwardMovement();\n                }\n                else {\n                    // Remove the `linkHref` attribute and all link decorators from the selection.\n                    // It stops adding a new content into the link element.\n                    for (const key of ['linkHref', ...truthyManualDecorators, ...falsyManualDecorators]) {\n                        writer.removeSelectionAttribute(key);\n                    }\n                }\n            };\n            // If selection is collapsed then update selected link or insert new one at the place of caret.\n            if (selection.isCollapsed) {\n                const position = selection.getFirstPosition();\n                // When selection is inside text with `linkHref` attribute.\n                if (selection.hasAttribute('linkHref')) {\n                    const linkHref = selection.getAttribute('linkHref');\n                    const linkRange = findAttributeRange(position, 'linkHref', linkHref, model);\n                    const newLinkRange = updateLinkTextIfNeeded(linkRange, linkHref);\n                    updateLinkAttributes(newLinkRange || linkRange);\n                    // Put the selection at the end of the updated link only when text was changed.\n                    // When text was not altered we keep the original selection.\n                    if (newLinkRange) {\n                        collapseSelectionAtLinkEnd(newLinkRange);\n                    }\n                }\n                // If not then insert text node with `linkHref` attribute in place of caret.\n                // However, since selection is collapsed, attribute value will be used as data for text node.\n                // So, if `href` is empty, do not create text node.\n                else if (href !== '') {\n                    const attributes = toMap(selection.getAttributes());\n                    attributes.set('linkHref', href);\n                    truthyManualDecorators.forEach(item => {\n                        attributes.set(item, true);\n                    });\n                    const newLinkRange = model.insertContent(writer.createText(displayedText || href, attributes), position);\n                    // Put the selection at the end of the inserted link.\n                    // Using end of range returned from insertContent in case nodes with the same attributes got merged.\n                    collapseSelectionAtLinkEnd(newLinkRange);\n                }\n            }\n            else {\n                // Non-collapsed selection.\n                // If selection has non-collapsed ranges, we change attribute on nodes inside those ranges\n                // omitting nodes where the `linkHref` attribute is disallowed.\n                const selectionRanges = Array.from(selection.getRanges());\n                const ranges = model.schema.getValidRanges(selectionRanges, 'linkHref');\n                // But for the first, check whether the `linkHref` attribute is allowed on selected blocks (e.g. the \"image\" element).\n                const allowedRanges = [];\n                for (const element of selection.getSelectedBlocks()) {\n                    if (model.schema.checkAttribute(element, 'linkHref')) {\n                        allowedRanges.push(writer.createRangeOn(element));\n                    }\n                }\n                // Ranges that accept the `linkHref` attribute. Since we will iterate over `allowedRanges`, let's clone it.\n                const rangesToUpdate = allowedRanges.slice();\n                // For all selection ranges we want to check whether given range is inside an element that accepts the `linkHref` attribute.\n                // If so, we don't want to propagate applying the attribute to its children.\n                for (const range of ranges) {\n                    if (this._isRangeToUpdate(range, allowedRanges)) {\n                        rangesToUpdate.push(range);\n                    }\n                }\n                // Store the selection ranges in a pseudo live range array (stickiness to the outside of the range).\n                const stickyPseudoRanges = selectionRanges.map(range => ({\n                    start: LivePosition.fromPosition(range.start, 'toPrevious'),\n                    end: LivePosition.fromPosition(range.end, 'toNext')\n                }));\n                // Update or set links (including text update if needed).\n                for (let range of rangesToUpdate) {\n                    const linkHref = (range.start.textNode || range.start.nodeAfter).getAttribute('linkHref');\n                    range = updateLinkTextIfNeeded(range, linkHref) || range;\n                    updateLinkAttributes(range);\n                }\n                // The original selection got trimmed by replacing content so we need to restore it.\n                writer.setSelection(stickyPseudoRanges.map(pseudoRange => {\n                    const start = pseudoRange.start.toPosition();\n                    const end = pseudoRange.end.toPosition();\n                    pseudoRange.start.detach();\n                    pseudoRange.end.detach();\n                    return model.createRange(start, end);\n                }));\n            }\n        });\n    }\n    /**\n     * Provides information whether a decorator with a given name is present in the currently processed selection.\n     *\n     * @param decoratorName The name of the manual decorator used in the model\n     * @returns The information whether a given decorator is currently present in the selection.\n     */\n    _getDecoratorStateFromModel(decoratorName) {\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        const selectedElement = selection.getSelectedElement();\n        // A check for the `LinkImage` plugin. If the selection contains an element, get values from the element.\n        // Currently the selection reads attributes from text nodes only. See #7429 and #7465.\n        if (isLinkableElement(selectedElement, model.schema)) {\n            return selectedElement.getAttribute(decoratorName);\n        }\n        return selection.getAttribute(decoratorName);\n    }\n    /**\n     * Checks whether specified `range` is inside an element that accepts the `linkHref` attribute.\n     *\n     * @param range A range to check.\n     * @param allowedRanges An array of ranges created on elements where the attribute is accepted.\n     */\n    _isRangeToUpdate(range, allowedRanges) {\n        for (const allowedRange of allowedRanges) {\n            // A range is inside an element that will have the `linkHref` attribute. Do not modify its nodes.\n            if (allowedRange.containsRange(range)) {\n                return false;\n            }\n        }\n        return true;\n    }\n}\n/**\n * Compares two strings and returns an array of changes needed to transform one into another.\n * Uses the diff utility to find the differences and groups them into chunks containing information\n * about the offset and actual/expected content.\n *\n * @param oldText The original text to compare.\n * @param newText The new text to compare against.\n * @returns Array of change objects containing offset and actual/expected content.\n *\n * @example\n * findChanges( 'hello world', 'hi there' );\n *\n * Returns:\n * [\n * \t{\n * \t\t\"offset\": 1,\n * \t\t\"actual\": \"ello\",\n * \t\t\"expected\": \"i\"\n * \t},\n * \t{\n * \t\t\"offset\": 2,\n * \t\t\"actual\": \"wo\",\n * \t\t\"expected\": \"the\"\n * \t},\n * \t{\n * \t\t\"offset\": 3,\n * \t\t\"actual\": \"ld\",\n * \t\t\"expected\": \"e\"\n * \t}\n * ]\n */\nfunction findChanges(oldText, newText) {\n    // Get array of operations (insert/delete/equal) needed to transform oldText into newText.\n    // Example: diff('abc', 'abxc') returns ['equal', 'equal', 'insert', 'equal']\n    const changes = diff(oldText, newText);\n    // Track position in both strings based on operation type.\n    const counter = { equal: 0, insert: 0, delete: 0 };\n    const result = [];\n    // Accumulate consecutive changes into slices before creating change objects.\n    let actualSlice = '';\n    let expectedSlice = '';\n    // Adding null as sentinel value to handle final accumulated changes.\n    for (const action of [...changes, null]) {\n        if (action == 'insert') {\n            // Example: for 'abc' -> 'abxc', at insert position, adds 'x' to expectedSlice.\n            expectedSlice += newText[counter.equal + counter.insert];\n        }\n        else if (action == 'delete') {\n            // Example: for 'abc' -> 'ac', at delete position, adds 'b' to actualSlice.\n            actualSlice += oldText[counter.equal + counter.delete];\n        }\n        else if (actualSlice.length || expectedSlice.length) {\n            // On 'equal' or end: bundle accumulated changes into a single change object.\n            // Example: { offset: 2, actual: \"\", expected: \"x\" }\n            result.push({\n                offset: counter.equal,\n                actual: actualSlice,\n                expected: expectedSlice\n            });\n            actualSlice = '';\n            expectedSlice = '';\n        }\n        // Increment appropriate counter for the current operation.\n        if (action) {\n            counter[action]++;\n        }\n    }\n    return result;\n}\n/**\n * Returns text node withing the link range that should be updated.\n *\n * @param range Partial link range.\n * @param linkRange Range of the entire link.\n * @returns Text node.\n */\nfunction getLinkPartTextNode(range, linkRange) {\n    if (!range.isCollapsed) {\n        return first(range.getItems());\n    }\n    const position = range.start;\n    if (position.textNode) {\n        return position.textNode;\n    }\n    // If the range is at the start of a link range then prefer node inside a link range.\n    if (!position.nodeBefore || position.isEqual(linkRange.start)) {\n        return position.nodeAfter;\n    }\n    else {\n        return position.nodeBefore;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module link/unlinkcommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { findAttributeRange } from 'ckeditor5/src/typing.js';\nimport { isLinkableElement } from './utils.js';\n/**\n * The unlink command. It is used by the {@link module:link/link~Link link plugin}.\n */\nexport default class UnlinkCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        const selectedElement = selection.getSelectedElement();\n        // A check for any integration that allows linking elements (e.g. `LinkImage`).\n        // Currently the selection reads attributes from text nodes only. See #7429 and #7465.\n        if (isLinkableElement(selectedElement, model.schema)) {\n            this.isEnabled = model.schema.checkAttribute(selectedElement, 'linkHref');\n        }\n        else {\n            this.isEnabled = model.schema.checkAttributeInSelection(selection, 'linkHref');\n        }\n    }\n    /**\n     * Executes the command.\n     *\n     * When the selection is collapsed, it removes the `linkHref` attribute from each node with the same `linkHref` attribute value.\n     * When the selection is non-collapsed, it removes the `linkHref` attribute from each node in selected ranges.\n     *\n     * # Decorators\n     *\n     * If {@link module:link/linkconfig~LinkConfig#decorators `config.link.decorators`} is specified,\n     * all configured decorators are removed together with the `linkHref` attribute.\n     *\n     * @fires execute\n     */\n    execute() {\n        const editor = this.editor;\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        const linkCommand = editor.commands.get('link');\n        model.change(writer => {\n            // Get ranges to unlink.\n            const rangesToUnlink = selection.isCollapsed ?\n                [findAttributeRange(selection.getFirstPosition(), 'linkHref', selection.getAttribute('linkHref'), model)] :\n                model.schema.getValidRanges(selection.getRanges(), 'linkHref');\n            // Remove `linkHref` attribute from specified ranges.\n            for (const range of rangesToUnlink) {\n                writer.removeAttribute('linkHref', range);\n                // If there are registered custom attributes, then remove them during unlink.\n                if (linkCommand) {\n                    for (const manualDecorator of linkCommand.manualDecorators) {\n                        writer.removeAttribute(manualDecorator.id, range);\n                    }\n                }\n            }\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module link/utils/manualdecorator\n */\nimport { ObservableMixin } from 'ckeditor5/src/utils.js';\n/**\n * Helper class that stores manual decorators with observable {@link module:link/utils/manualdecorator~ManualDecorator#value}\n * to support integration with the UI state. An instance of this class is a model with the state of individual manual decorators.\n * These decorators are kept as collections in {@link module:link/linkcommand~LinkCommand#manualDecorators}.\n */\nexport default class ManualDecorator extends /* #__PURE__ */ ObservableMixin() {\n    /**\n     * An ID of a manual decorator which is the name of the attribute in the model, for example: 'linkManualDecorator0'.\n     */\n    id;\n    /**\n     * The default value of manual decorator.\n     */\n    defaultValue;\n    /**\n     * The label used in the user interface to toggle the manual decorator.\n     */\n    label;\n    /**\n     * A set of attributes added to downcasted data when the decorator is activated for a specific link.\n     * Attributes should be added in a form of attributes defined in {@link module:engine/view/elementdefinition~ElementDefinition}.\n     */\n    attributes;\n    /**\n     * A set of classes added to downcasted data when the decorator is activated for a specific link.\n     * Classes should be added in a form of classes defined in {@link module:engine/view/elementdefinition~ElementDefinition}.\n     */\n    classes;\n    /**\n     * A set of styles added to downcasted data when the decorator is activated for a specific link.\n     * Styles should be added in a form of styles defined in {@link module:engine/view/elementdefinition~ElementDefinition}.\n     */\n    styles;\n    /**\n     * Creates a new instance of {@link module:link/utils/manualdecorator~ManualDecorator}.\n     *\n     * @param config.id The name of the attribute used in the model that represents a given manual decorator.\n     * For example: `'linkIsExternal'`.\n     * @param config.label The label used in the user interface to toggle the manual decorator.\n     * @param config.attributes A set of attributes added to output data when the decorator is active for a specific link.\n     * Attributes should keep the format of attributes defined in {@link module:engine/view/elementdefinition~ElementDefinition}.\n     * @param [config.defaultValue] Controls whether the decorator is \"on\" by default.\n     */\n    constructor({ id, label, attributes, classes, styles, defaultValue }) {\n        super();\n        this.id = id;\n        this.set('value', undefined);\n        this.defaultValue = defaultValue;\n        this.label = label;\n        this.attributes = attributes;\n        this.classes = classes;\n        this.styles = styles;\n    }\n    /**\n     * Returns {@link module:engine/view/matcher~MatcherPattern} with decorator attributes.\n     *\n     * @internal\n     */\n    _createPattern() {\n        return {\n            attributes: this.attributes,\n            classes: this.classes,\n            styles: this.styles\n        };\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./link.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module link/linkediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Input, TwoStepCaretMovement, inlineHighlight } from 'ckeditor5/src/typing.js';\nimport { ClipboardPipeline } from 'ckeditor5/src/clipboard.js';\nimport { keyCodes, env } from 'ckeditor5/src/utils.js';\nimport LinkCommand from './linkcommand.js';\nimport UnlinkCommand from './unlinkcommand.js';\nimport ManualDecorator from './utils/manualdecorator.js';\nimport { createLinkElement, ensureSafeUrl, getLocalizedDecorators, normalizeDecorators, addLinkProtocolIfApplicable, openLink } from './utils.js';\nimport '../theme/link.css';\nconst HIGHLIGHT_CLASS = 'ck-link_selected';\nconst DECORATOR_AUTOMATIC = 'automatic';\nconst DECORATOR_MANUAL = 'manual';\nconst EXTERNAL_LINKS_REGEXP = /^(https?:)?\\/\\//;\n/**\n * The link engine feature.\n *\n * It introduces the `linkHref=\"url\"` attribute in the model which renders to the view as a `<a href=\"url\">` element\n * as well as `'link'` and `'unlink'` commands.\n */\nexport default class LinkEditing extends Plugin {\n    /**\n     * A list of functions that handles opening links. If any of them returns `true`, the link is considered to be opened.\n     */\n    _linkOpeners = [];\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'LinkEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        // Clipboard is required for handling cut and paste events while typing over the link.\n        return [TwoStepCaretMovement, Input, ClipboardPipeline];\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        editor.config.define('link', {\n            allowCreatingEmptyLinks: false,\n            addTargetToExternalLinks: false,\n            toolbar: ['linkPreview', '|', 'editLink', 'linkProperties', 'unlink']\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const allowedProtocols = this.editor.config.get('link.allowedProtocols');\n        // Allow link attribute on all inline nodes.\n        editor.model.schema.extend('$text', { allowAttributes: 'linkHref' });\n        editor.conversion.for('dataDowncast')\n            .attributeToElement({ model: 'linkHref', view: createLinkElement });\n        editor.conversion.for('editingDowncast')\n            .attributeToElement({ model: 'linkHref', view: (href, conversionApi) => {\n                return createLinkElement(ensureSafeUrl(href, allowedProtocols), conversionApi);\n            } });\n        editor.conversion.for('upcast')\n            .elementToAttribute({\n            view: {\n                name: 'a',\n                attributes: {\n                    href: true\n                }\n            },\n            model: {\n                key: 'linkHref',\n                value: (viewElement) => viewElement.getAttribute('href')\n            }\n        });\n        // Create linking commands.\n        editor.commands.add('link', new LinkCommand(editor));\n        editor.commands.add('unlink', new UnlinkCommand(editor));\n        const linkDecorators = getLocalizedDecorators(editor.t, normalizeDecorators(editor.config.get('link.decorators')));\n        this._enableAutomaticDecorators(linkDecorators\n            .filter((item) => item.mode === DECORATOR_AUTOMATIC));\n        this._enableManualDecorators(linkDecorators\n            .filter((item) => item.mode === DECORATOR_MANUAL));\n        // Enable two-step caret movement for `linkHref` attribute.\n        const twoStepCaretMovementPlugin = editor.plugins.get(TwoStepCaretMovement);\n        twoStepCaretMovementPlugin.registerAttribute('linkHref');\n        // Setup highlight over selected link.\n        inlineHighlight(editor, 'linkHref', 'a', HIGHLIGHT_CLASS);\n        // Handle link following by CTRL+click or ALT+ENTER\n        this._enableLinkOpen();\n        // Clears the DocumentSelection decorator attributes if the selection is no longer in a link (for example while using 2-SCM).\n        this._enableSelectionAttributesFixer();\n        // Handle adding default protocol to pasted links.\n        this._enableClipboardIntegration();\n    }\n    /**\n     * Registers a function that opens links in a new browser tab.\n     *\n     * @param linkOpener The function that opens a link in a new browser tab.\n     * @internal\n     */\n    _registerLinkOpener(linkOpener) {\n        this._linkOpeners.push(linkOpener);\n    }\n    /**\n     * Processes an array of configured {@link module:link/linkconfig~LinkDecoratorAutomaticDefinition automatic decorators}\n     * and registers a {@link module:engine/conversion/downcastdispatcher~DowncastDispatcher downcast dispatcher}\n     * for each one of them. Downcast dispatchers are obtained using the\n     * {@link module:link/utils/automaticdecorators~AutomaticDecorators#getDispatcher} method.\n     *\n     * **Note**: This method also activates the automatic external link decorator if enabled with\n     * {@link module:link/linkconfig~LinkConfig#addTargetToExternalLinks `config.link.addTargetToExternalLinks`}.\n     */\n    _enableAutomaticDecorators(automaticDecoratorDefinitions) {\n        const editor = this.editor;\n        // Store automatic decorators in the command instance as we do the same with manual decorators.\n        // Thanks to that, `LinkImageEditing` plugin can re-use the same definitions.\n        const command = editor.commands.get('link');\n        const automaticDecorators = command.automaticDecorators;\n        // Adds a default decorator for external links.\n        if (editor.config.get('link.addTargetToExternalLinks')) {\n            automaticDecorators.add({\n                id: 'linkIsExternal',\n                mode: DECORATOR_AUTOMATIC,\n                callback: url => !!url && EXTERNAL_LINKS_REGEXP.test(url),\n                attributes: {\n                    target: '_blank',\n                    rel: 'noopener noreferrer'\n                }\n            });\n        }\n        automaticDecorators.add(automaticDecoratorDefinitions);\n        if (automaticDecorators.length) {\n            editor.conversion.for('downcast').add(automaticDecorators.getDispatcher());\n        }\n    }\n    /**\n     * Processes an array of configured {@link module:link/linkconfig~LinkDecoratorManualDefinition manual decorators},\n     * transforms them into {@link module:link/utils/manualdecorator~ManualDecorator} instances and stores them in the\n     * {@link module:link/linkcommand~LinkCommand#manualDecorators} collection (a model for manual decorators state).\n     *\n     * Also registers an {@link module:engine/conversion/downcasthelpers~DowncastHelpers#attributeToElement attribute-to-element}\n     * converter for each manual decorator and extends the {@link module:engine/model/schema~Schema model's schema}\n     * with adequate model attributes.\n     */\n    _enableManualDecorators(manualDecoratorDefinitions) {\n        if (!manualDecoratorDefinitions.length) {\n            return;\n        }\n        const editor = this.editor;\n        const command = editor.commands.get('link');\n        const manualDecorators = command.manualDecorators;\n        manualDecoratorDefinitions.forEach(decoratorDefinition => {\n            editor.model.schema.extend('$text', { allowAttributes: decoratorDefinition.id });\n            // Keeps reference to manual decorator to decode its name to attributes during downcast.\n            const decorator = new ManualDecorator(decoratorDefinition);\n            manualDecorators.add(decorator);\n            editor.conversion.for('downcast').attributeToElement({\n                model: decorator.id,\n                view: (manualDecoratorValue, { writer, schema }, { item }) => {\n                    // Manual decorators for block links are handled e.g. in LinkImageEditing.\n                    if (!(item.is('selection') || schema.isInline(item))) {\n                        return;\n                    }\n                    if (manualDecoratorValue) {\n                        const element = writer.createAttributeElement('a', decorator.attributes, { priority: 5 });\n                        if (decorator.classes) {\n                            writer.addClass(decorator.classes, element);\n                        }\n                        for (const key in decorator.styles) {\n                            writer.setStyle(key, decorator.styles[key], element);\n                        }\n                        writer.setCustomProperty('link', true, element);\n                        return element;\n                    }\n                }\n            });\n            editor.conversion.for('upcast').elementToAttribute({\n                view: {\n                    name: 'a',\n                    ...decorator._createPattern()\n                },\n                model: {\n                    key: decorator.id\n                }\n            });\n        });\n    }\n    /**\n     * Attaches handlers for {@link module:engine/view/document~Document#event:enter} and\n     * {@link module:engine/view/document~Document#event:click} to enable link following.\n     */\n    _enableLinkOpen() {\n        const editor = this.editor;\n        const view = editor.editing.view;\n        const viewDocument = view.document;\n        const handleLinkOpening = (url) => {\n            if (!this._linkOpeners.some(opener => opener(url))) {\n                openLink(url);\n            }\n        };\n        this.listenTo(viewDocument, 'click', (evt, data) => {\n            const shouldOpen = env.isMac ? data.domEvent.metaKey : data.domEvent.ctrlKey;\n            if (!shouldOpen) {\n                return;\n            }\n            let clickedElement = data.domTarget;\n            if (clickedElement.tagName.toLowerCase() != 'a') {\n                clickedElement = clickedElement.closest('a');\n            }\n            if (!clickedElement) {\n                return;\n            }\n            const url = clickedElement.getAttribute('href');\n            if (!url) {\n                return;\n            }\n            evt.stop();\n            data.preventDefault();\n            handleLinkOpening(url);\n        }, { context: '$capture' });\n        // Open link on Alt+Enter.\n        this.listenTo(viewDocument, 'keydown', (evt, data) => {\n            const linkCommand = editor.commands.get('link');\n            const url = linkCommand.value;\n            const shouldOpen = !!url && data.keyCode === keyCodes.enter && data.altKey;\n            if (!shouldOpen) {\n                return;\n            }\n            evt.stop();\n            handleLinkOpening(url);\n        });\n    }\n    /**\n     * Watches the DocumentSelection attribute changes and removes link decorator attributes when the linkHref attribute is removed.\n     *\n     * This is to ensure that there is no left-over link decorator attributes on the document selection that is no longer in a link.\n     */\n    _enableSelectionAttributesFixer() {\n        const editor = this.editor;\n        const model = editor.model;\n        const selection = model.document.selection;\n        this.listenTo(selection, 'change:attribute', (evt, { attributeKeys }) => {\n            if (!attributeKeys.includes('linkHref') || selection.hasAttribute('linkHref')) {\n                return;\n            }\n            model.change(writer => {\n                removeLinkAttributesFromSelection(writer, getLinkAttributesAllowedOnText(model.schema));\n            });\n        });\n    }\n    /**\n     * Enables URL fixing on pasting.\n     */\n    _enableClipboardIntegration() {\n        const editor = this.editor;\n        const model = editor.model;\n        const defaultProtocol = this.editor.config.get('link.defaultProtocol');\n        if (!defaultProtocol) {\n            return;\n        }\n        this.listenTo(editor.plugins.get('ClipboardPipeline'), 'contentInsertion', (evt, data) => {\n            model.change(writer => {\n                const range = writer.createRangeIn(data.content);\n                for (const item of range.getItems()) {\n                    if (item.hasAttribute('linkHref')) {\n                        const newLink = addLinkProtocolIfApplicable(item.getAttribute('linkHref'), defaultProtocol);\n                        writer.setAttribute('linkHref', newLink, item);\n                    }\n                }\n            });\n        });\n    }\n}\n/**\n * Make the selection free of link-related model attributes.\n * All link-related model attributes start with \"link\". That includes not only \"linkHref\"\n * but also all decorator attributes (they have dynamic names), or even custom plugins.\n */\nfunction removeLinkAttributesFromSelection(writer, linkAttributes) {\n    writer.removeSelectionAttribute('linkHref');\n    for (const attribute of linkAttributes) {\n        writer.removeSelectionAttribute(attribute);\n    }\n}\n/**\n * Returns an array containing names of the attributes allowed on `$text` that describes the link item.\n */\nfunction getLinkAttributesAllowedOnText(schema) {\n    const textAttributes = schema.getDefinition('$text').allowAttributes;\n    return textAttributes.filter(attribute => attribute.startsWith('link'));\n}\n","import { upperFirst as upperFirst$1 } from '../../string/upperFirst.mjs';\nimport { toString } from '../util/toString.mjs';\n\nfunction upperFirst(str) {\n    return upperFirst$1(toString(str));\n}\n\nexport { upperFirst };\n","function upperFirst(str) {\n    return str.substring(0, 1).toUpperCase() + str.substring(1);\n}\n\nexport { upperFirst };\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module link/ui/linkpreviewbuttonview\n */\nimport { ButtonView } from 'ckeditor5/src/ui.js';\n/**\n * The link button class. Rendered as an `<a>` tag with link opening in a new tab.\n *\n * Provides a custom `navigate` cancelable event.\n */\nexport default class LinkPreviewButtonView extends ButtonView {\n    /**\n     * @inheritDoc\n     */\n    constructor(locale) {\n        super(locale);\n        const bind = this.bindTemplate;\n        this.set({\n            href: undefined,\n            withText: true\n        });\n        this.extendTemplate({\n            attributes: {\n                class: ['ck-link-toolbar__preview'],\n                href: bind.to('href'),\n                target: '_blank',\n                rel: 'noopener noreferrer'\n            },\n            on: {\n                click: bind.to(evt => {\n                    if (this.href) {\n                        const cancel = () => evt.preventDefault();\n                        this.fire('navigate', this.href, cancel);\n                    }\n                })\n            }\n        });\n        this.template.tag = 'a';\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./linkform.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module link/ui/linkformview\n */\nimport { ButtonView, ListView, ListItemView, FocusCycler, LabeledFieldView, FormHeaderView, FormRowView, View, ViewCollection, createLabeledInputText, submitHandler } from 'ckeditor5/src/ui.js';\nimport { FocusTracker, KeystrokeHandler } from 'ckeditor5/src/utils.js';\nimport { IconPreviousArrow } from 'ckeditor5/src/icons.js';\n// See: #8833.\n// eslint-disable-next-line ckeditor5-rules/ckeditor-imports\nimport '@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css';\n// eslint-disable-next-line ckeditor5-rules/ckeditor-imports\nimport '@ckeditor/ckeditor5-ui/theme/components/form/form.css';\nimport '../../theme/linkform.css';\n/**\n * The link form view.\n */\nexport default class LinkFormView extends View {\n    /**\n     * Tracks information about DOM focus in the form.\n     */\n    focusTracker = new FocusTracker();\n    /**\n     * An instance of the {@link module:utils/keystrokehandler~KeystrokeHandler}.\n     */\n    keystrokes = new KeystrokeHandler();\n    /**\n     * The Back button view displayed in the header.\n     */\n    backButtonView;\n    /**\n     * The Save button view.\n     */\n    saveButtonView;\n    /**\n     * The \"Displayed text\" input view.\n     */\n    displayedTextInputView;\n    /**\n     * The URL input view.\n     */\n    urlInputView;\n    /**\n     * A collection of child views.\n     */\n    children;\n    /**\n     * A collection of child views in the providers list.\n     */\n    providersListChildren;\n    /**\n     * An array of form validators used by {@link #isValid}.\n     */\n    _validators;\n    /**\n     * A collection of views that can be focused in the form.\n     */\n    _focusables = new ViewCollection();\n    /**\n     * Helps cycling over {@link #_focusables} in the form.\n     */\n    _focusCycler;\n    /**\n     * Creates an instance of the {@link module:link/ui/linkformview~LinkFormView} class.\n     *\n     * Also see {@link #render}.\n     *\n     * @param locale The localization services instance.\n     * @param validators  Form validators used by {@link #isValid}.\n     */\n    constructor(locale, validators) {\n        super(locale);\n        this._validators = validators;\n        // Create buttons.\n        this.backButtonView = this._createBackButton();\n        this.saveButtonView = this._createSaveButton();\n        // Create input fields.\n        this.displayedTextInputView = this._createDisplayedTextInput();\n        this.urlInputView = this._createUrlInput();\n        this.providersListChildren = this.createCollection();\n        this.children = this.createCollection([\n            this._createHeaderView()\n        ]);\n        this._createFormChildren();\n        // Add providers list view to the children when the first item is added to the list.\n        // This is to avoid adding the list view when the form is empty.\n        this.listenTo(this.providersListChildren, 'add', () => {\n            this.stopListening(this.providersListChildren, 'add');\n            this.children.add(this._createProvidersListView());\n        });\n        this._focusCycler = new FocusCycler({\n            focusables: this._focusables,\n            focusTracker: this.focusTracker,\n            keystrokeHandler: this.keystrokes,\n            actions: {\n                // Navigate form fields backwards using the Shift + Tab keystroke.\n                focusPrevious: 'shift + tab',\n                // Navigate form fields forwards using the Tab key.\n                focusNext: 'tab'\n            }\n        });\n        this.setTemplate({\n            tag: 'form',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-form',\n                    'ck-link-form',\n                    'ck-responsive-form'\n                ],\n                // https://github.com/ckeditor/ckeditor5-link/issues/90\n                tabindex: '-1'\n            },\n            children: this.children\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    render() {\n        super.render();\n        submitHandler({\n            view: this\n        });\n        const childViews = [\n            this.urlInputView,\n            this.saveButtonView,\n            ...this.providersListChildren,\n            this.backButtonView,\n            this.displayedTextInputView\n        ];\n        childViews.forEach(v => {\n            // Register the view as focusable.\n            this._focusables.add(v);\n            // Register the view in the focus tracker.\n            this.focusTracker.add(v.element);\n        });\n        // Start listening for the keystrokes coming from #element.\n        this.keystrokes.listenTo(this.element);\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        super.destroy();\n        this.focusTracker.destroy();\n        this.keystrokes.destroy();\n    }\n    /**\n     * Focuses the fist {@link #_focusables} in the form.\n     */\n    focus() {\n        this._focusCycler.focusFirst();\n    }\n    /**\n     * Validates the form and returns `false` when some fields are invalid.\n     */\n    isValid() {\n        this.resetFormStatus();\n        for (const validator of this._validators) {\n            const errorText = validator(this);\n            // One error per field is enough.\n            if (errorText) {\n                // Apply updated error.\n                this.urlInputView.errorText = errorText;\n                return false;\n            }\n        }\n        return true;\n    }\n    /**\n     * Cleans up the supplementary error and information text of the {@link #urlInputView}\n     * bringing them back to the state when the form has been displayed for the first time.\n     *\n     * See {@link #isValid}.\n     */\n    resetFormStatus() {\n        this.urlInputView.errorText = null;\n    }\n    /**\n     * Creates a back button view that cancels the form.\n     */\n    _createBackButton() {\n        const t = this.locale.t;\n        const backButton = new ButtonView(this.locale);\n        backButton.set({\n            class: 'ck-button-back',\n            label: t('Back'),\n            icon: IconPreviousArrow,\n            tooltip: true\n        });\n        backButton.delegate('execute').to(this, 'cancel');\n        return backButton;\n    }\n    /**\n     * Creates a save button view that inserts the link.\n     */\n    _createSaveButton() {\n        const t = this.locale.t;\n        const saveButton = new ButtonView(this.locale);\n        saveButton.set({\n            label: t('Insert'),\n            tooltip: false,\n            withText: true,\n            type: 'submit',\n            class: 'ck-button-action ck-button-bold'\n        });\n        return saveButton;\n    }\n    /**\n     * Creates a header view for the form.\n     */\n    _createHeaderView() {\n        const t = this.locale.t;\n        const header = new FormHeaderView(this.locale, {\n            label: t('Link')\n        });\n        header.children.add(this.backButtonView, 0);\n        return header;\n    }\n    /**\n     * Creates a view for the providers list.\n     */\n    _createProvidersListView() {\n        const providersListView = new ListView(this.locale);\n        providersListView.extendTemplate({\n            attributes: {\n                class: [\n                    'ck-link-form__providers-list'\n                ]\n            }\n        });\n        providersListView.items.bindTo(this.providersListChildren).using(def => {\n            const listItemView = new ListItemView(this.locale);\n            listItemView.children.add(def);\n            return listItemView;\n        });\n        return providersListView;\n    }\n    /**\n     * Creates a labeled input view for the \"Displayed text\" field.\n     */\n    _createDisplayedTextInput() {\n        const t = this.locale.t;\n        const labeledInput = new LabeledFieldView(this.locale, createLabeledInputText);\n        labeledInput.label = t('Displayed text');\n        labeledInput.class = 'ck-labeled-field-view_full-width';\n        return labeledInput;\n    }\n    /**\n     * Creates a labeled input view for the URL field.\n     *\n     * @returns Labeled field view instance.\n     */\n    _createUrlInput() {\n        const t = this.locale.t;\n        const labeledInput = new LabeledFieldView(this.locale, createLabeledInputText);\n        labeledInput.fieldView.inputMode = 'url';\n        labeledInput.label = t('Link URL');\n        labeledInput.class = 'ck-labeled-field-view_full-width';\n        return labeledInput;\n    }\n    /**\n     * Populates the {@link #children} collection of the form.\n     */\n    _createFormChildren() {\n        this.children.add(new FormRowView(this.locale, {\n            children: [\n                this.displayedTextInputView\n            ],\n            class: [\n                'ck-form__row_large-top-padding'\n            ]\n        }));\n        this.children.add(new FormRowView(this.locale, {\n            children: [\n                this.urlInputView,\n                this.saveButtonView\n            ],\n            class: [\n                'ck-form__row_with-submit',\n                'ck-form__row_large-top-padding',\n                'ck-form__row_large-bottom-padding'\n            ]\n        }));\n    }\n    /**\n     * The native DOM `value` of the {@link #urlInputView} element.\n     *\n     * **Note**: Do not confuse it with the {@link module:ui/inputtext/inputtextview~InputTextView#value}\n     * which works one way only and may not represent the actual state of the component in the DOM.\n     */\n    get url() {\n        const { element } = this.urlInputView.fieldView;\n        if (!element) {\n            return null;\n        }\n        return element.value.trim();\n    }\n}\n","export default \"<svg viewBox=\\\"0 0 20 20\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z\\\"/></svg>\";","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./linkprovideritems.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module link/ui/linkprovideritemsview\n */\nimport { ButtonView, FocusCycler, FormHeaderView, View, ListView, ListItemView, ViewCollection } from 'ckeditor5/src/ui.js';\nimport { FocusTracker, KeystrokeHandler } from 'ckeditor5/src/utils.js';\nimport { IconPreviousArrow } from '@ckeditor/ckeditor5-icons';\nimport '../../theme/linkprovideritems.css';\n/**\n * The link provider items view.\n */\nexport default class LinkProviderItemsView extends View {\n    /**\n     * Tracks information about DOM focus in the form.\n     */\n    focusTracker = new FocusTracker();\n    /**\n     * An instance of the {@link module:utils/keystrokehandler~KeystrokeHandler}.\n     */\n    keystrokes = new KeystrokeHandler();\n    /**\n     * The Back button view displayed in the header.\n     */\n    backButtonView;\n    /**\n     * The List view of links buttons.\n     */\n    listView;\n    /**\n     * The collection of child views, which is bind with the `listView`.\n     */\n    listChildren;\n    /**\n     * The view displayed when the list is empty.\n     */\n    emptyListInformation;\n    /**\n     * A collection of child views.\n     */\n    children;\n    /**\n     * A collection of views that can be focused in the form.\n     */\n    _focusables = new ViewCollection();\n    /**\n     * Helps cycling over {@link #_focusables} in the form.\n     */\n    _focusCycler;\n    /**\n     * Creates an instance of the {@link module:link/ui/linkprovideritemsview~LinkProviderItemsView} class.\n     *\n     * Also see {@link #render}.\n     *\n     * @param locale The localization services instance.\n     */\n    constructor(locale) {\n        super(locale);\n        this.listChildren = this.createCollection();\n        this.backButtonView = this._createBackButton();\n        this.listView = this._createListView();\n        this.emptyListInformation = this._createEmptyLinksListItemView();\n        this.children = this.createCollection([\n            this._createHeaderView(),\n            this.emptyListInformation\n        ]);\n        this.set('title', '');\n        this.set('emptyListPlaceholder', '');\n        this.set('hasItems', false);\n        this.listenTo(this.listChildren, 'change', () => {\n            this.hasItems = this.listChildren.length > 0;\n        });\n        this.on('change:hasItems', (evt, propName, hasItems) => {\n            if (hasItems) {\n                this.children.remove(this.emptyListInformation);\n                this.children.add(this.listView);\n            }\n            else {\n                this.children.remove(this.listView);\n                this.children.add(this.emptyListInformation);\n            }\n        });\n        // Close the panel on esc key press when the **form has focus**.\n        this.keystrokes.set('Esc', (data, cancel) => {\n            this.fire('cancel');\n            cancel();\n        });\n        this._focusCycler = new FocusCycler({\n            focusables: this._focusables,\n            focusTracker: this.focusTracker,\n            keystrokeHandler: this.keystrokes,\n            actions: {\n                // Navigate form fields backwards using the Shift + Tab keystroke.\n                focusPrevious: 'shift + tab',\n                // Navigate form fields forwards using the Tab key.\n                focusNext: 'tab'\n            }\n        });\n        this.setTemplate({\n            tag: 'div',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-link-providers'\n                ],\n                // https://github.com/ckeditor/ckeditor5-link/issues/90\n                tabindex: '-1'\n            },\n            children: this.children\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    render() {\n        super.render();\n        const childViews = [\n            this.listView,\n            this.backButtonView\n        ];\n        childViews.forEach(v => {\n            // Register the view as focusable.\n            this._focusables.add(v);\n            // Register the view in the focus tracker.\n            this.focusTracker.add(v.element);\n        });\n        // Start listening for the keystrokes coming from #element.\n        this.keystrokes.listenTo(this.element);\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        super.destroy();\n        this.focusTracker.destroy();\n        this.keystrokes.destroy();\n    }\n    /**\n     * Focuses the fist {@link #_focusables} in the form.\n     */\n    focus() {\n        this._focusCycler.focusFirst();\n    }\n    /**\n     * Creates a view for the list at the bottom.\n     */\n    _createListView() {\n        const listView = new ListView(this.locale);\n        listView.extendTemplate({\n            attributes: {\n                class: [\n                    'ck-link-providers__list'\n                ]\n            }\n        });\n        listView.items.bindTo(this.listChildren).using(button => {\n            const listItemView = new ListItemView(this.locale);\n            listItemView.children.add(button);\n            return listItemView;\n        });\n        return listView;\n    }\n    /**\n     * Creates a back button view that cancels the form.\n     */\n    _createBackButton() {\n        const t = this.locale.t;\n        const backButton = new ButtonView(this.locale);\n        backButton.set({\n            class: 'ck-button-back',\n            label: t('Back'),\n            icon: IconPreviousArrow,\n            tooltip: true\n        });\n        backButton.delegate('execute').to(this, 'cancel');\n        return backButton;\n    }\n    /**\n     * Creates a header view for the form.\n     */\n    _createHeaderView() {\n        const header = new FormHeaderView(this.locale);\n        header.bind('label').to(this, 'title');\n        header.children.add(this.backButtonView, 0);\n        return header;\n    }\n    /**\n     * Creates an info view for an empty list.\n     */\n    _createEmptyLinksListItemView() {\n        const view = new View(this.locale);\n        view.setTemplate({\n            tag: 'p',\n            attributes: {\n                class: ['ck', 'ck-link__empty-list-info']\n            },\n            children: [\n                {\n                    text: this.bindTemplate.to('emptyListPlaceholder')\n                }\n            ]\n        });\n        return view;\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./linkproperties.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module link/ui/linkpropertiesview\n */\nimport { ButtonView, FocusCycler, FormHeaderView, View, ViewCollection, ListView, ListItemView } from 'ckeditor5/src/ui.js';\nimport { FocusTracker, KeystrokeHandler } from 'ckeditor5/src/utils.js';\nimport { IconPreviousArrow } from '@ckeditor/ckeditor5-icons';\nimport '../../theme/linkproperties.css';\n/**\n * The link properties view controller class.\n *\n * See {@link module:link/ui/linkpropertiesview~LinkPropertiesView}.\n */\nexport default class LinkPropertiesView extends View {\n    /**\n     * Tracks information about DOM focus in the form.\n     */\n    focusTracker = new FocusTracker();\n    /**\n     * An instance of the {@link module:utils/keystrokehandler~KeystrokeHandler}.\n     */\n    keystrokes = new KeystrokeHandler();\n    /**\n     * The Back button view displayed in the header.\n     */\n    backButtonView;\n    /**\n     * A collection of child views.\n     */\n    children;\n    /**\n     * A collection of {@link module:ui/button/switchbuttonview~SwitchButtonView},\n     * which corresponds to {@link module:link/linkcommand~LinkCommand#manualDecorators manual decorators}\n     * configured in the editor.\n     */\n    listChildren;\n    /**\n     * A collection of views that can be focused in the form.\n     */\n    _focusables = new ViewCollection();\n    /**\n     * Helps cycling over {@link #_focusables} in the form.\n     */\n    _focusCycler;\n    /**\n     * Creates an instance of the {@link module:link/ui/linkpropertiesview~LinkPropertiesView} class.\n     *\n     * Also see {@link #render}.\n     *\n     * @param locale The localization services instance.\n     */\n    constructor(locale) {\n        super(locale);\n        this.backButtonView = this._createBackButton();\n        this.listChildren = this.createCollection();\n        this.children = this.createCollection([\n            this._createHeaderView(),\n            this._createListView()\n        ]);\n        this._focusCycler = new FocusCycler({\n            focusables: this._focusables,\n            focusTracker: this.focusTracker,\n            keystrokeHandler: this.keystrokes,\n            actions: {\n                // Navigate form fields backwards using the Shift + Tab keystroke.\n                focusPrevious: 'shift + tab',\n                // Navigate form fields forwards using the Tab key.\n                focusNext: 'tab'\n            }\n        });\n        this.setTemplate({\n            tag: 'div',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-link-properties'\n                ],\n                // https://github.com/ckeditor/ckeditor5-link/issues/90\n                tabindex: '-1'\n            },\n            children: this.children\n        });\n        // Close the panel on esc key press when the **form has focus**.\n        this.keystrokes.set('Esc', (data, cancel) => {\n            this.fire('back');\n            cancel();\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    render() {\n        super.render();\n        const childViews = [\n            ...this.listChildren,\n            this.backButtonView\n        ];\n        childViews.forEach(v => {\n            // Register the view as focusable.\n            this._focusables.add(v);\n            // Register the view in the focus tracker.\n            this.focusTracker.add(v.element);\n        });\n        // Start listening for the keystrokes coming from #element.\n        this.keystrokes.listenTo(this.element);\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        super.destroy();\n        this.focusTracker.destroy();\n        this.keystrokes.destroy();\n    }\n    /**\n     * Focuses the fist {@link #_focusables} in the form.\n     */\n    focus() {\n        this._focusCycler.focusFirst();\n    }\n    /**\n     * Creates a back button view.\n     */\n    _createBackButton() {\n        const t = this.locale.t;\n        const backButton = new ButtonView(this.locale);\n        // TODO: maybe we should have a dedicated BackButtonView in the UI library.\n        backButton.set({\n            class: 'ck-button-back',\n            label: t('Back'),\n            icon: IconPreviousArrow,\n            tooltip: true\n        });\n        backButton.delegate('execute').to(this, 'back');\n        return backButton;\n    }\n    /**\n     * Creates a header view for the form.\n     */\n    _createHeaderView() {\n        const t = this.locale.t;\n        const header = new FormHeaderView(this.locale, {\n            label: t('Link properties')\n        });\n        header.children.add(this.backButtonView, 0);\n        return header;\n    }\n    /**\n     * Creates a form view that displays the {@link #listChildren} collection.\n     */\n    _createListView() {\n        const listView = new ListView(this.locale);\n        listView.extendTemplate({\n            attributes: {\n                class: [\n                    'ck-link__list'\n                ]\n            }\n        });\n        listView.items.bindTo(this.listChildren).using(item => {\n            const listItemView = new ListItemView(this.locale);\n            listItemView.children.add(item);\n            return listItemView;\n        });\n        return listView;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module link/ui/linkbuttonview\n */\nimport { IconNextArrow } from '@ckeditor/ckeditor5-icons';\nimport { ButtonView, IconView } from 'ckeditor5/src/ui.js';\n/**\n * Represents a view for a dropdown menu button.\n */\nexport default class LinkButtonView extends ButtonView {\n    /**\n     * An icon that displays an arrow to indicate a direction of the menu.\n     */\n    arrowView;\n    /**\n     * Creates an instance of the dropdown menu button view.\n     *\n     * @param locale The localization services instance.\n     */\n    constructor(locale) {\n        super(locale);\n        this.set({\n            withText: true\n        });\n        this.arrowView = this._createArrowView();\n        this.extendTemplate({\n            attributes: {\n                class: [\n                    'ck-link__button'\n                ]\n            }\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    render() {\n        super.render();\n        this.children.add(this.arrowView);\n    }\n    /**\n     * Creates the arrow view instance.\n     *\n     * @private\n     */\n    _createArrowView() {\n        const arrowView = new IconView();\n        arrowView.content = IconNextArrow;\n        return arrowView;\n    }\n}\n","export default \"<svg viewBox=\\\"0 0 20 20\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z\\\"/></svg>\";","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./linktoolbar.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module link/linkui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { IconLink, IconPencil, IconUnlink, IconSettings } from 'ckeditor5/src/icons.js';\nimport { ClickObserver } from 'ckeditor5/src/engine.js';\nimport { ButtonView, SwitchButtonView, ContextualBalloon, clickOutsideHandler, CssTransitionDisablerMixin, MenuBarMenuListItemButtonView, ToolbarView } from 'ckeditor5/src/ui.js';\nimport { Collection } from 'ckeditor5/src/utils.js';\nimport { isWidget } from 'ckeditor5/src/widget.js';\nimport LinkEditing from './linkediting.js';\nimport LinkPreviewButtonView from './ui/linkpreviewbuttonview.js';\nimport LinkFormView from './ui/linkformview.js';\nimport LinkProviderItemsView from './ui/linkprovideritemsview.js';\nimport LinkPropertiesView from './ui/linkpropertiesview.js';\nimport LinkButtonView from './ui/linkbuttonview.js';\nimport { addLinkProtocolIfApplicable, ensureSafeUrl, isLinkElement, extractTextFromLinkRange, LINK_KEYSTROKE } from './utils.js';\nimport '../theme/linktoolbar.css';\nconst VISUAL_SELECTION_MARKER_NAME = 'link-ui';\n/**\n * The link UI plugin. It introduces the `'link'` and `'unlink'` buttons and support for the <kbd>Ctrl+K</kbd> keystroke.\n *\n * It uses the\n * {@link module:ui/panel/balloon/contextualballoon~ContextualBalloon contextual balloon plugin}.\n */\nexport default class LinkUI extends Plugin {\n    /**\n     * The toolbar view displayed inside of the balloon.\n     */\n    toolbarView = null;\n    /**\n     * The form view displayed inside the balloon.\n     */\n    formView = null;\n    /**\n     * The view displaying links list.\n     */\n    linkProviderItemsView = null;\n    /**\n     * The form view displaying properties link settings.\n     */\n    propertiesView = null;\n    /**\n     * The contextual balloon plugin instance.\n     */\n    _balloon;\n    /**\n     * The collection of the link providers.\n     */\n    _linksProviders = new Collection();\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ContextualBalloon, LinkEditing];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'LinkUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = this.editor.t;\n        this.set('selectedLinkableText', undefined);\n        editor.editing.view.addObserver(ClickObserver);\n        this._balloon = editor.plugins.get(ContextualBalloon);\n        // Create toolbar buttons.\n        this._registerComponents();\n        this._registerEditingOpeners();\n        this._enableBalloonActivators();\n        // Renders a fake visual selection marker on an expanded selection.\n        editor.conversion.for('editingDowncast').markerToHighlight({\n            model: VISUAL_SELECTION_MARKER_NAME,\n            view: {\n                classes: ['ck-fake-link-selection']\n            }\n        });\n        // Renders a fake visual selection marker on a collapsed selection.\n        editor.conversion.for('editingDowncast').markerToElement({\n            model: VISUAL_SELECTION_MARKER_NAME,\n            view: (data, { writer }) => {\n                if (!data.markerRange.isCollapsed) {\n                    return null;\n                }\n                const markerElement = writer.createUIElement('span');\n                writer.addClass(['ck-fake-link-selection', 'ck-fake-link-selection_collapsed'], markerElement);\n                return markerElement;\n            }\n        });\n        // Add the information about the keystrokes to the accessibility database.\n        editor.accessibility.addKeystrokeInfos({\n            keystrokes: [\n                {\n                    label: t('Create link'),\n                    keystroke: LINK_KEYSTROKE\n                },\n                {\n                    label: t('Move out of a link'),\n                    keystroke: [\n                        ['arrowleft', 'arrowleft'],\n                        ['arrowright', 'arrowright']\n                    ]\n                }\n            ]\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        super.destroy();\n        // Destroy created UI components as they are not automatically destroyed (see ckeditor5#1341).\n        if (this.propertiesView) {\n            this.propertiesView.destroy();\n        }\n        if (this.formView) {\n            this.formView.destroy();\n        }\n        if (this.toolbarView) {\n            this.toolbarView.destroy();\n        }\n        if (this.linkProviderItemsView) {\n            this.linkProviderItemsView.destroy();\n        }\n    }\n    /**\n     * Registers list of buttons below the link form view that\n     * open a list of links provided by the clicked provider.\n     */\n    registerLinksListProvider(provider) {\n        const insertIndex = this._linksProviders\n            .filter(existing => (existing.order || 0) <= (provider.order || 0))\n            .length;\n        this._linksProviders.add(provider, insertIndex);\n    }\n    /**\n     * Creates views.\n     */\n    _createViews() {\n        const linkCommand = this.editor.commands.get('link');\n        this.toolbarView = this._createToolbarView();\n        this.formView = this._createFormView();\n        if (linkCommand.manualDecorators.length) {\n            this.propertiesView = this._createPropertiesView();\n        }\n        // Attach lifecycle actions to the the balloon.\n        this._enableUserBalloonInteractions();\n    }\n    /**\n     * Creates the ToolbarView instance.\n     */\n    _createToolbarView() {\n        const editor = this.editor;\n        const toolbarView = new ToolbarView(editor.locale);\n        const linkCommand = editor.commands.get('link');\n        toolbarView.class = 'ck-link-toolbar';\n        // Remove the linkProperties button if there are no manual decorators, as it would be useless.\n        let toolbarItems = editor.config.get('link.toolbar');\n        if (!linkCommand.manualDecorators.length) {\n            toolbarItems = toolbarItems.filter(item => item !== 'linkProperties');\n        }\n        toolbarView.fillFromConfig(toolbarItems, editor.ui.componentFactory);\n        // Close the panel on esc key press when the **link toolbar have focus**.\n        toolbarView.keystrokes.set('Esc', (data, cancel) => {\n            this._hideUI();\n            cancel();\n        });\n        // Open the form view on Ctrl+K when the **link toolbar have focus**..\n        toolbarView.keystrokes.set(LINK_KEYSTROKE, (data, cancel) => {\n            this._addFormView();\n            cancel();\n        });\n        // Register the toolbar, so it becomes available for Alt+F10 and Esc navigation.\n        // TODO this should be registered earlier to be able to open this toolbar without previously opening it by click or Ctrl+K\n        editor.ui.addToolbar(toolbarView, {\n            isContextual: true,\n            beforeFocus: () => {\n                if (this._getSelectedLinkElement() && !this._isToolbarVisible) {\n                    this._showUI(true);\n                }\n            },\n            afterBlur: () => {\n                this._hideUI(false);\n            }\n        });\n        return toolbarView;\n    }\n    /**\n     * Creates the {@link module:link/ui/linkformview~LinkFormView} instance.\n     */\n    _createFormView() {\n        const editor = this.editor;\n        const t = editor.locale.t;\n        const linkCommand = editor.commands.get('link');\n        const defaultProtocol = editor.config.get('link.defaultProtocol');\n        const formView = new (CssTransitionDisablerMixin(LinkFormView))(editor.locale, getFormValidators(editor));\n        formView.displayedTextInputView.bind('isEnabled').to(this, 'selectedLinkableText', value => value !== undefined);\n        // Form elements should be read-only when corresponding commands are disabled.\n        formView.urlInputView.bind('isEnabled').to(linkCommand, 'isEnabled');\n        // Disable the \"save\" button if the command is disabled.\n        formView.saveButtonView.bind('isEnabled').to(linkCommand, 'isEnabled');\n        // Change the \"Save\" button label depending on the command state.\n        formView.saveButtonView.bind('label').to(linkCommand, 'value', value => value ? t('Update') : t('Insert'));\n        // Execute link command after clicking the \"Save\" button.\n        this.listenTo(formView, 'submit', () => {\n            if (formView.isValid()) {\n                const url = formView.urlInputView.fieldView.element.value;\n                const parsedUrl = addLinkProtocolIfApplicable(url, defaultProtocol);\n                const displayedText = formView.displayedTextInputView.fieldView.element.value;\n                editor.execute('link', parsedUrl, this._getDecoratorSwitchesState(), displayedText !== this.selectedLinkableText ? displayedText : undefined);\n                this._closeFormView();\n            }\n        });\n        // Update balloon position when form error changes.\n        this.listenTo(formView.urlInputView, 'change:errorText', () => {\n            editor.ui.update();\n        });\n        // Hide the panel after clicking the \"Cancel\" button.\n        this.listenTo(formView, 'cancel', () => {\n            this._closeFormView();\n        });\n        // Close the panel on esc key press when the **form has focus**.\n        formView.keystrokes.set('Esc', (data, cancel) => {\n            this._closeFormView();\n            cancel();\n        });\n        // Watch adding new link providers and add them to the buttons list.\n        formView.providersListChildren.bindTo(this._linksProviders).using(provider => this._createLinksListProviderButton(provider));\n        return formView;\n    }\n    /**\n     * Creates a sorted array of buttons with link names.\n     */\n    _createLinkProviderListView(provider) {\n        return provider.getListItems().map(({ href, label, icon }) => {\n            const buttonView = new ButtonView();\n            buttonView.set({\n                label,\n                icon,\n                tooltip: false,\n                withText: true\n            });\n            buttonView.on('execute', () => {\n                this.formView.resetFormStatus();\n                this.formView.urlInputView.fieldView.value = href;\n                // Set focus to the editing view to prevent from losing it while current view is removed.\n                this.editor.editing.view.focus();\n                this._removeLinksProviderView();\n                // Set the focus to the URL input field.\n                this.formView.focus();\n            });\n            return buttonView;\n        });\n    }\n    /**\n     * Creates a view for links provider.\n     */\n    _createLinkProviderItemsView(provider) {\n        const editor = this.editor;\n        const t = editor.locale.t;\n        const view = new LinkProviderItemsView(editor.locale);\n        const { emptyListPlaceholder, label } = provider;\n        view.emptyListPlaceholder = emptyListPlaceholder || t('No links available');\n        view.title = label;\n        // Hide the panel after clicking the \"Cancel\" button.\n        this.listenTo(view, 'cancel', () => {\n            // Set focus to the editing view to prevent from losing it while current view is removed.\n            editor.editing.view.focus();\n            this._removeLinksProviderView();\n            // Set the focus to the URL input field.\n            this.formView.focus();\n        });\n        return view;\n    }\n    /**\n     * Creates the {@link module:link/ui/linkpropertiesview~LinkPropertiesView} instance.\n     */\n    _createPropertiesView() {\n        const editor = this.editor;\n        const linkCommand = this.editor.commands.get('link');\n        const view = new (CssTransitionDisablerMixin(LinkPropertiesView))(editor.locale);\n        // Hide the panel after clicking the back button.\n        this.listenTo(view, 'back', () => {\n            // Move focus back to the editing view to prevent from losing it while current view is removed.\n            editor.editing.view.focus();\n            this._removePropertiesView();\n        });\n        view.listChildren.bindTo(linkCommand.manualDecorators).using(manualDecorator => {\n            const button = new SwitchButtonView(editor.locale);\n            button.set({\n                label: manualDecorator.label,\n                withText: true\n            });\n            button.bind('isOn').toMany([manualDecorator, linkCommand], 'value', (decoratorValue, commandValue) => {\n                return commandValue === undefined && decoratorValue === undefined ?\n                    !!manualDecorator.defaultValue :\n                    !!decoratorValue;\n            });\n            button.on('execute', () => {\n                manualDecorator.set('value', !button.isOn);\n                editor.execute('link', linkCommand.value, this._getDecoratorSwitchesState());\n            });\n            return button;\n        });\n        return view;\n    }\n    /**\n     * Obtains the state of the manual decorators.\n     */\n    _getDecoratorSwitchesState() {\n        const linkCommand = this.editor.commands.get('link');\n        return Array\n            .from(linkCommand.manualDecorators)\n            .reduce((accumulator, manualDecorator) => {\n            const value = linkCommand.value === undefined && manualDecorator.value === undefined ?\n                manualDecorator.defaultValue :\n                manualDecorator.value;\n            return {\n                ...accumulator,\n                [manualDecorator.id]: !!value\n            };\n        }, {});\n    }\n    /**\n     * Registers listeners used in editing plugin, used to open links.\n     */\n    _registerEditingOpeners() {\n        const linkEditing = this.editor.plugins.get(LinkEditing);\n        linkEditing._registerLinkOpener(href => {\n            const match = this._getLinkProviderLinkByHref(href);\n            if (!match) {\n                return false;\n            }\n            const { item, provider } = match;\n            if (provider.navigate) {\n                return provider.navigate(item);\n            }\n            return false;\n        });\n    }\n    /**\n     * Registers components in the ComponentFactory.\n     */\n    _registerComponents() {\n        const editor = this.editor;\n        editor.ui.componentFactory.add('link', () => {\n            const button = this._createButton(ButtonView);\n            button.set({\n                tooltip: true\n            });\n            return button;\n        });\n        editor.ui.componentFactory.add('menuBar:link', () => {\n            const button = this._createButton(MenuBarMenuListItemButtonView);\n            button.set({\n                role: 'menuitemcheckbox'\n            });\n            return button;\n        });\n        editor.ui.componentFactory.add('linkPreview', locale => {\n            const button = new LinkPreviewButtonView(locale);\n            const allowedProtocols = editor.config.get('link.allowedProtocols');\n            const linkCommand = editor.commands.get('link');\n            const t = locale.t;\n            button.bind('isEnabled').to(linkCommand, 'value', href => !!href);\n            button.bind('href').to(linkCommand, 'value', href => {\n                return href && ensureSafeUrl(href, allowedProtocols);\n            });\n            const setHref = (href) => {\n                if (!href) {\n                    button.label = undefined;\n                    button.icon = undefined;\n                    button.tooltip = t('Open link in new tab');\n                    return;\n                }\n                const selectedLinksProviderLink = this._getLinkProviderLinkByHref(href);\n                if (selectedLinksProviderLink) {\n                    const { label, tooltip, icon } = selectedLinksProviderLink.item;\n                    button.label = label;\n                    button.tooltip = tooltip || false;\n                    button.icon = icon;\n                }\n                else {\n                    button.label = href;\n                    button.icon = undefined;\n                    button.tooltip = t('Open link in new tab');\n                }\n            };\n            setHref(linkCommand.value);\n            this.listenTo(linkCommand, 'change:value', (evt, name, href) => {\n                setHref(href);\n            });\n            this.listenTo(button, 'navigate', (evt, href, cancel) => {\n                const selectedLinksProviderLink = this._getLinkProviderLinkByHref(href);\n                if (!selectedLinksProviderLink) {\n                    return;\n                }\n                const { provider, item } = selectedLinksProviderLink;\n                const { navigate } = provider;\n                if (navigate && navigate(item)) {\n                    evt.stop();\n                    cancel();\n                }\n            });\n            return button;\n        });\n        editor.ui.componentFactory.add('unlink', locale => {\n            const unlinkCommand = editor.commands.get('unlink');\n            const button = new ButtonView(locale);\n            const t = locale.t;\n            button.set({\n                label: t('Unlink'),\n                icon: IconUnlink,\n                tooltip: true\n            });\n            button.bind('isEnabled').to(unlinkCommand);\n            this.listenTo(button, 'execute', () => {\n                editor.execute('unlink');\n                this._hideUI();\n            });\n            return button;\n        });\n        editor.ui.componentFactory.add('editLink', locale => {\n            const linkCommand = editor.commands.get('link');\n            const button = new ButtonView(locale);\n            const t = locale.t;\n            button.set({\n                label: t('Edit link'),\n                icon: IconPencil,\n                tooltip: true\n            });\n            button.bind('isEnabled').to(linkCommand);\n            this.listenTo(button, 'execute', () => {\n                this._addFormView();\n            });\n            return button;\n        });\n        editor.ui.componentFactory.add('linkProperties', locale => {\n            const linkCommand = editor.commands.get('link');\n            const button = new ButtonView(locale);\n            const t = locale.t;\n            button.set({\n                label: t('Link properties'),\n                icon: IconSettings,\n                tooltip: true\n            });\n            button.bind('isEnabled').to(linkCommand, 'isEnabled', linkCommand, 'value', linkCommand, 'manualDecorators', (isEnabled, href, manualDecorators) => isEnabled && !!href && manualDecorators.length > 0);\n            this.listenTo(button, 'execute', () => {\n                this._addPropertiesView();\n            });\n            return button;\n        });\n    }\n    /**\n     * Creates a links button view.\n     */\n    _createLinksListProviderButton(linkProvider) {\n        const locale = this.editor.locale;\n        const linksButton = new LinkButtonView(locale);\n        linksButton.set({\n            label: linkProvider.label\n        });\n        this.listenTo(linksButton, 'execute', () => {\n            this._showLinksProviderView(linkProvider);\n        });\n        return linksButton;\n    }\n    /**\n     * Creates a button for link command to use either in toolbar or in menu bar.\n     */\n    _createButton(ButtonClass) {\n        const editor = this.editor;\n        const locale = editor.locale;\n        const command = editor.commands.get('link');\n        const view = new ButtonClass(editor.locale);\n        const t = locale.t;\n        view.set({\n            label: t('Link'),\n            icon: IconLink,\n            keystroke: LINK_KEYSTROKE,\n            isToggleable: true\n        });\n        view.bind('isEnabled').to(command, 'isEnabled');\n        view.bind('isOn').to(command, 'value', value => !!value);\n        // Show the panel on button click.\n        this.listenTo(view, 'execute', () => {\n            editor.editing.view.scrollToTheSelection();\n            this._showUI(true);\n            // Open the form view on-top of the toolbar view if it's already visible.\n            // It should be visible every time the link is selected.\n            if (this._getSelectedLinkElement()) {\n                this._addFormView();\n            }\n        });\n        return view;\n    }\n    /**\n     * Attaches actions that control whether the balloon panel containing the\n     * {@link #formView} should be displayed.\n     */\n    _enableBalloonActivators() {\n        const editor = this.editor;\n        const viewDocument = editor.editing.view.document;\n        // Handle click on view document and show panel when selection is placed inside the link element.\n        // Keep panel open until selection will be inside the same link element.\n        this.listenTo(viewDocument, 'click', () => {\n            const parentLink = this._getSelectedLinkElement();\n            if (parentLink) {\n                // Then show panel but keep focus inside editor editable.\n                this._showUI();\n            }\n        });\n        // Handle the `Ctrl+K` keystroke and show the panel.\n        editor.keystrokes.set(LINK_KEYSTROKE, (keyEvtData, cancel) => {\n            // Prevent focusing the search bar in FF, Chrome and Edge. See https://github.com/ckeditor/ckeditor5/issues/4811.\n            cancel();\n            if (editor.commands.get('link').isEnabled) {\n                editor.editing.view.scrollToTheSelection();\n                this._showUI(true);\n            }\n        });\n    }\n    /**\n     * Attaches actions that control whether the balloon panel containing the\n     * {@link #formView} is visible or not.\n     */\n    _enableUserBalloonInteractions() {\n        // Focus the form if the balloon is visible and the Tab key has been pressed.\n        this.editor.keystrokes.set('Tab', (data, cancel) => {\n            if (this._isToolbarVisible && !this.toolbarView.focusTracker.isFocused) {\n                this.toolbarView.focus();\n                cancel();\n            }\n        }, {\n            // Use the high priority because the link UI navigation is more important\n            // than other feature's actions, e.g. list indentation.\n            // https://github.com/ckeditor/ckeditor5-link/issues/146\n            priority: 'high'\n        });\n        // Close the panel on the Esc key press when the editable has focus and the balloon is visible.\n        this.editor.keystrokes.set('Esc', (data, cancel) => {\n            if (this._isUIVisible) {\n                this._hideUI();\n                cancel();\n            }\n        });\n        // Close on click outside of balloon panel element.\n        clickOutsideHandler({\n            emitter: this.formView,\n            activator: () => this._isUIInPanel,\n            contextElements: () => [this._balloon.view.element],\n            callback: () => {\n                // Focusing on the editable during a click outside the balloon panel might\n                // cause the selection to move to the beginning of the editable, so we avoid\n                // focusing on it during this action.\n                // See: https://github.com/ckeditor/ckeditor5/issues/18253\n                this._hideUI(false);\n            }\n        });\n    }\n    /**\n     * Adds the {@link #toolbarView} to the {@link #_balloon}.\n     *\n     * @internal\n     */\n    _addToolbarView() {\n        if (!this.toolbarView) {\n            this._createViews();\n        }\n        if (this._isToolbarInPanel) {\n            return;\n        }\n        this._balloon.add({\n            view: this.toolbarView,\n            position: this._getBalloonPositionData(),\n            balloonClassName: 'ck-toolbar-container'\n        });\n    }\n    /**\n     * Adds the {@link #formView} to the {@link #_balloon}.\n     */\n    _addFormView() {\n        if (!this.formView) {\n            this._createViews();\n        }\n        if (this._isFormInPanel) {\n            return;\n        }\n        const linkCommand = this.editor.commands.get('link');\n        this.formView.disableCssTransitions();\n        this.formView.resetFormStatus();\n        this.formView.backButtonView.isVisible = linkCommand.isEnabled && !!linkCommand.value;\n        this._balloon.add({\n            view: this.formView,\n            position: this._getBalloonPositionData()\n        });\n        // Make sure that each time the panel shows up, the fields remains in sync with the value of\n        // the command. If the user typed in the input, then canceled the balloon (`urlInputView.fieldView#value` stays\n        // unaltered) and re-opened it without changing the value of the link command (e.g. because they\n        // clicked the same link), they would see the old value instead of the actual value of the command.\n        // https://github.com/ckeditor/ckeditor5-link/issues/78\n        // https://github.com/ckeditor/ckeditor5-link/issues/123\n        this.selectedLinkableText = this._getSelectedLinkableText();\n        this.formView.displayedTextInputView.fieldView.value = this.selectedLinkableText || '';\n        this.formView.urlInputView.fieldView.value = linkCommand.value || '';\n        // Select input when form view is currently visible.\n        if (this._balloon.visibleView === this.formView) {\n            this.formView.urlInputView.fieldView.select();\n        }\n        this.formView.enableCssTransitions();\n    }\n    /**\n     * Adds the {@link #propertiesView} to the {@link #_balloon}.\n     */\n    _addPropertiesView() {\n        if (!this.propertiesView) {\n            this._createViews();\n        }\n        if (this._arePropertiesInPanel) {\n            return;\n        }\n        this.propertiesView.disableCssTransitions();\n        this._balloon.add({\n            view: this.propertiesView,\n            position: this._getBalloonPositionData()\n        });\n        this.propertiesView.enableCssTransitions();\n        this.propertiesView.focus();\n    }\n    /**\n     * Shows the view with links provided by the given provider.\n     */\n    _showLinksProviderView(provider) {\n        if (this.linkProviderItemsView) {\n            this._removeLinksProviderView();\n        }\n        this.linkProviderItemsView = this._createLinkProviderItemsView(provider);\n        this._addLinkProviderItemsView(provider);\n    }\n    /**\n     * Adds the {@link #linkProviderItemsView} to the {@link #_balloon}.\n     */\n    _addLinkProviderItemsView(provider) {\n        // Clear the collection of links.\n        this.linkProviderItemsView.listChildren.clear();\n        // Add links to the collection.\n        this.linkProviderItemsView.listChildren.addMany(this._createLinkProviderListView(provider));\n        this._balloon.add({\n            view: this.linkProviderItemsView,\n            position: this._getBalloonPositionData()\n        });\n        this.linkProviderItemsView.focus();\n    }\n    /**\n     * Closes the form view. Decides whether the balloon should be hidden completely or if the action view should be shown. This is\n     * decided upon the link command value (which has a value if the document selection is in the link).\n     */\n    _closeFormView() {\n        const linkCommand = this.editor.commands.get('link');\n        this.selectedLinkableText = undefined;\n        if (linkCommand.value !== undefined) {\n            this._removeFormView();\n        }\n        else {\n            this._hideUI();\n        }\n    }\n    /**\n     * Removes the {@link #propertiesView} from the {@link #_balloon}.\n     */\n    _removePropertiesView() {\n        if (this._arePropertiesInPanel) {\n            this._balloon.remove(this.propertiesView);\n        }\n    }\n    /**\n     * Removes the {@link #linkProviderItemsView} from the {@link #_balloon}.\n     */\n    _removeLinksProviderView() {\n        if (this._isLinksListInPanel) {\n            this._balloon.remove(this.linkProviderItemsView);\n        }\n    }\n    /**\n     * Removes the {@link #formView} from the {@link #_balloon}.\n     */\n    _removeFormView(updateFocus = true) {\n        if (this._isFormInPanel) {\n            // Blur the input element before removing it from DOM to prevent issues in some browsers.\n            // See https://github.com/ckeditor/ckeditor5/issues/1501.\n            this.formView.saveButtonView.focus();\n            // Reset fields to update the state of the submit button.\n            this.formView.displayedTextInputView.fieldView.reset();\n            this.formView.urlInputView.fieldView.reset();\n            this._balloon.remove(this.formView);\n            // Because the form has an input which has focus, the focus must be brought back\n            // to the editor. Otherwise, it would be lost.\n            if (updateFocus) {\n                this.editor.editing.view.focus();\n            }\n            this._hideFakeVisualSelection();\n        }\n    }\n    /**\n     * Shows the correct UI type. It is either {@link #formView} or {@link #toolbarView}.\n     *\n     * @internal\n     */\n    _showUI(forceVisible = false) {\n        if (!this.formView) {\n            this._createViews();\n        }\n        // When there's no link under the selection, go straight to the editing UI.\n        if (!this._getSelectedLinkElement()) {\n            // Show visual selection on a text without a link when the contextual balloon is displayed.\n            // See https://github.com/ckeditor/ckeditor5/issues/4721.\n            this._showFakeVisualSelection();\n            this._addToolbarView();\n            // Be sure panel with link is visible.\n            if (forceVisible) {\n                this._balloon.showStack('main');\n            }\n            this._addFormView();\n        }\n        // If there's a link under the selection...\n        else {\n            // Go to the editing UI if toolbar is already visible.\n            if (this._isToolbarVisible) {\n                this._addFormView();\n            }\n            // Otherwise display just the toolbar.\n            else {\n                this._addToolbarView();\n            }\n            // Be sure panel with link is visible.\n            if (forceVisible) {\n                this._balloon.showStack('main');\n            }\n        }\n        // Begin responding to ui#update once the UI is added.\n        this._startUpdatingUI();\n    }\n    /**\n     * Removes the {@link #formView} from the {@link #_balloon}.\n     *\n     * See {@link #_addFormView}, {@link #_addToolbarView}.\n     */\n    _hideUI(updateFocus = true) {\n        const editor = this.editor;\n        if (!this._isUIInPanel) {\n            return;\n        }\n        this.stopListening(editor.ui, 'update');\n        this.stopListening(this._balloon, 'change:visibleView');\n        // Make sure the focus always gets back to the editable _before_ removing the focused form view.\n        // Doing otherwise causes issues in some browsers. See https://github.com/ckeditor/ckeditor5-link/issues/193.\n        if (updateFocus) {\n            editor.editing.view.focus();\n        }\n        // If the links view is visible, remove it because it can be on top of the stack.\n        this._removeLinksProviderView();\n        // If the properties form view is visible, remove it because it can be on top of the stack.\n        this._removePropertiesView();\n        // Then remove the form view because it's beneath the properties form.\n        this._removeFormView(updateFocus);\n        // Finally, remove the link toolbar view because it's last in the stack.\n        if (this._isToolbarInPanel) {\n            this._balloon.remove(this.toolbarView);\n        }\n        this._hideFakeVisualSelection();\n    }\n    /**\n     * Makes the UI react to the {@link module:ui/editorui/editorui~EditorUI#event:update} event to\n     * reposition itself when the editor UI should be refreshed.\n     *\n     * See: {@link #_hideUI} to learn when the UI stops reacting to the `update` event.\n     */\n    _startUpdatingUI() {\n        const editor = this.editor;\n        const viewDocument = editor.editing.view.document;\n        let prevSelectedLink = this._getSelectedLinkElement();\n        let prevSelectionParent = getSelectionParent();\n        const update = () => {\n            const selectedLink = this._getSelectedLinkElement();\n            const selectionParent = getSelectionParent();\n            // Hide the panel if:\n            //\n            // * the selection went out of the EXISTING link element. E.g. user moved the caret out\n            //   of the link,\n            // * the selection went to a different parent when creating a NEW link. E.g. someone\n            //   else modified the document.\n            // * the selection has expanded (e.g. displaying link toolbar then pressing SHIFT+Right arrow).\n            //\n            // Note: #_getSelectedLinkElement will return a link for a non-collapsed selection only\n            // when fully selected.\n            if ((prevSelectedLink && !selectedLink) ||\n                (!prevSelectedLink && selectionParent !== prevSelectionParent)) {\n                this._hideUI();\n            }\n            // Update the position of the panel when:\n            //  * link panel is in the visible stack\n            //  * the selection remains in the original link element,\n            //  * there was no link element in the first place, i.e. creating a new link\n            else if (this._isUIVisible) {\n                // If still in a link element, simply update the position of the balloon.\n                // If there was no link (e.g. inserting one), the balloon must be moved\n                // to the new position in the editing view (a new native DOM range).\n                this._balloon.updatePosition(this._getBalloonPositionData());\n            }\n            prevSelectedLink = selectedLink;\n            prevSelectionParent = selectionParent;\n        };\n        function getSelectionParent() {\n            return viewDocument.selection.focus.getAncestors()\n                .reverse()\n                .find((node) => node.is('element'));\n        }\n        this.listenTo(editor.ui, 'update', update);\n        this.listenTo(this._balloon, 'change:visibleView', update);\n    }\n    /**\n     * Returns `true` when {@link #propertiesView} is in the {@link #_balloon}.\n     */\n    get _arePropertiesInPanel() {\n        return !!this.propertiesView && this._balloon.hasView(this.propertiesView);\n    }\n    /**\n     * Returns `true` when {@link #linkProviderItemsView} is in the {@link #_balloon}.\n     */\n    get _isLinksListInPanel() {\n        return !!this.linkProviderItemsView && this._balloon.hasView(this.linkProviderItemsView);\n    }\n    /**\n     * Returns `true` when {@link #formView} is in the {@link #_balloon}.\n     */\n    get _isFormInPanel() {\n        return !!this.formView && this._balloon.hasView(this.formView);\n    }\n    /**\n     * Returns `true` when {@link #toolbarView} is in the {@link #_balloon}.\n     */\n    get _isToolbarInPanel() {\n        return !!this.toolbarView && this._balloon.hasView(this.toolbarView);\n    }\n    /**\n     * Returns `true` when {@link #propertiesView} is in the {@link #_balloon} and it is\n     * currently visible.\n     */\n    get _isPropertiesVisible() {\n        return !!this.propertiesView && this._balloon.visibleView === this.propertiesView;\n    }\n    /**\n     * Returns `true` when {@link #formView} is in the {@link #_balloon} and it is\n     * currently visible.\n     */\n    get _isFormVisible() {\n        return !!this.formView && this._balloon.visibleView == this.formView;\n    }\n    /**\n     * Returns `true` when {@link #toolbarView} is in the {@link #_balloon} and it is\n     * currently visible.\n     */\n    get _isToolbarVisible() {\n        return !!this.toolbarView && this._balloon.visibleView === this.toolbarView;\n    }\n    /**\n     * Returns `true` when {@link #propertiesView}, {@link #toolbarView}, {@link #linkProviderItemsView}\n     * or {@link #formView} is in the {@link #_balloon}.\n     */\n    get _isUIInPanel() {\n        return this._arePropertiesInPanel || this._isLinksListInPanel || this._isFormInPanel || this._isToolbarInPanel;\n    }\n    /**\n     * Returns `true` when {@link #propertiesView}, {@link #linkProviderItemsView}, {@link #toolbarView}\n     * or {@link #formView} is in the {@link #_balloon} and it is currently visible.\n     */\n    get _isUIVisible() {\n        return this._isPropertiesVisible || this._isLinksListInPanel || this._isFormVisible || this._isToolbarVisible;\n    }\n    /**\n     * Returns positioning options for the {@link #_balloon}. They control the way the balloon is attached\n     * to the target element or selection.\n     *\n     * If the selection is collapsed and inside a link element, the panel will be attached to the\n     * entire link element. Otherwise, it will be attached to the selection.\n     */\n    _getBalloonPositionData() {\n        const view = this.editor.editing.view;\n        const viewDocument = view.document;\n        const model = this.editor.model;\n        if (model.markers.has(VISUAL_SELECTION_MARKER_NAME)) {\n            // There are cases when we highlight selection using a marker (#7705, #4721).\n            const markerViewElements = this.editor.editing.mapper.markerNameToElements(VISUAL_SELECTION_MARKER_NAME);\n            // Marker could be removed by link text override and end up in the graveyard.\n            if (markerViewElements) {\n                const markerViewElementsArray = Array.from(markerViewElements);\n                const newRange = view.createRange(view.createPositionBefore(markerViewElementsArray[0]), view.createPositionAfter(markerViewElementsArray[markerViewElementsArray.length - 1]));\n                return {\n                    target: view.domConverter.viewRangeToDom(newRange)\n                };\n            }\n        }\n        // Make sure the target is calculated on demand at the last moment because a cached DOM range\n        // (which is very fragile) can desynchronize with the state of the editing view if there was\n        // any rendering done in the meantime. This can happen, for instance, when an inline widget\n        // gets unlinked.\n        return {\n            target: () => {\n                const targetLink = this._getSelectedLinkElement();\n                return targetLink ?\n                    // When selection is inside link element, then attach panel to this element.\n                    view.domConverter.mapViewToDom(targetLink) :\n                    // Otherwise attach panel to the selection.\n                    view.domConverter.viewRangeToDom(viewDocument.selection.getFirstRange());\n            }\n        };\n    }\n    /**\n     * Returns the link {@link module:engine/view/attributeelement~AttributeElement} under\n     * the {@link module:engine/view/document~Document editing view's} selection or `null`\n     * if there is none.\n     *\n     * **Note**: For a non–collapsed selection, the link element is returned when **fully**\n     * selected and the **only** element within the selection boundaries, or when\n     * a linked widget is selected.\n     */\n    _getSelectedLinkElement() {\n        const view = this.editor.editing.view;\n        const selection = view.document.selection;\n        const selectedElement = selection.getSelectedElement();\n        // The selection is collapsed or some widget is selected (especially inline widget).\n        if (selection.isCollapsed || selectedElement && isWidget(selectedElement)) {\n            return findLinkElementAncestor(selection.getFirstPosition());\n        }\n        else {\n            // The range for fully selected link is usually anchored in adjacent text nodes.\n            // Trim it to get closer to the actual link element.\n            const range = selection.getFirstRange().getTrimmed();\n            const startLink = findLinkElementAncestor(range.start);\n            const endLink = findLinkElementAncestor(range.end);\n            if (!startLink || startLink != endLink) {\n                return null;\n            }\n            // Check if the link element is fully selected.\n            if (view.createRangeIn(startLink).getTrimmed().isEqual(range)) {\n                return startLink;\n            }\n            else {\n                return null;\n            }\n        }\n    }\n    /**\n     * Returns selected link text content.\n     * If link is not selected it returns the selected text.\n     * If selection or link includes non text node (inline object or block) then returns undefined.\n     */\n    _getSelectedLinkableText() {\n        const model = this.editor.model;\n        const editing = this.editor.editing;\n        const selectedLink = this._getSelectedLinkElement();\n        if (!selectedLink) {\n            return extractTextFromLinkRange(model.document.selection.getFirstRange());\n        }\n        const viewLinkRange = editing.view.createRangeOn(selectedLink);\n        const linkRange = editing.mapper.toModelRange(viewLinkRange);\n        return extractTextFromLinkRange(linkRange);\n    }\n    /**\n     * Returns a provider by its URL.\n     *\n     * @param href URL of the link.\n     * @returns Link provider and item or `null` if not found.\n     */\n    _getLinkProviderLinkByHref(href) {\n        if (!href) {\n            return null;\n        }\n        for (const provider of this._linksProviders) {\n            const item = provider.getItem ?\n                provider.getItem(href) :\n                provider.getListItems().find(item => item.href === href);\n            if (item) {\n                return { provider, item };\n            }\n        }\n        return null;\n    }\n    /**\n     * Displays a fake visual selection when the contextual balloon is displayed.\n     *\n     * This adds a 'link-ui' marker into the document that is rendered as a highlight on selected text fragment.\n     */\n    _showFakeVisualSelection() {\n        const model = this.editor.model;\n        model.change(writer => {\n            const range = model.document.selection.getFirstRange();\n            if (model.markers.has(VISUAL_SELECTION_MARKER_NAME)) {\n                writer.updateMarker(VISUAL_SELECTION_MARKER_NAME, { range });\n            }\n            else {\n                if (range.start.isAtEnd) {\n                    const startPosition = range.start.getLastMatchingPosition(({ item }) => !model.schema.isContent(item), { boundaries: range });\n                    writer.addMarker(VISUAL_SELECTION_MARKER_NAME, {\n                        usingOperation: false,\n                        affectsData: false,\n                        range: writer.createRange(startPosition, range.end)\n                    });\n                }\n                else {\n                    writer.addMarker(VISUAL_SELECTION_MARKER_NAME, {\n                        usingOperation: false,\n                        affectsData: false,\n                        range\n                    });\n                }\n            }\n        });\n    }\n    /**\n     * Hides the fake visual selection created in {@link #_showFakeVisualSelection}.\n     */\n    _hideFakeVisualSelection() {\n        const model = this.editor.model;\n        if (model.markers.has(VISUAL_SELECTION_MARKER_NAME)) {\n            model.change(writer => {\n                writer.removeMarker(VISUAL_SELECTION_MARKER_NAME);\n            });\n        }\n    }\n}\n/**\n * Returns a link element if there's one among the ancestors of the provided `Position`.\n *\n * @param View position to analyze.\n * @returns Link element at the position or null.\n */\nfunction findLinkElementAncestor(position) {\n    return position.getAncestors().find((ancestor) => isLinkElement(ancestor)) || null;\n}\n/**\n * Returns link form validation callbacks.\n *\n * @param editor Editor instance.\n */\nfunction getFormValidators(editor) {\n    const t = editor.t;\n    const allowCreatingEmptyLinks = editor.config.get('link.allowCreatingEmptyLinks');\n    return [\n        form => {\n            if (!allowCreatingEmptyLinks && !form.url.length) {\n                return t('Link URL must not be empty.');\n            }\n        }\n    ];\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module link/autolink\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Delete, TextWatcher, getLastTextLine, findAttributeRange } from 'ckeditor5/src/typing.js';\nimport { addLinkProtocolIfApplicable, linkHasProtocol } from './utils.js';\nimport LinkEditing from './linkediting.js';\nconst MIN_LINK_LENGTH_WITH_SPACE_AT_END = 4; // Ie: \"t.co \" (length 5).\n// This was a tweak from https://gist.github.com/dperini/729294.\nconst URL_REG_EXP = new RegExp(\n// Group 1: Line start or after a space.\n'(^|\\\\s)' +\n    // Group 2: Detected URL (or e-mail).\n    '(' +\n    // Protocol identifier or short syntax \"//\"\n    // a. Full form http://user@foo.bar.baz:8080/foo/bar.html#baz?foo=bar\n    '(' +\n    '(?:(?:(?:https?|ftp):)?\\\\/\\\\/)' +\n    // BasicAuth using user:pass (optional)\n    '(?:\\\\S+(?::\\\\S*)?@)?' +\n    '(?:' +\n    // IP address dotted notation octets\n    // excludes loopback network 0.0.0.0\n    // excludes reserved space >= 224.0.0.0\n    // excludes network & broadcast addresses\n    // (first & last IP address of each class)\n    '(?:[1-9]\\\\d?|1\\\\d\\\\d|2[01]\\\\d|22[0-3])' +\n    '(?:\\\\.(?:1?\\\\d{1,2}|2[0-4]\\\\d|25[0-5])){2}' +\n    '(?:\\\\.(?:[1-9]\\\\d?|1\\\\d\\\\d|2[0-4]\\\\d|25[0-4]))' +\n    '|' +\n    '(' +\n    // Do not allow `www.foo` - see https://github.com/ckeditor/ckeditor5/issues/8050.\n    '((?!www\\\\.)|(www\\\\.))' +\n    // Host & domain names.\n    '(?![-_])(?:[-_a-z0-9\\\\u00a1-\\\\uffff]{1,63}\\\\.)+' +\n    // TLD identifier name.\n    '(?:[a-z\\\\u00a1-\\\\uffff]{2,63})' +\n    ')' +\n    '|' +\n    // Allow localhost as a valid hostname\n    'localhost' +\n    ')' +\n    // port number (optional)\n    '(?::\\\\d{2,5})?' +\n    // resource path (optional)\n    '(?:[/?#]\\\\S*)?' +\n    ')' +\n    '|' +\n    // b. Short form (either www.example.com or example@example.com)\n    '(' +\n    '(www.|(\\\\S+@))' +\n    // Host & domain names.\n    '((?![-_])(?:[-_a-z0-9\\\\u00a1-\\\\uffff]{1,63}\\\\.))+' +\n    // TLD identifier name.\n    '(?:[a-z\\\\u00a1-\\\\uffff]{2,63})' +\n    ')' +\n    ')$', 'i');\nconst URL_GROUP_IN_MATCH = 2;\n/**\n * The autolink plugin.\n */\nexport default class AutoLink extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [Delete, LinkEditing];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'AutoLink';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const selection = editor.model.document.selection;\n        selection.on('change:range', () => {\n            // Disable plugin when selection is inside a code block.\n            this.isEnabled = !selection.anchor.parent.is('element', 'codeBlock');\n        });\n        this._enableTypingHandling();\n    }\n    /**\n     * @inheritDoc\n     */\n    afterInit() {\n        this._enableEnterHandling();\n        this._enableShiftEnterHandling();\n        this._enablePasteLinking();\n    }\n    /**\n     * For given position, returns a range that includes the whole link that contains the position.\n     *\n     * If position is not inside a link, returns `null`.\n     */\n    _expandLinkRange(model, position) {\n        if (position.textNode && position.textNode.hasAttribute('linkHref')) {\n            return findAttributeRange(position, 'linkHref', position.textNode.getAttribute('linkHref'), model);\n        }\n        else {\n            return null;\n        }\n    }\n    /**\n     * Extends the document selection to includes all links that intersects with given `selectedRange`.\n     */\n    _selectEntireLinks(writer, selectedRange) {\n        const editor = this.editor;\n        const model = editor.model;\n        const selection = model.document.selection;\n        const selStart = selection.getFirstPosition();\n        const selEnd = selection.getLastPosition();\n        let updatedSelection = selectedRange.getJoined(this._expandLinkRange(model, selStart) || selectedRange);\n        if (updatedSelection) {\n            updatedSelection = updatedSelection.getJoined(this._expandLinkRange(model, selEnd) || selectedRange);\n        }\n        if (updatedSelection && (updatedSelection.start.isBefore(selStart) || updatedSelection.end.isAfter(selEnd))) {\n            // Only update the selection if it changed.\n            writer.setSelection(updatedSelection);\n        }\n    }\n    /**\n     * Enables autolinking on pasting a URL when some content is selected.\n     */\n    _enablePasteLinking() {\n        const editor = this.editor;\n        const model = editor.model;\n        const selection = model.document.selection;\n        const clipboardPipeline = editor.plugins.get('ClipboardPipeline');\n        const linkCommand = editor.commands.get('link');\n        clipboardPipeline.on('inputTransformation', (evt, data) => {\n            if (!this.isEnabled || !linkCommand.isEnabled || selection.isCollapsed || data.method !== 'paste') {\n                // Abort if we are disabled or the selection is collapsed.\n                return;\n            }\n            if (selection.rangeCount > 1) {\n                // Abort if there are multiple selection ranges.\n                return;\n            }\n            const selectedRange = selection.getFirstRange();\n            const newLink = data.dataTransfer.getData('text/plain');\n            if (!newLink) {\n                // Abort if there is no plain text on the clipboard.\n                return;\n            }\n            const matches = newLink.match(URL_REG_EXP);\n            // If the text in the clipboard has a URL, and that URL is the whole clipboard.\n            if (matches && matches[2] === newLink) {\n                model.change(writer => {\n                    this._selectEntireLinks(writer, selectedRange);\n                    linkCommand.execute(newLink);\n                });\n                evt.stop();\n            }\n        }, { priority: 'high' });\n    }\n    /**\n     * Enables autolinking on typing.\n     */\n    _enableTypingHandling() {\n        const editor = this.editor;\n        const watcher = new TextWatcher(editor.model, text => {\n            let mappedText = text;\n            // 1. Detect <kbd>Space</kbd> after a text with a potential link.\n            if (!isSingleSpaceAtTheEnd(mappedText)) {\n                return;\n            }\n            // 2. Remove the last space character.\n            mappedText = mappedText.slice(0, -1);\n            // 3. Remove punctuation at the end of the URL if it exists.\n            if ('!.:,;?'.includes(mappedText[mappedText.length - 1])) {\n                mappedText = mappedText.slice(0, -1);\n            }\n            // 4. Check text before last typed <kbd>Space</kbd> or punctuation.\n            const url = getUrlAtTextEnd(mappedText);\n            if (url) {\n                return {\n                    url,\n                    removedTrailingCharacters: text.length - mappedText.length\n                };\n            }\n        });\n        watcher.on('matched:data', (evt, data) => {\n            const { batch, range, url, removedTrailingCharacters } = data;\n            if (!batch.isTyping) {\n                return;\n            }\n            const linkEnd = range.end.getShiftedBy(-removedTrailingCharacters); // Executed after a space character or punctuation.\n            const linkStart = linkEnd.getShiftedBy(-url.length);\n            const linkRange = editor.model.createRange(linkStart, linkEnd);\n            this._applyAutoLink(url, linkRange);\n        });\n        watcher.bind('isEnabled').to(this);\n    }\n    /**\n     * Enables autolinking on the <kbd>Enter</kbd> key.\n     */\n    _enableEnterHandling() {\n        const editor = this.editor;\n        const model = editor.model;\n        const enterCommand = editor.commands.get('enter');\n        if (!enterCommand) {\n            return;\n        }\n        enterCommand.on('execute', () => {\n            const position = model.document.selection.getFirstPosition();\n            if (!position.parent.previousSibling) {\n                return;\n            }\n            const rangeToCheck = model.createRangeIn(position.parent.previousSibling);\n            this._checkAndApplyAutoLinkOnRange(rangeToCheck);\n        });\n    }\n    /**\n     * Enables autolinking on the <kbd>Shift</kbd>+<kbd>Enter</kbd> keyboard shortcut.\n     */\n    _enableShiftEnterHandling() {\n        const editor = this.editor;\n        const model = editor.model;\n        const shiftEnterCommand = editor.commands.get('shiftEnter');\n        if (!shiftEnterCommand) {\n            return;\n        }\n        shiftEnterCommand.on('execute', () => {\n            const position = model.document.selection.getFirstPosition();\n            const rangeToCheck = model.createRange(model.createPositionAt(position.parent, 0), position.getShiftedBy(-1));\n            this._checkAndApplyAutoLinkOnRange(rangeToCheck);\n        });\n    }\n    /**\n     * Checks if the passed range contains a linkable text.\n     */\n    _checkAndApplyAutoLinkOnRange(rangeToCheck) {\n        const model = this.editor.model;\n        const { text, range } = getLastTextLine(rangeToCheck, model);\n        const url = getUrlAtTextEnd(text);\n        if (url) {\n            const linkRange = model.createRange(range.end.getShiftedBy(-url.length), range.end);\n            this._applyAutoLink(url, linkRange);\n        }\n    }\n    /**\n     * Applies a link on a given range if the link should be applied.\n     *\n     * @param url The URL to link.\n     * @param range The text range to apply the link attribute to.\n     */\n    _applyAutoLink(url, range) {\n        const model = this.editor.model;\n        const defaultProtocol = this.editor.config.get('link.defaultProtocol');\n        const fullUrl = addLinkProtocolIfApplicable(url, defaultProtocol);\n        if (!this.isEnabled || !isLinkAllowedOnRange(range, model) || !linkHasProtocol(fullUrl) || linkIsAlreadySet(range)) {\n            return;\n        }\n        this._persistAutoLink(fullUrl, range);\n    }\n    /**\n     * Enqueues autolink changes in the model.\n     *\n     * @param url The URL to link.\n     * @param range The text range to apply the link attribute to.\n     */\n    _persistAutoLink(url, range) {\n        const model = this.editor.model;\n        const deletePlugin = this.editor.plugins.get('Delete');\n        // Enqueue change to make undo step.\n        model.enqueueChange(writer => {\n            writer.setAttribute('linkHref', url, range);\n            model.enqueueChange(() => {\n                deletePlugin.requestUndoOnBackspace();\n            });\n        });\n    }\n}\n// Check if text should be evaluated by the plugin in order to reduce number of RegExp checks on whole text.\nfunction isSingleSpaceAtTheEnd(text) {\n    return text.length > MIN_LINK_LENGTH_WITH_SPACE_AT_END && text[text.length - 1] === ' ' && text[text.length - 2] !== ' ';\n}\nfunction getUrlAtTextEnd(text) {\n    const match = URL_REG_EXP.exec(text);\n    return match ? match[URL_GROUP_IN_MATCH] : null;\n}\nfunction isLinkAllowedOnRange(range, model) {\n    return model.schema.checkAttributeInSelection(model.createSelection(range), 'linkHref');\n}\nfunction linkIsAlreadySet(range) {\n    const item = range.start.nodeAfter;\n    return !!item && item.hasAttribute('linkHref');\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module link/linkimageediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Matcher } from 'ckeditor5/src/engine.js';\nimport { toMap } from 'ckeditor5/src/utils.js';\nimport LinkEditing from './linkediting.js';\n/**\n * The link image engine feature.\n *\n * It accepts the `linkHref=\"url\"` attribute in the model for the {@link module:image/image~Image `<imageBlock>`} element\n * which allows linking images.\n */\nexport default class LinkImageEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return ['ImageEditing', 'ImageUtils', LinkEditing];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'LinkImageEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    afterInit() {\n        const editor = this.editor;\n        const schema = editor.model.schema;\n        if (editor.plugins.has('ImageBlockEditing')) {\n            schema.extend('imageBlock', { allowAttributes: ['linkHref'] });\n        }\n        editor.conversion.for('upcast').add(upcastLink(editor));\n        editor.conversion.for('downcast').add(downcastImageLink(editor));\n        // Definitions for decorators are provided by the `link` command and the `LinkEditing` plugin.\n        this._enableAutomaticDecorators();\n        this._enableManualDecorators();\n    }\n    /**\n     * Processes {@link module:link/linkconfig~LinkDecoratorAutomaticDefinition automatic decorators} definitions and\n     * attaches proper converters that will work when linking an image.`\n     */\n    _enableAutomaticDecorators() {\n        const editor = this.editor;\n        const command = editor.commands.get('link');\n        const automaticDecorators = command.automaticDecorators;\n        if (automaticDecorators.length) {\n            editor.conversion.for('downcast').add(automaticDecorators.getDispatcherForLinkedImage());\n        }\n    }\n    /**\n     * Processes transformed {@link module:link/utils/manualdecorator~ManualDecorator} instances and attaches proper converters\n     * that will work when linking an image.\n     */\n    _enableManualDecorators() {\n        const editor = this.editor;\n        const command = editor.commands.get('link');\n        for (const decorator of command.manualDecorators) {\n            if (editor.plugins.has('ImageBlockEditing')) {\n                editor.model.schema.extend('imageBlock', { allowAttributes: decorator.id });\n            }\n            if (editor.plugins.has('ImageInlineEditing')) {\n                editor.model.schema.extend('imageInline', { allowAttributes: decorator.id });\n            }\n            editor.conversion.for('downcast').add(downcastImageLinkManualDecorator(decorator));\n            editor.conversion.for('upcast').add(upcastImageLinkManualDecorator(editor, decorator));\n        }\n    }\n}\n/**\n * Returns a converter for linked block images that consumes the \"href\" attribute\n * if a link contains an image.\n *\n * @param editor The editor instance.\n */\nfunction upcastLink(editor) {\n    const isImageInlinePluginLoaded = editor.plugins.has('ImageInlineEditing');\n    const imageUtils = editor.plugins.get('ImageUtils');\n    return dispatcher => {\n        dispatcher.on('element:a', (evt, data, conversionApi) => {\n            const viewLink = data.viewItem;\n            const imageInLink = imageUtils.findViewImgElement(viewLink);\n            if (!imageInLink) {\n                return;\n            }\n            const blockImageView = imageInLink.findAncestor(element => imageUtils.isBlockImageView(element));\n            // There are four possible cases to consider here\n            //\n            // 1. A \"root > ... > figure.image > a > img\" structure.\n            // 2. A \"root > ... > figure.image > a > picture > img\" structure.\n            // 3. A \"root > ... > block > a > img\" structure.\n            // 4. A \"root > ... > block > a > picture > img\" structure.\n            //\n            // but the last 2 cases should only be considered by this converter when the inline image plugin\n            // is NOT loaded in the editor (because otherwise, that would be a plain, linked inline image).\n            if (isImageInlinePluginLoaded && !blockImageView) {\n                return;\n            }\n            // There's an image inside an <a> element - we consume it so it won't be picked up by the Link plugin.\n            const consumableAttributes = { attributes: ['href'] };\n            // Consume the `href` attribute so the default one will not convert it to $text attribute.\n            if (!conversionApi.consumable.consume(viewLink, consumableAttributes)) {\n                // Might be consumed by something else - i.e. other converter with priority=highest - a standard check.\n                return;\n            }\n            const linkHref = viewLink.getAttribute('href');\n            // Missing the 'href' attribute.\n            if (!linkHref) {\n                return;\n            }\n            // A full definition of the image feature.\n            // figure > a > img: parent of the view link element is an image element (figure).\n            let modelElement = data.modelCursor.parent;\n            if (!modelElement.is('element', 'imageBlock')) {\n                // a > img: parent of the view link is not the image (figure) element. We need to convert it manually.\n                const conversionResult = conversionApi.convertItem(imageInLink, data.modelCursor);\n                // Set image range as conversion result.\n                data.modelRange = conversionResult.modelRange;\n                // Continue conversion where image conversion ends.\n                data.modelCursor = conversionResult.modelCursor;\n                modelElement = data.modelCursor.nodeBefore;\n            }\n            if (modelElement && modelElement.is('element', 'imageBlock')) {\n                // Set the linkHref attribute from link element on model image element.\n                conversionApi.writer.setAttribute('linkHref', linkHref, modelElement);\n            }\n        }, { priority: 'high' });\n        // Using the same priority that `upcastImageLinkManualDecorator()` converter guarantees\n        // that manual decorators will decorate the proper element.\n    };\n}\n/**\n * Creates a converter that adds `<a>` to linked block image view elements.\n */\nfunction downcastImageLink(editor) {\n    const imageUtils = editor.plugins.get('ImageUtils');\n    return dispatcher => {\n        dispatcher.on('attribute:linkHref:imageBlock', (evt, data, conversionApi) => {\n            if (!conversionApi.consumable.consume(data.item, evt.name)) {\n                return;\n            }\n            // The image will be already converted - so it will be present in the view.\n            const viewFigure = conversionApi.mapper.toViewElement(data.item);\n            const writer = conversionApi.writer;\n            // But we need to check whether the link element exists.\n            const linkInImage = Array.from(viewFigure.getChildren())\n                .find((child) => child.is('element', 'a'));\n            const viewImage = imageUtils.findViewImgElement(viewFigure);\n            // <picture>...<img/></picture> or <img/>\n            const viewImgOrPicture = viewImage.parent.is('element', 'picture') ? viewImage.parent : viewImage;\n            // If so, update the attribute if it's defined or remove the entire link if the attribute is empty.\n            if (linkInImage) {\n                if (data.attributeNewValue) {\n                    writer.setAttribute('href', data.attributeNewValue, linkInImage);\n                }\n                else {\n                    writer.move(writer.createRangeOn(viewImgOrPicture), writer.createPositionAt(viewFigure, 0));\n                    writer.remove(linkInImage);\n                }\n            }\n            else {\n                // But if it does not exist. Let's wrap already converted image by newly created link element.\n                // 1. Create an empty link element.\n                const linkElement = writer.createContainerElement('a', { href: data.attributeNewValue });\n                // 2. Insert link inside the associated image.\n                writer.insert(writer.createPositionAt(viewFigure, 0), linkElement);\n                // 3. Move the image to the link.\n                writer.move(writer.createRangeOn(viewImgOrPicture), writer.createPositionAt(linkElement, 0));\n            }\n        }, { priority: 'high' });\n    };\n}\n/**\n * Returns a converter that decorates the `<a>` element when the image is the link label.\n */\nfunction downcastImageLinkManualDecorator(decorator) {\n    return dispatcher => {\n        dispatcher.on(`attribute:${decorator.id}:imageBlock`, (evt, data, conversionApi) => {\n            const viewFigure = conversionApi.mapper.toViewElement(data.item);\n            const linkInImage = Array.from(viewFigure.getChildren())\n                .find((child) => child.is('element', 'a'));\n            // The <a> element was removed by the time this converter is executed.\n            // It may happen when the base `linkHref` and decorator attributes are removed\n            // at the same time (see #8401).\n            if (!linkInImage) {\n                return;\n            }\n            // Handle deactivated manual decorator.\n            if (decorator.value === undefined) {\n                for (const key in decorator.attributes) {\n                    conversionApi.writer.removeAttribute(key, linkInImage);\n                }\n                if (decorator.classes) {\n                    conversionApi.writer.removeClass(decorator.classes, linkInImage);\n                }\n                for (const key in decorator.styles) {\n                    conversionApi.writer.removeStyle(key, linkInImage);\n                }\n                return;\n            }\n            // Handle activated manual decorator.\n            for (const [key, val] of toMap(decorator.attributes)) {\n                conversionApi.writer.setAttribute(key, val, linkInImage);\n            }\n            if (decorator.classes) {\n                conversionApi.writer.addClass(decorator.classes, linkInImage);\n            }\n            for (const key in decorator.styles) {\n                conversionApi.writer.setStyle(key, decorator.styles[key], linkInImage);\n            }\n        });\n    };\n}\n/**\n * Returns a converter that checks whether manual decorators should be applied to the link.\n */\nfunction upcastImageLinkManualDecorator(editor, decorator) {\n    const isImageInlinePluginLoaded = editor.plugins.has('ImageInlineEditing');\n    const imageUtils = editor.plugins.get('ImageUtils');\n    return dispatcher => {\n        dispatcher.on('element:a', (evt, data, conversionApi) => {\n            const viewLink = data.viewItem;\n            const imageInLink = imageUtils.findViewImgElement(viewLink);\n            // We need to check whether an image is inside a link because the converter handles\n            // only manual decorators for linked images. See #7975.\n            if (!imageInLink) {\n                return;\n            }\n            const blockImageView = imageInLink.findAncestor(element => imageUtils.isBlockImageView(element));\n            if (isImageInlinePluginLoaded && !blockImageView) {\n                return;\n            }\n            const matcher = new Matcher(decorator._createPattern());\n            const result = matcher.match(viewLink);\n            // The link element does not have required attributes or/and proper values.\n            if (!result) {\n                return;\n            }\n            // Check whether we can consume those attributes.\n            if (!conversionApi.consumable.consume(viewLink, result.match)) {\n                return;\n            }\n            // At this stage we can assume that we have the `<imageBlock>` element.\n            // `nodeBefore` comes after conversion: `<a><img></a>`.\n            // `parent` comes with full image definition: `<figure><a><img></a></figure>.\n            // See the body of the `upcastLink()` function.\n            const modelElement = data.modelCursor.nodeBefore || data.modelCursor.parent;\n            conversionApi.writer.setAttribute(decorator.id, true, modelElement);\n        }, { priority: 'high' });\n        // Using the same priority that `upcastLink()` converter guarantees that the linked image was properly converted.\n    };\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module link/linkimageui\n */\nimport { ButtonView } from 'ckeditor5/src/ui.js';\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { IconLink } from 'ckeditor5/src/icons.js';\nimport LinkUI from './linkui.js';\nimport LinkEditing from './linkediting.js';\nimport { LINK_KEYSTROKE } from './utils.js';\n/**\n * The link image UI plugin.\n *\n * This plugin provides the `'linkImage'` button that can be displayed in the {@link module:image/imagetoolbar~ImageToolbar}.\n * It can be used to wrap images in links.\n */\nexport default class LinkImageUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [LinkEditing, LinkUI, 'ImageBlockEditing'];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'LinkImageUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const viewDocument = editor.editing.view.document;\n        this.listenTo(viewDocument, 'click', (evt, data) => {\n            if (this._isSelectedLinkedImage(editor.model.document.selection)) {\n                // Prevent browser navigation when clicking a linked image.\n                data.preventDefault();\n                // Block the `LinkUI` plugin when an image was clicked.\n                // In such a case, we'd like to display the image toolbar.\n                evt.stop();\n            }\n        }, { priority: 'high' });\n        this._createToolbarLinkImageButton();\n    }\n    /**\n     * Creates a `LinkImageUI` button view.\n     *\n     * Clicking this button shows a {@link module:link/linkui~LinkUI#_balloon} attached to the selection.\n     * When an image is already linked, the view shows {@link module:link/linkui~LinkUI#toolbarView} or\n     * {@link module:link/linkui~LinkUI#formView} if it is not.\n     */\n    _createToolbarLinkImageButton() {\n        const editor = this.editor;\n        const t = editor.t;\n        editor.ui.componentFactory.add('linkImage', locale => {\n            const button = new ButtonView(locale);\n            const plugin = editor.plugins.get('LinkUI');\n            const linkCommand = editor.commands.get('link');\n            button.set({\n                isEnabled: true,\n                label: t('Link image'),\n                icon: IconLink,\n                keystroke: LINK_KEYSTROKE,\n                tooltip: true,\n                isToggleable: true\n            });\n            // Bind button to the command.\n            button.bind('isEnabled').to(linkCommand, 'isEnabled');\n            button.bind('isOn').to(linkCommand, 'value', value => !!value);\n            // Show the actionsView or formView (both from LinkUI) on button click depending on whether the image is linked already.\n            this.listenTo(button, 'execute', () => {\n                if (this._isSelectedLinkedImage(editor.model.document.selection)) {\n                    plugin._addToolbarView();\n                }\n                else {\n                    plugin._showUI(true);\n                }\n            });\n            return button;\n        });\n    }\n    /**\n     * Returns true if a linked image (either block or inline) is the only selected element\n     * in the model document.\n     */\n    _isSelectedLinkedImage(selection) {\n        const selectedModelElement = selection.getSelectedElement();\n        const imageUtils = this.editor.plugins.get('ImageUtils');\n        return imageUtils.isImage(selectedModelElement) && selectedModelElement.hasAttribute('linkHref');\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./linkimage.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module link/linkimage\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport LinkImageEditing from './linkimageediting.js';\nimport LinkImageUI from './linkimageui.js';\nimport '../theme/linkimage.css';\n/**\n * The `LinkImage` plugin.\n *\n * This is a \"glue\" plugin that loads the {@link module:link/linkimageediting~LinkImageEditing link image editing feature}\n * and {@link module:link/linkimageui~LinkImageUI link image UI feature}.\n */\nexport default class LinkImage extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [LinkImageEditing, LinkImageUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'LinkImage';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module list/list/utils/listwalker\n */\nimport { first, toArray } from 'ckeditor5/src/utils.js';\nimport { isListItemBlock } from './model.js';\n/**\n * Document list blocks iterator.\n */\nexport default class ListWalker {\n    /**\n     * The start list item block element.\n     */\n    _startElement;\n    /**\n     * The reference indent. Initialized by the indent of the start block.\n     */\n    _referenceIndent;\n    /**\n     * The iterating direction.\n     */\n    _isForward;\n    /**\n     * Whether start block should be included in the result (if it's matching other criteria).\n     */\n    _includeSelf;\n    /**\n     * Additional attributes that must be the same for each block.\n     */\n    _sameAttributes;\n    /**\n     * Whether blocks with the same indent level as the start block should be included in the result.\n     */\n    _sameIndent;\n    /**\n     * Whether blocks with a lower indent level than the start block should be included in the result.\n     */\n    _lowerIndent;\n    /**\n     * Whether blocks with a higher indent level than the start block should be included in the result.\n     */\n    _higherIndent;\n    /**\n     * Creates a document list iterator.\n     *\n     * @param startElement The start list item block element.\n     * @param options.direction The iterating direction.\n     * @param options.includeSelf Whether start block should be included in the result (if it's matching other criteria).\n     * @param options.sameAttributes Additional attributes that must be the same for each block.\n     * @param options.sameIndent Whether blocks with the same indent level as the start block should be included\n     * in the result.\n     * @param options.lowerIndent Whether blocks with a lower indent level than the start block should be included\n     * in the result.\n     * @param options.higherIndent Whether blocks with a higher indent level than the start block should be included\n     * in the result.\n     */\n    constructor(startElement, options) {\n        this._startElement = startElement;\n        this._referenceIndent = startElement.getAttribute('listIndent');\n        this._isForward = options.direction == 'forward';\n        this._includeSelf = !!options.includeSelf;\n        this._sameAttributes = toArray(options.sameAttributes || []);\n        this._sameIndent = !!options.sameIndent;\n        this._lowerIndent = !!options.lowerIndent;\n        this._higherIndent = !!options.higherIndent;\n    }\n    /**\n     * Performs only first step of iteration and returns the result.\n     *\n     * @param startElement The start list item block element.\n     * @param options.direction The iterating direction.\n     * @param options.includeSelf Whether start block should be included in the result (if it's matching other criteria).\n     * @param options.sameAttributes Additional attributes that must be the same for each block.\n     * @param options.sameIndent Whether blocks with the same indent level as the start block should be included\n     * in the result.\n     * @param options.lowerIndent Whether blocks with a lower indent level than the start block should be included\n     * in the result.\n     * @param options.higherIndent Whether blocks with a higher indent level than the start block should be included\n     * in the result.\n     */\n    static first(startElement, options) {\n        const walker = new this(startElement, options);\n        const iterator = walker[Symbol.iterator]();\n        return first(iterator);\n    }\n    /**\n     * Iterable interface.\n     */\n    *[Symbol.iterator]() {\n        const nestedItems = [];\n        for (const { node } of new SiblingListBlocksIterator(this._getStartNode(), this._isForward ? 'forward' : 'backward')) {\n            const indent = node.getAttribute('listIndent');\n            // Leaving a nested list.\n            if (indent < this._referenceIndent) {\n                // Abort searching blocks.\n                if (!this._lowerIndent) {\n                    break;\n                }\n                // While searching for lower indents, update the reference indent to find another parent in the next step.\n                this._referenceIndent = indent;\n            }\n            // Entering a nested list.\n            else if (indent > this._referenceIndent) {\n                // Ignore nested blocks.\n                if (!this._higherIndent) {\n                    continue;\n                }\n                // Collect nested blocks to verify if they are really nested, or it's a different item.\n                if (!this._isForward) {\n                    nestedItems.push(node);\n                    continue;\n                }\n            }\n            // Same indent level block.\n            else {\n                // Ignore same indent block.\n                if (!this._sameIndent) {\n                    // While looking for nested blocks, stop iterating while encountering first same indent block.\n                    if (this._higherIndent) {\n                        // No more nested blocks so yield nested items.\n                        if (nestedItems.length) {\n                            yield* nestedItems;\n                            nestedItems.length = 0;\n                        }\n                        break;\n                    }\n                    continue;\n                }\n                // Abort if item has any additionally specified attribute different.\n                if (this._sameAttributes.some(attr => node.getAttribute(attr) !== this._startElement.getAttribute(attr))) {\n                    break;\n                }\n            }\n            // There is another block for the same list item so the nested items were in the same list item.\n            if (nestedItems.length) {\n                yield* nestedItems;\n                nestedItems.length = 0;\n            }\n            yield node;\n        }\n    }\n    /**\n     * Returns the model element to start iterating.\n     */\n    _getStartNode() {\n        if (this._includeSelf) {\n            return this._startElement;\n        }\n        return this._isForward ?\n            this._startElement.nextSibling :\n            this._startElement.previousSibling;\n    }\n}\n/**\n * Iterates sibling list blocks starting from the given node.\n */\nexport class SiblingListBlocksIterator {\n    _node;\n    _isForward;\n    _previousNodesByIndent = [];\n    _previous = null;\n    _previousNodeIndent = null;\n    /**\n     * @param node The model node.\n     * @param direction Iteration direction.\n     */\n    constructor(node, direction = 'forward') {\n        this._node = node;\n        this._isForward = direction === 'forward';\n    }\n    [Symbol.iterator]() {\n        return this;\n    }\n    next() {\n        if (!isListItemBlock(this._node)) {\n            return { done: true, value: undefined };\n        }\n        const nodeIndent = this._node.getAttribute('listIndent');\n        let previousNodeInList = null;\n        if (this._previous) {\n            const previousNodeIndent = this._previousNodeIndent;\n            // Let's find previous node for the same indent.\n            // We're going to need that when we get back to previous indent.\n            if (nodeIndent > previousNodeIndent) {\n                this._previousNodesByIndent[previousNodeIndent] = this._previous;\n            }\n            // Restore the one for given indent.\n            else if (nodeIndent < previousNodeIndent) {\n                previousNodeInList = this._previousNodesByIndent[nodeIndent] || null;\n                this._previousNodesByIndent.length = nodeIndent;\n            }\n            // Same indent.\n            else {\n                previousNodeInList = this._previous;\n            }\n        }\n        const value = {\n            node: this._node,\n            previous: this._previous,\n            previousNodeInList\n        };\n        this._previous = this._node;\n        this._previousNodeIndent = nodeIndent;\n        this._node = this._isForward ? this._node.nextSibling : this._node.previousSibling;\n        return { value, done: false };\n    }\n}\n/**\n * The iterable protocol over the list elements.\n *\n * @internal\n */\nexport class ListBlocksIterable {\n    _listHead;\n    /**\n     * @param listHead The head element of a list.\n     */\n    constructor(listHead) {\n        this._listHead = listHead;\n    }\n    /**\n     * List blocks iterator.\n     *\n     * Iterates over all blocks of a list.\n     */\n    [Symbol.iterator]() {\n        return new SiblingListBlocksIterator(this._listHead);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { uid, toArray } from 'ckeditor5/src/utils.js';\nimport ListWalker, { SiblingListBlocksIterator } from './listwalker.js';\n/**\n * The list item ID generator.\n *\n * @internal\n */\nexport class ListItemUid {\n    /**\n     * Returns the next ID.\n     *\n     * @internal\n     */\n    /* istanbul ignore next: static function definition -- @preserve */\n    static next() {\n        return uid();\n    }\n}\n/**\n * Returns true if the given model node is a list item block.\n *\n * @internal\n */\nexport function isListItemBlock(node) {\n    return !!node && node.is('element') && node.hasAttribute('listItemId');\n}\n/**\n * Returns an array with all elements that represents the same list item.\n *\n * It means that values for `listIndent`, and `listItemId` for all items are equal.\n *\n * @internal\n * @param listItem Starting list item element.\n * @param options.higherIndent Whether blocks with a higher indent level than the start block should be included\n * in the result.\n */\nexport function getAllListItemBlocks(listItem, options = {}) {\n    return [\n        ...getListItemBlocks(listItem, { ...options, direction: 'backward' }),\n        ...getListItemBlocks(listItem, { ...options, direction: 'forward' })\n    ];\n}\n/**\n * Returns an array with elements that represents the same list item in the specified direction.\n *\n * It means that values for `listIndent` and `listItemId` for all items are equal.\n *\n * **Note**: For backward search the provided item is not included, but for forward search it is included in the result.\n *\n * @internal\n * @param listItem Starting list item element.\n * @param options.direction Walking direction.\n * @param options.higherIndent Whether blocks with a higher indent level than the start block should be included in the result.\n */\nexport function getListItemBlocks(listItem, options = {}) {\n    const isForward = options.direction == 'forward';\n    const items = Array.from(new ListWalker(listItem, {\n        ...options,\n        includeSelf: isForward,\n        sameIndent: true,\n        sameAttributes: 'listItemId'\n    }));\n    return isForward ? items : items.reverse();\n}\n/**\n * Returns a list items nested inside the given list item.\n *\n * @internal\n */\nexport function getNestedListBlocks(listItem) {\n    return Array.from(new ListWalker(listItem, {\n        direction: 'forward',\n        higherIndent: true\n    }));\n}\n/**\n * Returns array of all blocks/items of the same list as given block (same indent, same type and properties).\n *\n * @internal\n * @param listItem Starting list item element.\n * @param options Additional list walker options to modify the range of returned list items.\n */\nexport function getListItems(listItem, options) {\n    const backwardBlocks = new ListWalker(listItem, {\n        sameIndent: true,\n        sameAttributes: 'listType',\n        ...options\n    });\n    const forwardBlocks = new ListWalker(listItem, {\n        sameIndent: true,\n        sameAttributes: 'listType',\n        includeSelf: true,\n        direction: 'forward',\n        ...options\n    });\n    return [\n        ...Array.from(backwardBlocks).reverse(),\n        ...forwardBlocks\n    ];\n}\n/**\n * Check if the given block is the first in the list item.\n *\n * @internal\n * @param listBlock The list block element.\n */\nexport function isFirstBlockOfListItem(listBlock) {\n    const previousSibling = ListWalker.first(listBlock, {\n        sameIndent: true,\n        sameAttributes: 'listItemId'\n    });\n    if (!previousSibling) {\n        return true;\n    }\n    return false;\n}\n/**\n * Check if the given block is the last in the list item.\n *\n * @internal\n */\nexport function isLastBlockOfListItem(listBlock) {\n    const nextSibling = ListWalker.first(listBlock, {\n        direction: 'forward',\n        sameIndent: true,\n        sameAttributes: 'listItemId'\n    });\n    if (!nextSibling) {\n        return true;\n    }\n    return false;\n}\n/**\n * Expands the given list of selected blocks to include the leading and tailing blocks of partially selected list items.\n *\n * @internal\n * @param blocks The list of selected blocks.\n * @param options.withNested Whether should include nested list items.\n */\nexport function expandListBlocksToCompleteItems(blocks, options = {}) {\n    blocks = toArray(blocks);\n    const higherIndent = options.withNested !== false;\n    const allBlocks = new Set();\n    for (const block of blocks) {\n        for (const itemBlock of getAllListItemBlocks(block, { higherIndent })) {\n            allBlocks.add(itemBlock);\n        }\n    }\n    return sortBlocks(allBlocks);\n}\n/**\n * Expands the given list of selected blocks to include all the items of the lists they're in.\n *\n * @internal\n * @param blocks The list of selected blocks.\n */\nexport function expandListBlocksToCompleteList(blocks) {\n    blocks = toArray(blocks);\n    const allBlocks = new Set();\n    for (const block of blocks) {\n        for (const itemBlock of getListItems(block)) {\n            allBlocks.add(itemBlock);\n        }\n    }\n    return sortBlocks(allBlocks);\n}\n/**\n * Splits the list item just before the provided list block.\n *\n * @internal\n * @param listBlock The list block element.\n * @param writer The model writer.\n * @returns The array of updated blocks.\n */\nexport function splitListItemBefore(listBlock, writer) {\n    const blocks = getListItemBlocks(listBlock, { direction: 'forward' });\n    const id = ListItemUid.next();\n    for (const block of blocks) {\n        writer.setAttribute('listItemId', id, block);\n    }\n    return blocks;\n}\n/**\n * Merges the list item with the parent list item.\n *\n * @internal\n * @param listBlock The list block element.\n * @param parentBlock The list block element to merge with.\n * @param writer The model writer.\n * @returns The array of updated blocks.\n */\nexport function mergeListItemBefore(listBlock, parentBlock, writer) {\n    const attributes = {};\n    for (const [key, value] of parentBlock.getAttributes()) {\n        if (key.startsWith('list')) {\n            attributes[key] = value;\n        }\n    }\n    const blocks = getListItemBlocks(listBlock, { direction: 'forward' });\n    for (const block of blocks) {\n        writer.setAttributes(attributes, block);\n    }\n    return blocks;\n}\n/**\n * Increases indentation of given list blocks.\n *\n * @internal\n * @param blocks The block or iterable of blocks.\n * @param writer The model writer.\n * @param options.expand Whether should expand the list of blocks to include complete list items.\n * @param options.indentBy The number of levels the indentation should change (could be negative).\n */\nexport function indentBlocks(blocks, writer, { expand, indentBy = 1 } = {}) {\n    blocks = toArray(blocks);\n    // Expand the selected blocks to contain the whole list items.\n    const allBlocks = expand ? expandListBlocksToCompleteItems(blocks) : blocks;\n    for (const block of allBlocks) {\n        const blockIndent = block.getAttribute('listIndent') + indentBy;\n        if (blockIndent < 0) {\n            removeListAttributes(block, writer);\n        }\n        else {\n            writer.setAttribute('listIndent', blockIndent, block);\n        }\n    }\n    return allBlocks;\n}\n/**\n * Decreases indentation of given list of blocks. If the indentation of some blocks matches the indentation\n * of surrounding blocks, they get merged together.\n *\n * @internal\n * @param blocks The block or iterable of blocks.\n * @param writer The model writer.\n */\nexport function outdentBlocksWithMerge(blocks, writer) {\n    blocks = toArray(blocks);\n    // Expand the selected blocks to contain the whole list items.\n    const allBlocks = expandListBlocksToCompleteItems(blocks);\n    const visited = new Set();\n    const referenceIndent = Math.min(...allBlocks.map(block => block.getAttribute('listIndent')));\n    const parentBlocks = new Map();\n    // Collect parent blocks before the list structure gets altered.\n    for (const block of allBlocks) {\n        parentBlocks.set(block, ListWalker.first(block, { lowerIndent: true }));\n    }\n    for (const block of allBlocks) {\n        if (visited.has(block)) {\n            continue;\n        }\n        visited.add(block);\n        const blockIndent = block.getAttribute('listIndent') - 1;\n        if (blockIndent < 0) {\n            removeListAttributes(block, writer);\n            continue;\n        }\n        // Merge with parent list item while outdenting and indent matches reference indent.\n        if (block.getAttribute('listIndent') == referenceIndent) {\n            const mergedBlocks = mergeListItemIfNotLast(block, parentBlocks.get(block), writer);\n            // All list item blocks are updated while merging so add those to visited set.\n            for (const mergedBlock of mergedBlocks) {\n                visited.add(mergedBlock);\n            }\n            // The indent level was updated while merging so continue to next block.\n            if (mergedBlocks.length) {\n                continue;\n            }\n        }\n        writer.setAttribute('listIndent', blockIndent, block);\n    }\n    return sortBlocks(visited);\n}\n/**\n * Removes all list attributes from the given blocks.\n *\n * @internal\n * @param blocks The block or iterable of blocks.\n * @param writer The model writer.\n * @returns Array of altered blocks.\n */\nexport function removeListAttributes(blocks, writer) {\n    blocks = toArray(blocks);\n    // Convert simple list items to plain paragraphs.\n    for (const block of blocks) {\n        if (block.is('element', 'listItem')) {\n            writer.rename(block, 'paragraph');\n        }\n    }\n    // Remove list attributes.\n    for (const block of blocks) {\n        for (const attributeKey of block.getAttributeKeys()) {\n            if (attributeKey.startsWith('list')) {\n                writer.removeAttribute(attributeKey, block);\n            }\n        }\n    }\n    return blocks;\n}\n/**\n * Checks whether the given blocks are related to a single list item.\n *\n * @internal\n * @param blocks The list block elements.\n */\nexport function isSingleListItem(blocks) {\n    if (!blocks.length) {\n        return false;\n    }\n    const firstItemId = blocks[0].getAttribute('listItemId');\n    if (!firstItemId) {\n        return false;\n    }\n    return !blocks.some(item => item.getAttribute('listItemId') != firstItemId);\n}\n/**\n * Modifies the indents of list blocks following the given list block so the indentation is valid after\n * the given block is no longer a list item.\n *\n * @internal\n * @param lastBlock The last list block that has become a non-list element.\n * @param writer The model writer.\n * @returns Array of altered blocks.\n */\nexport function outdentFollowingItems(lastBlock, writer) {\n    const changedBlocks = [];\n    // Start from the model item that is just after the last turned-off item.\n    let currentIndent = Number.POSITIVE_INFINITY;\n    // Correct indent of all items after the last turned off item.\n    // Rules that should be followed:\n    // 1. All direct sub-items of turned-off item should become indent 0, because the first item after it\n    //    will be the first item of a new list. Other items are at the same level, so should have same 0 index.\n    // 2. All items with indent lower than indent of turned-off item should become indent 0, because they\n    //    should not end up as a child of any of list items that they were not children of before.\n    // 3. All other items should have their indent changed relatively to it's parent.\n    //\n    // For example:\n    // 1  * --------\n    // 2     * --------\n    // 3        * --------\t\t\t<-- this is turned off.\n    // 4           * --------\t\t<-- this has to become indent = 0, because it will be first item on a new list.\n    // 5              * --------\t<-- this should be still be a child of item above, so indent = 1.\n    // 6        * --------\t\t\t<-- this has to become indent = 0, because it should not be a child of any of items above.\n    // 7           * --------\t\t<-- this should be still be a child of item above, so indent = 1.\n    // 8     * --------\t\t\t\t<-- this has to become indent = 0.\n    // 9        * --------\t\t\t<-- this should still be a child of item above, so indent = 1.\n    // 10          * --------\t\t<-- this should still be a child of item above, so indent = 2.\n    // 11          * --------\t\t<-- this should still be at the same level as item above, so indent = 2.\n    // 12 * --------\t\t\t\t<-- this and all below are left unchanged.\n    // 13    * --------\n    // 14       * --------\n    //\n    // After turning off 3 the list becomes:\n    //\n    // 1  * --------\n    // 2     * --------\n    //\n    // 3  --------\n    //\n    // 4  * --------\n    // 5     * --------\n    // 6  * --------\n    // 7     * --------\n    // 8  * --------\n    // 9     * --------\n    // 10       * --------\n    // 11       * --------\n    // 12 * --------\n    // 13    * --------\n    // 14       * --------\n    //\n    // Thanks to this algorithm no lists are mismatched and no items get unexpected children/parent, while\n    // those parent-child connection which are possible to maintain are still maintained. It's worth noting\n    // that this is the same effect that we would be get by multiple use of outdent command. However doing\n    // it like this is much more efficient because it's less operation (less memory usage, easier OT) and\n    // less conversion (faster).\n    for (const { node } of new SiblingListBlocksIterator(lastBlock.nextSibling)) {\n        // Check each next list item, as long as its indent is higher than 0.\n        const indent = node.getAttribute('listIndent');\n        // If the indent is 0 we are not going to change anything anyway.\n        if (indent == 0) {\n            break;\n        }\n        // We check if that's item indent is lower than current relative indent.\n        if (indent < currentIndent) {\n            // If it is, current relative indent becomes that indent.\n            currentIndent = indent;\n        }\n        // Fix indent relatively to current relative indent.\n        // Note, that if we just changed the current relative indent, the newIndent will be equal to 0.\n        const newIndent = indent - currentIndent;\n        writer.setAttribute('listIndent', newIndent, node);\n        changedBlocks.push(node);\n    }\n    return changedBlocks;\n}\n/**\n * Returns the array of given blocks sorted by model indexes (document order).\n *\n * @internal\n */\nexport function sortBlocks(blocks) {\n    return Array.from(blocks)\n        .filter(block => block.root.rootName !== '$graveyard')\n        .sort((a, b) => a.index - b.index);\n}\n/**\n * Returns a selected block object. If a selected object is inline or when there is no selected\n * object, `null` is returned.\n *\n * @internal\n * @param model The instance of editor model.\n * @returns Selected block object or `null`.\n */\nexport function getSelectedBlockObject(model) {\n    const selectedElement = model.document.selection.getSelectedElement();\n    if (!selectedElement) {\n        return null;\n    }\n    if (model.schema.isObject(selectedElement) && model.schema.isBlock(selectedElement)) {\n        return selectedElement;\n    }\n    return null;\n}\n/**\n * Checks whether the given block can be replaced by a listItem.\n *\n * Note that this is possible only when multiBlock = false option is set in feature config.\n *\n * @param block A block to be tested.\n * @param schema The schema of the document.\n */\nexport function canBecomeSimpleListItem(block, schema) {\n    return schema.checkChild(block.parent, 'listItem') && schema.checkChild(block, '$text') && !schema.isObject(block);\n}\n/**\n * Returns true if listType is of type `numbered` or `customNumbered`.\n */\nexport function isNumberedListType(listType) {\n    return listType == 'numbered' || listType == 'customNumbered';\n}\n/**\n * Merges a given block to the given parent block if parent is a list item and there is no more blocks in the same item.\n */\nfunction mergeListItemIfNotLast(block, parentBlock, writer) {\n    const parentItemBlocks = getListItemBlocks(parentBlock, { direction: 'forward' });\n    // Merge with parent only if outdented item wasn't the last one in its parent.\n    // Merge:\n    // * a\t\t\t->\t\t* a\n    //   * [b]\t\t->\t\t  b\n    //   c\t\t\t->\t\t  c\n    // Don't merge:\n    // * a\t\t\t->\t\t* a\n    //   * [b]\t\t-> \t\t* b\n    // * c\t\t\t->\t\t* c\n    if (parentItemBlocks.pop().index > block.index) {\n        return mergeListItemBefore(block, parentBlock, writer);\n    }\n    return [];\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module list/list/listindentcommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { expandListBlocksToCompleteItems, indentBlocks, isFirstBlockOfListItem, isListItemBlock, isSingleListItem, outdentBlocksWithMerge, sortBlocks, splitListItemBefore } from './utils/model.js';\nimport ListWalker from './utils/listwalker.js';\n/**\n * The document list indent command. It is used by the {@link module:list/list~List list feature}.\n */\nexport default class ListIndentCommand extends Command {\n    /**\n     * Determines by how much the command will change the list item's indent attribute.\n     */\n    _direction;\n    /**\n     * Creates an instance of the command.\n     *\n     * @param editor The editor instance.\n     * @param indentDirection The direction of indent. If it is equal to `backward`, the command\n     * will outdent a list item.\n     */\n    constructor(editor, indentDirection) {\n        super(editor);\n        this._direction = indentDirection;\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        this.isEnabled = this._checkEnabled();\n    }\n    /**\n     * Indents or outdents (depending on the {@link #constructor}'s `indentDirection` parameter) selected list items.\n     *\n     * @fires execute\n     * @fires afterExecute\n     */\n    execute() {\n        const model = this.editor.model;\n        const blocks = getSelectedListBlocks(model.document.selection);\n        model.change(writer => {\n            const changedBlocks = [];\n            // Handle selection contained in the single list item and starting in the following blocks.\n            if (isSingleListItem(blocks) && !isFirstBlockOfListItem(blocks[0])) {\n                // Allow increasing indent of following list item blocks.\n                if (this._direction == 'forward') {\n                    changedBlocks.push(...indentBlocks(blocks, writer));\n                }\n                // For indent make sure that indented blocks have a new ID.\n                // For outdent just split blocks from the list item (give them a new IDs).\n                changedBlocks.push(...splitListItemBefore(blocks[0], writer));\n            }\n            // More than a single list item is selected, or the first block of list item is selected.\n            else {\n                // Now just update the attributes of blocks.\n                if (this._direction == 'forward') {\n                    changedBlocks.push(...indentBlocks(blocks, writer, { expand: true }));\n                }\n                else {\n                    changedBlocks.push(...outdentBlocksWithMerge(blocks, writer));\n                }\n            }\n            // Align the list item type to match the previous list item (from the same list).\n            for (const block of changedBlocks) {\n                // This block become a plain block (for example a paragraph).\n                if (!block.hasAttribute('listType')) {\n                    continue;\n                }\n                const previousItemBlock = ListWalker.first(block, { sameIndent: true });\n                if (previousItemBlock) {\n                    writer.setAttribute('listType', previousItemBlock.getAttribute('listType'), block);\n                }\n            }\n            this._fireAfterExecute(changedBlocks);\n        });\n    }\n    /**\n     * Fires the `afterExecute` event.\n     *\n     * @param changedBlocks The changed list elements.\n     */\n    _fireAfterExecute(changedBlocks) {\n        this.fire('afterExecute', sortBlocks(new Set(changedBlocks)));\n    }\n    /**\n     * Checks whether the command can be enabled in the current context.\n     *\n     * @returns Whether the command should be enabled.\n     */\n    _checkEnabled() {\n        // Check whether any of position's ancestor is a list item.\n        let blocks = getSelectedListBlocks(this.editor.model.document.selection);\n        let firstBlock = blocks[0];\n        // If selection is not in a list item, the command is disabled.\n        if (!firstBlock) {\n            return false;\n        }\n        // If we are outdenting it is enough to be in list item. Every list item can always be outdented.\n        if (this._direction == 'backward') {\n            return true;\n        }\n        // A single block of a list item is selected, so it could be indented as a sublist.\n        if (isSingleListItem(blocks) && !isFirstBlockOfListItem(blocks[0])) {\n            return true;\n        }\n        blocks = expandListBlocksToCompleteItems(blocks);\n        firstBlock = blocks[0];\n        // Check if there is any list item before selected items that could become a parent of selected items.\n        const siblingItem = ListWalker.first(firstBlock, { sameIndent: true });\n        if (!siblingItem) {\n            return false;\n        }\n        if (siblingItem.getAttribute('listType') == firstBlock.getAttribute('listType')) {\n            return true;\n        }\n        return false;\n    }\n}\n/**\n * Returns an array of selected blocks truncated to the first non list block element.\n */\nfunction getSelectedListBlocks(selection) {\n    const blocks = Array.from(selection.getSelectedBlocks());\n    const firstNonListBlockIndex = blocks.findIndex(block => !isListItemBlock(block));\n    if (firstNonListBlockIndex != -1) {\n        blocks.length = firstNonListBlockIndex;\n    }\n    return blocks;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { splitListItemBefore, expandListBlocksToCompleteItems, getListItemBlocks, getListItems, removeListAttributes, outdentFollowingItems, ListItemUid, sortBlocks, getSelectedBlockObject, isListItemBlock, canBecomeSimpleListItem } from './utils/model.js';\n/**\n * The list command. It is used by the {@link module:list/list~List list feature}.\n */\nexport default class ListCommand extends Command {\n    /**\n     * The type of the list created by the command.\n     */\n    type;\n    /**\n     * List Walker options that change the range of the list items to be changed when the selection is collapsed within a list item.\n     *\n     * In a multi-level list, when the selection is collapsed within a list item, instead of changing only the list items of the same list\n     * type and current indent level, the entire list structure is changed (all list items at all indent levels of any list type).\n     */\n    _listWalkerOptions;\n    /**\n     * Creates an instance of the command.\n     *\n     * @param editor The editor instance.\n     * @param type List type that will be handled by this command.\n     */\n    constructor(editor, type, options = {}) {\n        super(editor);\n        this.type = type;\n        this._listWalkerOptions = options.multiLevel ? {\n            higherIndent: true,\n            lowerIndent: true,\n            sameAttributes: []\n        } : undefined;\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        this.value = this._getValue();\n        this.isEnabled = this._checkEnabled();\n    }\n    /**\n     * Executes the list command.\n     *\n     * @fires execute\n     * @fires afterExecute\n     * @param options Command options.\n     * @param options.forceValue If set, it will force the command behavior. If `true`, the command will try to convert the\n     * selected items and potentially the neighbor elements to the proper list items. If set to `false` it will convert selected elements\n     * to paragraphs. If not set, the command will toggle selected elements to list items or paragraphs, depending on the selection.\n     * @param options.additionalAttributes Additional attributes that are set for list items when the command is executed.\n     */\n    execute(options = {}) {\n        const model = this.editor.model;\n        const document = model.document;\n        const selectedBlockObject = getSelectedBlockObject(model);\n        const blocks = Array.from(document.selection.getSelectedBlocks())\n            .filter(block => model.schema.checkAttribute(block, 'listType') || canBecomeSimpleListItem(block, model.schema));\n        // Whether we are turning off some items.\n        const turnOff = options.forceValue !== undefined ? !options.forceValue : this.value;\n        model.change(writer => {\n            if (turnOff) {\n                const lastBlock = blocks[blocks.length - 1];\n                // Split the first block from the list item.\n                const itemBlocks = getListItemBlocks(lastBlock, { direction: 'forward' });\n                const changedBlocks = [];\n                if (itemBlocks.length > 1) {\n                    changedBlocks.push(...splitListItemBefore(itemBlocks[1], writer));\n                }\n                // Strip list attributes.\n                changedBlocks.push(...removeListAttributes(blocks, writer));\n                // Outdent items following the selected list item.\n                changedBlocks.push(...outdentFollowingItems(lastBlock, writer));\n                this._fireAfterExecute(changedBlocks);\n            }\n            // Changing type of list items for a collapsed selection inside a list item.\n            else if ((selectedBlockObject || document.selection.isCollapsed) && isListItemBlock(blocks[0])) {\n                const changedBlocks = getListItems(selectedBlockObject || blocks[0], this._listWalkerOptions);\n                for (const block of changedBlocks) {\n                    writer.setAttributes({\n                        ...options.additionalAttributes,\n                        listType: this.type\n                    }, block);\n                }\n                this._fireAfterExecute(changedBlocks);\n            }\n            // Turning on the list items for a non-collapsed selection.\n            else {\n                const changedBlocks = [];\n                for (const block of blocks) {\n                    // Promote the given block to the list item.\n                    if (!block.hasAttribute('listType')) {\n                        // Rename block to a simple list item if this option is enabled.\n                        if (!block.is('element', 'listItem') && canBecomeSimpleListItem(block, model.schema)) {\n                            writer.rename(block, 'listItem');\n                        }\n                        writer.setAttributes({\n                            ...options.additionalAttributes,\n                            listIndent: 0,\n                            listItemId: ListItemUid.next(),\n                            listType: this.type\n                        }, block);\n                        changedBlocks.push(block);\n                    }\n                    // Change the type of list item.\n                    else {\n                        for (const node of expandListBlocksToCompleteItems(block, { withNested: false })) {\n                            if (node.getAttribute('listType') != this.type) {\n                                writer.setAttributes({\n                                    ...options.additionalAttributes,\n                                    listType: this.type\n                                }, node);\n                                changedBlocks.push(node);\n                            }\n                        }\n                    }\n                }\n                this._fireAfterExecute(changedBlocks);\n            }\n        });\n    }\n    /**\n     * Fires the `afterExecute` event.\n     *\n     * @param changedBlocks The changed list elements.\n     */\n    _fireAfterExecute(changedBlocks) {\n        this.fire('afterExecute', sortBlocks(new Set(changedBlocks)));\n    }\n    /**\n     * Checks the command's {@link #value}.\n     *\n     * @returns The current value.\n     */\n    _getValue() {\n        const selection = this.editor.model.document.selection;\n        const blocks = Array.from(selection.getSelectedBlocks());\n        if (!blocks.length) {\n            return false;\n        }\n        for (const block of blocks) {\n            if (block.getAttribute('listType') != this.type) {\n                return false;\n            }\n        }\n        return true;\n    }\n    /**\n     * Checks whether the command can be enabled in the current context.\n     *\n     * @returns Whether the command should be enabled.\n     */\n    _checkEnabled() {\n        const model = this.editor.model;\n        const schema = model.schema;\n        const selection = model.document.selection;\n        const blocks = Array.from(selection.getSelectedBlocks());\n        if (!blocks.length) {\n            return false;\n        }\n        // If command value is true it means that we are in list item, so the command should be enabled.\n        if (this.value) {\n            return true;\n        }\n        for (const block of blocks) {\n            if (schema.checkAttribute(block, 'listType') || canBecomeSimpleListItem(block, schema)) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module list/list/listmergecommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { getNestedListBlocks, indentBlocks, sortBlocks, isFirstBlockOfListItem, mergeListItemBefore, isSingleListItem, getSelectedBlockObject, isListItemBlock } from './utils/model.js';\nimport ListWalker from './utils/listwalker.js';\n/**\n * The document list merge command. It is used by the {@link module:list/list~List list feature}.\n */\nexport default class ListMergeCommand extends Command {\n    /**\n     * Whether list item should be merged before or after the selected block.\n     */\n    _direction;\n    /**\n     * Creates an instance of the command.\n     *\n     * @param editor The editor instance.\n     * @param direction Whether list item should be merged before or after the selected block.\n     */\n    constructor(editor, direction) {\n        super(editor);\n        this._direction = direction;\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        this.isEnabled = this._checkEnabled();\n    }\n    /**\n     * Merges list blocks together (depending on the {@link #constructor}'s `direction` parameter).\n     *\n     * @fires execute\n     * @fires afterExecute\n     * @param options Command options.\n     * @param options.shouldMergeOnBlocksContentLevel When set `true`, merging will be performed together\n     * with {@link module:engine/model/model~Model#deleteContent} to get rid of the inline content in the selection or take advantage\n     * of the heuristics in `deleteContent()` that helps convert lists into paragraphs in certain cases.\n     */\n    execute({ shouldMergeOnBlocksContentLevel = false } = {}) {\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        const changedBlocks = [];\n        model.change(writer => {\n            const { firstElement, lastElement } = this._getMergeSubjectElements(selection, shouldMergeOnBlocksContentLevel);\n            const firstIndent = firstElement.getAttribute('listIndent') || 0;\n            const lastIndent = lastElement.getAttribute('listIndent');\n            const lastElementId = lastElement.getAttribute('listItemId');\n            if (firstIndent != lastIndent) {\n                const nestedLastElementBlocks = getNestedListBlocks(lastElement);\n                changedBlocks.push(...indentBlocks([lastElement, ...nestedLastElementBlocks], writer, {\n                    indentBy: firstIndent - lastIndent,\n                    // If outdenting, the entire sub-tree that follows must be included.\n                    expand: firstIndent < lastIndent\n                }));\n            }\n            if (shouldMergeOnBlocksContentLevel) {\n                let sel = selection;\n                if (selection.isCollapsed) {\n                    sel = writer.createSelection(writer.createRange(writer.createPositionAt(firstElement, 'end'), writer.createPositionAt(lastElement, 0)));\n                }\n                // Delete selected content. Replace entire content only for non-collapsed selection.\n                model.deleteContent(sel, { doNotResetEntireContent: selection.isCollapsed });\n                // Get the last \"touched\" element after deleteContent call (can't use the lastElement because\n                // it could get merged into the firstElement while deleting content).\n                const lastElementAfterDelete = sel.getLastPosition().parent;\n                // Check if the element after it was in the same list item and adjust it if needed.\n                const nextSibling = lastElementAfterDelete.nextSibling;\n                changedBlocks.push(lastElementAfterDelete);\n                if (nextSibling && nextSibling !== lastElement && nextSibling.getAttribute('listItemId') == lastElementId) {\n                    changedBlocks.push(...mergeListItemBefore(nextSibling, lastElementAfterDelete, writer));\n                }\n            }\n            else {\n                changedBlocks.push(...mergeListItemBefore(lastElement, firstElement, writer));\n            }\n            this._fireAfterExecute(changedBlocks);\n        });\n    }\n    /**\n     * Fires the `afterExecute` event.\n     *\n     * @param changedBlocks The changed list elements.\n     */\n    _fireAfterExecute(changedBlocks) {\n        this.fire('afterExecute', sortBlocks(new Set(changedBlocks)));\n    }\n    /**\n     * Checks whether the command can be enabled in the current context.\n     *\n     * @returns Whether the command should be enabled.\n     */\n    _checkEnabled() {\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        const selectedBlockObject = getSelectedBlockObject(model);\n        if (selection.isCollapsed || selectedBlockObject) {\n            const positionParent = selectedBlockObject || selection.getFirstPosition().parent;\n            if (!isListItemBlock(positionParent)) {\n                return false;\n            }\n            const siblingNode = this._direction == 'backward' ?\n                positionParent.previousSibling :\n                positionParent.nextSibling;\n            if (!siblingNode) {\n                return false;\n            }\n            if (isSingleListItem([positionParent, siblingNode])) {\n                return false;\n            }\n        }\n        else {\n            const lastPosition = selection.getLastPosition();\n            const firstPosition = selection.getFirstPosition();\n            // If deleting within a single block of a list item, there's no need to merge anything.\n            // The default delete should be executed instead.\n            if (lastPosition.parent === firstPosition.parent) {\n                return false;\n            }\n            if (!isListItemBlock(lastPosition.parent)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    /**\n     * Returns the boundary elements the merge should be executed for. These are not necessarily selection's first\n     * and last position parents but sometimes sibling or even further blocks depending on the context.\n     *\n     * @param selection The selection the merge is executed for.\n     * @param shouldMergeOnBlocksContentLevel When `true`, merge is performed together with\n     * {@link module:engine/model/model~Model#deleteContent} to remove the inline content within the selection.\n     */\n    _getMergeSubjectElements(selection, shouldMergeOnBlocksContentLevel) {\n        const model = this.editor.model;\n        const selectedBlockObject = getSelectedBlockObject(model);\n        let firstElement, lastElement;\n        if (selection.isCollapsed || selectedBlockObject) {\n            const positionParent = selectedBlockObject || selection.getFirstPosition().parent;\n            const isFirstBlock = isFirstBlockOfListItem(positionParent);\n            if (this._direction == 'backward') {\n                lastElement = positionParent;\n                if (isFirstBlock && !shouldMergeOnBlocksContentLevel) {\n                    // For the \"c\" as an anchorElement:\n                    //  * a\n                    //    * b\n                    //  * [c]  <-- this block should be merged with \"a\"\n                    // It should find \"a\" element to merge with:\n                    //  * a\n                    //    * b\n                    //    c\n                    firstElement = ListWalker.first(positionParent, { sameIndent: true, lowerIndent: true });\n                }\n                else {\n                    firstElement = positionParent.previousSibling;\n                }\n            }\n            else {\n                // In case of the forward merge there is no case as above, just merge with next sibling.\n                firstElement = positionParent;\n                lastElement = positionParent.nextSibling;\n            }\n        }\n        else {\n            firstElement = selection.getFirstPosition().parent;\n            lastElement = selection.getLastPosition().parent;\n        }\n        return {\n            firstElement: firstElement,\n            lastElement: lastElement\n        };\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { isFirstBlockOfListItem, isListItemBlock, sortBlocks, splitListItemBefore } from './utils/model.js';\n/**\n * The document list split command that splits the list item at the selection.\n *\n * It is used by the {@link module:list/list~List list feature}.\n */\nexport default class ListSplitCommand extends Command {\n    /**\n     * Whether list item should be split before or after the selected block.\n     */\n    _direction;\n    /**\n     * Creates an instance of the command.\n     *\n     * @param editor The editor instance.\n     * @param direction Whether list item should be split before or after the selected block.\n     */\n    constructor(editor, direction) {\n        super(editor);\n        this._direction = direction;\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        this.isEnabled = this._checkEnabled();\n    }\n    /**\n     * Splits the list item at the selection.\n     *\n     * @fires execute\n     * @fires afterExecute\n     */\n    execute() {\n        const editor = this.editor;\n        editor.model.change(writer => {\n            const changedBlocks = splitListItemBefore(this._getStartBlock(), writer);\n            this._fireAfterExecute(changedBlocks);\n        });\n    }\n    /**\n     * Fires the `afterExecute` event.\n     *\n     * @param changedBlocks The changed list elements.\n     */\n    _fireAfterExecute(changedBlocks) {\n        this.fire('afterExecute', sortBlocks(new Set(changedBlocks)));\n    }\n    /**\n     * Checks whether the command can be enabled in the current context.\n     *\n     * @returns Whether the command should be enabled.\n     */\n    _checkEnabled() {\n        const selection = this.editor.model.document.selection;\n        const block = this._getStartBlock();\n        return selection.isCollapsed &&\n            isListItemBlock(block) &&\n            !isFirstBlockOfListItem(block);\n    }\n    /**\n     * Returns the model element that is the main focus of the command (according to the current selection and command direction).\n     */\n    _getStartBlock() {\n        const doc = this.editor.model.document;\n        const positionParent = doc.selection.getFirstPosition().parent;\n        return (this._direction == 'before' ? positionParent : positionParent.nextSibling);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { expandListBlocksToCompleteItems, expandListBlocksToCompleteList, isFirstBlockOfListItem, isListItemBlock, isNumberedListType } from './utils/model.js';\n/**\n * A set of helpers related to document lists.\n */\nexport default class ListUtils extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ListUtils';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * Expands the given list of selected blocks to include all the items of the lists they're in.\n     *\n     * @param blocks The list of selected blocks.\n     */\n    expandListBlocksToCompleteList(blocks) {\n        return expandListBlocksToCompleteList(blocks);\n    }\n    /**\n     * Check if the given block is the first in the list item.\n     *\n     * @param listBlock The list block element.\n     */\n    isFirstBlockOfListItem(listBlock) {\n        return isFirstBlockOfListItem(listBlock);\n    }\n    /**\n     * Returns true if the given model node is a list item block.\n     *\n     * @param node A model node.\n     */\n    isListItemBlock(node) {\n        return isListItemBlock(node);\n    }\n    /**\n     * Expands the given list of selected blocks to include the leading and tailing blocks of partially selected list items.\n     *\n     * @param blocks The list of selected blocks.\n     * @param options.withNested Whether should include nested list items.\n     */\n    expandListBlocksToCompleteItems(blocks, options = {}) {\n        return expandListBlocksToCompleteItems(blocks, options);\n    }\n    /**\n     * Returns true if listType is of type `numbered` or `customNumbered`.\n     */\n    isNumberedListType(listType) {\n        return isNumberedListType(listType);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * Checks if view element is a list type (ul or ol).\n *\n * @internal\n */\nexport function isListView(viewElement) {\n    return viewElement.is('element', 'ol') || viewElement.is('element', 'ul');\n}\n/**\n * Checks if view element is a list item (li).\n *\n * @internal\n */\nexport function isListItemView(viewElement) {\n    return viewElement.is('element', 'li');\n}\n/**\n * Calculates the indent value for a list item. Handles HTML compliant and non-compliant lists.\n *\n * Also, fixes non HTML compliant lists indents:\n *\n * ```\n * before:                                     fixed list:\n * OL                                          OL\n * |-> LI (parent LIs: 0)                      |-> LI     (indent: 0)\n *     |-> OL                                  |-> OL\n *         |-> OL                                  |\n *         |   |-> OL                              |\n *         |       |-> OL                          |\n *         |           |-> LI (parent LIs: 1)      |-> LI (indent: 1)\n *         |-> LI (parent LIs: 1)                  |-> LI (indent: 1)\n *\n * before:                                     fixed list:\n * OL                                          OL\n * |-> OL                                      |\n *     |-> OL                                  |\n *          |-> OL                             |\n *              |-> LI (parent LIs: 0)         |-> LI        (indent: 0)\n *\n * before:                                     fixed list:\n * OL                                          OL\n * |-> LI (parent LIs: 0)                      |-> LI         (indent: 0)\n * |-> OL                                          |-> OL\n *     |-> LI (parent LIs: 0)                          |-> LI (indent: 1)\n * ```\n *\n * @internal\n */\nexport function getIndent(listItem) {\n    let indent = 0;\n    let parent = listItem.parent;\n    while (parent) {\n        // Each LI in the tree will result in an increased indent for HTML compliant lists.\n        if (isListItemView(parent)) {\n            indent++;\n        }\n        else {\n            // If however the list is nested in other list we should check previous sibling of any of the list elements...\n            const previousSibling = parent.previousSibling;\n            // ...because the we might need increase its indent:\n            //\t\tbefore:                           fixed list:\n            //\t\tOL                                OL\n            //\t\t|-> LI (parent LIs: 0)            |-> LI         (indent: 0)\n            //\t\t|-> OL                                |-> OL\n            //\t\t    |-> LI (parent LIs: 0)                |-> LI (indent: 1)\n            if (previousSibling && isListItemView(previousSibling)) {\n                indent++;\n            }\n        }\n        parent = parent.parent;\n    }\n    return indent;\n}\n/**\n * Creates a list attribute element (ol or ul).\n *\n * @internal\n */\nexport function createListElement(writer, indent, type, id = getViewElementIdForListType(type, indent)) {\n    // Negative priorities so that restricted editing attribute won't wrap lists.\n    return writer.createAttributeElement(getViewElementNameForListType(type), null, {\n        priority: 2 * indent / 100 - 100,\n        id\n    });\n}\n/**\n * Creates a list item attribute element (li).\n *\n * @internal\n */\nexport function createListItemElement(writer, indent, id) {\n    // Negative priorities so that restricted editing attribute won't wrap list items.\n    return writer.createAttributeElement('li', null, {\n        priority: (2 * indent + 1) / 100 - 100,\n        id\n    });\n}\n/**\n * Returns a view element name for the given list type.\n *\n * @internal\n */\nexport function getViewElementNameForListType(type) {\n    return type == 'numbered' || type == 'customNumbered' ? 'ol' : 'ul';\n}\n/**\n * Returns a view element ID for the given list type and indent.\n *\n * @internal\n */\nexport function getViewElementIdForListType(type, indent) {\n    return `list-${type}-${indent}`;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { SiblingListBlocksIterator } from './listwalker.js';\nimport { getListItemBlocks, isListItemBlock, ListItemUid } from './model.js';\n/**\n * Based on the provided positions looks for the list head and stores it in the provided map.\n *\n * @internal\n * @param position The search starting position.\n * @param itemToListHead The map from list item element to the list head element.\n * @param visited A set of elements that were already visited.\n */\nexport function findAndAddListHeadToMap(position, itemToListHead, visited) {\n    const previousNode = position.nodeBefore;\n    if (!isListItemBlock(previousNode)) {\n        const item = position.nodeAfter;\n        if (isListItemBlock(item)) {\n            itemToListHead.add(item);\n        }\n    }\n    else {\n        let listHead = previousNode;\n        // Previously, the loop below was defined like this:\n        //\n        // \t\tfor ( { node: listHead } of new SiblingListBlocksIterator( listHead, 'backward' ) )\n        //\n        // Unfortunately, such a destructuring is incorrectly transpiled by Babel and the loop never ends.\n        // See: https://github.com/ckeditor/ckeditor5-react/issues/345.\n        for (const { node } of new SiblingListBlocksIterator(listHead, 'backward')) {\n            listHead = node;\n            if (visited.has(listHead)) {\n                return;\n            }\n            visited.add(listHead);\n            if (itemToListHead.has(previousNode)) {\n                return;\n            }\n        }\n        itemToListHead.add(listHead);\n    }\n}\n/**\n * Scans the list starting from the given list head element and fixes items' indentation.\n *\n * @internal\n * @param listNodes The iterable of list nodes.\n * @param writer The model writer.\n * @returns Whether the model was modified.\n */\nexport function fixListIndents(listNodes, writer) {\n    let maxIndent = 0; // Guards local sublist max indents that need fixing.\n    let prevIndent = -1; // Previous item indent.\n    let fixBy = null;\n    let applied = false;\n    for (const { node } of listNodes) {\n        const itemIndent = node.getAttribute('listIndent');\n        if (itemIndent > maxIndent) {\n            let newIndent;\n            if (fixBy === null) {\n                fixBy = itemIndent - maxIndent;\n                newIndent = maxIndent;\n            }\n            else {\n                if (fixBy > itemIndent) {\n                    fixBy = itemIndent;\n                }\n                newIndent = itemIndent - fixBy;\n            }\n            if (newIndent > prevIndent + 1) {\n                newIndent = prevIndent + 1;\n            }\n            writer.setAttribute('listIndent', newIndent, node);\n            applied = true;\n            prevIndent = newIndent;\n        }\n        else {\n            fixBy = null;\n            maxIndent = itemIndent + 1;\n            prevIndent = itemIndent;\n        }\n    }\n    return applied;\n}\n/**\n * Scans the list starting from the given list head element and fixes items' types.\n *\n * @internal\n * @param listNodes The iterable of list nodes.\n * @param seenIds The set of already known IDs.\n * @param writer The model writer.\n * @returns Whether the model was modified.\n */\nexport function fixListItemIds(listNodes, seenIds, writer) {\n    const visited = new Set();\n    let applied = false;\n    for (const { node } of listNodes) {\n        if (visited.has(node)) {\n            continue;\n        }\n        let listType = node.getAttribute('listType');\n        let listItemId = node.getAttribute('listItemId');\n        // Use a new ID if this one was spot earlier (even in other list).\n        if (seenIds.has(listItemId)) {\n            listItemId = ListItemUid.next();\n        }\n        seenIds.add(listItemId);\n        // Make sure that all items in a simple list have unique IDs.\n        if (node.is('element', 'listItem')) {\n            if (node.getAttribute('listItemId') != listItemId) {\n                writer.setAttribute('listItemId', listItemId, node);\n                applied = true;\n            }\n            continue;\n        }\n        for (const block of getListItemBlocks(node, { direction: 'forward' })) {\n            visited.add(block);\n            // Use a new ID if a block of a bigger list item has different type.\n            if (block.getAttribute('listType') != listType) {\n                listItemId = ListItemUid.next();\n                listType = block.getAttribute('listType');\n            }\n            if (block.getAttribute('listItemId') != listItemId) {\n                writer.setAttribute('listItemId', listItemId, block);\n                applied = true;\n            }\n        }\n    }\n    return applied;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { getAllListItemBlocks, getListItemBlocks, isListItemBlock, isFirstBlockOfListItem, ListItemUid } from './utils/model.js';\nimport { createListElement, createListItemElement, getIndent, isListView, isListItemView } from './utils/view.js';\nimport ListWalker, { SiblingListBlocksIterator } from './utils/listwalker.js';\nimport { findAndAddListHeadToMap } from './utils/postfixers.js';\n/**\n * Returns the upcast converter for list items. It's supposed to work after the block converters (content inside list items) are converted.\n *\n * @internal\n */\nexport function listItemUpcastConverter() {\n    return (evt, data, conversionApi) => {\n        const { writer, schema } = conversionApi;\n        if (!data.modelRange) {\n            return;\n        }\n        const items = Array.from(data.modelRange.getItems({ shallow: true }))\n            .filter((item) => schema.checkAttribute(item, 'listItemId'));\n        if (!items.length) {\n            return;\n        }\n        const listItemId = ListItemUid.next();\n        const listIndent = getIndent(data.viewItem);\n        let listType = data.viewItem.parent && data.viewItem.parent.is('element', 'ol') ? 'numbered' : 'bulleted';\n        // Preserve list type if was already set (for example by to-do list feature).\n        const firstItemListType = items[0].getAttribute('listType');\n        if (firstItemListType) {\n            listType = firstItemListType;\n        }\n        const attributes = {\n            listItemId,\n            listIndent,\n            listType\n        };\n        for (const item of items) {\n            // Set list attributes only on same level items, those nested deeper are already handled by the recursive conversion.\n            if (!item.hasAttribute('listItemId')) {\n                writer.setAttributes(attributes, item);\n            }\n        }\n        if (items.length > 1) {\n            // Make sure that list item that contain only nested list will preserve paragraph for itself:\n            //\t<ul>\n            //\t\t<li>\n            //\t\t\t<p></p>  <-- this one must be kept\n            //\t\t\t<ul>\n            //\t\t\t\t<li></li>\n            //\t\t\t</ul>\n            //\t\t</li>\n            //\t</ul>\n            if (items[1].getAttribute('listItemId') != attributes.listItemId) {\n                conversionApi.keepEmptyElement(items[0]);\n            }\n        }\n    };\n}\n/**\n * Returns a model document change:data event listener that triggers conversion of related items if needed.\n *\n * @internal\n * @param model The editor model.\n * @param editing The editing controller.\n * @param attributeNames The list of all model list attributes (including registered strategies).\n * @param listEditing The document list editing plugin.\n */\nexport function reconvertItemsOnDataChange(model, editing, attributeNames, listEditing) {\n    return () => {\n        const changes = model.document.differ.getChanges();\n        const itemsToRefresh = [];\n        const itemToListHead = new Set();\n        const changedItems = new Set();\n        const visited = new Set();\n        for (const entry of changes) {\n            if (entry.type == 'insert' && entry.name != '$text') {\n                findAndAddListHeadToMap(entry.position, itemToListHead, visited);\n                // Insert of a non-list item.\n                if (!entry.attributes.has('listItemId')) {\n                    findAndAddListHeadToMap(entry.position.getShiftedBy(entry.length), itemToListHead, visited);\n                }\n                else {\n                    changedItems.add(entry.position.nodeAfter);\n                }\n            }\n            // Removed list item.\n            else if (entry.type == 'remove' && entry.attributes.has('listItemId')) {\n                findAndAddListHeadToMap(entry.position, itemToListHead, visited);\n            }\n            // Changed list attribute.\n            else if (entry.type == 'attribute') {\n                const item = entry.range.start.nodeAfter;\n                if (attributeNames.includes(entry.attributeKey)) {\n                    findAndAddListHeadToMap(entry.range.start, itemToListHead, visited);\n                    if (entry.attributeNewValue === null) {\n                        findAndAddListHeadToMap(entry.range.start.getShiftedBy(1), itemToListHead, visited);\n                        // Check if paragraph should be converted from bogus to plain paragraph.\n                        if (doesItemBlockRequiresRefresh(item)) {\n                            itemsToRefresh.push(item);\n                        }\n                    }\n                    else {\n                        changedItems.add(item);\n                    }\n                }\n                else if (isListItemBlock(item)) {\n                    // Some other attribute was changed on the list item,\n                    // check if paragraph does not need to be converted to bogus or back.\n                    if (doesItemBlockRequiresRefresh(item)) {\n                        itemsToRefresh.push(item);\n                    }\n                }\n            }\n        }\n        for (const listHead of itemToListHead.values()) {\n            itemsToRefresh.push(...collectListItemsToRefresh(listHead, changedItems));\n        }\n        for (const item of new Set(itemsToRefresh)) {\n            editing.reconvertItem(item);\n        }\n    };\n    function collectListItemsToRefresh(listHead, changedItems) {\n        const itemsToRefresh = [];\n        const visited = new Set();\n        const stack = [];\n        for (const { node, previous } of new SiblingListBlocksIterator(listHead)) {\n            if (visited.has(node)) {\n                continue;\n            }\n            const itemIndent = node.getAttribute('listIndent');\n            // Current node is at the lower indent so trim the stack.\n            if (previous && itemIndent < previous.getAttribute('listIndent')) {\n                stack.length = itemIndent + 1;\n            }\n            // Update the stack for the current indent level.\n            stack[itemIndent] = Object.fromEntries(Array.from(node.getAttributes())\n                .filter(([key]) => attributeNames.includes(key)));\n            // Find all blocks of the current node.\n            const blocks = getListItemBlocks(node, { direction: 'forward' });\n            for (const block of blocks) {\n                visited.add(block);\n                // Check if bogus vs plain paragraph needs refresh.\n                if (doesItemBlockRequiresRefresh(block, blocks)) {\n                    itemsToRefresh.push(block);\n                }\n                // Check if wrapping with UL, OL, LIs needs refresh.\n                else if (doesItemWrappingRequiresRefresh(block, stack, changedItems)) {\n                    itemsToRefresh.push(block);\n                }\n            }\n        }\n        return itemsToRefresh;\n    }\n    function doesItemBlockRequiresRefresh(item, blocks) {\n        const viewElement = editing.mapper.toViewElement(item);\n        if (!viewElement) {\n            return false;\n        }\n        const needsRefresh = listEditing.fire('checkElement', {\n            modelElement: item,\n            viewElement\n        });\n        if (needsRefresh) {\n            return true;\n        }\n        if (!item.is('element', 'paragraph') && !item.is('element', 'listItem')) {\n            return false;\n        }\n        const useBogus = shouldUseBogusParagraph(item, attributeNames, blocks);\n        if (useBogus && viewElement.is('element', 'p')) {\n            return true;\n        }\n        else if (!useBogus && viewElement.is('element', 'span')) {\n            return true;\n        }\n        return false;\n    }\n    function doesItemWrappingRequiresRefresh(item, stack, changedItems) {\n        // Items directly affected by some \"change\" don't need a refresh, they will be converted by their own changes.\n        if (changedItems.has(item)) {\n            return false;\n        }\n        const viewElement = editing.mapper.toViewElement(item);\n        let indent = stack.length - 1;\n        // Traverse down the stack to the root to verify if all ULs, OLs, and LIs are as expected.\n        for (let element = viewElement.parent; !element.is('editableElement'); element = element.parent) {\n            const isListItemElement = isListItemView(element);\n            const isListElement = isListView(element);\n            if (!isListElement && !isListItemElement) {\n                continue;\n            }\n            const eventName = `checkAttributes:${isListItemElement ? 'item' : 'list'}`;\n            const needsRefresh = listEditing.fire(eventName, {\n                viewElement: element,\n                modelAttributes: stack[indent]\n            });\n            if (needsRefresh) {\n                break;\n            }\n            if (isListElement) {\n                indent--;\n                // Don't need to iterate further if we already know that the item is wrapped appropriately.\n                if (indent < 0) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n}\n/**\n * Returns the list item downcast converter.\n *\n * @internal\n * @param attributeNames A list of attribute names that should be converted if they are set.\n * @param strategies The strategies.\n * @param model The model.\n */\nexport function listItemDowncastConverter(attributeNames, strategies, model, { dataPipeline } = {}) {\n    const consumer = createAttributesConsumer(attributeNames);\n    return (evt, data, conversionApi) => {\n        const { writer, mapper, consumable } = conversionApi;\n        const listItem = data.item;\n        if (!attributeNames.includes(data.attributeKey)) {\n            return;\n        }\n        // Test if attributes on the converted items are not consumed.\n        if (!consumer(listItem, consumable)) {\n            return;\n        }\n        // Use positions mapping instead of mapper.toViewElement( listItem ) to find outermost view element.\n        // This is for cases when mapping is using inner view element like in the code blocks (pre > code).\n        const viewElement = findMappedViewElement(listItem, mapper, model);\n        // Remove custom item marker.\n        removeCustomMarkerElements(viewElement, writer, mapper);\n        // Unwrap element from current list wrappers.\n        unwrapListItemBlock(viewElement, writer);\n        // Insert custom item marker.\n        const viewRange = insertCustomMarkerElements(listItem, viewElement, strategies, writer, { dataPipeline });\n        // Then wrap them with the new list wrappers (UL, OL, LI).\n        wrapListItemBlock(listItem, viewRange, strategies, writer);\n    };\n}\n/**\n * The 'remove' downcast converter for custom markers.\n */\nexport function listItemDowncastRemoveConverter(schema) {\n    return (evt, data, conversionApi) => {\n        const { writer, mapper } = conversionApi;\n        const elementName = evt.name.split(':')[1];\n        // Do not remove marker if the deleted element is some inline object inside paragraph.\n        // See https://github.com/cksource/ckeditor5-internal/issues/3680.\n        if (!schema.checkAttribute(elementName, 'listItemId')) {\n            return;\n        }\n        // Find the view range start position by mapping the model position at which the remove happened.\n        const viewStart = mapper.toViewPosition(data.position);\n        const modelEnd = data.position.getShiftedBy(data.length);\n        const viewEnd = mapper.toViewPosition(modelEnd, { isPhantom: true });\n        // Trim the range to remove in case some UI elements are on the view range boundaries.\n        const viewRange = writer.createRange(viewStart, viewEnd).getTrimmed();\n        // Use positions mapping instead of mapper.toViewElement( listItem ) to find outermost view element.\n        // This is for cases when mapping is using inner view element like in the code blocks (pre > code).\n        const viewElement = viewRange.end.nodeBefore;\n        /* istanbul ignore next -- @preserve */\n        if (!viewElement) {\n            return;\n        }\n        // Remove custom item marker.\n        removeCustomMarkerElements(viewElement, writer, mapper);\n    };\n}\n/**\n * Returns the bogus paragraph view element creator. A bogus paragraph is used if a list item contains only a single block or nested list.\n *\n * @internal\n * @param attributeNames The list of all model list attributes (including registered strategies).\n */\nexport function bogusParagraphCreator(attributeNames, { dataPipeline } = {}) {\n    return (modelElement, { writer }) => {\n        // Convert only if a bogus paragraph should be used.\n        if (!shouldUseBogusParagraph(modelElement, attributeNames)) {\n            return null;\n        }\n        if (!dataPipeline) {\n            return writer.createContainerElement('span', { class: 'ck-list-bogus-paragraph' });\n        }\n        // Using `<p>` in case there are some markers on it and transparentRendering will render it anyway.\n        const viewElement = writer.createContainerElement('p');\n        writer.setCustomProperty('dataPipeline:transparentRendering', true, viewElement);\n        return viewElement;\n    };\n}\n/**\n * Helper for mapping mode to view elements. It's using positions mapping instead of mapper.toViewElement( element )\n * to find outermost view element. This is for cases when mapping is using inner view element like in the code blocks (pre > code).\n *\n * @internal\n * @param element The model element.\n * @param mapper The mapper instance.\n * @param model The model.\n */\nexport function findMappedViewElement(element, mapper, model) {\n    const modelRange = model.createRangeOn(element);\n    const viewRange = mapper.toViewRange(modelRange).getTrimmed();\n    return viewRange.end.nodeBefore;\n}\n/**\n * The model to view custom position mapping for cases when marker is injected at the beginning of a block.\n */\nexport function createModelToViewPositionMapper(strategies, view) {\n    return (evt, data) => {\n        if (data.modelPosition.offset > 0) {\n            return;\n        }\n        const positionParent = data.modelPosition.parent;\n        if (!isListItemBlock(positionParent)) {\n            return;\n        }\n        if (!strategies.some(strategy => (strategy.scope == 'itemMarker' &&\n            strategy.canInjectMarkerIntoElement &&\n            strategy.canInjectMarkerIntoElement(positionParent)))) {\n            return;\n        }\n        const viewElement = data.mapper.toViewElement(positionParent);\n        const viewRange = view.createRangeIn(viewElement);\n        const viewWalker = viewRange.getWalker();\n        let positionAfterLastMarker = viewRange.start;\n        for (const { item } of viewWalker) {\n            // Walk only over the non-mapped elements (UIElements, AttributeElements, $text, or any other element without mapping).\n            if (item.is('element') && data.mapper.toModelElement(item) || item.is('$textProxy')) {\n                break;\n            }\n            if (item.is('element') && item.getCustomProperty('listItemMarker')) {\n                positionAfterLastMarker = view.createPositionAfter(item);\n                // Jump over the content of the marker (this is not needed for UIElement but required for other element types).\n                viewWalker.skip(({ previousPosition }) => !previousPosition.isEqual(positionAfterLastMarker));\n            }\n        }\n        data.viewPosition = positionAfterLastMarker;\n    };\n}\n/**\n * Removes a custom marker elements and item wrappers related to that marker.\n */\nfunction removeCustomMarkerElements(viewElement, viewWriter, mapper) {\n    // Remove item wrapper.\n    while (viewElement.parent.is('attributeElement') && viewElement.parent.getCustomProperty('listItemWrapper')) {\n        viewWriter.unwrap(viewWriter.createRangeOn(viewElement), viewElement.parent);\n    }\n    // Remove custom item markers.\n    const markersToRemove = [];\n    // Markers before a block.\n    collectMarkersToRemove(viewWriter.createPositionBefore(viewElement).getWalker({ direction: 'backward' }));\n    // Markers inside a block.\n    collectMarkersToRemove(viewWriter.createRangeIn(viewElement).getWalker());\n    for (const marker of markersToRemove) {\n        viewWriter.remove(marker);\n    }\n    function collectMarkersToRemove(viewWalker) {\n        for (const { item } of viewWalker) {\n            // Walk only over the non-mapped elements (UIElements, AttributeElements, $text, or any other element without mapping).\n            if (item.is('element') && mapper.toModelElement(item)) {\n                break;\n            }\n            if (item.is('element') && item.getCustomProperty('listItemMarker')) {\n                markersToRemove.push(item);\n            }\n        }\n    }\n}\n/**\n * Inserts a custom marker elements and wraps first block of a list item if marker requires it.\n */\nfunction insertCustomMarkerElements(listItem, viewElement, strategies, writer, { dataPipeline }) {\n    let viewRange = writer.createRangeOn(viewElement);\n    // Marker can be inserted only before the first block of a list item.\n    if (!isFirstBlockOfListItem(listItem)) {\n        return viewRange;\n    }\n    for (const strategy of strategies) {\n        if (strategy.scope != 'itemMarker') {\n            continue;\n        }\n        // Create the custom marker element and inject it before the first block of the list item.\n        const markerElement = strategy.createElement(writer, listItem, { dataPipeline });\n        if (!markerElement) {\n            continue;\n        }\n        writer.setCustomProperty('listItemMarker', true, markerElement);\n        if (strategy.canInjectMarkerIntoElement && strategy.canInjectMarkerIntoElement(listItem)) {\n            writer.insert(writer.createPositionAt(viewElement, 0), markerElement);\n        }\n        else {\n            writer.insert(viewRange.start, markerElement);\n            viewRange = writer.createRange(writer.createPositionBefore(markerElement), writer.createPositionAfter(viewElement));\n        }\n        // Wrap the marker and optionally the first block with an attribute element (label for to-do lists).\n        if (!strategy.createWrapperElement || !strategy.canWrapElement) {\n            continue;\n        }\n        const wrapper = strategy.createWrapperElement(writer, listItem, { dataPipeline });\n        writer.setCustomProperty('listItemWrapper', true, wrapper);\n        // The whole block can be wrapped...\n        if (strategy.canWrapElement(listItem)) {\n            viewRange = writer.wrap(viewRange, wrapper);\n        }\n        else {\n            // ... or only the marker element (if the block is downcasted to heading or block widget).\n            viewRange = writer.wrap(writer.createRangeOn(markerElement), wrapper);\n            viewRange = writer.createRange(viewRange.start, writer.createPositionAfter(viewElement));\n        }\n    }\n    return viewRange;\n}\n/**\n * Unwraps all ol, ul, and li attribute elements that are wrapping the provided view element.\n */\nfunction unwrapListItemBlock(viewElement, viewWriter) {\n    let attributeElement = viewElement.parent;\n    while (attributeElement.is('attributeElement') && ['ul', 'ol', 'li'].includes(attributeElement.name)) {\n        const parentElement = attributeElement.parent;\n        viewWriter.unwrap(viewWriter.createRangeOn(viewElement), attributeElement);\n        attributeElement = parentElement;\n    }\n}\n/**\n * Wraps the given list item with appropriate attribute elements for ul, ol, and li.\n */\nfunction wrapListItemBlock(listItem, viewRange, strategies, writer) {\n    if (!listItem.hasAttribute('listIndent')) {\n        return;\n    }\n    const listItemIndent = listItem.getAttribute('listIndent');\n    let currentListItem = listItem;\n    for (let indent = listItemIndent; indent >= 0; indent--) {\n        const listItemViewElement = createListItemElement(writer, indent, currentListItem.getAttribute('listItemId'));\n        const listViewElement = createListElement(writer, indent, currentListItem.getAttribute('listType'));\n        for (const strategy of strategies) {\n            if ((strategy.scope == 'list' || strategy.scope == 'item') &&\n                currentListItem.hasAttribute(strategy.attributeName)) {\n                strategy.setAttributeOnDowncast(writer, currentListItem.getAttribute(strategy.attributeName), strategy.scope == 'list' ? listViewElement : listItemViewElement);\n            }\n        }\n        viewRange = writer.wrap(viewRange, listItemViewElement);\n        viewRange = writer.wrap(viewRange, listViewElement);\n        if (indent == 0) {\n            break;\n        }\n        currentListItem = ListWalker.first(currentListItem, { lowerIndent: true });\n        // There is no list item with lower indent, this means this is a document fragment containing\n        // only a part of nested list (like copy to clipboard) so we don't need to try to wrap it further.\n        if (!currentListItem) {\n            break;\n        }\n    }\n}\n// Returns the function that is responsible for consuming attributes that are set on the model node.\nfunction createAttributesConsumer(attributeNames) {\n    return (node, consumable) => {\n        const events = [];\n        // Collect all set attributes that are triggering conversion.\n        for (const attributeName of attributeNames) {\n            if (node.hasAttribute(attributeName)) {\n                events.push(`attribute:${attributeName}`);\n            }\n        }\n        if (!events.every(event => consumable.test(node, event) !== false)) {\n            return false;\n        }\n        events.forEach(event => consumable.consume(node, event));\n        return true;\n    };\n}\n// Whether the given item should be rendered as a bogus paragraph.\nfunction shouldUseBogusParagraph(item, attributeNames, blocks = getAllListItemBlocks(item)) {\n    if (!isListItemBlock(item)) {\n        return false;\n    }\n    for (const attributeKey of item.getAttributeKeys()) {\n        // Ignore selection attributes stored on block elements.\n        if (attributeKey.startsWith('selection:') || attributeKey == 'htmlEmptyBlock') {\n            continue;\n        }\n        // Don't use bogus paragraph if there are attributes from other features.\n        if (!attributeNames.includes(attributeKey)) {\n            return false;\n        }\n    }\n    return blocks.length < 2;\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./documentlist.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./list.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module list/list/listediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Delete } from 'ckeditor5/src/typing.js';\nimport { Enter } from 'ckeditor5/src/enter.js';\nimport { CKEditorError } from 'ckeditor5/src/utils.js';\nimport ListIndentCommand from './listindentcommand.js';\nimport ListCommand from './listcommand.js';\nimport ListMergeCommand from './listmergecommand.js';\nimport ListSplitCommand from './listsplitcommand.js';\nimport ListUtils from './listutils.js';\nimport { bogusParagraphCreator, createModelToViewPositionMapper, listItemDowncastConverter, listItemDowncastRemoveConverter, listItemUpcastConverter, reconvertItemsOnDataChange } from './converters.js';\nimport { findAndAddListHeadToMap, fixListIndents, fixListItemIds } from './utils/postfixers.js';\nimport { getAllListItemBlocks, isFirstBlockOfListItem, isLastBlockOfListItem, isSingleListItem, getSelectedBlockObject, isListItemBlock, removeListAttributes, ListItemUid } from './utils/model.js';\nimport { getViewElementIdForListType, getViewElementNameForListType } from './utils/view.js';\nimport ListWalker, { ListBlocksIterable } from './utils/listwalker.js';\nimport { ClipboardPipeline } from 'ckeditor5/src/clipboard.js';\nimport '../../theme/documentlist.css';\nimport '../../theme/list.css';\n/**\n * A list of base list model attributes.\n */\nconst LIST_BASE_ATTRIBUTES = ['listType', 'listIndent', 'listItemId'];\n/**\n * The editing part of the document-list feature. It handles creating, editing and removing lists and list items.\n */\nexport default class ListEditing extends Plugin {\n    /**\n     * The list of registered downcast strategies.\n     */\n    _downcastStrategies = [];\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ListEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [Enter, Delete, ListUtils, ClipboardPipeline];\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        editor.config.define('list.multiBlock', true);\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const model = editor.model;\n        const multiBlock = editor.config.get('list.multiBlock');\n        if (editor.plugins.has('LegacyListEditing')) {\n            /**\n             * The `List` feature can not be loaded together with the `LegacyList` plugin.\n             *\n             * @error list-feature-conflict\n             * @param conflictPlugin Name of the plugin.\n             */\n            throw new CKEditorError('list-feature-conflict', this, { conflictPlugin: 'LegacyListEditing' });\n        }\n        model.schema.register('$listItem', { allowAttributes: LIST_BASE_ATTRIBUTES });\n        if (multiBlock) {\n            model.schema.extend('$container', { allowAttributesOf: '$listItem' });\n            model.schema.extend('$block', { allowAttributesOf: '$listItem' });\n            model.schema.extend('$blockObject', { allowAttributesOf: '$listItem' });\n        }\n        else {\n            model.schema.register('listItem', {\n                inheritAllFrom: '$block',\n                allowAttributesOf: '$listItem'\n            });\n        }\n        for (const attribute of LIST_BASE_ATTRIBUTES) {\n            model.schema.setAttributeProperties(attribute, {\n                copyOnReplace: true\n            });\n        }\n        // Register commands.\n        editor.commands.add('numberedList', new ListCommand(editor, 'numbered'));\n        editor.commands.add('bulletedList', new ListCommand(editor, 'bulleted'));\n        editor.commands.add('customNumberedList', new ListCommand(editor, 'customNumbered', { multiLevel: true }));\n        editor.commands.add('customBulletedList', new ListCommand(editor, 'customBulleted', { multiLevel: true }));\n        editor.commands.add('indentList', new ListIndentCommand(editor, 'forward'));\n        editor.commands.add('outdentList', new ListIndentCommand(editor, 'backward'));\n        editor.commands.add('splitListItemBefore', new ListSplitCommand(editor, 'before'));\n        editor.commands.add('splitListItemAfter', new ListSplitCommand(editor, 'after'));\n        if (multiBlock) {\n            editor.commands.add('mergeListItemBackward', new ListMergeCommand(editor, 'backward'));\n            editor.commands.add('mergeListItemForward', new ListMergeCommand(editor, 'forward'));\n        }\n        this._setupDeleteIntegration();\n        this._setupEnterIntegration();\n        this._setupTabIntegration();\n        this._setupClipboardIntegration();\n        this._setupAccessibilityIntegration();\n    }\n    /**\n     * @inheritDoc\n     */\n    afterInit() {\n        const editor = this.editor;\n        const commands = editor.commands;\n        const indent = commands.get('indent');\n        const outdent = commands.get('outdent');\n        if (indent) {\n            // Priority is high due to integration with `IndentBlock` plugin. We want to indent list first and if it's not possible\n            // user can indent content with `IndentBlock` plugin.\n            indent.registerChildCommand(commands.get('indentList'), { priority: 'high' });\n        }\n        if (outdent) {\n            // Priority is lowest due to integration with `IndentBlock` and `IndentCode` plugins.\n            // First we want to allow user to outdent all indendations from other features then he can oudent list item.\n            outdent.registerChildCommand(commands.get('outdentList'), { priority: 'lowest' });\n        }\n        // Register conversion and model post-fixer after other plugins had a chance to register their attribute strategies.\n        this._setupModelPostFixing();\n        this._setupConversion();\n    }\n    /**\n     * Registers a downcast strategy.\n     *\n     * **Note**: Strategies must be registered in the `Plugin#init()` phase so that it can be applied\n     * in the `ListEditing#afterInit()`.\n     *\n     * @param strategy The downcast strategy to register.\n     */\n    registerDowncastStrategy(strategy) {\n        this._downcastStrategies.push(strategy);\n    }\n    /**\n     * Returns list of model attribute names that should affect downcast conversion.\n     */\n    getListAttributeNames() {\n        return [\n            ...LIST_BASE_ATTRIBUTES,\n            ...this._downcastStrategies.map(strategy => strategy.attributeName)\n        ];\n    }\n    /**\n     * Attaches the listener to the {@link module:engine/view/document~Document#event:delete} event and handles backspace/delete\n     * keys in and around document lists.\n     */\n    _setupDeleteIntegration() {\n        const editor = this.editor;\n        const mergeBackwardCommand = editor.commands.get('mergeListItemBackward');\n        const mergeForwardCommand = editor.commands.get('mergeListItemForward');\n        this.listenTo(editor.editing.view.document, 'delete', (evt, data) => {\n            const selection = editor.model.document.selection;\n            // Let the Widget plugin take care of block widgets while deleting (https://github.com/ckeditor/ckeditor5/issues/11346).\n            if (getSelectedBlockObject(editor.model)) {\n                return;\n            }\n            editor.model.change(() => {\n                const firstPosition = selection.getFirstPosition();\n                if (selection.isCollapsed && data.direction == 'backward') {\n                    if (!firstPosition.isAtStart) {\n                        return;\n                    }\n                    const positionParent = firstPosition.parent;\n                    if (!isListItemBlock(positionParent)) {\n                        return;\n                    }\n                    const previousBlock = ListWalker.first(positionParent, {\n                        sameAttributes: 'listType',\n                        sameIndent: true\n                    });\n                    // Outdent the first block of a first list item.\n                    if (!previousBlock && positionParent.getAttribute('listIndent') === 0) {\n                        if (!isLastBlockOfListItem(positionParent)) {\n                            editor.execute('splitListItemAfter');\n                        }\n                        editor.execute('outdentList');\n                    }\n                    // Merge block with previous one (on the block level or on the content level).\n                    else {\n                        if (!mergeBackwardCommand || !mergeBackwardCommand.isEnabled) {\n                            return;\n                        }\n                        mergeBackwardCommand.execute({\n                            shouldMergeOnBlocksContentLevel: shouldMergeOnBlocksContentLevel(editor.model, 'backward')\n                        });\n                    }\n                    data.preventDefault();\n                    evt.stop();\n                }\n                // Non-collapsed selection or forward delete.\n                else {\n                    // Collapsed selection should trigger forward merging only if at the end of a block.\n                    if (selection.isCollapsed && !selection.getLastPosition().isAtEnd) {\n                        return;\n                    }\n                    if (!mergeForwardCommand || !mergeForwardCommand.isEnabled) {\n                        return;\n                    }\n                    mergeForwardCommand.execute({\n                        shouldMergeOnBlocksContentLevel: shouldMergeOnBlocksContentLevel(editor.model, 'forward')\n                    });\n                    data.preventDefault();\n                    evt.stop();\n                }\n            });\n        }, { context: 'li' });\n    }\n    /**\n     * Attaches a listener to the {@link module:engine/view/document~Document#event:enter} event and handles enter key press\n     * in document lists.\n     */\n    _setupEnterIntegration() {\n        const editor = this.editor;\n        const model = editor.model;\n        const commands = editor.commands;\n        const enterCommand = commands.get('enter');\n        // Overwrite the default Enter key behavior: outdent or split the list in certain cases.\n        this.listenTo(editor.editing.view.document, 'enter', (evt, data) => {\n            const doc = model.document;\n            const positionParent = doc.selection.getFirstPosition().parent;\n            if (doc.selection.isCollapsed &&\n                isListItemBlock(positionParent) &&\n                positionParent.isEmpty &&\n                !data.isSoft) {\n                const isFirstBlock = isFirstBlockOfListItem(positionParent);\n                const isLastBlock = isLastBlockOfListItem(positionParent);\n                // * a      →      * a\n                // * []     →      []\n                if (isFirstBlock && isLastBlock) {\n                    editor.execute('outdentList');\n                    data.preventDefault();\n                    evt.stop();\n                }\n                // * []     →      * []\n                //   a      →      * a\n                else if (isFirstBlock && !isLastBlock) {\n                    editor.execute('splitListItemAfter');\n                    data.preventDefault();\n                    evt.stop();\n                }\n                // * a      →      * a\n                //   []     →      * []\n                else if (isLastBlock) {\n                    editor.execute('splitListItemBefore');\n                    data.preventDefault();\n                    evt.stop();\n                }\n            }\n        }, { context: 'li' });\n        // In some cases, after the default block splitting, we want to modify the new block to become a new list item\n        // instead of an additional block in the same list item.\n        this.listenTo(enterCommand, 'afterExecute', () => {\n            const splitCommand = commands.get('splitListItemBefore');\n            // The command has not refreshed because the change block related to EnterCommand#execute() is not over yet.\n            // Let's keep it up to date and take advantage of ListSplitCommand#isEnabled.\n            splitCommand.refresh();\n            if (!splitCommand.isEnabled) {\n                return;\n            }\n            const doc = editor.model.document;\n            const positionParent = doc.selection.getLastPosition().parent;\n            const listItemBlocks = getAllListItemBlocks(positionParent);\n            // Keep in mind this split happens after the default enter handler was executed. For instance:\n            //\n            // │       Initial state       │    After default enter    │   Here in #afterExecute   │\n            // ├───────────────────────────┼───────────────────────────┼───────────────────────────┤\n            // │          * a[]            │           * a             │           * a             │\n            // │                           │             []            │           * []            │\n            if (listItemBlocks.length === 2) {\n                splitCommand.execute();\n            }\n        });\n    }\n    /**\n     * Attaches a listener to the {@link module:engine/view/document~Document#event:tab} event and handles tab key and tab+shift keys\n     * presses in document lists.\n     */\n    _setupTabIntegration() {\n        const editor = this.editor;\n        this.listenTo(editor.editing.view.document, 'tab', (evt, data) => {\n            const commandName = data.shiftKey ? 'outdentList' : 'indentList';\n            const command = this.editor.commands.get(commandName);\n            if (command.isEnabled) {\n                editor.execute(commandName);\n                data.stopPropagation();\n                data.preventDefault();\n                evt.stop();\n            }\n        }, { context: 'li' });\n    }\n    /**\n     * Registers the conversion helpers for the document-list feature.\n     */\n    _setupConversion() {\n        const editor = this.editor;\n        const model = editor.model;\n        const attributeNames = this.getListAttributeNames();\n        const multiBlock = editor.config.get('list.multiBlock');\n        const elementName = multiBlock ? 'paragraph' : 'listItem';\n        editor.conversion.for('upcast')\n            // Convert <li> to a generic paragraph (or listItem element) so the content of <li> is always inside a block.\n            // Setting the listType attribute to let other features (to-do list) know that this is part of a list item.\n            // This is also important to properly handle simple lists so that paragraphs inside a list item won't break the list item.\n            // <li>  <-- converted to listItem\n            //   <p></p> <-- should be also converted to listItem, so it won't split and replace the listItem generated from the above li.\n            .elementToElement({\n            view: 'li',\n            model: (viewElement, { writer }) => writer.createElement(elementName, { listType: '' })\n        })\n            // Convert paragraph to the list block (without list type defined yet).\n            // This is important to properly handle bogus paragraph and to-do lists.\n            // Most of the time the bogus paragraph should not appear in the data of to-do list,\n            // but if there is any marker or an attribute on the paragraph then the bogus paragraph\n            // is preserved in the data, and we need to be able to detect this case.\n            .elementToElement({\n            view: 'p',\n            model: (viewElement, { writer }) => {\n                if (viewElement.parent && viewElement.parent.is('element', 'li')) {\n                    return writer.createElement(elementName, { listType: '' });\n                }\n                return null;\n            },\n            converterPriority: 'high'\n        })\n            .add(dispatcher => {\n            dispatcher.on('element:li', listItemUpcastConverter());\n        });\n        if (!multiBlock) {\n            editor.conversion.for('downcast')\n                .elementToElement({\n                model: 'listItem',\n                view: 'p'\n            });\n        }\n        editor.conversion.for('editingDowncast')\n            .elementToElement({\n            model: elementName,\n            view: bogusParagraphCreator(attributeNames),\n            converterPriority: 'high'\n        })\n            .add(dispatcher => {\n            dispatcher.on('attribute', listItemDowncastConverter(attributeNames, this._downcastStrategies, model));\n            dispatcher.on('remove', listItemDowncastRemoveConverter(model.schema));\n        });\n        editor.conversion.for('dataDowncast')\n            .elementToElement({\n            model: elementName,\n            view: bogusParagraphCreator(attributeNames, { dataPipeline: true }),\n            converterPriority: 'high'\n        })\n            .add(dispatcher => {\n            dispatcher.on('attribute', listItemDowncastConverter(attributeNames, this._downcastStrategies, model, { dataPipeline: true }));\n        });\n        const modelToViewPositionMapper = createModelToViewPositionMapper(this._downcastStrategies, editor.editing.view);\n        editor.editing.mapper.on('modelToViewPosition', modelToViewPositionMapper);\n        editor.data.mapper.on('modelToViewPosition', modelToViewPositionMapper);\n        this.listenTo(model.document, 'change:data', reconvertItemsOnDataChange(model, editor.editing, attributeNames, this), { priority: 'high' });\n        // For LI verify if an ID of the attribute element is correct.\n        this.on('checkAttributes:item', (evt, { viewElement, modelAttributes }) => {\n            if (viewElement.id != modelAttributes.listItemId) {\n                evt.return = true;\n                evt.stop();\n            }\n        });\n        // For UL and OL check if the name and ID of element is correct.\n        this.on('checkAttributes:list', (evt, { viewElement, modelAttributes }) => {\n            if (viewElement.name != getViewElementNameForListType(modelAttributes.listType) ||\n                viewElement.id != getViewElementIdForListType(modelAttributes.listType, modelAttributes.listIndent)) {\n                evt.return = true;\n                evt.stop();\n            }\n        });\n    }\n    /**\n     * Registers model post-fixers.\n     */\n    _setupModelPostFixing() {\n        const model = this.editor.model;\n        const attributeNames = this.getListAttributeNames();\n        // Register list fixing.\n        // First the low level handler.\n        model.document.registerPostFixer(writer => modelChangePostFixer(model, writer, attributeNames, this));\n        // Then the callbacks for the specific lists.\n        // The indentation fixing must be the first one...\n        this.on('postFixer', (evt, { listNodes, writer }) => {\n            evt.return = fixListIndents(listNodes, writer) || evt.return;\n        }, { priority: 'high' });\n        // ...then the item ids... and after that other fixers that rely on the correct indentation and ids.\n        this.on('postFixer', (evt, { listNodes, writer, seenIds }) => {\n            evt.return = fixListItemIds(listNodes, seenIds, writer) || evt.return;\n        }, { priority: 'high' });\n    }\n    /**\n     * Integrates the feature with the clipboard via {@link module:engine/model/model~Model#insertContent} and\n     * {@link module:engine/model/model~Model#getSelectedContent}.\n     */\n    _setupClipboardIntegration() {\n        const model = this.editor.model;\n        const clipboardPipeline = this.editor.plugins.get('ClipboardPipeline');\n        this.listenTo(model, 'insertContent', createModelIndentPasteFixer(model), { priority: 'high' });\n        // To enhance the UX, the editor should not copy list attributes to the clipboard if the selection\n        // started and ended in the same list item.\n        //\n        // If the selection was enclosed in a single list item, there is a good chance the user did not want it\n        // copied as a list item but plain blocks.\n        //\n        // This avoids pasting orphaned list items instead of paragraphs, for instance, straight into the root.\n        //\n        //\t                       ┌─────────────────────┬───────────────────┐\n        //\t                       │ Selection           │ Clipboard content │\n        //\t                       ├─────────────────────┼───────────────────┤\n        //\t                       │ [* <Widget />]      │ <Widget />        │\n        //\t                       ├─────────────────────┼───────────────────┤\n        //\t                       │ [* Foo]             │ Foo               │\n        //\t                       ├─────────────────────┼───────────────────┤\n        //\t                       │ * Foo [bar] baz     │ bar               │\n        //\t                       ├─────────────────────┼───────────────────┤\n        //\t                       │ * Fo[o              │ o                 │\n        //\t                       │   ba]r              │ ba                │\n        //\t                       ├─────────────────────┼───────────────────┤\n        //\t                       │ * Fo[o              │ * o               │\n        //\t                       │ * ba]r              │ * ba              │\n        //\t                       ├─────────────────────┼───────────────────┤\n        //\t                       │ [* Foo              │ * Foo             │\n        //\t                       │  * bar]             │ * bar             │\n        //\t                       └─────────────────────┴───────────────────┘\n        //\n        // See https://github.com/ckeditor/ckeditor5/issues/11608, https://github.com/ckeditor/ckeditor5/issues/14969\n        this.listenTo(clipboardPipeline, 'outputTransformation', (evt, data) => {\n            model.change(writer => {\n                // Remove last block if it's empty.\n                const allContentChildren = Array.from(data.content.getChildren());\n                const lastItem = allContentChildren[allContentChildren.length - 1];\n                if (allContentChildren.length > 1 && lastItem.is('element') && lastItem.isEmpty) {\n                    const contentChildrenExceptLastItem = allContentChildren.slice(0, -1);\n                    if (contentChildrenExceptLastItem.every(isListItemBlock)) {\n                        writer.remove(lastItem);\n                    }\n                }\n                // Copy/cut only content of a list item (for drag-drop move the whole list item).\n                if (data.method == 'copy' || data.method == 'cut') {\n                    const allChildren = Array.from(data.content.getChildren());\n                    const isSingleListItemSelected = isSingleListItem(allChildren);\n                    if (isSingleListItemSelected) {\n                        removeListAttributes(allChildren, writer);\n                    }\n                }\n            });\n        });\n    }\n    /**\n     * Informs editor accessibility features about keystrokes brought by the plugin.\n     */\n    _setupAccessibilityIntegration() {\n        const editor = this.editor;\n        const t = editor.t;\n        editor.accessibility.addKeystrokeInfoGroup({\n            id: 'list',\n            label: t('Keystrokes that can be used in a list'),\n            keystrokes: [\n                {\n                    label: t('Increase list item indent'),\n                    keystroke: 'Tab'\n                },\n                {\n                    label: t('Decrease list item indent'),\n                    keystroke: 'Shift+Tab'\n                }\n            ]\n        });\n    }\n}\n/**\n * Post-fixer that reacts to changes on document and fixes incorrect model states (invalid `listItemId` and `listIndent` values).\n *\n * In the example below, there is a correct list structure.\n * Then the middle element is removed so the list structure will become incorrect:\n *\n * ```xml\n * <paragraph listType=\"bulleted\" listItemId=\"a\" listIndent=0>Item 1</paragraph>\n * <paragraph listType=\"bulleted\" listItemId=\"b\" listIndent=1>Item 2</paragraph>   <--- this is removed.\n * <paragraph listType=\"bulleted\" listItemId=\"c\" listIndent=2>Item 3</paragraph>\n * ```\n *\n * The list structure after the middle element is removed:\n *\n * ```xml\n * <paragraph listType=\"bulleted\" listItemId=\"a\" listIndent=0>Item 1</paragraph>\n * <paragraph listType=\"bulleted\" listItemId=\"c\" listIndent=2>Item 3</paragraph>\n * ```\n *\n * Should become:\n *\n * ```xml\n * <paragraph listType=\"bulleted\" listItemId=\"a\" listIndent=0>Item 1</paragraph>\n * <paragraph listType=\"bulleted\" listItemId=\"c\" listIndent=1>Item 3</paragraph>   <--- note that indent got post-fixed.\n * ```\n *\n * @param model The data model.\n * @param writer The writer to do changes with.\n * @param attributeNames The list of all model list attributes (including registered strategies).\n * @param ListEditing The document list editing plugin.\n * @returns `true` if any change has been applied, `false` otherwise.\n */\nfunction modelChangePostFixer(model, writer, attributeNames, listEditing) {\n    const changes = model.document.differ.getChanges();\n    const visited = new Set();\n    const itemToListHead = new Set();\n    const multiBlock = listEditing.editor.config.get('list.multiBlock');\n    let applied = false;\n    for (const entry of changes) {\n        if (entry.type == 'insert' && entry.name != '$text') {\n            const item = entry.position.nodeAfter;\n            // Remove attributes in case of renamed element.\n            if (!model.schema.checkAttribute(item, 'listItemId')) {\n                for (const attributeName of Array.from(item.getAttributeKeys())) {\n                    if (attributeNames.includes(attributeName)) {\n                        writer.removeAttribute(attributeName, item);\n                        applied = true;\n                    }\n                }\n            }\n            findAndAddListHeadToMap(entry.position, itemToListHead, visited);\n            // Insert of a non-list item - check if there is a list after it.\n            if (!entry.attributes.has('listItemId')) {\n                findAndAddListHeadToMap(entry.position.getShiftedBy(entry.length), itemToListHead, visited);\n            }\n            // Check if there is no nested list.\n            for (const { item: innerItem, previousPosition } of model.createRangeIn(item)) {\n                if (isListItemBlock(innerItem)) {\n                    findAndAddListHeadToMap(previousPosition, itemToListHead, visited);\n                }\n            }\n        }\n        // Removed list item or block adjacent to a list.\n        else if (entry.type == 'remove') {\n            findAndAddListHeadToMap(entry.position, itemToListHead, visited);\n        }\n        // Changed list item indent or type.\n        else if (entry.type == 'attribute' && attributeNames.includes(entry.attributeKey)) {\n            findAndAddListHeadToMap(entry.range.start, itemToListHead, visited);\n            if (entry.attributeNewValue === null) {\n                findAndAddListHeadToMap(entry.range.start.getShiftedBy(1), itemToListHead, visited);\n            }\n        }\n        // Make sure that there is no left over listItem element without attributes or a block with list attributes that is not a listItem.\n        if (!multiBlock && entry.type == 'attribute' && LIST_BASE_ATTRIBUTES.includes(entry.attributeKey)) {\n            const element = entry.range.start.nodeAfter;\n            if (entry.attributeNewValue === null && element && element.is('element', 'listItem')) {\n                writer.rename(element, 'paragraph');\n                applied = true;\n            }\n            else if (entry.attributeOldValue === null && element && element.is('element') && element.name != 'listItem') {\n                writer.rename(element, 'listItem');\n                applied = true;\n            }\n        }\n    }\n    // Make sure that IDs are not shared by split list.\n    const seenIds = new Set();\n    for (const listHead of itemToListHead.values()) {\n        applied = listEditing.fire('postFixer', {\n            listNodes: new ListBlocksIterable(listHead),\n            listHead,\n            writer,\n            seenIds\n        }) || applied;\n    }\n    return applied;\n}\n/**\n * A fixer for pasted content that includes list items.\n *\n * It fixes indentation of pasted list items so the pasted items match correctly to the context they are pasted into.\n *\n * Example:\n *\n * ```xml\n * <paragraph listType=\"bulleted\" listItemId=\"a\" listIndent=\"0\">A</paragraph>\n * <paragraph listType=\"bulleted\" listItemId=\"b\" listIndent=\"1\">B^</paragraph>\n * // At ^ paste:  <paragraph listType=\"numbered\" listItemId=\"x\" listIndent=\"0\">X</paragraph>\n * //              <paragraph listType=\"numbered\" listItemId=\"y\" listIndent=\"1\">Y</paragraph>\n * <paragraph listType=\"bulleted\" listItemId=\"c\" listIndent=\"2\">C</paragraph>\n * ```\n *\n * Should become:\n *\n * ```xml\n * <paragraph listType=\"bulleted\" listItemId=\"a\" listIndent=\"0\">A</paragraph>\n * <paragraph listType=\"bulleted\" listItemId=\"b\" listIndent=\"1\">BX</paragraph>\n * <paragraph listType=\"bulleted\" listItemId=\"y\" listIndent=\"2\">Y/paragraph>\n * <paragraph listType=\"bulleted\" listItemId=\"c\" listIndent=\"2\">C</paragraph>\n * ```\n */\nfunction createModelIndentPasteFixer(model) {\n    return (evt, [content, selectable]) => {\n        const items = content.is('documentFragment') ?\n            Array.from(content.getChildren()) :\n            [content];\n        if (!items.length) {\n            return;\n        }\n        const selection = selectable ?\n            model.createSelection(selectable) :\n            model.document.selection;\n        const position = selection.getFirstPosition();\n        // Get a reference list item. Attributes of the inserted list items will be fixed according to that item.\n        let refItem;\n        if (isListItemBlock(position.parent)) {\n            refItem = position.parent;\n        }\n        else if (isListItemBlock(position.nodeBefore) && isListItemBlock(position.nodeAfter)) {\n            refItem = position.nodeBefore;\n        }\n        else {\n            return; // Content is not copied into a list.\n        }\n        model.change(writer => {\n            const refType = refItem.getAttribute('listType');\n            const refIndent = refItem.getAttribute('listIndent');\n            const firstElementIndent = items[0].getAttribute('listIndent') || 0;\n            const indentDiff = Math.max(refIndent - firstElementIndent, 0);\n            for (const item of items) {\n                const isListItem = isListItemBlock(item);\n                if (refItem.is('element', 'listItem') && item.is('element', 'paragraph')) {\n                    /**\n                     * When paragraphs or a plain text list is pasted into a simple list, convert\n                     * the `<paragraphs>' to `<listItem>' to avoid breaking the target list.\n                     *\n                     * See https://github.com/ckeditor/ckeditor5/issues/13826.\n                     */\n                    writer.rename(item, 'listItem');\n                }\n                writer.setAttributes({\n                    listIndent: (isListItem ? item.getAttribute('listIndent') : 0) + indentDiff,\n                    listItemId: isListItem ? item.getAttribute('listItemId') : ListItemUid.next(),\n                    listType: refType\n                }, item);\n            }\n        });\n    };\n}\n/**\n * Decides whether the merge should be accompanied by the model's `deleteContent()`, for instance, to get rid of the inline\n * content in the selection or take advantage of the heuristics in `deleteContent()` that helps convert lists into paragraphs\n * in certain cases.\n */\nfunction shouldMergeOnBlocksContentLevel(model, direction) {\n    const selection = model.document.selection;\n    if (!selection.isCollapsed) {\n        return !getSelectedBlockObject(model);\n    }\n    if (direction === 'forward') {\n        return true;\n    }\n    const firstPosition = selection.getFirstPosition();\n    const positionParent = firstPosition.parent;\n    const previousSibling = positionParent.previousSibling;\n    if (model.schema.isObject(previousSibling)) {\n        return false;\n    }\n    if (previousSibling.isEmpty) {\n        return true;\n    }\n    return isSingleListItem([positionParent, previousSibling]);\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { ButtonView, MenuBarMenuListItemButtonView } from 'ckeditor5/src/ui.js';\n/**\n * Helper method for creating toolbar and menu buttons and linking them with an appropriate command.\n *\n * @internal\n * @param editor The editor instance to which the UI component will be added.\n * @param commandName The name of the command.\n * @param label The button label.\n * @param icon The source of the icon.\n */\nexport function createUIComponents(editor, commandName, label, icon) {\n    editor.ui.componentFactory.add(commandName, () => {\n        const buttonView = _createButton(ButtonView, editor, commandName, label, icon);\n        buttonView.set({\n            tooltip: true,\n            isToggleable: true\n        });\n        return buttonView;\n    });\n    editor.ui.componentFactory.add(`menuBar:${commandName}`, () => {\n        const buttonView = _createButton(MenuBarMenuListItemButtonView, editor, commandName, label, icon);\n        buttonView.set({\n            role: 'menuitemcheckbox',\n            isToggleable: true\n        });\n        return buttonView;\n    });\n}\n/**\n * Creates a button to use either in toolbar or in menu bar.\n */\nfunction _createButton(ButtonClass, editor, commandName, label, icon) {\n    const command = editor.commands.get(commandName);\n    const view = new ButtonClass(editor.locale);\n    view.set({\n        label,\n        icon\n    });\n    // Bind button model to command.\n    view.bind('isOn', 'isEnabled').to(command, 'value', 'isEnabled');\n    // Execute the command.\n    view.on('execute', () => {\n        editor.execute(commandName);\n        editor.editing.view.focus();\n    });\n    return view;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module list/list/listui\n */\nimport { createUIComponents } from './utils.js';\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { IconBulletedList, IconNumberedList } from 'ckeditor5/src/icons.js';\n/**\n * The list UI feature. It introduces the `'numberedList'` and `'bulletedList'` buttons that\n * allow to convert paragraphs to and from list items and indent or outdent them.\n */\nexport default class ListUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ListUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const t = this.editor.t;\n        // Create button numberedList.\n        if (!this.editor.ui.componentFactory.has('numberedList')) {\n            createUIComponents(this.editor, 'numberedList', t('Numbered List'), IconNumberedList);\n        }\n        // Create button bulletedList.\n        if (!this.editor.ui.componentFactory.has('bulletedList')) {\n            createUIComponents(this.editor, 'bulletedList', t('Bulleted List'), IconBulletedList);\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module list/list\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport ListEditing from './list/listediting.js';\nimport ListUI from './list/listui.js';\n/**\n * The list feature.\n *\n * This is a \"glue\" plugin that loads the {@link module:list/list/listediting~ListEditing  list\n * editing feature} and {@link module:list/list/listui~ListUI list UI feature}.\n */\nexport default class List extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ListEditing, ListUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'List';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module list/listproperties/liststartcommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { first } from 'ckeditor5/src/utils.js';\nimport { expandListBlocksToCompleteList, isListItemBlock, isNumberedListType } from '../list/utils/model.js';\n/**\n * The list start index command. It changes the `listStart` attribute of the selected list items,\n * letting the user to choose the starting point of an ordered list.\n * It is used by the {@link module:list/listproperties~ListProperties list properties feature}.\n */\nexport default class ListStartCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const value = this._getValue();\n        this.value = value;\n        this.isEnabled = value != null;\n    }\n    /**\n     * Executes the command.\n     *\n     * @fires execute\n     * @param options.startIndex The list start index.\n     */\n    execute({ startIndex = 1 } = {}) {\n        const model = this.editor.model;\n        const document = model.document;\n        let blocks = Array.from(document.selection.getSelectedBlocks())\n            .filter(block => isListItemBlock(block) &&\n            isNumberedListType(block.getAttribute('listType')));\n        blocks = expandListBlocksToCompleteList(blocks);\n        model.change(writer => {\n            for (const block of blocks) {\n                writer.setAttribute('listStart', startIndex >= 0 ? startIndex : 1, block);\n            }\n        });\n    }\n    /**\n     * Checks the command's {@link #value}.\n     *\n     * @returns The current value.\n     */\n    _getValue() {\n        const model = this.editor.model;\n        const document = model.document;\n        const block = first(document.selection.getSelectedBlocks());\n        if (block &&\n            isListItemBlock(block) &&\n            isNumberedListType(block.getAttribute('listType'))) {\n            return block.getAttribute('listStart');\n        }\n        return null;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n* @module list/listproperties/utils/style\n*/\nconst LIST_STYLE_TO_LIST_TYPE = {};\nconst LIST_STYLE_TO_TYPE_ATTRIBUTE = {};\nconst TYPE_ATTRIBUTE_TO_LIST_STYLE = {};\nconst LIST_STYLE_TYPES = [\n    { listStyle: 'disc', typeAttribute: 'disc', listType: 'bulleted' },\n    { listStyle: 'circle', typeAttribute: 'circle', listType: 'bulleted' },\n    { listStyle: 'square', typeAttribute: 'square', listType: 'bulleted' },\n    { listStyle: 'decimal', typeAttribute: '1', listType: 'numbered' },\n    { listStyle: 'decimal-leading-zero', typeAttribute: null, listType: 'numbered' },\n    { listStyle: 'lower-roman', typeAttribute: 'i', listType: 'numbered' },\n    { listStyle: 'upper-roman', typeAttribute: 'I', listType: 'numbered' },\n    { listStyle: 'lower-alpha', typeAttribute: 'a', listType: 'numbered' },\n    { listStyle: 'upper-alpha', typeAttribute: 'A', listType: 'numbered' },\n    { listStyle: 'lower-latin', typeAttribute: 'a', listType: 'numbered' },\n    { listStyle: 'upper-latin', typeAttribute: 'A', listType: 'numbered' }\n];\nfor (const { listStyle, typeAttribute, listType } of LIST_STYLE_TYPES) {\n    LIST_STYLE_TO_LIST_TYPE[listStyle] = listType;\n    LIST_STYLE_TO_TYPE_ATTRIBUTE[listStyle] = typeAttribute;\n    if (typeAttribute) {\n        TYPE_ATTRIBUTE_TO_LIST_STYLE[typeAttribute] = listStyle;\n    }\n}\n/**\n * Gets all the style types supported by given list type.\n */\nexport function getAllSupportedStyleTypes() {\n    return LIST_STYLE_TYPES.map(x => x.listStyle);\n}\n/**\n * Checks whether the given list-style-type is supported by numbered or bulleted list.\n */\nexport function getListTypeFromListStyleType(listStyleType) {\n    return LIST_STYLE_TO_LIST_TYPE[listStyleType] || null;\n}\n/**\n * Converts `type` attribute of `<ul>` or `<ol>` elements to `list-style-type` equivalent.\n */\nexport function getListStyleTypeFromTypeAttribute(value) {\n    return TYPE_ATTRIBUTE_TO_LIST_STYLE[value] || null;\n}\n/**\n * Converts `list-style-type` style to `type` attribute of `<ul>` or `<ol>` elements.\n */\nexport function getTypeAttributeFromListStyleType(value) {\n    return LIST_STYLE_TO_TYPE_ATTRIBUTE[value] || null;\n}\n/**\n * Normalizes list style by converting aliases to their canonical form.\n *\n * @param listStyle The list style value to normalize.\n * @returns The canonical form of the list style.\n *\n * @example\n * normalizeListStyle( 'lower-alpha' ); // Returns 'lower-latin'\n * normalizeListStyle( 'upper-alpha' ); // Returns 'upper-latin'\n * normalizeListStyle( 'disc' ); // Returns 'disc'\n */\nexport function normalizeListStyle(listStyle) {\n    switch (listStyle) {\n        case 'lower-alpha':\n            return 'lower-latin';\n        case 'upper-alpha':\n            return 'upper-latin';\n        default:\n            return listStyle;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module list/listproperties/liststylecommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { first } from 'ckeditor5/src/utils.js';\nimport { expandListBlocksToCompleteList, isListItemBlock } from '../list/utils/model.js';\nimport { getListTypeFromListStyleType } from './utils/style.js';\n/**\n * The list style command. It changes `listStyle` attribute of the selected list items,\n * letting the user choose styles for the list item markers.\n * It is used by the {@link module:list/listproperties~ListProperties list properties feature}.\n */\nexport default class ListStyleCommand extends Command {\n    /**\n     * The default type of the list style.\n     */\n    defaultType;\n    /**\n     * The list of supported style types by this command.\n     */\n    _supportedTypes;\n    /**\n     * Creates an instance of the command.\n     *\n     * @param editor The editor instance.\n     * @param defaultType The list type that will be used by default if the value was not specified during\n     * the command execution.\n     * @param supportedTypes The list of supported style types by this command.\n     */\n    constructor(editor, defaultType, supportedTypes) {\n        super(editor);\n        this.defaultType = defaultType;\n        this._supportedTypes = supportedTypes;\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        this.value = this._getValue();\n        this.isEnabled = this._checkEnabled();\n    }\n    /**\n     * Executes the command.\n     *\n     * @fires execute\n     * @param options.type The type of the list style, e.g. `'disc'` or `'square'`. If `null` is specified, the default\n     * style will be applied.\n     */\n    execute(options = {}) {\n        const model = this.editor.model;\n        const document = model.document;\n        model.change(writer => {\n            this._tryToConvertItemsToList(options);\n            let blocks = Array.from(document.selection.getSelectedBlocks())\n                .filter(block => block.hasAttribute('listType'));\n            if (!blocks.length) {\n                return;\n            }\n            blocks = expandListBlocksToCompleteList(blocks);\n            for (const block of blocks) {\n                writer.setAttribute('listStyle', options.type || this.defaultType, block);\n            }\n        });\n    }\n    /**\n     * Checks if the given style type is supported by this plugin.\n     */\n    isStyleTypeSupported(value) {\n        if (!this._supportedTypes) {\n            return true;\n        }\n        return this._supportedTypes.includes(value);\n    }\n    /**\n     * Checks the command's {@link #value}.\n     *\n     * @returns The current value.\n     */\n    _getValue() {\n        const listItem = first(this.editor.model.document.selection.getSelectedBlocks());\n        if (isListItemBlock(listItem)) {\n            return listItem.getAttribute('listStyle');\n        }\n        return null;\n    }\n    /**\n     * Checks whether the command can be enabled in the current context.\n     *\n     * @returns Whether the command should be enabled.\n     */\n    _checkEnabled() {\n        const editor = this.editor;\n        const numberedList = editor.commands.get('numberedList');\n        const bulletedList = editor.commands.get('bulletedList');\n        return numberedList.isEnabled || bulletedList.isEnabled;\n    }\n    /**\n     * Check if the provided list style is valid. Also change the selection to a list if it's not set yet.\n     *\n     * @param options.type The type of the list style. If `null` is specified, the function does nothing.\n    */\n    _tryToConvertItemsToList(options) {\n        if (!options.type) {\n            return;\n        }\n        const listType = getListTypeFromListStyleType(options.type);\n        if (!listType) {\n            return;\n        }\n        const editor = this.editor;\n        const commandName = `${listType}List`;\n        const command = editor.commands.get(commandName);\n        if (!command.value) {\n            editor.execute(commandName);\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module list/listproperties/listreversedcommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { first } from 'ckeditor5/src/utils.js';\nimport { expandListBlocksToCompleteList, isListItemBlock } from '../list/utils/model.js';\n/**\n * The list reversed command. It changes the `listReversed` attribute of the selected list items,\n * letting the user to choose the order of an ordered list.\n * It is used by the {@link module:list/listproperties~ListProperties list properties feature}.\n */\nexport default class ListReversedCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const value = this._getValue();\n        this.value = value;\n        this.isEnabled = value != null;\n    }\n    /**\n     * Executes the command.\n     *\n     * @fires execute\n     * @param options.reversed Whether the list should be reversed.\n     */\n    execute(options = {}) {\n        const model = this.editor.model;\n        const document = model.document;\n        let blocks = Array.from(document.selection.getSelectedBlocks())\n            .filter(block => isListItemBlock(block) && block.getAttribute('listType') == 'numbered');\n        blocks = expandListBlocksToCompleteList(blocks);\n        model.change(writer => {\n            for (const block of blocks) {\n                writer.setAttribute('listReversed', !!options.reversed, block);\n            }\n        });\n    }\n    /**\n     * Checks the command's {@link #value}.\n     */\n    _getValue() {\n        const model = this.editor.model;\n        const document = model.document;\n        const block = first(document.selection.getSelectedBlocks());\n        if (isListItemBlock(block) && block.getAttribute('listType') == 'numbered') {\n            return block.getAttribute('listReversed');\n        }\n        return null;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * Returns a converter that consumes the `style`, `reversed`, and `start` attributes.\n * In `style`, it searches for the `list-style-type` definition.\n * If not found, the `\"default\"` value will be used.\n *\n * @internal\n * @param strategy\n */\nexport function listPropertiesUpcastConverter(strategy) {\n    return (evt, data, conversionApi) => {\n        const { writer, schema, consumable } = conversionApi;\n        // If there is no view consumable to consume, set the default attribute value to be able to reconvert nested lists on parent change.\n        // So abort converting if attribute was directly consumed.\n        if (consumable.test(data.viewItem, strategy.viewConsumables) === false) {\n            return;\n        }\n        if (!data.modelRange) {\n            Object.assign(data, conversionApi.convertChildren(data.viewItem, data.modelCursor));\n        }\n        let applied = false;\n        for (const item of data.modelRange.getItems({ shallow: true })) {\n            if (!schema.checkAttribute(item, strategy.attributeName)) {\n                continue;\n            }\n            if (!strategy.appliesToListItem(item)) {\n                continue;\n            }\n            // Set list attributes only on same level items, those nested deeper are already handled by the recursive conversion.\n            if (item.hasAttribute(strategy.attributeName)) {\n                continue;\n            }\n            writer.setAttribute(strategy.attributeName, strategy.getAttributeOnUpcast(data.viewItem), item);\n            applied = true;\n        }\n        if (applied) {\n            consumable.consume(data.viewItem, strategy.viewConsumables);\n        }\n    };\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module list/listproperties/listpropertiesutils\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { getAllSupportedStyleTypes, getListStyleTypeFromTypeAttribute, getListTypeFromListStyleType, getTypeAttributeFromListStyleType } from './utils/style.js';\n/**\n * A set of helpers related to document lists.\n */\nexport default class ListPropertiesUtils extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ListPropertiesUtils';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * Gets all the style types supported by given list type.\n     */\n    getAllSupportedStyleTypes() {\n        return getAllSupportedStyleTypes();\n    }\n    /**\n     * Checks whether the given list-style-type is supported by numbered or bulleted list.\n     */\n    getListTypeFromListStyleType(listStyleType) {\n        return getListTypeFromListStyleType(listStyleType);\n    }\n    /**\n     * Converts `type` attribute of `<ul>` or `<ol>` elements to `list-style-type` equivalent.\n     */\n    getListStyleTypeFromTypeAttribute(value) {\n        return getListStyleTypeFromTypeAttribute(value);\n    }\n    /**\n     * Converts `list-style-type` style to `type` attribute of `<ul>` or `<ol>` elements.\n     */\n    getTypeAttributeFromListStyleType(value) {\n        return getTypeAttributeFromListStyleType(value);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module list/listproperties/utils/config\n */\nimport { toArray } from 'ckeditor5/src/utils.js';\n/**\n * Normalizes {@link module:list/listconfig~ListPropertiesConfig} in the configuration of the list properties feature.\n * The structure of normalized list properties options looks as follows:\n *\n * ```ts\n * {\n * \tstyles: {\n * \t\tlistTypes: [ 'bulleted', 'numbered' ],\n * \t\tuseAttribute: false\n * \t},\n * \tstartIndex: true,\n * \treversed: true\n * }\n * ```\n *\n * @param config The list properties {@link module:list/listconfig~ListPropertiesConfig config}.\n * @returns An object with normalized list properties options.\n */\nexport function getNormalizedConfig(config) {\n    const { startIndex, reversed, styles } = config;\n    return {\n        styles: getNormalizedStylesConfig(styles),\n        startIndex: startIndex || false,\n        reversed: reversed || false\n    };\n}\n/**\n * Normalizes styles in the configuration of the list properties feature.\n * The structure of normalized list properties options looks as follows:\n *\n * ```ts\n * {\n * \tlistTypes: [ 'bulleted', 'numbered' ],\n * \tuseAttribute: false\n * }\n * ```\n *\n * @param styles The list properties styles.\n * @returns An object with normalized list properties styles.\n */\nfunction getNormalizedStylesConfig(styles) {\n    const normalizedConfig = {\n        listTypes: ['bulleted', 'numbered'],\n        useAttribute: false\n    };\n    if (styles === true) {\n        return normalizedConfig;\n    }\n    if (!styles) {\n        normalizedConfig.listTypes = [];\n    }\n    else if (Array.isArray(styles) || typeof styles == 'string') {\n        normalizedConfig.listTypes = toArray(styles);\n    }\n    else {\n        normalizedConfig.listTypes = styles.listTypes ?\n            toArray(styles.listTypes) :\n            normalizedConfig.listTypes;\n        normalizedConfig.useAttribute = !!styles.useAttribute;\n        if (styles.listStyleTypes) {\n            normalizedConfig.listStyleTypes = styles.listStyleTypes;\n        }\n    }\n    return normalizedConfig;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module list/listproperties/listpropertiesediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport ListEditing from '../list/listediting.js';\nimport ListStartCommand from './liststartcommand.js';\nimport ListStyleCommand from './liststylecommand.js';\nimport ListReversedCommand from './listreversedcommand.js';\nimport { listPropertiesUpcastConverter } from './converters.js';\nimport { getAllSupportedStyleTypes, getListTypeFromListStyleType, getListStyleTypeFromTypeAttribute, getTypeAttributeFromListStyleType, normalizeListStyle } from './utils/style.js';\nimport ListPropertiesUtils from './listpropertiesutils.js';\nimport { isNumberedListType } from '../list/utils/model.js';\nimport { getNormalizedConfig } from './utils/config.js';\nconst DEFAULT_LIST_TYPE = 'default';\n/**\n * The document list properties engine feature.\n *\n * It registers the `'listStyle'`, `'listReversed'` and `'listStart'` commands if they are enabled in the configuration.\n * Read more in {@link module:list/listconfig~ListPropertiesConfig}.\n */\nexport default class ListPropertiesEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ListEditing, ListPropertiesUtils];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ListPropertiesEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        editor.config.define('list.properties', {\n            styles: true,\n            startIndex: false,\n            reversed: false\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const model = editor.model;\n        const listEditing = editor.plugins.get(ListEditing);\n        const enabledProperties = editor.config.get('list.properties');\n        const strategies = createAttributeStrategies(enabledProperties);\n        for (const strategy of strategies) {\n            strategy.addCommand(editor);\n            model.schema.extend('$listItem', { allowAttributes: strategy.attributeName });\n            // Register downcast strategy.\n            listEditing.registerDowncastStrategy({\n                scope: 'list',\n                attributeName: strategy.attributeName,\n                setAttributeOnDowncast(writer, attributeValue, viewElement) {\n                    strategy.setAttributeOnDowncast(writer, attributeValue, viewElement);\n                }\n            });\n        }\n        // Set up conversion.\n        editor.conversion.for('upcast').add(dispatcher => {\n            for (const strategy of strategies) {\n                dispatcher.on('element:ol', listPropertiesUpcastConverter(strategy));\n                dispatcher.on('element:ul', listPropertiesUpcastConverter(strategy));\n            }\n        });\n        // Verify if the list view element (ul or ol) requires refreshing.\n        listEditing.on('checkAttributes:list', (evt, { viewElement, modelAttributes }) => {\n            for (const strategy of strategies) {\n                if (strategy.getAttributeOnUpcast(viewElement) != modelAttributes[strategy.attributeName]) {\n                    evt.return = true;\n                    evt.stop();\n                }\n            }\n        });\n        // Reset list properties after indenting list items.\n        this.listenTo(editor.commands.get('indentList'), 'afterExecute', (evt, changedBlocks) => {\n            model.change(writer => {\n                for (const node of changedBlocks) {\n                    for (const strategy of strategies) {\n                        if (strategy.appliesToListItem(node)) {\n                            // Just reset the attribute.\n                            // If there is a previous indented list that this node should be merged into,\n                            // the postfixer will unify all the attributes of both sub-lists.\n                            writer.setAttribute(strategy.attributeName, strategy.defaultValue, node);\n                        }\n                    }\n                }\n            });\n        });\n        // Add or remove list properties attributes depending on the list type.\n        listEditing.on('postFixer', (evt, { listNodes, writer }) => {\n            for (const { node } of listNodes) {\n                for (const strategy of strategies) {\n                    // Check if attribute is valid.\n                    if (strategy.hasValidAttribute(node)) {\n                        continue;\n                    }\n                    // Add missing default property attributes...\n                    if (strategy.appliesToListItem(node)) {\n                        writer.setAttribute(strategy.attributeName, strategy.defaultValue, node);\n                    }\n                    // ...or remove invalid property attributes.\n                    else {\n                        writer.removeAttribute(strategy.attributeName, node);\n                    }\n                    evt.return = true;\n                }\n            }\n        });\n        // Make sure that all items in a single list (items at the same level & listType) have the same properties.\n        listEditing.on('postFixer', (evt, { listNodes, writer }) => {\n            for (const { node, previousNodeInList } of listNodes) {\n                // This is a first item of a nested list.\n                if (!previousNodeInList) {\n                    continue;\n                }\n                // This is a first block of a list of a different type.\n                if (previousNodeInList.getAttribute('listType') != node.getAttribute('listType')) {\n                    continue;\n                }\n                // Copy properties from the previous one.\n                for (const strategy of strategies) {\n                    const { attributeName } = strategy;\n                    if (!strategy.appliesToListItem(node)) {\n                        continue;\n                    }\n                    const value = previousNodeInList.getAttribute(attributeName);\n                    if (node.getAttribute(attributeName) != value) {\n                        writer.setAttribute(attributeName, value, node);\n                        evt.return = true;\n                    }\n                }\n            }\n        });\n    }\n}\n/**\n * Creates an array of strategies for dealing with enabled listItem attributes.\n */\nfunction createAttributeStrategies(enabledProperties) {\n    const strategies = [];\n    const normalizedConfig = getNormalizedConfig(enabledProperties);\n    if (enabledProperties.styles) {\n        const useAttribute = normalizedConfig.styles.useAttribute;\n        strategies.push({\n            attributeName: 'listStyle',\n            defaultValue: DEFAULT_LIST_TYPE,\n            viewConsumables: { styles: 'list-style-type' },\n            addCommand(editor) {\n                let supportedTypes = getAllSupportedStyleTypes();\n                if (useAttribute) {\n                    supportedTypes = supportedTypes.filter(styleType => !!getTypeAttributeFromListStyleType(styleType));\n                }\n                editor.commands.add('listStyle', new ListStyleCommand(editor, DEFAULT_LIST_TYPE, supportedTypes));\n            },\n            appliesToListItem(item) {\n                return item.getAttribute('listType') == 'numbered' || item.getAttribute('listType') == 'bulleted';\n            },\n            hasValidAttribute(item) {\n                if (!this.appliesToListItem(item)) {\n                    return !item.hasAttribute('listStyle');\n                }\n                if (!item.hasAttribute('listStyle')) {\n                    return false;\n                }\n                const value = item.getAttribute('listStyle');\n                if (value == DEFAULT_LIST_TYPE) {\n                    return true;\n                }\n                return getListTypeFromListStyleType(value) == item.getAttribute('listType');\n            },\n            setAttributeOnDowncast(writer, listStyle, element) {\n                if (listStyle && listStyle !== DEFAULT_LIST_TYPE) {\n                    if (useAttribute) {\n                        const value = getTypeAttributeFromListStyleType(listStyle);\n                        if (value) {\n                            writer.setAttribute('type', value, element);\n                            return;\n                        }\n                    }\n                    else {\n                        writer.setStyle('list-style-type', listStyle, element);\n                        return;\n                    }\n                }\n                writer.removeStyle('list-style-type', element);\n                writer.removeAttribute('type', element);\n            },\n            getAttributeOnUpcast(listParent) {\n                const style = listParent.getStyle('list-style-type');\n                if (style) {\n                    return normalizeListStyle(style);\n                }\n                const attribute = listParent.getAttribute('type');\n                if (attribute) {\n                    return getListStyleTypeFromTypeAttribute(attribute);\n                }\n                return DEFAULT_LIST_TYPE;\n            }\n        });\n    }\n    if (enabledProperties.reversed) {\n        strategies.push({\n            attributeName: 'listReversed',\n            defaultValue: false,\n            viewConsumables: { attributes: 'reversed' },\n            addCommand(editor) {\n                editor.commands.add('listReversed', new ListReversedCommand(editor));\n            },\n            appliesToListItem(item) {\n                return item.getAttribute('listType') == 'numbered';\n            },\n            hasValidAttribute(item) {\n                return this.appliesToListItem(item) == item.hasAttribute('listReversed');\n            },\n            setAttributeOnDowncast(writer, listReversed, element) {\n                if (listReversed) {\n                    writer.setAttribute('reversed', 'reversed', element);\n                }\n                else {\n                    writer.removeAttribute('reversed', element);\n                }\n            },\n            getAttributeOnUpcast(listParent) {\n                return listParent.hasAttribute('reversed');\n            }\n        });\n    }\n    if (enabledProperties.startIndex) {\n        strategies.push({\n            attributeName: 'listStart',\n            defaultValue: 1,\n            viewConsumables: { attributes: 'start' },\n            addCommand(editor) {\n                editor.commands.add('listStart', new ListStartCommand(editor));\n            },\n            appliesToListItem(item) {\n                return isNumberedListType(item.getAttribute('listType'));\n            },\n            hasValidAttribute(item) {\n                return this.appliesToListItem(item) == item.hasAttribute('listStart');\n            },\n            setAttributeOnDowncast(writer, listStart, element) {\n                if (listStart == 0 || listStart > 1) {\n                    writer.setAttribute('start', listStart, element);\n                }\n                else {\n                    writer.removeAttribute('start', element);\n                }\n            },\n            getAttributeOnUpcast(listParent) {\n                const startAttributeValue = listParent.getAttribute('start');\n                return startAttributeValue >= 0 ? startAttributeValue : 1;\n            }\n        });\n    }\n    return strategies;\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./listproperties.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module list/listproperties/ui/listpropertiesview\n */\nimport { ButtonView, View, ViewCollection, FocusCycler, SwitchButtonView, LabeledFieldView, createLabeledInputNumber, addKeyboardHandlingForGrid, CollapsibleView } from 'ckeditor5/src/ui.js';\nimport { FocusTracker, KeystrokeHandler, global } from 'ckeditor5/src/utils.js';\nimport '../../../theme/listproperties.css';\n/**\n * The list properties view to be displayed in the list dropdown.\n *\n * Contains a grid of available list styles and, for numbered list, also the list start index and reversed fields.\n *\n * @internal\n */\nexport default class ListPropertiesView extends View {\n    /**\n     * A collection of the child views.\n     */\n    children;\n    /**\n     * A view that renders the grid of list styles.\n     */\n    stylesView = null;\n    /**\n     * A collapsible view that hosts additional list property fields ({@link #startIndexFieldView} and\n     * {@link #reversedSwitchButtonView}) to visually separate them from the {@link #stylesView grid of styles}.\n     *\n     * **Note**: Only present when:\n     * * the view represents **numbered** list properties,\n     * * and the {@link #stylesView} is rendered,\n     * * and either {@link #startIndexFieldView} or {@link #reversedSwitchButtonView} is rendered.\n     *\n     * @readonly\n     */\n    additionalPropertiesCollapsibleView = null;\n    /**\n     * A labeled number field allowing the user to set the start index of the list.\n     *\n     * **Note**: Only present when the view represents **numbered** list properties.\n     *\n     * @readonly\n     */\n    startIndexFieldView = null;\n    /**\n     * A switch button allowing the user to make the edited list reversed.\n     *\n     * **Note**: Only present when the view represents **numbered** list properties.\n     *\n     * @readonly\n     */\n    reversedSwitchButtonView = null;\n    /**\n     * Tracks information about the DOM focus in the view.\n     */\n    focusTracker = new FocusTracker();\n    /**\n     * An instance of the {@link module:utils/keystrokehandler~KeystrokeHandler}.\n     */\n    keystrokes = new KeystrokeHandler();\n    /**\n     * A collection of views that can be focused in the properties view.\n     */\n    focusables = new ViewCollection();\n    /**\n     * Helps cycling over {@link #focusables} in the view.\n     */\n    focusCycler;\n    /**\n     * Creates an instance of the list properties view.\n     *\n     * @param locale The {@link module:core/editor/editor~Editor#locale} instance.\n     * @param options Options of the view.\n     * @param options.enabledProperties An object containing the configuration of enabled list property names.\n     * Allows conditional rendering the sub-components of the properties view.\n     * @param options.styleButtonViews A list of style buttons to be rendered\n     * inside the styles grid. The grid will not be rendered when `enabledProperties` does not include the `'styles'` key.\n     * @param options.styleGridAriaLabel An assistive technologies label set on the grid of styles (if the grid is rendered).\n     */\n    constructor(locale, { enabledProperties, styleButtonViews, styleGridAriaLabel }) {\n        super(locale);\n        const elementCssClasses = [\n            'ck',\n            'ck-list-properties'\n        ];\n        this.children = this.createCollection();\n        this.focusCycler = new FocusCycler({\n            focusables: this.focusables,\n            focusTracker: this.focusTracker,\n            keystrokeHandler: this.keystrokes,\n            actions: {\n                // Navigate #children backwards using the <kbd>Shift</kbd> + <kbd>Tab</kbd> keystroke.\n                focusPrevious: 'shift + tab',\n                // Navigate #children forwards using the <kbd>Tab</kbd> key.\n                focusNext: 'tab'\n            }\n        });\n        // The rendering of the styles grid is conditional. When there is no styles grid, the view will render without collapsible\n        // for numbered list properties, hence simplifying the layout.\n        if (styleButtonViews && styleButtonViews.length) {\n            this.stylesView = this._createStylesView(styleButtonViews, styleGridAriaLabel);\n            this.children.add(this.stylesView);\n        }\n        else {\n            elementCssClasses.push('ck-list-properties_without-styles');\n        }\n        // The rendering of the numbered list property views is also conditional. It only makes sense for the numbered list\n        // dropdown. The unordered list does not have such properties.\n        if (enabledProperties.startIndex || enabledProperties.reversed) {\n            this._addNumberedListPropertyViews(enabledProperties);\n            elementCssClasses.push('ck-list-properties_with-numbered-properties');\n        }\n        this.setTemplate({\n            tag: 'div',\n            attributes: {\n                class: elementCssClasses\n            },\n            children: this.children\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    render() {\n        super.render();\n        if (this.stylesView) {\n            this.focusables.add(this.stylesView);\n            this.focusTracker.add(this.stylesView.element);\n            // Register the collapsible toggle button to the focus system.\n            if (this.startIndexFieldView || this.reversedSwitchButtonView) {\n                this.focusables.add(this.children.last.buttonView);\n                this.focusTracker.add(this.children.last.buttonView.element);\n            }\n            for (const item of this.stylesView.children) {\n                this.stylesView.focusTracker.add(item.element);\n            }\n            addKeyboardHandlingForGrid({\n                keystrokeHandler: this.stylesView.keystrokes,\n                focusTracker: this.stylesView.focusTracker,\n                gridItems: this.stylesView.children,\n                // Note: The styles view has a different number of columns depending on whether the other properties\n                // are enabled in the dropdown or not (https://github.com/ckeditor/ckeditor5/issues/12340)\n                numberOfColumns: () => global.window\n                    .getComputedStyle(this.stylesView.element)\n                    .getPropertyValue('grid-template-columns')\n                    .split(' ')\n                    .length,\n                uiLanguageDirection: this.locale && this.locale.uiLanguageDirection\n            });\n        }\n        if (this.startIndexFieldView) {\n            this.focusables.add(this.startIndexFieldView);\n            this.focusTracker.add(this.startIndexFieldView.element);\n            const stopPropagation = (data) => data.stopPropagation();\n            // Since the form is in the dropdown panel which is a child of the toolbar, the toolbar's\n            // keystroke handler would take over the key management in the input. We need to prevent\n            // this ASAP. Otherwise, the basic caret movement using the arrow keys will be impossible.\n            this.keystrokes.set('arrowright', stopPropagation);\n            this.keystrokes.set('arrowleft', stopPropagation);\n            this.keystrokes.set('arrowup', stopPropagation);\n            this.keystrokes.set('arrowdown', stopPropagation);\n        }\n        if (this.reversedSwitchButtonView) {\n            this.focusables.add(this.reversedSwitchButtonView);\n            this.focusTracker.add(this.reversedSwitchButtonView.element);\n        }\n        // Start listening for the keystrokes coming from #element.\n        this.keystrokes.listenTo(this.element);\n    }\n    /**\n     * @inheritDoc\n     */\n    focus() {\n        this.focusCycler.focusFirst();\n    }\n    /**\n     * @inheritDoc\n     */\n    focusLast() {\n        this.focusCycler.focusLast();\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        super.destroy();\n        this.focusTracker.destroy();\n        this.keystrokes.destroy();\n    }\n    /**\n     * Creates the list styles grid.\n     *\n     * @param styleButtons Buttons to be placed in the grid.\n     * @param styleGridAriaLabel The assistive technology label of the grid.\n     */\n    _createStylesView(styleButtons, styleGridAriaLabel) {\n        const stylesView = new View(this.locale);\n        stylesView.children = stylesView.createCollection();\n        stylesView.children.addMany(styleButtons);\n        stylesView.setTemplate({\n            tag: 'div',\n            attributes: {\n                'aria-label': styleGridAriaLabel,\n                class: [\n                    'ck',\n                    'ck-list-styles-list'\n                ]\n            },\n            children: stylesView.children\n        });\n        stylesView.children.delegate('execute').to(this);\n        stylesView.focus = function () {\n            // If there is a button that is already on, focus it.\n            // It's counterintuitive to focus the first button when there is already a button on.\n            for (const child of this.children) {\n                if (child instanceof ButtonView && child.isOn) {\n                    child.focus();\n                    return;\n                }\n            }\n            // ... otherwise focus the first button.\n            this.children.first.focus();\n        };\n        stylesView.focusTracker = new FocusTracker();\n        stylesView.keystrokes = new KeystrokeHandler();\n        stylesView.render();\n        stylesView.keystrokes.listenTo(stylesView.element);\n        return stylesView;\n    }\n    /**\n     * Renders {@link #startIndexFieldView} and/or {@link #reversedSwitchButtonView} depending on the configuration of the properties view.\n     *\n     * @param enabledProperties An object containing the configuration of enabled list property names\n     * (see {@link #constructor}).\n     */\n    _addNumberedListPropertyViews(enabledProperties) {\n        const t = this.locale.t;\n        const numberedPropertyViews = [];\n        if (enabledProperties.startIndex) {\n            this.startIndexFieldView = this._createStartIndexField();\n            numberedPropertyViews.push(this.startIndexFieldView);\n        }\n        if (enabledProperties.reversed) {\n            this.reversedSwitchButtonView = this._createReversedSwitchButton();\n            numberedPropertyViews.push(this.reversedSwitchButtonView);\n        }\n        // When there are some style buttons, pack the numbered list properties into a collapsible to separate them.\n        if (this.stylesView) {\n            this.additionalPropertiesCollapsibleView = new CollapsibleView(this.locale, numberedPropertyViews);\n            this.additionalPropertiesCollapsibleView.set({\n                label: t('List properties'),\n                isCollapsed: true\n            });\n            // Don't enable the collapsible view unless either start index or reversed field is enabled (e.g. when no list is selected).\n            this.additionalPropertiesCollapsibleView.buttonView.bind('isEnabled').toMany(numberedPropertyViews, 'isEnabled', (...areEnabled) => areEnabled.some(isEnabled => isEnabled));\n            // Automatically collapse the additional properties collapsible when either start index or reversed field gets disabled.\n            this.additionalPropertiesCollapsibleView.buttonView.on('change:isEnabled', (evt, data, isEnabled) => {\n                if (!isEnabled) {\n                    this.additionalPropertiesCollapsibleView.isCollapsed = true;\n                }\n            });\n            this.children.add(this.additionalPropertiesCollapsibleView);\n        }\n        else {\n            this.children.addMany(numberedPropertyViews);\n        }\n    }\n    /**\n     * Creates the list start index labeled field.\n     */\n    _createStartIndexField() {\n        const t = this.locale.t;\n        const startIndexFieldView = new LabeledFieldView(this.locale, createLabeledInputNumber);\n        startIndexFieldView.set({\n            label: t('Start at'),\n            class: 'ck-numbered-list-properties__start-index'\n        });\n        startIndexFieldView.fieldView.set({\n            min: 0,\n            step: 1,\n            value: 1,\n            inputMode: 'numeric'\n        });\n        startIndexFieldView.fieldView.on('input', () => {\n            const inputElement = startIndexFieldView.fieldView.element;\n            const startIndex = inputElement.valueAsNumber;\n            if (Number.isNaN(startIndex)) {\n                // Number inputs allow for the entry of characters that may result in NaN,\n                // such as 'e', '+', '123e', '2-'.\n                startIndexFieldView.errorText = t('Invalid start index value.');\n                return;\n            }\n            if (!inputElement.checkValidity()) {\n                startIndexFieldView.errorText = t('Start index must be greater than 0.');\n            }\n            else {\n                this.fire('listStart', { startIndex });\n            }\n        });\n        return startIndexFieldView;\n    }\n    /**\n     * Creates the reversed list switch button.\n     */\n    _createReversedSwitchButton() {\n        const t = this.locale.t;\n        const reversedButtonView = new SwitchButtonView(this.locale);\n        reversedButtonView.set({\n            withText: true,\n            label: t('Reversed order'),\n            class: 'ck-numbered-list-properties__reversed-order'\n        });\n        reversedButtonView.delegate('execute').to(this, 'listReversed');\n        return reversedButtonView;\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./liststyles.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module list/listproperties/listpropertiesui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { IconBulletedList, IconNumberedList, IconListStyleCircle, IconListStyleDecimal, IconListStyleDecimalLeadingZero, IconListStyleDisc, IconListStyleLowerLatin, IconListStyleLowerRoman, IconListStyleSquare, IconListStyleUpperLatin, IconListStyleUpperRoman } from 'ckeditor5/src/icons.js';\nimport { ButtonView, SplitButtonView, createDropdown, focusChildOnDropdownOpen, MenuBarMenuView } from 'ckeditor5/src/ui.js';\nimport ListPropertiesView from './ui/listpropertiesview.js';\nimport { getNormalizedConfig } from './utils/config.js';\nimport '../../theme/liststyles.css';\n/**\n * The list properties UI plugin. It introduces the extended `'bulletedList'` and `'numberedList'` toolbar\n * buttons that allow users to control such aspects of list as the marker, start index or order.\n *\n * **Note**: Buttons introduced by this plugin override implementations from the {@link module:list/list/listui~ListUI}\n * (because they share the same names).\n */\nexport default class ListPropertiesUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ListPropertiesUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    init() {\n        const editor = this.editor;\n        const t = editor.locale.t;\n        const propertiesConfig = editor.config.get('list.properties');\n        const normalizedConfig = getNormalizedConfig(propertiesConfig);\n        const stylesListTypes = normalizedConfig.styles.listTypes;\n        // Note: When this plugin does not register the \"bulletedList\" dropdown due to properties configuration,\n        // a simple button will be still registered under the same name by ListUI as a fallback. This should happen\n        // in most editor configuration because the List plugin automatically requires ListUI.\n        if (stylesListTypes.includes('bulleted')) {\n            const styleDefinitions = [\n                {\n                    label: t('Toggle the disc list style'),\n                    tooltip: t('Disc'),\n                    type: 'disc',\n                    icon: IconListStyleDisc\n                },\n                {\n                    label: t('Toggle the circle list style'),\n                    tooltip: t('Circle'),\n                    type: 'circle',\n                    icon: IconListStyleCircle\n                },\n                {\n                    label: t('Toggle the square list style'),\n                    tooltip: t('Square'),\n                    type: 'square',\n                    icon: IconListStyleSquare\n                }\n            ];\n            const buttonLabel = t('Bulleted List');\n            const styleGridAriaLabel = t('Bulleted list styles toolbar');\n            const commandName = 'bulletedList';\n            editor.ui.componentFactory.add(commandName, getDropdownViewCreator({\n                editor,\n                normalizedConfig,\n                parentCommandName: commandName,\n                buttonLabel,\n                buttonIcon: IconBulletedList,\n                styleGridAriaLabel,\n                styleDefinitions\n            }));\n            // Add the menu bar item for bulleted list.\n            editor.ui.componentFactory.add(`menuBar:${commandName}`, getMenuBarStylesMenuCreator({\n                editor,\n                normalizedConfig,\n                parentCommandName: commandName,\n                buttonLabel,\n                styleGridAriaLabel,\n                styleDefinitions\n            }));\n        }\n        // Note: When this plugin does not register the \"numberedList\" dropdown due to properties configuration,\n        // a simple button will be still registered under the same name by ListUI as a fallback. This should happen\n        // in most editor configuration because the List plugin automatically requires ListUI.\n        if (stylesListTypes.includes('numbered') || propertiesConfig.startIndex || propertiesConfig.reversed) {\n            const styleDefinitions = [\n                {\n                    label: t('Toggle the decimal list style'),\n                    tooltip: t('Decimal'),\n                    type: 'decimal',\n                    icon: IconListStyleDecimal\n                },\n                {\n                    label: t('Toggle the decimal with leading zero list style'),\n                    tooltip: t('Decimal with leading zero'),\n                    type: 'decimal-leading-zero',\n                    icon: IconListStyleDecimalLeadingZero\n                },\n                {\n                    label: t('Toggle the lower–roman list style'),\n                    tooltip: t('Lower–roman'),\n                    type: 'lower-roman',\n                    icon: IconListStyleLowerRoman\n                },\n                {\n                    label: t('Toggle the upper–roman list style'),\n                    tooltip: t('Upper-roman'),\n                    type: 'upper-roman',\n                    icon: IconListStyleUpperRoman\n                },\n                {\n                    label: t('Toggle the lower–latin list style'),\n                    tooltip: t('Lower-latin'),\n                    type: 'lower-latin',\n                    icon: IconListStyleLowerLatin\n                },\n                {\n                    label: t('Toggle the upper–latin list style'),\n                    tooltip: t('Upper-latin'),\n                    type: 'upper-latin',\n                    icon: IconListStyleUpperLatin\n                }\n            ];\n            const buttonLabel = t('Numbered List');\n            const styleGridAriaLabel = t('Numbered list styles toolbar');\n            const commandName = 'numberedList';\n            editor.ui.componentFactory.add(commandName, getDropdownViewCreator({\n                editor,\n                normalizedConfig,\n                parentCommandName: commandName,\n                buttonLabel,\n                buttonIcon: IconNumberedList,\n                styleGridAriaLabel,\n                styleDefinitions\n            }));\n            // Menu bar menu does not display list start index or reverse UI. If there are no styles enabled,\n            // the menu makes no sense and should be omitted.\n            if (stylesListTypes.includes('numbered')) {\n                editor.ui.componentFactory.add(`menuBar:${commandName}`, getMenuBarStylesMenuCreator({\n                    editor,\n                    normalizedConfig,\n                    parentCommandName: commandName,\n                    buttonLabel,\n                    styleGridAriaLabel,\n                    styleDefinitions\n                }));\n            }\n        }\n    }\n}\n/**\n * A helper that returns a function that creates a split button with a toolbar in the dropdown,\n * which in turn contains buttons allowing users to change list styles in the context of the current selection.\n *\n * @param options.editor\n * @param options.normalizedConfig List properties configuration.\n * @param options.parentCommandName The name of the higher-order editor command associated with\n * the set of particular list styles (e.g. \"bulletedList\" for \"disc\", \"circle\", and \"square\" styles).\n * @param options.buttonLabel Label of the main part of the split button.\n * @param options.buttonIcon The SVG string of an icon for the main part of the split button.\n * @param options.styleGridAriaLabel The ARIA label for the styles grid in the split button dropdown.\n * @param options.styleDefinitions Definitions of the style buttons.\n * @returns A function that can be passed straight into {@link module:ui/componentfactory~ComponentFactory#add}.\n */\nfunction getDropdownViewCreator({ editor, normalizedConfig, parentCommandName, buttonLabel, buttonIcon, styleGridAriaLabel, styleDefinitions }) {\n    const parentCommand = editor.commands.get(parentCommandName);\n    return (locale) => {\n        const dropdownView = createDropdown(locale, SplitButtonView);\n        const mainButtonView = dropdownView.buttonView;\n        dropdownView.bind('isEnabled').to(parentCommand);\n        dropdownView.class = 'ck-list-styles-dropdown';\n        // Main button was clicked.\n        mainButtonView.on('execute', () => {\n            editor.execute(parentCommandName);\n            editor.editing.view.focus();\n        });\n        mainButtonView.set({\n            label: buttonLabel,\n            icon: buttonIcon,\n            tooltip: true,\n            isToggleable: true\n        });\n        mainButtonView.bind('isOn').to(parentCommand, 'value', value => !!value);\n        dropdownView.once('change:isOpen', () => {\n            const listPropertiesView = createListPropertiesView({\n                editor,\n                normalizedConfig,\n                dropdownView,\n                parentCommandName,\n                styleGridAriaLabel,\n                styleDefinitions\n            });\n            dropdownView.panelView.children.add(listPropertiesView);\n        });\n        // Focus the editable after executing the command.\n        // Overrides a default behaviour where the focus is moved to the dropdown button (#12125).\n        dropdownView.on('execute', () => {\n            editor.editing.view.focus();\n        });\n        return dropdownView;\n    };\n}\n/**\n * A helper that returns a function (factory) that creates individual buttons used by users to change styles\n * of lists.\n *\n * @param options.editor\n * @param options.listStyleCommand The instance of the `ListStylesCommand` class.\n * @param options.parentCommandName The name of the higher-order command associated with a\n * particular list style (e.g. \"bulletedList\" is associated with \"square\" and \"numberedList\" is associated with \"roman\").\n * @returns A function that can be passed straight into {@link module:ui/componentfactory~ComponentFactory#add}.\n */\nfunction getStyleButtonCreator({ editor, listStyleCommand, parentCommandName }) {\n    const locale = editor.locale;\n    const parentCommand = editor.commands.get(parentCommandName);\n    return ({ label, type, icon, tooltip }) => {\n        const button = new ButtonView(locale);\n        button.set({ label, icon, tooltip });\n        button.bind('isOn').to(listStyleCommand, 'value', value => value === type);\n        button.on('execute', () => {\n            // If the content the selection is anchored to is a list, let's change its style.\n            if (parentCommand.value) {\n                // Remove the list when the current list style is the same as the one that would normally be applied.\n                if (listStyleCommand.value === type) {\n                    editor.execute(parentCommandName);\n                }\n                // If the current list style is not set in the model or the style is different than the\n                // one to be applied, simply apply the new style.\n                else if (listStyleCommand.value !== type) {\n                    editor.execute('listStyle', { type });\n                }\n            }\n            // Otherwise, leave the creation of the styled list to the `ListStyleCommand`.\n            else {\n                editor.model.change(() => {\n                    editor.execute('listStyle', { type });\n                });\n            }\n        });\n        return button;\n    };\n}\n/**\n * A helper that creates the properties view for the individual style dropdown.\n *\n * @param options.editor Editor instance.\n * @param options.normalizedConfig List properties configuration.\n * @param options.dropdownView Styles dropdown view that hosts the properties view.\n * @param options.parentCommandName The name of the higher-order editor command associated with\n * the set of particular list styles (e.g. \"bulletedList\" for \"disc\", \"circle\", and \"square\" styles).\n * @param options.styleDefinitions Definitions of the style buttons.\n * @param options.styleGridAriaLabel An assistive technologies label set on the grid of styles (if the grid is rendered).\n */\nfunction createListPropertiesView({ editor, normalizedConfig, dropdownView, parentCommandName, styleDefinitions, styleGridAriaLabel }) {\n    const locale = editor.locale;\n    const enabledProperties = {\n        ...normalizedConfig,\n        ...(parentCommandName != 'numberedList' ? {\n            startIndex: false,\n            reversed: false\n        } : null)\n    };\n    const listType = parentCommandName.replace('List', '');\n    let styleButtonViews = null;\n    if (normalizedConfig.styles.listTypes.includes(listType)) {\n        const listStyleCommand = editor.commands.get('listStyle');\n        const styleButtonCreator = getStyleButtonCreator({\n            editor,\n            parentCommandName,\n            listStyleCommand\n        });\n        const configuredListStylesTypes = normalizedConfig.styles.listStyleTypes;\n        let filteredDefinitions = styleDefinitions;\n        if (configuredListStylesTypes) {\n            const allowedTypes = configuredListStylesTypes[listType];\n            if (allowedTypes) {\n                filteredDefinitions = styleDefinitions.filter(def => allowedTypes.includes(def.type));\n            }\n        }\n        const isStyleTypeSupported = getStyleTypeSupportChecker(listStyleCommand);\n        styleButtonViews = filteredDefinitions\n            .filter(isStyleTypeSupported)\n            .map(styleButtonCreator);\n    }\n    const listPropertiesView = new ListPropertiesView(locale, {\n        styleGridAriaLabel,\n        enabledProperties,\n        styleButtonViews\n    });\n    if (normalizedConfig.styles.listTypes.includes(listType)) {\n        // Accessibility: focus the first active style when opening the dropdown.\n        focusChildOnDropdownOpen(dropdownView, () => {\n            return listPropertiesView.stylesView.children.find((child) => child.isOn);\n        });\n    }\n    if (enabledProperties.startIndex) {\n        const listStartCommand = editor.commands.get('listStart');\n        listPropertiesView.startIndexFieldView.bind('isEnabled').to(listStartCommand);\n        listPropertiesView.startIndexFieldView.fieldView.bind('value').to(listStartCommand);\n        listPropertiesView.on('listStart', (evt, data) => editor.execute('listStart', data));\n    }\n    if (enabledProperties.reversed) {\n        const listReversedCommand = editor.commands.get('listReversed');\n        listPropertiesView.reversedSwitchButtonView.bind('isEnabled').to(listReversedCommand);\n        listPropertiesView.reversedSwitchButtonView.bind('isOn').to(listReversedCommand, 'value', value => !!value);\n        listPropertiesView.on('listReversed', () => {\n            const isReversed = listReversedCommand.value;\n            editor.execute('listReversed', { reversed: !isReversed });\n        });\n    }\n    // Make sure applying styles closes the dropdown.\n    listPropertiesView.delegate('execute').to(dropdownView);\n    return listPropertiesView;\n}\n/**\n * A helper that creates the list style submenu for menu bar.\n *\n * @param editor Editor instance.\n * @param normalizedConfig List properties configuration.\n * @param parentCommandName Name of the list command.\n * @param buttonLabel Label of the menu button.\n * @param styleGridAriaLabel ARIA label of the styles grid.\n */\nfunction getMenuBarStylesMenuCreator({ editor, normalizedConfig, parentCommandName, buttonLabel, styleGridAriaLabel, styleDefinitions }) {\n    return (locale) => {\n        const menuView = new MenuBarMenuView(locale);\n        const listCommand = editor.commands.get(parentCommandName);\n        const listStyleCommand = editor.commands.get('listStyle');\n        const isStyleTypeSupported = getStyleTypeSupportChecker(listStyleCommand);\n        const styleButtonCreator = getStyleButtonCreator({\n            editor,\n            parentCommandName,\n            listStyleCommand\n        });\n        const configuredListStylesTypes = normalizedConfig.styles.listStyleTypes;\n        let filteredDefinitions = styleDefinitions;\n        if (configuredListStylesTypes) {\n            const listType = listCommand.type;\n            const allowedTypes = configuredListStylesTypes[listType];\n            if (allowedTypes) {\n                filteredDefinitions = styleDefinitions.filter(def => allowedTypes.includes(def.type));\n            }\n        }\n        const styleButtonViews = filteredDefinitions.filter(isStyleTypeSupported).map(styleButtonCreator);\n        const listPropertiesView = new ListPropertiesView(locale, {\n            styleGridAriaLabel,\n            enabledProperties: {\n                ...normalizedConfig,\n                // Disable list start index and reversed in the menu bar.\n                startIndex: false,\n                reversed: false\n            },\n            styleButtonViews\n        });\n        listPropertiesView.delegate('execute').to(menuView);\n        menuView.buttonView.set({\n            label: buttonLabel,\n            icon: parentCommandName === 'bulletedList' ? IconBulletedList : IconNumberedList\n        });\n        menuView.panelView.children.add(listPropertiesView);\n        menuView.bind('isEnabled').to(listCommand, 'isEnabled');\n        menuView.on('execute', () => {\n            editor.editing.view.focus();\n        });\n        return menuView;\n    };\n}\nfunction getStyleTypeSupportChecker(listStyleCommand) {\n    if (typeof listStyleCommand.isStyleTypeSupported == 'function') {\n        return (styleDefinition) => listStyleCommand.isStyleTypeSupported(styleDefinition.type);\n    }\n    else {\n        return () => true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module list/listproperties\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport ListPropertiesEditing from './listproperties/listpropertiesediting.js';\nimport ListPropertiesUI from './listproperties/listpropertiesui.js';\n/**\n * The list properties feature.\n *\n * This is a \"glue\" plugin that loads the\n * {@link module:list/listproperties/listpropertiesediting~ListPropertiesEditing list properties\n * editing feature} and the {@link module:list/listproperties/listpropertiesui~ListPropertiesUI list properties UI feature}.\n */\nexport default class ListProperties extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ListPropertiesEditing, ListPropertiesUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ListProperties';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module list/todolist/checktodolistcommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { getAllListItemBlocks } from '../list/utils/model.js';\n/**\n * The check to-do command.\n *\n * The command is registered by the {@link module:list/todolist/todolistediting~TodoListEditing} as\n * the `checkTodoList` editor command.\n */\nexport default class CheckTodoListCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        // Refresh command before executing to be sure all values are up to date.\n        // It is needed when selection has changed before command execution, in the same change block.\n        this.on('execute', () => {\n            this.refresh();\n        }, { priority: 'highest' });\n    }\n    /**\n     * Updates the command's {@link #value} and {@link #isEnabled} properties based on the current selection.\n     */\n    refresh() {\n        const selectedElements = this._getSelectedItems();\n        this.value = this._getValue(selectedElements);\n        this.isEnabled = !!selectedElements.length;\n    }\n    /**\n     * Executes the command.\n     *\n     * @param options.forceValue If set, it will force the command behavior. If `true`, the command will apply\n     * the attribute. Otherwise, the command will remove the attribute. If not set, the command will look for its current\n     * value to decide what it should do.\n     */\n    execute(options = {}) {\n        this.editor.model.change(writer => {\n            const selectedElements = this._getSelectedItems();\n            const value = (options.forceValue === undefined) ? !this._getValue(selectedElements) : options.forceValue;\n            for (const element of selectedElements) {\n                if (value) {\n                    writer.setAttribute('todoListChecked', true, element);\n                }\n                else {\n                    writer.removeAttribute('todoListChecked', element);\n                }\n            }\n        });\n    }\n    /**\n     * Returns a value for the command.\n     */\n    _getValue(selectedElements) {\n        return selectedElements.every(element => element.getAttribute('todoListChecked'));\n    }\n    /**\n     * Gets all to-do list items selected by the {@link module:engine/model/selection~Selection}.\n     */\n    _getSelectedItems() {\n        const model = this.editor.model;\n        const schema = model.schema;\n        const selectionRange = model.document.selection.getFirstRange();\n        const startElement = selectionRange.start.parent;\n        const elements = [];\n        if (schema.checkAttribute(startElement, 'todoListChecked')) {\n            elements.push(...getAllListItemBlocks(startElement));\n        }\n        for (const item of selectionRange.getItems({ shallow: true })) {\n            if (schema.checkAttribute(item, 'todoListChecked') && !elements.includes(item)) {\n                elements.push(...getAllListItemBlocks(item));\n            }\n        }\n        return elements;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module list/todolist/todocheckboxchangeobserver\n */\nimport { DomEventObserver } from 'ckeditor5/src/engine.js';\n/**\n * Observes all to-do list checkboxes state changes.\n *\n * Note that this observer is not available by default. To make it available it needs to be added to\n * {@link module:engine/view/view~View} by {@link module:engine/view/view~View#addObserver} method.\n */\nexport default class TodoCheckboxChangeObserver extends DomEventObserver {\n    /**\n     * @inheritDoc\n     */\n    domEventType = ['change'];\n    /**\n     * @inheritDoc\n     */\n    onDomEvent(domEvent) {\n        if (domEvent.target) {\n            const viewTarget = this.view.domConverter.mapDomToView(domEvent.target);\n            if (viewTarget &&\n                viewTarget.is('element', 'input') &&\n                viewTarget.getAttribute('type') == 'checkbox' &&\n                viewTarget.findAncestor({ classes: 'todo-list__label' })) {\n                this.fire('todoCheckboxChange', domEvent);\n            }\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module list/todolist/todolistediting\n */\nimport { Matcher } from 'ckeditor5/src/engine.js';\nimport { getCode, parseKeystroke, getLocalizedArrowKeyCodeDirection } from 'ckeditor5/src/utils.js';\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { getAllListItemBlocks, isFirstBlockOfListItem, isListItemBlock } from '../list/utils/model.js';\nimport ListEditing from '../list/listediting.js';\nimport ListCommand from '../list/listcommand.js';\nimport CheckTodoListCommand from './checktodolistcommand.js';\nimport TodoCheckboxChangeObserver from './todocheckboxchangeobserver.js';\nconst ITEM_TOGGLE_KEYSTROKE = /* #__PURE__ */ parseKeystroke('Ctrl+Enter');\n/**\n * The engine of the to-do list feature. It handles creating, editing and removing to-do lists and their items.\n *\n * It registers the entire functionality of the {@link module:list/list/listediting~ListEditing list editing plugin}\n * and extends it with the commands:\n *\n * - `'todoList'`,\n * - `'checkTodoList'`,\n */\nexport default class TodoListEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TodoListEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ListEditing];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const model = editor.model;\n        const editing = editor.editing;\n        const listEditing = editor.plugins.get(ListEditing);\n        const multiBlock = editor.config.get('list.multiBlock');\n        const elementName = multiBlock ? 'paragraph' : 'listItem';\n        editor.commands.add('todoList', new ListCommand(editor, 'todo'));\n        editor.commands.add('checkTodoList', new CheckTodoListCommand(editor));\n        editing.view.addObserver(TodoCheckboxChangeObserver);\n        model.schema.extend('$listItem', { allowAttributes: 'todoListChecked' });\n        model.schema.addAttributeCheck(context => {\n            const item = context.last;\n            // Don't allow `todoListChecked` attribute on elements which are not todo list items.\n            if (!item.getAttribute('listItemId') || item.getAttribute('listType') != 'todo') {\n                return false;\n            }\n        }, 'todoListChecked');\n        editor.conversion.for('upcast').add(dispatcher => {\n            // Upcast of to-do list item is based on a checkbox at the beginning of a <li> to keep compatibility with markdown input.\n            dispatcher.on('element:input', todoItemInputConverter());\n            // Priority is set to low to allow generic list item converter to run first.\n            dispatcher.on('element:li', todoListItemUpcastConverter(), {\n                priority: 'low'\n            });\n            // Consume other elements that are normally generated in data downcast, so they won't get captured by GHS.\n            dispatcher.on('element:label', elementUpcastConsumingConverter({ name: 'label', classes: 'todo-list__label' }));\n            dispatcher.on('element:label', elementUpcastConsumingConverter({ name: 'label', classes: ['todo-list__label', 'todo-list__label_without-description'] }));\n            dispatcher.on('element:span', elementUpcastConsumingConverter({ name: 'span', classes: 'todo-list__label__description' }));\n            dispatcher.on('element:ul', attributeUpcastConsumingConverter({ name: 'ul', classes: 'todo-list' }));\n        });\n        editor.conversion.for('downcast').elementToElement({\n            model: elementName,\n            view: (element, { writer }) => {\n                if (isDescriptionBlock(element, listEditing.getListAttributeNames())) {\n                    return writer.createContainerElement('span', { class: 'todo-list__label__description' });\n                }\n            },\n            converterPriority: 'highest'\n        });\n        listEditing.registerDowncastStrategy({\n            scope: 'list',\n            attributeName: 'listType',\n            setAttributeOnDowncast(writer, value, element) {\n                if (value == 'todo') {\n                    writer.addClass('todo-list', element);\n                }\n                else {\n                    writer.removeClass('todo-list', element);\n                }\n            }\n        });\n        listEditing.registerDowncastStrategy({\n            scope: 'itemMarker',\n            attributeName: 'todoListChecked',\n            createElement(writer, modelElement, { dataPipeline }) {\n                if (modelElement.getAttribute('listType') != 'todo') {\n                    return null;\n                }\n                const viewElement = writer.createUIElement('input', {\n                    type: 'checkbox',\n                    ...(modelElement.getAttribute('todoListChecked') ?\n                        { checked: 'checked' } :\n                        null),\n                    ...(dataPipeline ?\n                        { disabled: 'disabled' } :\n                        { tabindex: '-1' })\n                });\n                if (dataPipeline) {\n                    return viewElement;\n                }\n                const wrapper = writer.createContainerElement('span', { contenteditable: 'false' }, viewElement);\n                wrapper.getFillerOffset = () => null;\n                return wrapper;\n            },\n            canWrapElement(modelElement) {\n                return isDescriptionBlock(modelElement, listEditing.getListAttributeNames());\n            },\n            createWrapperElement(writer, modelElement, { dataPipeline }) {\n                const classes = ['todo-list__label'];\n                if (!isDescriptionBlock(modelElement, listEditing.getListAttributeNames())) {\n                    classes.push('todo-list__label_without-description');\n                }\n                return writer.createAttributeElement(dataPipeline ? 'label' : 'span', {\n                    class: classes.join(' ')\n                });\n            }\n        });\n        // Verifies if a to-do list block requires reconversion of a first item downcasted as an item description.\n        listEditing.on('checkElement', (evt, { modelElement, viewElement }) => {\n            const isFirstTodoModelParagraphBlock = isDescriptionBlock(modelElement, listEditing.getListAttributeNames());\n            const hasViewClass = viewElement.hasClass('todo-list__label__description');\n            if (hasViewClass != isFirstTodoModelParagraphBlock) {\n                evt.return = true;\n                evt.stop();\n            }\n        });\n        // Verifies if a to-do list block requires reconversion of a checkbox element\n        // (for example there is a new paragraph inserted as a first block of a list item).\n        listEditing.on('checkElement', (evt, { modelElement, viewElement }) => {\n            const isFirstTodoModelItemBlock = modelElement.getAttribute('listType') == 'todo' && isFirstBlockOfListItem(modelElement);\n            let hasViewItemMarker = false;\n            const viewWalker = editor.editing.view.createPositionBefore(viewElement).getWalker({ direction: 'backward' });\n            for (const { item } of viewWalker) {\n                if (item.is('element') && editor.editing.mapper.toModelElement(item)) {\n                    break;\n                }\n                if (item.is('element', 'input') && item.getAttribute('type') == 'checkbox') {\n                    hasViewItemMarker = true;\n                }\n            }\n            if (hasViewItemMarker != isFirstTodoModelItemBlock) {\n                evt.return = true;\n                evt.stop();\n            }\n        });\n        // Make sure that all blocks of the same list item have the same todoListChecked attribute.\n        listEditing.on('postFixer', (evt, { listNodes, writer }) => {\n            for (const { node, previousNodeInList } of listNodes) {\n                // This is a first item of a nested list.\n                if (!previousNodeInList) {\n                    continue;\n                }\n                if (previousNodeInList.getAttribute('listItemId') != node.getAttribute('listItemId')) {\n                    continue;\n                }\n                const previousHasAttribute = previousNodeInList.hasAttribute('todoListChecked');\n                const nodeHasAttribute = node.hasAttribute('todoListChecked');\n                if (nodeHasAttribute && !previousHasAttribute) {\n                    writer.removeAttribute('todoListChecked', node);\n                    evt.return = true;\n                }\n                else if (!nodeHasAttribute && previousHasAttribute) {\n                    writer.setAttribute('todoListChecked', true, node);\n                    evt.return = true;\n                }\n            }\n        });\n        // Make sure that todoListChecked attribute is only present for to-do list items.\n        model.document.registerPostFixer(writer => {\n            const changes = model.document.differ.getChanges();\n            let wasFixed = false;\n            for (const change of changes) {\n                if (change.type == 'attribute' && change.attributeKey == 'listType') {\n                    const element = change.range.start.nodeAfter;\n                    if (change.attributeOldValue == 'todo' && element.hasAttribute('todoListChecked')) {\n                        writer.removeAttribute('todoListChecked', element);\n                        wasFixed = true;\n                    }\n                }\n                else if (change.type == 'insert' && change.name != '$text') {\n                    for (const { item } of writer.createRangeOn(change.position.nodeAfter)) {\n                        if (item.is('element') && item.getAttribute('listType') != 'todo' && item.hasAttribute('todoListChecked')) {\n                            writer.removeAttribute('todoListChecked', item);\n                            wasFixed = true;\n                        }\n                    }\n                }\n            }\n            return wasFixed;\n        });\n        // Toggle check state of selected to-do list items on keystroke.\n        this.listenTo(editing.view.document, 'keydown', (evt, data) => {\n            if (getCode(data) === ITEM_TOGGLE_KEYSTROKE) {\n                editor.execute('checkTodoList');\n                evt.stop();\n            }\n        }, { priority: 'high' });\n        // Toggle check state of a to-do list item clicked on the checkbox.\n        this.listenTo(editing.view.document, 'todoCheckboxChange', (evt, data) => {\n            const viewTarget = data.target;\n            if (!viewTarget || !viewTarget.is('element', 'input')) {\n                return;\n            }\n            const viewPositionAfter = editing.view.createPositionAfter(viewTarget);\n            const modelPositionAfter = editing.mapper.toModelPosition(viewPositionAfter);\n            const modelElement = modelPositionAfter.parent;\n            if (modelElement && isListItemBlock(modelElement) && modelElement.getAttribute('listType') == 'todo') {\n                this._handleCheckmarkChange(modelElement);\n            }\n        });\n        // Jump at the start/end of the next node on right arrow key press, when selection is before the checkbox.\n        //\n        // <blockquote><p>Foo{}</p></blockquote>\n        // <ul><li><checkbox/>Bar</li></ul>\n        //\n        // press: `->`\n        //\n        // <blockquote><p>Foo</p></blockquote>\n        // <ul><li><checkbox/>{}Bar</li></ul>\n        //\n        this.listenTo(editing.view.document, 'arrowKey', jumpOverCheckmarkOnSideArrowKeyPress(model, editor.locale), { context: '$text' });\n        // Map view positions inside the checkbox and wrappers to the position in the first block of the list item.\n        this.listenTo(editing.mapper, 'viewToModelPosition', (evt, data) => {\n            const viewParent = data.viewPosition.parent;\n            const isStartOfListItem = viewParent.is('attributeElement', 'li') && data.viewPosition.offset == 0;\n            const isStartOfListLabel = isLabelElement(viewParent) && data.viewPosition.offset <= 1;\n            const isInInputWrapper = viewParent.is('element', 'span') &&\n                viewParent.getAttribute('contenteditable') == 'false' &&\n                isLabelElement(viewParent.parent);\n            if (!isStartOfListItem && !isStartOfListLabel && !isInInputWrapper) {\n                return;\n            }\n            const nodeAfter = data.modelPosition.nodeAfter;\n            if (nodeAfter && nodeAfter.getAttribute('listType') == 'todo') {\n                data.modelPosition = model.createPositionAt(nodeAfter, 0);\n            }\n        }, { priority: 'low' });\n        this._initAriaAnnouncements();\n    }\n    /**\n     * Handles the checkbox element change, moves the selection to the corresponding model item to make it possible\n     * to toggle the `todoListChecked` attribute using the command, and restores the selection position.\n     *\n     * Some say it's a hack :) Moving the selection only for executing the command on a certain node and restoring it after,\n     * is not a clear solution. We need to design an API for using commands beyond the selection range.\n     * See https://github.com/ckeditor/ckeditor5/issues/1954.\n     */\n    _handleCheckmarkChange(listItem) {\n        const editor = this.editor;\n        const model = editor.model;\n        const previousSelectionRanges = Array.from(model.document.selection.getRanges());\n        model.change(writer => {\n            writer.setSelection(listItem, 'end');\n            editor.execute('checkTodoList');\n            writer.setSelection(previousSelectionRanges);\n        });\n    }\n    /**\n     * Observe when user enters or leaves todo list and set proper aria value in global live announcer.\n     * This allows screen readers to indicate when the user has entered and left the specified todo list.\n     *\n     * @internal\n     */\n    _initAriaAnnouncements() {\n        const { model, ui, t } = this.editor;\n        let lastFocusedCodeBlock = null;\n        if (!ui) {\n            return;\n        }\n        model.document.selection.on('change:range', () => {\n            const focusParent = model.document.selection.focus.parent;\n            const lastElementIsTodoList = isTodoListItemElement(lastFocusedCodeBlock);\n            const currentElementIsTodoList = isTodoListItemElement(focusParent);\n            if (lastElementIsTodoList && !currentElementIsTodoList) {\n                ui.ariaLiveAnnouncer.announce(t('Leaving a to-do list'));\n            }\n            else if (!lastElementIsTodoList && currentElementIsTodoList) {\n                ui.ariaLiveAnnouncer.announce(t('Entering a to-do list'));\n            }\n            lastFocusedCodeBlock = focusParent;\n        });\n    }\n}\n/**\n * Returns an upcast converter for to-do list items.\n */\nfunction todoListItemUpcastConverter() {\n    return (evt, data, conversionApi) => {\n        const { writer, schema } = conversionApi;\n        if (!data.modelRange) {\n            return;\n        }\n        // Group to-do list items by their listItemId attribute to ensure that all items of the same list item have the same checked state.\n        const groupedItems = Array\n            .from(data.modelRange.getItems({ shallow: true }))\n            .filter((item) => item.getAttribute('listType') === 'todo' && schema.checkAttribute(item, 'listItemId'))\n            .reduce((acc, item) => {\n            const listItemId = item.getAttribute('listItemId');\n            if (!acc.has(listItemId)) {\n                acc.set(listItemId, getAllListItemBlocks(item));\n            }\n            return acc;\n        }, new Map());\n        // During the upcast, we need to ensure that all items of the same list have the same checked state. From time to time\n        // the checked state of the items can be different when the user pastes content from the clipboard with <input type=\"checkbox\">\n        // that has checked state set to true. In such cases, we need to ensure that all items of the same list have the same checked state.\n        // See more: https://github.com/ckeditor/ckeditor5/issues/15602\n        for (const [, items] of groupedItems.entries()) {\n            if (items.some(item => item.getAttribute('todoListChecked'))) {\n                for (const item of items) {\n                    writer.setAttribute('todoListChecked', true, item);\n                }\n            }\n        }\n    };\n}\n/**\n * Returns an upcast converter that detects a to-do list checkbox and marks the list item as a to-do list.\n */\nfunction todoItemInputConverter() {\n    return (evt, data, conversionApi) => {\n        const modelCursor = data.modelCursor;\n        const modelItem = modelCursor.parent;\n        const viewItem = data.viewItem;\n        if (!conversionApi.consumable.test(viewItem, { name: true })) {\n            return;\n        }\n        if (viewItem.getAttribute('type') != 'checkbox' || !modelCursor.isAtStart || !modelItem.hasAttribute('listType')) {\n            return;\n        }\n        conversionApi.consumable.consume(viewItem, { name: true });\n        const writer = conversionApi.writer;\n        writer.setAttribute('listType', 'todo', modelItem);\n        if (data.viewItem.hasAttribute('checked')) {\n            writer.setAttribute('todoListChecked', true, modelItem);\n        }\n        data.modelRange = writer.createRange(modelCursor);\n    };\n}\n/**\n * Returns an upcast converter that consumes element matching the given matcher pattern.\n */\nfunction elementUpcastConsumingConverter(matcherPattern) {\n    const matcher = new Matcher(matcherPattern);\n    return (evt, data, conversionApi) => {\n        const matcherResult = matcher.match(data.viewItem);\n        if (!matcherResult) {\n            return;\n        }\n        if (!conversionApi.consumable.consume(data.viewItem, matcherResult.match)) {\n            return;\n        }\n        Object.assign(data, conversionApi.convertChildren(data.viewItem, data.modelCursor));\n    };\n}\n/**\n * Returns an upcast converter that consumes attributes matching the given matcher pattern.\n */\nfunction attributeUpcastConsumingConverter(matcherPattern) {\n    const matcher = new Matcher(matcherPattern);\n    return (evt, data, conversionApi) => {\n        const matcherResult = matcher.match(data.viewItem);\n        if (!matcherResult) {\n            return;\n        }\n        const match = matcherResult.match;\n        match.name = false;\n        conversionApi.consumable.consume(data.viewItem, match);\n    };\n}\n/**\n * Returns true if the given list item block should be converted as a description block of a to-do list item.\n */\nfunction isDescriptionBlock(modelElement, listAttributeNames) {\n    return (modelElement.is('element', 'paragraph') || modelElement.is('element', 'listItem')) &&\n        modelElement.getAttribute('listType') == 'todo' &&\n        isFirstBlockOfListItem(modelElement) &&\n        hasOnlyListAttributes(modelElement, listAttributeNames);\n}\n/**\n * Returns true if only attributes from the given list are present on the model element.\n */\nfunction hasOnlyListAttributes(modelElement, attributeNames) {\n    for (const attributeKey of modelElement.getAttributeKeys()) {\n        // Ignore selection attributes stored on block elements.\n        if (attributeKey.startsWith('selection:')) {\n            continue;\n        }\n        if (!attributeNames.includes(attributeKey)) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * Jump at the start and end of a to-do list item.\n */\nfunction jumpOverCheckmarkOnSideArrowKeyPress(model, locale) {\n    return (eventInfo, domEventData) => {\n        const direction = getLocalizedArrowKeyCodeDirection(domEventData.keyCode, locale.contentLanguageDirection);\n        const schema = model.schema;\n        const selection = model.document.selection;\n        if (!selection.isCollapsed) {\n            return;\n        }\n        const position = selection.getFirstPosition();\n        const parent = position.parent;\n        // Right arrow before a to-do list item.\n        if (direction == 'right' && position.isAtEnd) {\n            const newRange = schema.getNearestSelectionRange(model.createPositionAfter(parent), 'forward');\n            if (!newRange) {\n                return;\n            }\n            const newRangeParent = newRange.start.parent;\n            if (newRangeParent && isListItemBlock(newRangeParent) && newRangeParent.getAttribute('listType') == 'todo') {\n                model.change(writer => writer.setSelection(newRange));\n                domEventData.preventDefault();\n                domEventData.stopPropagation();\n                eventInfo.stop();\n            }\n        }\n        // Left arrow at the beginning of a to-do list item.\n        else if (direction == 'left' && position.isAtStart && isListItemBlock(parent) && parent.getAttribute('listType') == 'todo') {\n            const newRange = schema.getNearestSelectionRange(model.createPositionBefore(parent), 'backward');\n            if (!newRange) {\n                return;\n            }\n            model.change(writer => writer.setSelection(newRange));\n            domEventData.preventDefault();\n            domEventData.stopPropagation();\n            eventInfo.stop();\n        }\n    };\n}\n/**\n * Returns true if the given element is a label element of a to-do list item.\n */\nfunction isLabelElement(viewElement) {\n    return !!viewElement && viewElement.is('attributeElement') && viewElement.hasClass('todo-list__label');\n}\n/**\n * Returns true if the given element is a list item model element of a to-do list.\n */\nfunction isTodoListItemElement(element) {\n    if (!element) {\n        return false;\n    }\n    if (!element.is('element', 'paragraph') && !element.is('element', 'listItem')) {\n        return false;\n    }\n    return element.getAttribute('listType') == 'todo';\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module list/todolist/todolistui\n */\nimport { createUIComponents } from '../list/utils.js';\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { IconTodoList } from 'ckeditor5/src/icons.js';\n/**\n * The to-do list UI feature. It introduces the `'todoList'` button that\n * allows to convert elements to and from to-do list items and to indent or outdent them.\n */\nexport default class TodoListUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TodoListUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const t = this.editor.t;\n        createUIComponents(this.editor, 'todoList', t('To-do List'), IconTodoList);\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./todolist.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module list/todolist\n */\nimport TodoListEditing from './todolist/todolistediting.js';\nimport TodoListUI from './todolist/todolistui.js';\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport '../theme/todolist.css';\n/**\n * The to-do list feature.\n *\n * This is a \"glue\" plugin that loads the {@link module:list/todolist/todolistediting~TodoListEditing to-do list\n * editing feature} and the {@link module:list/todolist/todolistui~TodoListUI to-do list UI feature}.\n */\nexport default class TodoList extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [TodoListEditing, TodoListUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TodoList';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * Returns a function that converts the model \"url\" attribute to the view representation.\n *\n * Depending on the configuration, the view representation can be \"semantic\" (for the data pipeline):\n *\n * ```html\n * <figure class=\"media\">\n * \t<oembed url=\"foo\"></oembed>\n * </figure>\n * ```\n *\n * or \"non-semantic\" (for the editing view pipeline):\n *\n * ```html\n * <figure class=\"media\">\n * \t<div data-oembed-url=\"foo\">[ non-semantic media preview for \"foo\" ]</div>\n * </figure>\n * ```\n *\n * **Note:** Changing the model \"url\" attribute replaces the entire content of the\n * `<figure>` in the view.\n *\n * @param registry The registry providing\n * the media and their content.\n * @param options options object with following properties:\n * - elementName When set, overrides the default element name for semantic media embeds.\n * - renderMediaPreview When `true`, the converter will create the view in the non-semantic form.\n * - renderForEditingView When `true`, the converter will create a view specific for the\n * editing pipeline (e.g. including CSS classes, content placeholders).\n */\nexport function modelToViewUrlAttributeConverter(registry, options) {\n    const converter = (evt, data, conversionApi) => {\n        if (!conversionApi.consumable.consume(data.item, evt.name)) {\n            return;\n        }\n        const url = data.attributeNewValue;\n        const viewWriter = conversionApi.writer;\n        const figure = conversionApi.mapper.toViewElement(data.item);\n        const mediaContentElement = [...figure.getChildren()]\n            .find(child => child.getCustomProperty('media-content'));\n        // TODO: removing the wrapper and creating it from scratch is a hack. We can do better than that.\n        viewWriter.remove(mediaContentElement);\n        const mediaViewElement = registry.getMediaViewElement(viewWriter, url, options);\n        viewWriter.insert(viewWriter.createPositionAt(figure, 0), mediaViewElement);\n    };\n    return dispatcher => {\n        dispatcher.on('attribute:url:media', converter);\n    };\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { isWidget, toWidget } from 'ckeditor5/src/widget.js';\n/**\n * Converts a given {@link module:engine/view/element~Element} to a media embed widget:\n * * Adds a {@link module:engine/view/element~Element#_setCustomProperty custom property} allowing to recognize the media widget element.\n * * Calls the {@link module:widget/utils~toWidget} function with the proper element's label creator.\n *\n * @param writer An instance of the view writer.\n * @param label The element's label.\n */\nexport function toMediaWidget(viewElement, writer, label) {\n    writer.setCustomProperty('media', true, viewElement);\n    return toWidget(viewElement, writer, { label });\n}\n/**\n * Returns a media widget editing view element if one is selected.\n */\nexport function getSelectedMediaViewWidget(selection) {\n    const viewElement = selection.getSelectedElement();\n    if (viewElement && isMediaWidget(viewElement)) {\n        return viewElement;\n    }\n    return null;\n}\n/**\n * Checks if a given view element is a media widget.\n */\nexport function isMediaWidget(viewElement) {\n    return !!viewElement.getCustomProperty('media') && isWidget(viewElement);\n}\n/**\n * Creates a view element representing the media. Either a \"semantic\" one for the data pipeline:\n *\n * ```html\n * <figure class=\"media\">\n * \t<oembed url=\"foo\"></oembed>\n * </figure>\n * ```\n *\n * or a \"non-semantic\" (for the editing view pipeline):\n *\n * ```html\n * <figure class=\"media\">\n * \t<div data-oembed-url=\"foo\">[ non-semantic media preview for \"foo\" ]</div>\n * </figure>\n * ```\n */\nexport function createMediaFigureElement(writer, registry, url, options) {\n    return writer.createContainerElement('figure', { class: 'media' }, [\n        registry.getMediaViewElement(writer, url, options),\n        writer.createSlot()\n    ]);\n}\n/**\n * Returns a selected media element in the model, if any.\n */\nexport function getSelectedMediaModelWidget(selection) {\n    const selectedElement = selection.getSelectedElement();\n    if (selectedElement && selectedElement.is('element', 'media')) {\n        return selectedElement;\n    }\n    return null;\n}\n/**\n * Creates a media element and inserts it into the model.\n *\n * **Note**: This method will use {@link module:engine/model/model~Model#insertContent `model.insertContent()`} logic of inserting content\n * if no `insertPosition` is passed.\n *\n * @param url An URL of an embeddable media.\n * @param findOptimalPosition If true it will try to find optimal position to insert media without breaking content\n * in which a selection is.\n */\nexport function insertMedia(model, url, selectable, findOptimalPosition) {\n    model.change(writer => {\n        const mediaElement = writer.createElement('media', { url });\n        model.insertObject(mediaElement, selectable, null, {\n            setSelection: 'on',\n            findOptimalPosition: findOptimalPosition ? 'auto' : undefined\n        });\n    });\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { first } from 'ckeditor5/src/utils.js';\n/**\n * The list command. It is used by the {@link module:list/legacylist~LegacyList legacy list feature}.\n */\nexport default class LegacyListCommand extends Command {\n    /**\n     * The type of the list created by the command.\n     */\n    type;\n    /**\n     * Creates an instance of the command.\n     *\n     * @param editor The editor instance.\n     * @param type List type that will be handled by this command.\n     */\n    constructor(editor, type) {\n        super(editor);\n        this.type = type;\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        this.value = this._getValue();\n        this.isEnabled = this._checkEnabled();\n    }\n    /**\n     * Executes the list command.\n     *\n     * @fires execute\n     * @param options Command options.\n     * @param options.forceValue If set, it will force the command behavior. If `true`, the command will try to convert the\n     * selected items and potentially the neighbor elements to the proper list items. If set to `false`, it will convert selected elements\n     * to paragraphs. If not set, the command will toggle selected elements to list items or paragraphs, depending on the selection.\n     */\n    execute(options = {}) {\n        const model = this.editor.model;\n        const document = model.document;\n        const blocks = Array.from(document.selection.getSelectedBlocks())\n            .filter(block => checkCanBecomeListItem(block, model.schema));\n        // Whether we are turning off some items.\n        const turnOff = options.forceValue !== undefined ? !options.forceValue : this.value;\n        // If we are turning off items, we are going to rename them to paragraphs.\n        model.change(writer => {\n            // If part of a list got turned off, we need to handle (outdent) all of sub-items of the last turned-off item.\n            // To be sure that model is all the time in a good state, we first fix items below turned-off item.\n            if (turnOff) {\n                // Start from the model item that is just after the last turned-off item.\n                let next = blocks[blocks.length - 1].nextSibling;\n                let currentIndent = Number.POSITIVE_INFINITY;\n                let changes = [];\n                // Correct indent of all items after the last turned off item.\n                // Rules that should be followed:\n                // 1. All direct sub-items of turned-off item should become indent 0, because the first item after it\n                //    will be the first item of a new list. Other items are at the same level, so should have same 0 index.\n                // 2. All items with indent lower than indent of turned-off item should become indent 0, because they\n                //    should not end up as a child of any of list items that they were not children of before.\n                // 3. All other items should have their indent changed relatively to it's parent.\n                //\n                // For example:\n                // 1  * --------\n                // 2     * --------\n                // 3        * --------\t\t\t<-- this is turned off.\n                // 4           * --------\t\t<-- this has to become indent = 0, because it will be first item on a new list.\n                // 5              * --------\t<-- this should be still be a child of item above, so indent = 1.\n                // 6        * --------\t\t\t<-- this has to become indent = 0, because it should not be a child of any of items above.\n                // 7           * --------\t\t<-- this should be still be a child of item above, so indent = 1.\n                // 8     * --------\t\t\t\t<-- this has to become indent = 0.\n                // 9        * --------\t\t\t<-- this should still be a child of item above, so indent = 1.\n                // 10          * --------\t\t<-- this should still be a child of item above, so indent = 2.\n                // 11          * --------\t\t<-- this should still be at the same level as item above, so indent = 2.\n                // 12 * --------\t\t\t\t<-- this and all below are left unchanged.\n                // 13    * --------\n                // 14       * --------\n                //\n                // After turning off 3 the list becomes:\n                //\n                // 1  * --------\n                // 2     * --------\n                //\n                // 3  --------\n                //\n                // 4  * --------\n                // 5     * --------\n                // 6  * --------\n                // 7     * --------\n                // 8  * --------\n                // 9     * --------\n                // 10       * --------\n                // 11       * --------\n                // 12 * --------\n                // 13    * --------\n                // 14       * --------\n                //\n                // Thanks to this algorithm no lists are mismatched and no items get unexpected children/parent, while\n                // those parent-child connection which are possible to maintain are still maintained. It's worth noting\n                // that this is the same effect that we would be get by multiple use of outdent command. However doing\n                // it like this is much more efficient because it's less operation (less memory usage, easier OT) and\n                // less conversion (faster).\n                while (next && next.name == 'listItem' && next.getAttribute('listIndent') !== 0) {\n                    // Check each next list item, as long as its indent is bigger than 0.\n                    // If the indent is 0 we are not going to change anything anyway.\n                    const indent = next.getAttribute('listIndent');\n                    // We check if that's item indent is lower as current relative indent.\n                    if (indent < currentIndent) {\n                        // If it is, current relative indent becomes that indent.\n                        currentIndent = indent;\n                    }\n                    // Fix indent relatively to current relative indent.\n                    // Note, that if we just changed the current relative indent, the newIndent will be equal to 0.\n                    const newIndent = indent - currentIndent;\n                    // Save the entry in changes array. We do not apply it at the moment, because we will need to\n                    // reverse the changes so the last item is changed first.\n                    // This is to keep model in correct state all the time.\n                    changes.push({ element: next, listIndent: newIndent });\n                    // Find next item.\n                    next = next.nextSibling;\n                }\n                changes = changes.reverse();\n                for (const item of changes) {\n                    writer.setAttribute('listIndent', item.listIndent, item.element);\n                }\n            }\n            // If we are turning on, we might change some items that are already `listItem`s but with different type.\n            // Changing one nested list item to other type should also trigger changing all its siblings so the\n            // whole nested list is of the same type.\n            // Example (assume changing to numbered list):\n            // * ------\t\t\t\t<-- do not fix, top level item\n            //   * ------\t\t\t<-- fix, because latter list item of this item's list is changed\n            //      * ------\t\t<-- do not fix, item is not affected (different list)\n            //   * ------\t\t\t<-- fix, because latter list item of this item's list is changed\n            //      * ------\t\t<-- fix, because latter list item of this item's list is changed\n            //      * ---[--\t\t<-- already in selection\n            //   * ------\t\t\t<-- already in selection\n            //   * ------\t\t\t<-- already in selection\n            // * ------\t\t\t\t<-- already in selection, but does not cause other list items to change because is top-level\n            //   * ---]--\t\t\t<-- already in selection\n            //   * ------\t\t\t<-- fix, because preceding list item of this item's list is changed\n            //      * ------\t\t<-- do not fix, item is not affected (different list)\n            // * ------\t\t\t\t<-- do not fix, top level item\n            if (!turnOff) {\n                // Find lowest indent among selected items. This will be indicator what is the indent of\n                // top-most list affected by the command.\n                let lowestIndent = Number.POSITIVE_INFINITY;\n                for (const item of blocks) {\n                    if (item.is('element', 'listItem') && item.getAttribute('listIndent') < lowestIndent) {\n                        lowestIndent = item.getAttribute('listIndent');\n                    }\n                }\n                // Do not execute the fix for top-level lists.\n                lowestIndent = lowestIndent === 0 ? 1 : lowestIndent;\n                // Fix types of list items that are \"before\" the selected blocks.\n                _fixType(blocks, true, lowestIndent);\n                // Fix types of list items that are \"after\" the selected blocks.\n                _fixType(blocks, false, lowestIndent);\n            }\n            // Phew! Now it will be easier :).\n            // For each block element that was in the selection, we will either: turn it to list item,\n            // turn it to paragraph, or change it's type. Or leave it as it is.\n            // Do it in reverse as there might be multiple blocks (same as with changing indents).\n            for (const element of blocks.reverse()) {\n                if (turnOff && element.name == 'listItem') {\n                    // We are turning off and the element is a `listItem` - it should be converted to `paragraph`.\n                    // List item specific attributes are removed by post fixer.\n                    writer.rename(element, 'paragraph');\n                }\n                else if (!turnOff && element.name != 'listItem') {\n                    // We are turning on and the element is not a `listItem` - it should be converted to `listItem`.\n                    // The order of operations is important to keep model in correct state.\n                    writer.setAttributes({ listType: this.type, listIndent: 0 }, element);\n                    writer.rename(element, 'listItem');\n                }\n                else if (!turnOff && element.name == 'listItem' && element.getAttribute('listType') != this.type) {\n                    // We are turning on and the element is a `listItem` but has different type - change it's type and\n                    // type of it's all siblings that have same indent.\n                    writer.setAttribute('listType', this.type, element);\n                }\n            }\n            /**\n             * Event fired by the {@link #execute} method.\n             *\n             * It allows to execute an action after executing the {@link ~ListCommand#execute} method, for example adjusting\n             * attributes of changed blocks.\n             *\n             * @protected\n             * @event _executeCleanup\n             */\n            this.fire('_executeCleanup', blocks);\n        });\n    }\n    /**\n     * Checks the command's {@link #value}.\n     *\n     * @returns The current value.\n     */\n    _getValue() {\n        // Check whether closest `listItem` ancestor of the position has a correct type.\n        const listItem = first(this.editor.model.document.selection.getSelectedBlocks());\n        return !!listItem && listItem.is('element', 'listItem') && listItem.getAttribute('listType') == this.type;\n    }\n    /**\n     * Checks whether the command can be enabled in the current context.\n     *\n     * @returns Whether the command should be enabled.\n     */\n    _checkEnabled() {\n        // If command value is true it means that we are in list item, so the command should be enabled.\n        if (this.value) {\n            return true;\n        }\n        const selection = this.editor.model.document.selection;\n        const schema = this.editor.model.schema;\n        const firstBlock = first(selection.getSelectedBlocks());\n        if (!firstBlock) {\n            return false;\n        }\n        // Otherwise, check if list item can be inserted at the position start.\n        return checkCanBecomeListItem(firstBlock, schema);\n    }\n}\n/**\n * Helper function used when one or more list item have their type changed. Fixes type of other list items\n * that are affected by the change (are in same lists) but are not directly in selection. The function got extracted\n * not to duplicated code, as same fix has to be performed before and after selection.\n *\n * @param blocks Blocks that are in selection.\n * @param isBackward Specified whether fix will be applied for blocks before first selected block (`true`)\n * or blocks after last selected block (`false`).\n * @param lowestIndent Lowest indent among selected blocks.\n */\nfunction _fixType(blocks, isBackward, lowestIndent) {\n    // We need to check previous sibling of first changed item and next siblings of last changed item.\n    const startingItem = isBackward ? blocks[0] : blocks[blocks.length - 1];\n    if (startingItem.is('element', 'listItem')) {\n        let item = startingItem[isBackward ? 'previousSibling' : 'nextSibling'];\n        // During processing items, keeps the lowest indent of already processed items.\n        // This saves us from changing too many items.\n        // Following example is for going forward as it is easier to read, however same applies to going backward.\n        // * ------\n        //   * ------\n        //     * --[---\n        //   * ------\t\t<-- `lowestIndent` should be 1\n        //     * --]---\t\t<-- `startingItem`, `currentIndent` = 2, `lowestIndent` == 1\n        //     * ------\t\t<-- should be fixed, `indent` == 2 == `currentIndent`\n        //   * ------\t\t<-- should be fixed, set `currentIndent` to 1, `indent` == 1 == `currentIndent`\n        //     * ------\t\t<-- should not be fixed, item is in different list, `indent` = 2, `indent` != `currentIndent`\n        //   * ------\t\t<-- should be fixed, `indent` == 1 == `currentIndent`\n        // * ------\t\t\t<-- break loop (`indent` < `lowestIndent`)\n        let currentIndent = startingItem.getAttribute('listIndent');\n        // Look back until a list item with indent lower than reference `lowestIndent`.\n        // That would be the parent of nested sublist which contains item having `lowestIndent`.\n        while (item && item.is('element', 'listItem') && item.getAttribute('listIndent') >= lowestIndent) {\n            if (currentIndent > item.getAttribute('listIndent')) {\n                currentIndent = item.getAttribute('listIndent');\n            }\n            // Found an item that is in the same nested sublist.\n            if (item.getAttribute('listIndent') == currentIndent) {\n                // Just add the item to selected blocks like it was selected by the user.\n                blocks[isBackward ? 'unshift' : 'push'](item);\n            }\n            item = item[isBackward ? 'previousSibling' : 'nextSibling'];\n        }\n    }\n}\n/**\n * Checks whether the given block can be replaced by a listItem.\n *\n * @param block A block to be tested.\n * @param schema The schema of the document.\n */\nfunction checkCanBecomeListItem(block, schema) {\n    return schema.checkChild(block.parent, 'listItem') && !schema.isObject(block);\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { first } from 'ckeditor5/src/utils.js';\n/**\n * The list indent command. It is used by the {@link module:list/legacylist~LegacyList legacy list feature}.\n */\nexport default class LegacyIndentCommand extends Command {\n    /**\n     * Determines by how much the command will change the list item's indent attribute.\n     */\n    _indentBy;\n    /**\n     * Creates an instance of the command.\n     *\n     * @param editor The editor instance.\n     * @param indentDirection The direction of indent. If it is equal to `backward`, the command will outdent a list item.\n     */\n    constructor(editor, indentDirection) {\n        super(editor);\n        this._indentBy = indentDirection == 'forward' ? 1 : -1;\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        this.isEnabled = this._checkEnabled();\n    }\n    /**\n     * Indents or outdents (depending on the {@link #constructor}'s `indentDirection` parameter) selected list items.\n     *\n     * @fires execute\n     */\n    execute() {\n        const model = this.editor.model;\n        const doc = model.document;\n        let itemsToChange = Array.from(doc.selection.getSelectedBlocks());\n        model.change(writer => {\n            const lastItem = itemsToChange[itemsToChange.length - 1];\n            // Indenting a list item should also indent all the items that are already sub-items of indented item.\n            let next = lastItem.nextSibling;\n            // Check all items after last indented item, as long as their indent is bigger than indent of that item.\n            while (next && next.name == 'listItem' &&\n                next.getAttribute('listIndent') > lastItem.getAttribute('listIndent')) {\n                itemsToChange.push(next);\n                next = next.nextSibling;\n            }\n            // We need to be sure to keep model in correct state after each small change, because converters\n            // bases on that state and assumes that model is correct.\n            // Because of that, if the command outdents items, we will outdent them starting from the last item, as\n            // it is safer.\n            if (this._indentBy < 0) {\n                itemsToChange = itemsToChange.reverse();\n            }\n            for (const item of itemsToChange) {\n                const indent = item.getAttribute('listIndent') + this._indentBy;\n                // If indent is lower than 0, it means that the item got outdented when it was not indented.\n                // This means that we need to convert that list item to paragraph.\n                if (indent < 0) {\n                    // To keep the model as correct as possible, first rename listItem, then remove attributes,\n                    // as listItem without attributes is very incorrect and will cause problems in converters.\n                    // No need to remove attributes, will be removed by post fixer.\n                    writer.rename(item, 'paragraph');\n                }\n                // If indent is >= 0, change the attribute value.\n                else {\n                    writer.setAttribute('listIndent', indent, item);\n                }\n            }\n            // It allows to execute an action after executing the `~IndentCommand#execute` method, for example adjusting\n            // attributes of changed list items.\n            this.fire('_executeCleanup', itemsToChange);\n        });\n    }\n    /**\n     * Checks whether the command can be enabled in the current context.\n     *\n     * @returns Whether the command should be enabled.\n     */\n    _checkEnabled() {\n        // Check whether any of position's ancestor is a list item.\n        const listItem = first(this.editor.model.document.selection.getSelectedBlocks());\n        // If selection is not in a list item, the command is disabled.\n        if (!listItem || !listItem.is('element', 'listItem')) {\n            return false;\n        }\n        if (this._indentBy > 0) {\n            // Cannot indent first item in it's list. Check if before `listItem` is a list item that is in same list.\n            // To be in the same list, the item has to have same attributes and cannot be \"split\" by an item with lower indent.\n            const indent = listItem.getAttribute('listIndent');\n            const type = listItem.getAttribute('listType');\n            let prev = listItem.previousSibling;\n            while (prev && prev.is('element', 'listItem') && prev.getAttribute('listIndent') >= indent) {\n                if (prev.getAttribute('listIndent') == indent) {\n                    // The item is on the same level.\n                    // If it has same type, it means that we found a preceding sibling from the same list.\n                    // If it does not have same type, it means that `listItem` is on different list (this can happen only\n                    // on top level lists, though).\n                    return prev.getAttribute('listType') == type;\n                }\n                prev = prev.previousSibling;\n            }\n            // Could not find similar list item, this means that `listItem` is first in its list.\n            return false;\n        }\n        // If we are outdenting it is enough to be in list item. Every list item can always be outdented.\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { getListTypeFromListStyleType, getSelectedListItems, getSiblingNodes } from './legacyutils.js';\n/**\n * A set of helpers related to legacy lists.\n */\nexport default class LegacyListUtils extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'LegacyListUtils';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * Checks whether the given list-style-type is supported by numbered or bulleted list.\n     */\n    getListTypeFromListStyleType(listStyleType) {\n        return getListTypeFromListStyleType(listStyleType);\n    }\n    /**\n     * Returns an array with all `listItem` elements in the model selection.\n     *\n     * It returns all the items even if only a part of the list is selected, including items that belong to nested lists.\n     * If no list is selected, it returns an empty array.\n     * The order of the elements is not specified.\n     */\n    getSelectedListItems(model) {\n        return getSelectedListItems(model);\n    }\n    /**\n     * Returns an array with all `listItem` elements that represent the same list.\n     *\n     * It means that values of `listIndent`, `listType`, `listStyle`, `listReversed` and `listStart` for all items are equal.\n     *\n     * Additionally, if the `position` is inside a list item, that list item will be returned as well.\n     *\n     * @param position Starting position.\n     * @param direction Walking direction.\n     */\n    getSiblingNodes(position, direction) {\n        return getSiblingNodes(position, direction);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module list/legacylist/legacylistediting\n */\nimport LegacyListCommand from './legacylistcommand.js';\nimport LegacyIndentCommand from './legacyindentcommand.js';\nimport LegacyListUtils from './legacylistutils.js';\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Enter } from 'ckeditor5/src/enter.js';\nimport { Delete } from 'ckeditor5/src/typing.js';\nimport { cleanList, cleanListItem, modelViewInsertion, modelViewChangeType, modelViewMergeAfterChangeType, modelViewMergeAfter, modelViewRemove, modelViewSplitOnInsert, modelViewChangeIndent, modelChangePostFixer, modelIndentPasteFixer, viewModelConverter, modelToViewPosition, viewToModelPosition } from './legacyconverters.js';\nimport '../../theme/list.css';\n/**\n * The engine of the list feature. It handles creating, editing and removing lists and list items.\n *\n * It registers the `'numberedList'`, `'bulletedList'`, `'indentList'` and `'outdentList'` commands.\n */\nexport default class LegacyListEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'LegacyListEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [Enter, Delete, LegacyListUtils];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        // Schema.\n        // Note: in case `$block` will ever be allowed in `listItem`, keep in mind that this feature\n        // uses `Selection#getSelectedBlocks()` without any additional processing to obtain all selected list items.\n        // If there are blocks allowed inside list item, algorithms using `getSelectedBlocks()` will have to be modified.\n        editor.model.schema.register('listItem', {\n            inheritAllFrom: '$block',\n            allowAttributes: ['listType', 'listIndent']\n        });\n        // Converters.\n        const data = editor.data;\n        const editing = editor.editing;\n        editor.model.document.registerPostFixer(writer => modelChangePostFixer(editor.model, writer));\n        editing.mapper.registerViewToModelLength('li', getViewListItemLength);\n        data.mapper.registerViewToModelLength('li', getViewListItemLength);\n        editing.mapper.on('modelToViewPosition', modelToViewPosition(editing.view));\n        editing.mapper.on('viewToModelPosition', viewToModelPosition(editor.model));\n        data.mapper.on('modelToViewPosition', modelToViewPosition(editing.view));\n        editor.conversion.for('editingDowncast')\n            .add(dispatcher => {\n            dispatcher.on('insert', modelViewSplitOnInsert, { priority: 'high' });\n            dispatcher.on('insert:listItem', modelViewInsertion(editor.model));\n            dispatcher.on('attribute:listType:listItem', modelViewChangeType, { priority: 'high' });\n            dispatcher.on('attribute:listType:listItem', modelViewMergeAfterChangeType, { priority: 'low' });\n            dispatcher.on('attribute:listIndent:listItem', modelViewChangeIndent(editor.model));\n            dispatcher.on('remove:listItem', modelViewRemove(editor.model));\n            dispatcher.on('remove', modelViewMergeAfter, { priority: 'low' });\n        });\n        editor.conversion.for('dataDowncast')\n            .add(dispatcher => {\n            dispatcher.on('insert', modelViewSplitOnInsert, { priority: 'high' });\n            dispatcher.on('insert:listItem', modelViewInsertion(editor.model));\n        });\n        editor.conversion.for('upcast')\n            .add(dispatcher => {\n            dispatcher.on('element:ul', cleanList, { priority: 'high' });\n            dispatcher.on('element:ol', cleanList, { priority: 'high' });\n            dispatcher.on('element:li', cleanListItem, { priority: 'high' });\n            dispatcher.on('element:li', viewModelConverter);\n        });\n        // Fix indentation of pasted items.\n        editor.model.on('insertContent', modelIndentPasteFixer, { priority: 'high' });\n        // Register commands for numbered and bulleted list.\n        editor.commands.add('numberedList', new LegacyListCommand(editor, 'numbered'));\n        editor.commands.add('bulletedList', new LegacyListCommand(editor, 'bulleted'));\n        // Register commands for indenting.\n        editor.commands.add('indentList', new LegacyIndentCommand(editor, 'forward'));\n        editor.commands.add('outdentList', new LegacyIndentCommand(editor, 'backward'));\n        const viewDocument = editing.view.document;\n        // Overwrite default Enter key behavior.\n        // If Enter key is pressed with selection collapsed in empty list item, outdent it instead of breaking it.\n        this.listenTo(viewDocument, 'enter', (evt, data) => {\n            const doc = this.editor.model.document;\n            const positionParent = doc.selection.getLastPosition().parent;\n            if (doc.selection.isCollapsed && positionParent.name == 'listItem' && positionParent.isEmpty) {\n                this.editor.execute('outdentList');\n                data.preventDefault();\n                evt.stop();\n            }\n        }, { context: 'li' });\n        // Overwrite default Backspace key behavior.\n        // If Backspace key is pressed with selection collapsed on first position in first list item, outdent it. #83\n        this.listenTo(viewDocument, 'delete', (evt, data) => {\n            // Check conditions from those that require less computations like those immediately available.\n            if (data.direction !== 'backward') {\n                return;\n            }\n            const selection = this.editor.model.document.selection;\n            if (!selection.isCollapsed) {\n                return;\n            }\n            const firstPosition = selection.getFirstPosition();\n            if (!firstPosition.isAtStart) {\n                return;\n            }\n            const positionParent = firstPosition.parent;\n            if (positionParent.name !== 'listItem') {\n                return;\n            }\n            const previousIsAListItem = positionParent.previousSibling && positionParent.previousSibling.name === 'listItem';\n            if (previousIsAListItem) {\n                return;\n            }\n            this.editor.execute('outdentList');\n            data.preventDefault();\n            evt.stop();\n        }, { context: 'li' });\n        this.listenTo(editor.editing.view.document, 'tab', (evt, data) => {\n            const commandName = data.shiftKey ? 'outdentList' : 'indentList';\n            const command = this.editor.commands.get(commandName);\n            if (command.isEnabled) {\n                editor.execute(commandName);\n                data.stopPropagation();\n                data.preventDefault();\n                evt.stop();\n            }\n        }, { context: 'li' });\n    }\n    /**\n     * @inheritDoc\n     */\n    afterInit() {\n        const commands = this.editor.commands;\n        const indent = commands.get('indent');\n        const outdent = commands.get('outdent');\n        if (indent) {\n            indent.registerChildCommand(commands.get('indentList'));\n        }\n        if (outdent) {\n            outdent.registerChildCommand(commands.get('outdentList'));\n        }\n    }\n}\nfunction getViewListItemLength(element) {\n    let length = 1;\n    for (const child of element.getChildren()) {\n        if (child.name == 'ul' || child.name == 'ol') {\n            for (const item of child.getChildren()) {\n                length += getViewListItemLength(item);\n            }\n        }\n    }\n    return length;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module list/legacylistproperties/legacyliststylecommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { getListTypeFromListStyleType, getSelectedListItems } from '../legacylist/legacyutils.js';\n/**\n * The list style command. It changes the `listStyle` attribute of the selected list items.\n *\n * If the list type (numbered or bulleted) can be inferred from the passed style type,\n * the command tries to convert selected items to a list of that type.\n * It is used by the {@link module:list/legacylistproperties~LegacyListProperties legacy list properties feature}.\n */\nexport default class LegacyListStyleCommand extends Command {\n    /**\n     * The default type of the list style.\n     */\n    defaultType;\n    /**\n     * Creates an instance of the command.\n     *\n     * @param editor The editor instance.\n     * @param defaultType The list type that will be used by default if the value was not specified during\n     * the command execution.\n     */\n    constructor(editor, defaultType) {\n        super(editor);\n        this.defaultType = defaultType;\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        this.value = this._getValue();\n        this.isEnabled = this._checkEnabled();\n    }\n    /**\n     * Executes the command.\n     *\n     * @fires execute\n     * @param options.type The type of the list style, e.g. `'disc'` or `'square'`. If `null` is specified, the default\n     * style will be applied.\n     */\n    execute(options = {}) {\n        this._tryToConvertItemsToList(options);\n        const model = this.editor.model;\n        const listItems = getSelectedListItems(model);\n        if (!listItems.length) {\n            return;\n        }\n        model.change(writer => {\n            for (const item of listItems) {\n                writer.setAttribute('listStyle', options.type || this.defaultType, item);\n            }\n        });\n    }\n    /**\n     * Checks the command's {@link #value}.\n     *\n     * @returns The current value.\n     */\n    _getValue() {\n        const listItem = this.editor.model.document.selection.getFirstPosition().parent;\n        if (listItem && listItem.is('element', 'listItem')) {\n            return listItem.getAttribute('listStyle');\n        }\n        return null;\n    }\n    /**\n     * Checks whether the command can be enabled in the current context.\n     *\n     * @returns Whether the command should be enabled.\n     */\n    _checkEnabled() {\n        const editor = this.editor;\n        const numberedList = editor.commands.get('numberedList');\n        const bulletedList = editor.commands.get('bulletedList');\n        return numberedList.isEnabled || bulletedList.isEnabled;\n    }\n    /**\n     * Checks if the provided list style is valid. Also changes the selection to a list if it's not set yet.\n     *\n     * @param The type of the list style. If `null` is specified, the function does nothing.\n    */\n    _tryToConvertItemsToList(options) {\n        if (!options.type) {\n            return;\n        }\n        const listType = getListTypeFromListStyleType(options.type);\n        /* istanbul ignore next -- @preserve */\n        if (!listType) {\n            return;\n        }\n        const editor = this.editor;\n        const commandName = `${listType}List`;\n        const command = editor.commands.get(commandName);\n        if (!command.value) {\n            editor.execute(commandName);\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module list/legacylistproperties/legacylistreversedcommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { getSelectedListItems } from '../legacylist/legacyutils.js';\n/**\n * The reversed list command. It changes the `listReversed` attribute of the selected list items. As a result, the list order will be\n * reversed.\n * It is used by the {@link module:list/legacylistproperties~LegacyListProperties legacy list properties feature}.\n */\nexport default class LegacyListReversedCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const value = this._getValue();\n        this.value = value;\n        this.isEnabled = value != null;\n    }\n    /**\n     * Executes the command.\n     *\n     * @fires execute\n     * @param options.reversed Whether the list should be reversed.\n     */\n    execute(options = {}) {\n        const model = this.editor.model;\n        const listItems = getSelectedListItems(model)\n            .filter(item => item.getAttribute('listType') == 'numbered');\n        model.change(writer => {\n            for (const item of listItems) {\n                writer.setAttribute('listReversed', !!options.reversed, item);\n            }\n        });\n    }\n    /**\n     * Checks the command's {@link #value}.\n     *\n     * @returns The current value.\n     */\n    _getValue() {\n        const listItem = this.editor.model.document.selection.getFirstPosition().parent;\n        if (listItem && listItem.is('element', 'listItem') && listItem.getAttribute('listType') == 'numbered') {\n            return listItem.getAttribute('listReversed');\n        }\n        return null;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module list/legacylistproperties/legacyliststartcommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { getSelectedListItems } from '../legacylist/legacyutils.js';\n/**\n * The list start index command. It changes the `listStart` attribute of the selected list items.\n * It is used by the {@link module:list/legacylistproperties~LegacyListProperties legacy list properties feature}.\n */\nexport default class LegacyListStartCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const value = this._getValue();\n        this.value = value;\n        this.isEnabled = value != null;\n    }\n    /**\n     * Executes the command.\n     *\n     * @fires execute\n     * @param options.startIndex The list start index.\n     */\n    execute({ startIndex = 1 } = {}) {\n        const model = this.editor.model;\n        const listItems = getSelectedListItems(model)\n            .filter(item => item.getAttribute('listType') == 'numbered');\n        model.change(writer => {\n            for (const item of listItems) {\n                writer.setAttribute('listStart', startIndex >= 0 ? startIndex : 1, item);\n            }\n        });\n    }\n    /**\n     * Checks the command's {@link #value}.\n     *\n     * @returns The current value.\n     */\n    _getValue() {\n        const listItem = this.editor.model.document.selection.getFirstPosition().parent;\n        if (listItem && listItem.is('element', 'listItem') && listItem.getAttribute('listType') == 'numbered') {\n            return listItem.getAttribute('listStart');\n        }\n        return null;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module list/legacylistproperties/legacylistpropertiesediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport LegacyListEditing from '../legacylist/legacylistediting.js';\nimport LegacyListStyleCommand from './legacyliststylecommand.js';\nimport LegacyListReversedCommand from './legacylistreversedcommand.js';\nimport LegacyListStartCommand from './legacyliststartcommand.js';\nimport { getSiblingListItem, getSiblingNodes } from '../legacylist/legacyutils.js';\nimport { normalizeListStyle } from '../listproperties/utils/style.js';\nconst DEFAULT_LIST_TYPE = 'default';\n/**\n * The engine of the list properties feature.\n *\n * It sets the value for the `listItem` attribute of the {@link module:list/legacylist~LegacyList `<listItem>`} element that\n * allows modifying the list style type.\n *\n * It registers the `'listStyle'`, `'listReversed'` and `'listStart'` commands if they are enabled in the configuration.\n * Read more in {@link module:list/listconfig~ListPropertiesConfig}.\n */\nexport default class LegacyListPropertiesEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [LegacyListEditing];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'LegacyListPropertiesEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        editor.config.define('list', {\n            properties: {\n                styles: true,\n                startIndex: false,\n                reversed: false\n            }\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const model = editor.model;\n        const enabledProperties = editor.config.get('list.properties');\n        const strategies = createAttributeStrategies(enabledProperties);\n        // Extend schema.\n        model.schema.extend('listItem', {\n            allowAttributes: strategies.map(s => s.attributeName)\n        });\n        for (const strategy of strategies) {\n            strategy.addCommand(editor);\n        }\n        // Fix list attributes when modifying their nesting levels (the `listIndent` attribute).\n        this.listenTo(editor.commands.get('indentList'), '_executeCleanup', fixListAfterIndentListCommand(editor, strategies));\n        this.listenTo(editor.commands.get('outdentList'), '_executeCleanup', fixListAfterOutdentListCommand(editor, strategies));\n        this.listenTo(editor.commands.get('bulletedList'), '_executeCleanup', restoreDefaultListStyle(editor));\n        this.listenTo(editor.commands.get('numberedList'), '_executeCleanup', restoreDefaultListStyle(editor));\n        // Register a post-fixer that ensures that the attributes is specified in each `listItem` element.\n        model.document.registerPostFixer(fixListAttributesOnListItemElements(editor, strategies));\n        // Set up conversion.\n        editor.conversion.for('upcast').add(upcastListItemAttributes(strategies));\n        editor.conversion.for('downcast').add(downcastListItemAttributes(strategies));\n        // Handle merging two separated lists into the single one.\n        this._mergeListAttributesWhileMergingLists(strategies);\n    }\n    /**\n     * @inheritDoc\n     */\n    afterInit() {\n        const editor = this.editor;\n        // Enable post-fixer that removes the attributes from to-do list items only if the \"TodoList\" plugin is on.\n        // We need to registry the hook here since the `TodoList` plugin can be added after the `ListPropertiesEditing`.\n        if (editor.commands.get('todoList')) {\n            editor.model.document.registerPostFixer(removeListItemAttributesFromTodoList(editor));\n        }\n    }\n    /**\n     * Starts listening to {@link module:engine/model/model~Model#deleteContent} and checks whether two lists will be merged into a single\n     * one after deleting the content.\n     *\n     * The purpose of this action is to adjust the `listStyle`, `listReversed` and `listStart` values\n     * for the list that was merged.\n     *\n     * Consider the following model's content:\n     *\n     * ```xml\n     * <listItem listIndent=\"0\" listType=\"bulleted\" listStyle=\"square\">UL List item 1</listItem>\n     * <listItem listIndent=\"0\" listType=\"bulleted\" listStyle=\"square\">UL List item 2</listItem>\n     * <paragraph>[A paragraph.]</paragraph>\n     * <listItem listIndent=\"0\" listType=\"bulleted\" listStyle=\"circle\">UL List item 1</listItem>\n     * <listItem listIndent=\"0\" listType=\"bulleted\" listStyle=\"circle\">UL List item 2</listItem>\n     * ```\n     *\n     * After removing the paragraph element, the second list will be merged into the first one.\n     * We want to inherit the `listStyle` attribute for the second list from the first one.\n     *\n     * ```xml\n     * <listItem listIndent=\"0\" listType=\"bulleted\" listStyle=\"square\">UL List item 1</listItem>\n     * <listItem listIndent=\"0\" listType=\"bulleted\" listStyle=\"square\">UL List item 2</listItem>\n     * <listItem listIndent=\"0\" listType=\"bulleted\" listStyle=\"square\">UL List item 1</listItem>\n     * <listItem listIndent=\"0\" listType=\"bulleted\" listStyle=\"square\">UL List item 2</listItem>\n     * ```\n     *\n     * See https://github.com/ckeditor/ckeditor5/issues/7879.\n     *\n     * @param attributeStrategies Strategies for the enabled attributes.\n     */\n    _mergeListAttributesWhileMergingLists(attributeStrategies) {\n        const editor = this.editor;\n        const model = editor.model;\n        // First the outer-most`listItem` in the first list reference.\n        // If found, the lists should be merged and this `listItem` provides the attributes\n        // and it is also a starting point when searching for items in the second list.\n        let firstMostOuterItem;\n        // Check whether the removed content is between two lists.\n        this.listenTo(model, 'deleteContent', (evt, [selection]) => {\n            const firstPosition = selection.getFirstPosition();\n            const lastPosition = selection.getLastPosition();\n            // Typing or removing content in a single item. Aborting.\n            if (firstPosition.parent === lastPosition.parent) {\n                return;\n            }\n            // An element before the content that will be removed is not a list.\n            if (!firstPosition.parent.is('element', 'listItem')) {\n                return;\n            }\n            const nextSibling = lastPosition.parent.nextSibling;\n            // An element after the content that will be removed is not a list.\n            if (!nextSibling || !nextSibling.is('element', 'listItem')) {\n                return;\n            }\n            // Find the outermost list item based on the `listIndent` attribute. We can't assume that `listIndent=0`\n            // because the selection can be hooked in nested lists.\n            //\n            // <listItem listIndent=\"0\" listType=\"bulleted\" listStyle=\"square\">UL List item 1</listItem>\n            // <listItem listIndent=\"1\" listType=\"bulleted\" listStyle=\"square\">UL List [item 1.1</listItem>\n            // <listItem listIndent=\"0\" listType=\"bulleted\" listStyle=\"circle\">[]UL List item 1.</listItem>\n            // <listItem listIndent=\"1\" listType=\"bulleted\" listStyle=\"circle\">UL List ]item 1.1</listItem>\n            //\n            // After deleting the content, we would like to inherit the \"square\" attribute for the last element:\n            //\n            // <listItem listIndent=\"0\" listType=\"bulleted\" listStyle=\"square\">UL List item 1</listItem>\n            // <listItem listIndent=\"1\" listType=\"bulleted\" listStyle=\"square\">UL List []item 1.1</listItem>\n            const mostOuterItemList = getSiblingListItem(firstPosition.parent, {\n                sameIndent: true,\n                listIndent: nextSibling.getAttribute('listIndent')\n            });\n            // The outermost list item may not exist while removing elements between lists with different value\n            // of the `listIndent` attribute. In such a case we don't want to update anything. See: #8073.\n            if (!mostOuterItemList) {\n                return;\n            }\n            if (mostOuterItemList.getAttribute('listType') === nextSibling.getAttribute('listType')) {\n                firstMostOuterItem = mostOuterItemList;\n            }\n        }, { priority: 'high' });\n        // If so, update the `listStyle` attribute for the second list.\n        this.listenTo(model, 'deleteContent', () => {\n            if (!firstMostOuterItem) {\n                return;\n            }\n            model.change(writer => {\n                // Find the first most-outer item list in the merged list.\n                // A case when the first list item in the second list was merged into the last item in the first list.\n                //\n                // <listItem listIndent=\"0\" listType=\"bulleted\" listStyle=\"square\">UL List item 1</listItem>\n                // <listItem listIndent=\"0\" listType=\"bulleted\" listStyle=\"square\">UL List item 2</listItem>\n                // <listItem listIndent=\"0\" listType=\"bulleted\" listStyle=\"circle\">[]UL List item 1</listItem>\n                // <listItem listIndent=\"0\" listType=\"bulleted\" listStyle=\"circle\">UL List item 2</listItem>\n                const secondListMostOuterItem = getSiblingListItem(firstMostOuterItem.nextSibling, {\n                    sameIndent: true,\n                    listIndent: firstMostOuterItem.getAttribute('listIndent'),\n                    direction: 'forward'\n                });\n                // If the selection ends in a non-list element, there are no <listItem>s that would require adjustments.\n                // See: #8642.\n                if (!secondListMostOuterItem) {\n                    firstMostOuterItem = null;\n                    return;\n                }\n                const items = [\n                    secondListMostOuterItem,\n                    ...getSiblingNodes(writer.createPositionAt(secondListMostOuterItem, 0), 'forward')\n                ];\n                for (const listItem of items) {\n                    for (const strategy of attributeStrategies) {\n                        if (strategy.appliesToListItem(listItem)) {\n                            const attributeName = strategy.attributeName;\n                            const value = firstMostOuterItem.getAttribute(attributeName);\n                            writer.setAttribute(attributeName, value, listItem);\n                        }\n                    }\n                }\n            });\n            firstMostOuterItem = null;\n        }, { priority: 'low' });\n    }\n}\n/**\n * Creates an array of strategies for dealing with enabled listItem attributes.\n */\nfunction createAttributeStrategies(enabledProperties) {\n    const strategies = [];\n    if (enabledProperties.styles) {\n        strategies.push({\n            attributeName: 'listStyle',\n            defaultValue: DEFAULT_LIST_TYPE,\n            addCommand(editor) {\n                editor.commands.add('listStyle', new LegacyListStyleCommand(editor, DEFAULT_LIST_TYPE));\n            },\n            appliesToListItem() {\n                return true;\n            },\n            setAttributeOnDowncast(writer, listStyle, element) {\n                if (listStyle && listStyle !== DEFAULT_LIST_TYPE) {\n                    writer.setStyle('list-style-type', listStyle, element);\n                }\n                else {\n                    writer.removeStyle('list-style-type', element);\n                }\n            },\n            getAttributeOnUpcast(listParent) {\n                return normalizeListStyle(listParent.getStyle('list-style-type')) || DEFAULT_LIST_TYPE;\n            }\n        });\n    }\n    if (enabledProperties.reversed) {\n        strategies.push({\n            attributeName: 'listReversed',\n            defaultValue: false,\n            addCommand(editor) {\n                editor.commands.add('listReversed', new LegacyListReversedCommand(editor));\n            },\n            appliesToListItem(item) {\n                return item.getAttribute('listType') == 'numbered';\n            },\n            setAttributeOnDowncast(writer, listReversed, element) {\n                if (listReversed) {\n                    writer.setAttribute('reversed', 'reversed', element);\n                }\n                else {\n                    writer.removeAttribute('reversed', element);\n                }\n            },\n            getAttributeOnUpcast(listParent) {\n                return listParent.hasAttribute('reversed');\n            }\n        });\n    }\n    if (enabledProperties.startIndex) {\n        strategies.push({\n            attributeName: 'listStart',\n            defaultValue: 1,\n            addCommand(editor) {\n                editor.commands.add('listStart', new LegacyListStartCommand(editor));\n            },\n            appliesToListItem(item) {\n                return item.getAttribute('listType') == 'numbered';\n            },\n            setAttributeOnDowncast(writer, listStart, element) {\n                if (listStart == 0 || listStart > 1) {\n                    writer.setAttribute('start', listStart, element);\n                }\n                else {\n                    writer.removeAttribute('start', element);\n                }\n            },\n            getAttributeOnUpcast(listParent) {\n                const startAttributeValue = listParent.getAttribute('start');\n                return startAttributeValue >= 0 ? startAttributeValue : 1;\n            }\n        });\n    }\n    return strategies;\n}\n/**\n * Returns a converter consumes the `style`, `reversed` and `start` attribute.\n * In `style` it searches for the `list-style-type` definition.\n * If not found, the `\"default\"` value will be used.\n */\nfunction upcastListItemAttributes(attributeStrategies) {\n    return (dispatcher) => {\n        dispatcher.on('element:li', (evt, data, conversionApi) => {\n            // https://github.com/ckeditor/ckeditor5/issues/13858\n            if (!data.modelRange) {\n                return;\n            }\n            const listParent = data.viewItem.parent;\n            const listItem = data.modelRange.start.nodeAfter || data.modelRange.end.nodeBefore;\n            for (const strategy of attributeStrategies) {\n                if (strategy.appliesToListItem(listItem)) {\n                    const listStyle = strategy.getAttributeOnUpcast(listParent);\n                    conversionApi.writer.setAttribute(strategy.attributeName, listStyle, listItem);\n                }\n            }\n        }, { priority: 'low' });\n    };\n}\n/**\n * Returns a converter that adds `reversed`, `start` attributes and adds `list-style-type` definition as a value for the `style` attribute.\n * The `\"default\"` values are removed and not present in the view/data.\n */\nfunction downcastListItemAttributes(attributeStrategies) {\n    return (dispatcher) => {\n        for (const strategy of attributeStrategies) {\n            dispatcher.on(`attribute:${strategy.attributeName}:listItem`, (evt, data, conversionApi) => {\n                const viewWriter = conversionApi.writer;\n                const currentElement = data.item;\n                const previousElement = getSiblingListItem(currentElement.previousSibling, {\n                    sameIndent: true,\n                    listIndent: currentElement.getAttribute('listIndent'),\n                    direction: 'backward'\n                });\n                const viewItem = conversionApi.mapper.toViewElement(currentElement);\n                // A case when elements represent different lists. We need to separate their container.\n                if (!areRepresentingSameList(currentElement, previousElement)) {\n                    viewWriter.breakContainer(viewWriter.createPositionBefore(viewItem));\n                }\n                strategy.setAttributeOnDowncast(viewWriter, data.attributeNewValue, viewItem.parent);\n            }, { priority: 'low' });\n        }\n    };\n    /**\n     * Checks whether specified list items belong to the same list.\n     */\n    function areRepresentingSameList(listItem1, listItem2) {\n        return listItem2 &&\n            listItem1.getAttribute('listType') === listItem2.getAttribute('listType') &&\n            listItem1.getAttribute('listIndent') === listItem2.getAttribute('listIndent') &&\n            listItem1.getAttribute('listStyle') === listItem2.getAttribute('listStyle') &&\n            listItem1.getAttribute('listReversed') === listItem2.getAttribute('listReversed') &&\n            listItem1.getAttribute('listStart') === listItem2.getAttribute('listStart');\n    }\n}\n/**\n * When indenting list, nested list should clear its value for the attributes or inherit from nested lists.\n *\n * ■ List item 1.\n * ■ List item 2.[]\n * ■ List item 3.\n * editor.execute( 'indentList' );\n *\n * ■ List item 1.\n *     ○ List item 2.[]\n * ■ List item 3.\n */\nfunction fixListAfterIndentListCommand(editor, attributeStrategies) {\n    return (evt, changedItems) => {\n        const root = changedItems[0];\n        const rootIndent = root.getAttribute('listIndent');\n        const itemsToUpdate = changedItems.filter(item => item.getAttribute('listIndent') === rootIndent);\n        // A case where a few list items are indented must be checked separately\n        // since `getSiblingListItem()` returns the first changed element.\n        // ■ List item 1.\n        //     ○ [List item 2.\n        //     ○ List item 3.]\n        // ■ List item 4.\n        //\n        // List items: `2` and `3` should be adjusted.\n        let previousSibling = null;\n        if (root.previousSibling.getAttribute('listIndent') + 1 !== rootIndent) {\n            previousSibling = getSiblingListItem(root.previousSibling, {\n                sameIndent: true, direction: 'backward', listIndent: rootIndent\n            });\n        }\n        editor.model.change(writer => {\n            for (const item of itemsToUpdate) {\n                for (const strategy of attributeStrategies) {\n                    if (strategy.appliesToListItem(item)) {\n                        const valueToSet = previousSibling == null ?\n                            strategy.defaultValue :\n                            previousSibling.getAttribute(strategy.attributeName);\n                        writer.setAttribute(strategy.attributeName, valueToSet, item);\n                    }\n                }\n            }\n        });\n    };\n}\n/**\n * When outdenting a list, a nested list should copy attribute values\n * from the previous sibling list item including the same value for the `listIndent` value.\n *\n * ■ List item 1.\n *     ○ List item 2.[]\n * ■ List item 3.\n *\n * editor.execute( 'outdentList' );\n *\n * ■ List item 1.\n * ■ List item 2.[]\n * ■ List item 3.\n */\nfunction fixListAfterOutdentListCommand(editor, attributeStrategies) {\n    return (evt, changedItems) => {\n        changedItems = changedItems.reverse().filter(item => item.is('element', 'listItem'));\n        if (!changedItems.length) {\n            return;\n        }\n        const indent = changedItems[0].getAttribute('listIndent');\n        const listType = changedItems[0].getAttribute('listType');\n        let listItem = changedItems[0].previousSibling;\n        // ■ List item 1.\n        //     ○ List item 2.\n        //     ○ List item 3.[]\n        // ■ List item 4.\n        //\n        // After outdenting a list, `List item 3` should inherit the `listStyle` attribute from `List item 1`.\n        //\n        // ■ List item 1.\n        //     ○ List item 2.\n        // ■ List item 3.[]\n        // ■ List item 4.\n        if (listItem.is('element', 'listItem')) {\n            while (listItem.getAttribute('listIndent') !== indent) {\n                listItem = listItem.previousSibling;\n            }\n        }\n        else {\n            listItem = null;\n        }\n        // Outdenting such a list should restore values based on `List item 4`.\n        // ■ List item 1.[]\n        //     ○ List item 2.\n        //     ○ List item 3.\n        // ■ List item 4.\n        if (!listItem) {\n            listItem = changedItems[changedItems.length - 1].nextSibling;\n        }\n        // And such a list should not modify anything.\n        // However, `listItem` can indicate a node below the list. Be sure that we have the `listItem` element.\n        // ■ List item 1.[]\n        //     ○ List item 2.\n        //     ○ List item 3.\n        // <paragraph>The later if check.</paragraph>\n        if (!listItem || !listItem.is('element', 'listItem')) {\n            return;\n        }\n        // Do not modify the list if found `listItem` represents other type of list than outdented list items.\n        if (listItem.getAttribute('listType') !== listType) {\n            return;\n        }\n        editor.model.change(writer => {\n            const itemsToUpdate = changedItems.filter(item => item.getAttribute('listIndent') === indent);\n            for (const item of itemsToUpdate) {\n                for (const strategy of attributeStrategies) {\n                    if (strategy.appliesToListItem(item)) {\n                        const attributeName = strategy.attributeName;\n                        const valueToSet = listItem.getAttribute(attributeName);\n                        writer.setAttribute(attributeName, valueToSet, item);\n                    }\n                }\n            }\n        });\n    };\n}\n/**\n * Each `listItem` element must have specified the `listStyle`, `listReversed` and `listStart` attributes\n * if they are enabled and supported by its `listType`.\n * This post-fixer checks whether inserted elements `listItem` elements should inherit the attribute values from\n * their sibling nodes or should use the default values.\n *\n * Paragraph[]\n * ■ List item 1. // [listStyle=\"square\", listType=\"bulleted\"]\n * ■ List item 2. // ...\n * ■ List item 3. // ...\n *\n * editor.execute( 'bulletedList' )\n *\n * ■ Paragraph[]  // [listStyle=\"square\", listType=\"bulleted\"]\n * ■ List item 1. // [listStyle=\"square\", listType=\"bulleted\"]\n * ■ List item 2.\n * ■ List item 3.\n *\n * It also covers a such change:\n *\n * [Paragraph 1\n * Paragraph 2]\n * ■ List item 1. // [listStyle=\"square\", listType=\"bulleted\"]\n * ■ List item 2. // ...\n * ■ List item 3. // ...\n *\n * editor.execute( 'numberedList' )\n *\n * 1. [Paragraph 1 // [listStyle=\"default\", listType=\"numbered\"]\n * 2. Paragraph 2] // [listStyle=\"default\", listType=\"numbered\"]\n * ■ List item 1.  // [listStyle=\"square\", listType=\"bulleted\"]\n * ■ List item 2.  // ...\n * ■ List item 3.  // ...\n */\nfunction fixListAttributesOnListItemElements(editor, attributeStrategies) {\n    return (writer) => {\n        let wasFixed = false;\n        const insertedListItems = getChangedListItems(editor.model.document.differ.getChanges())\n            .filter(item => {\n            // Don't touch todo lists. They are handled in another post-fixer.\n            return item.getAttribute('listType') !== 'todo';\n        });\n        if (!insertedListItems.length) {\n            return wasFixed;\n        }\n        // Check whether the last inserted element is next to the `listItem` element.\n        //\n        // ■ Paragraph[]  // <-- The inserted item.\n        // ■ List item 1.\n        let existingListItem = insertedListItems[insertedListItems.length - 1].nextSibling;\n        // If it doesn't, maybe the `listItem` was inserted at the end of the list.\n        //\n        // ■ List item 1.\n        // ■ Paragraph[]  // <-- The inserted item.\n        if (!existingListItem || !existingListItem.is('element', 'listItem')) {\n            existingListItem = insertedListItems[0].previousSibling;\n            if (existingListItem) {\n                const indent = insertedListItems[0].getAttribute('listIndent');\n                // But we need to find a `listItem` with the `listIndent=0` attribute.\n                // If doesn't, maybe the `listItem` was inserted at the end of the list.\n                //\n                // ■ List item 1.\n                //     ○ List item 2.\n                // ■ Paragraph[]  // <-- The inserted item.\n                while (existingListItem.is('element', 'listItem') && existingListItem.getAttribute('listIndent') !== indent) {\n                    existingListItem = existingListItem.previousSibling;\n                    // If the item does not exist, most probably there is no other content in the editor. See: #8072.\n                    if (!existingListItem) {\n                        break;\n                    }\n                }\n            }\n        }\n        for (const strategy of attributeStrategies) {\n            const attributeName = strategy.attributeName;\n            for (const item of insertedListItems) {\n                if (!strategy.appliesToListItem(item)) {\n                    writer.removeAttribute(attributeName, item);\n                    continue;\n                }\n                if (!item.hasAttribute(attributeName)) {\n                    if (shouldInheritListType(existingListItem, item, strategy)) {\n                        writer.setAttribute(attributeName, existingListItem.getAttribute(attributeName), item);\n                    }\n                    else {\n                        writer.setAttribute(attributeName, strategy.defaultValue, item);\n                    }\n                    wasFixed = true;\n                }\n                else {\n                    // Adjust the `listStyle`, `listReversed` and `listStart`\n                    // attributes for inserted (pasted) items. See #8160.\n                    //\n                    // ■ List item 1. // [listStyle=\"square\", listType=\"bulleted\"]\n                    //     ○ List item 1.1. // [listStyle=\"circle\", listType=\"bulleted\"]\n                    //     ○ [] (selection is here)\n                    //\n                    // Then, pasting a list with different attributes (listStyle, listType):\n                    //\n                    // 1. First. // [listStyle=\"decimal\", listType=\"numbered\"]\n                    // 2. Second // [listStyle=\"decimal\", listType=\"numbered\"]\n                    //\n                    // The `listType` attribute will be corrected by the `ListEditing` converters.\n                    // We need to adjust the `listStyle` attribute. Expected structure:\n                    //\n                    // ■ List item 1. // [listStyle=\"square\", listType=\"bulleted\"]\n                    //     ○ List item 1.1. // [listStyle=\"circle\", listType=\"bulleted\"]\n                    //     ○ First. // [listStyle=\"circle\", listType=\"bulleted\"]\n                    //     ○ Second // [listStyle=\"circle\", listType=\"bulleted\"]\n                    const previousSibling = item.previousSibling;\n                    if (shouldInheritListTypeFromPreviousItem(previousSibling, item, strategy.attributeName)) {\n                        writer.setAttribute(attributeName, previousSibling.getAttribute(attributeName), item);\n                        wasFixed = true;\n                    }\n                }\n            }\n        }\n        return wasFixed;\n    };\n}\n/**\n * Checks whether the `listStyle`, `listReversed` and `listStart` attributes\n * should be copied from the `baseItem` element.\n *\n * The attribute should be copied if the inserted element does not have defined it and\n * the value for the element is other than default in the base element.\n */\nfunction shouldInheritListType(baseItem, itemToChange, attributeStrategy) {\n    if (!baseItem) {\n        return false;\n    }\n    const baseListAttribute = baseItem.getAttribute(attributeStrategy.attributeName);\n    if (!baseListAttribute) {\n        return false;\n    }\n    if (baseListAttribute == attributeStrategy.defaultValue) {\n        return false;\n    }\n    if (baseItem.getAttribute('listType') !== itemToChange.getAttribute('listType')) {\n        return false;\n    }\n    return true;\n}\n/**\n * Checks whether the `listStyle`, `listReversed` and `listStart` attributes\n * should be copied from previous list item.\n *\n * The attribute should be copied if there's a mismatch of styles of the pasted list into a nested list.\n * Top-level lists are not normalized as we allow side-by-side list of different types.\n */\nfunction shouldInheritListTypeFromPreviousItem(previousItem, itemToChange, attributeName) {\n    if (!previousItem || !previousItem.is('element', 'listItem')) {\n        return false;\n    }\n    if (itemToChange.getAttribute('listType') !== previousItem.getAttribute('listType')) {\n        return false;\n    }\n    const previousItemIndent = previousItem.getAttribute('listIndent');\n    if (previousItemIndent < 1 || previousItemIndent !== itemToChange.getAttribute('listIndent')) {\n        return false;\n    }\n    const previousItemListAttribute = previousItem.getAttribute(attributeName);\n    if (!previousItemListAttribute || previousItemListAttribute === itemToChange.getAttribute(attributeName)) {\n        return false;\n    }\n    return true;\n}\n/**\n * Removes the `listStyle`, `listReversed` and `listStart` attributes from \"todo\" list items.\n */\nfunction removeListItemAttributesFromTodoList(editor) {\n    return (writer) => {\n        const todoListItems = getChangedListItems(editor.model.document.differ.getChanges())\n            .filter(item => {\n            // Handle the todo lists only. The rest is handled in another post-fixer.\n            return item.getAttribute('listType') === 'todo' && (item.hasAttribute('listStyle') ||\n                item.hasAttribute('listReversed') ||\n                item.hasAttribute('listStart'));\n        });\n        if (!todoListItems.length) {\n            return false;\n        }\n        for (const item of todoListItems) {\n            writer.removeAttribute('listStyle', item);\n            writer.removeAttribute('listReversed', item);\n            writer.removeAttribute('listStart', item);\n        }\n        return true;\n    };\n}\n/**\n * Restores the `listStyle` attribute after changing the list type.\n */\nfunction restoreDefaultListStyle(editor) {\n    return (evt, changedItems) => {\n        changedItems = changedItems.filter(item => item.is('element', 'listItem'));\n        editor.model.change(writer => {\n            for (const item of changedItems) {\n                // Remove the attribute. Post-fixer will restore the proper value.\n                writer.removeAttribute('listStyle', item);\n            }\n        });\n    };\n}\n/**\n * Returns the `listItem` that was inserted or changed.\n *\n * @param changes The changes list returned by the differ.\n */\nfunction getChangedListItems(changes) {\n    const items = [];\n    for (const change of changes) {\n        const item = getItemFromChange(change);\n        if (item && item.is('element', 'listItem')) {\n            items.push(item);\n        }\n    }\n    return items;\n}\nfunction getItemFromChange(change) {\n    if (change.type === 'attribute') {\n        return change.range.start.nodeAfter;\n    }\n    if (change.type === 'insert') {\n        return change.position.nodeAfter;\n    }\n    return null;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module list/legacytodolist/legacychecktodolistcommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nconst attributeKey = 'todoListChecked';\n/**\n * The check to-do command.\n *\n * The command is registered by the {@link module:list/legacytodolist/legacytodolistediting~LegacyTodoListEditing} as\n * the `checkTodoList` editor command and it is also available via aliased `todoListCheck` name.\n */\nexport default class LegacyCheckTodoListCommand extends Command {\n    /**\n     * A list of to-do list items selected by the {@link module:engine/model/selection~Selection}.\n     *\n     * @internal\n     */\n    _selectedElements;\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        this._selectedElements = [];\n        // Refresh command before executing to be sure all values are up to date.\n        // It is needed when selection has changed before command execution, in the same change block.\n        this.on('execute', () => {\n            this.refresh();\n        }, { priority: 'highest' });\n    }\n    /**\n     * Updates the command's {@link #value} and {@link #isEnabled} properties based on the current selection.\n     */\n    refresh() {\n        this._selectedElements = this._getSelectedItems();\n        this.value = this._selectedElements.every(element => !!element.getAttribute(attributeKey));\n        this.isEnabled = !!this._selectedElements.length;\n    }\n    /**\n     * Gets all to-do list items selected by the {@link module:engine/model/selection~Selection}.\n     */\n    _getSelectedItems() {\n        const model = this.editor.model;\n        const schema = model.schema;\n        const selectionRange = model.document.selection.getFirstRange();\n        const startElement = selectionRange.start.parent;\n        const elements = [];\n        if (schema.checkAttribute(startElement, attributeKey)) {\n            elements.push(startElement);\n        }\n        for (const item of selectionRange.getItems()) {\n            if (schema.checkAttribute(item, attributeKey) && !elements.includes(item)) {\n                elements.push(item);\n            }\n        }\n        return elements;\n    }\n    /**\n     * Executes the command.\n     *\n     * @param options.forceValue If set, it will force the command behavior. If `true`, the command will apply\n     * the attribute. Otherwise, the command will remove the attribute. If not set, the command will look for its current\n     * value to decide what it should do.\n     */\n    execute(options = {}) {\n        this.editor.model.change(writer => {\n            for (const element of this._selectedElements) {\n                const value = (options.forceValue === undefined) ? !this.value : options.forceValue;\n                if (value) {\n                    writer.setAttribute(attributeKey, true, element);\n                }\n                else {\n                    writer.removeAttribute(attributeKey, element);\n                }\n            }\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module list/documentlist\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { logWarning } from 'ckeditor5/src/utils.js';\nimport List from './list.js';\n/**\n * The document list feature.\n *\n * This is an obsolete plugin that exists for backward compatibility only.\n * Use the {@link module:list/list~List `List`} instead.\n *\n * @deprecated\n */\nexport default class DocumentList extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [List];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'DocumentList';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    constructor(editor) {\n        super(editor);\n        /**\n         * The `DocumentList` plugin is obsolete. Use `List` instead.\n         *\n         * @error plugin-obsolete-documentlist\n         */\n        logWarning('plugin-obsolete-documentlist', { pluginName: 'DocumentList' });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module list/documentlistproperties\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { logWarning } from 'ckeditor5/src/utils.js';\nimport ListProperties from './listproperties.js';\n/**\n * The document list properties feature.\n *\n * This is an obsolete plugin that exists for backward compatibility only.\n * Use the {@link module:list/listproperties~ListProperties `ListProperties`} instead.\n *\n * @deprecated\n */\nexport default class DocumentListProperties extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ListProperties];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'DocumentListProperties';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    constructor(editor) {\n        super(editor);\n        /**\n         * The `DocumentListProperties` plugin is obsolete. Use `ListProperties` instead.\n         *\n         * @error plugin-obsolete-documentlistproperties\n         */\n        logWarning('plugin-obsolete-documentlistproperties', { pluginName: 'DocumentListProperties' });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module list/tododocumentlist\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { logWarning } from 'ckeditor5/src/utils.js';\nimport TodoList from './todolist.js';\n/**\n * The to-do list feature.\n *\n * This is an obsolete plugin that exists for backward compatibility only.\n * Use the {@link module:list/todolist~TodoList `TodoList`} instead.\n *\n * @deprecated\n */\nexport default class TodoDocumentList extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [TodoList];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TodoDocumentList';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    constructor(editor) {\n        super(editor);\n        /**\n         * The `TodoDocumentList` plugin is obsolete. Use `TodoList` instead.\n         *\n         * @error plugin-obsolete-tododocumentlist\n         */\n        logWarning('plugin-obsolete-tododocumentlist', { pluginName: 'TodoDocumentList' });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { findOptimalInsertionRange } from 'ckeditor5/src/widget.js';\nimport { getSelectedMediaModelWidget, insertMedia } from './utils.js';\n/**\n * The insert media command.\n *\n * The command is registered by the {@link module:media-embed/mediaembedediting~MediaEmbedEditing} as `'mediaEmbed'`.\n *\n * To insert media at the current selection, execute the command and specify the URL:\n *\n * ```ts\n * editor.execute( 'mediaEmbed', 'http://url.to.the/media' );\n * ```\n */\nexport default class MediaEmbedCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        const selectedMedia = getSelectedMediaModelWidget(selection);\n        this.value = selectedMedia ? selectedMedia.getAttribute('url') : undefined;\n        this.isEnabled = isMediaSelected(selection) || isAllowedInParent(selection, model);\n    }\n    /**\n     * Executes the command, which either:\n     *\n     * * updates the URL of the selected media,\n     * * inserts the new media into the editor and puts the selection around it.\n     *\n     * @fires execute\n     * @param url The URL of the media.\n     */\n    execute(url) {\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        const selectedMedia = getSelectedMediaModelWidget(selection);\n        if (selectedMedia) {\n            model.change(writer => {\n                writer.setAttribute('url', url, selectedMedia);\n            });\n        }\n        else {\n            insertMedia(model, url, selection, true);\n        }\n    }\n}\n/**\n * Checks if the media embed is allowed in the parent.\n */\nfunction isAllowedInParent(selection, model) {\n    const insertionRange = findOptimalInsertionRange(selection, model);\n    let parent = insertionRange.start.parent;\n    // The model.insertContent() will remove empty parent (unless it is a $root or a limit).\n    if (parent.isEmpty && !model.schema.isLimit(parent)) {\n        parent = parent.parent;\n    }\n    return model.schema.checkChild(parent, 'media');\n}\n/**\n * Checks if the media object is selected.\n */\nfunction isMediaSelected(selection) {\n    const element = selection.getSelectedElement();\n    return !!element && element.name === 'media';\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module media-embed/mediaregistry\n */\nimport { IconView, Template } from 'ckeditor5/src/ui.js';\nimport { IconMediaPlaceholder } from 'ckeditor5/src/icons.js';\nimport { logWarning, toArray } from 'ckeditor5/src/utils.js';\nconst mediaPlaceholderIconViewBox = '0 0 64 42';\n/**\n * A bridge between the raw media content provider definitions and the editor view content.\n *\n * It helps translating media URLs to corresponding {@link module:engine/view/element~Element view elements}.\n *\n * Mostly used by the {@link module:media-embed/mediaembedediting~MediaEmbedEditing} plugin.\n */\nexport default class MediaRegistry {\n    /**\n     * The {@link module:utils/locale~Locale} instance.\n     */\n    locale;\n    /**\n     * The media provider definitions available for the registry. Usually corresponding with the\n     * {@link module:media-embed/mediaembedconfig~MediaEmbedConfig media configuration}.\n     */\n    providerDefinitions;\n    /**\n     * Creates an instance of the {@link module:media-embed/mediaregistry~MediaRegistry} class.\n     *\n     * @param locale The localization services instance.\n     * @param config The configuration of the media embed feature.\n     */\n    constructor(locale, config) {\n        const providers = config.providers;\n        const extraProviders = config.extraProviders || [];\n        const removedProviders = new Set(config.removeProviders);\n        const providerDefinitions = providers\n            .concat(extraProviders)\n            .filter(provider => {\n            const name = provider.name;\n            if (!name) {\n                /**\n                 * One of the providers (or extra providers) specified in the media embed configuration\n                 * has no name and will not be used by the editor. In order to get this media\n                 * provider working, double check your editor configuration.\n                 *\n                 * @error media-embed-no-provider-name\n                 */\n                logWarning('media-embed-no-provider-name', { provider });\n                return false;\n            }\n            return !removedProviders.has(name);\n        });\n        this.locale = locale;\n        this.providerDefinitions = providerDefinitions;\n    }\n    /**\n     * Checks whether the passed URL is representing a certain media type allowed in the editor.\n     *\n     * @param url The URL to be checked\n     */\n    hasMedia(url) {\n        return !!this._getMedia(url);\n    }\n    /**\n     * For the given media URL string and options, it returns the {@link module:engine/view/element~Element view element}\n     * representing that media.\n     *\n     * **Note:** If no URL is specified, an empty view element is returned.\n     *\n     * @param writer The view writer used to produce a view element.\n     * @param url The URL to be translated into a view element.\n     */\n    getMediaViewElement(writer, url, options) {\n        return this._getMedia(url).getViewElement(writer, options);\n    }\n    /**\n     * Returns a `Media` instance for the given URL.\n     *\n     * @param url The URL of the media.\n     * @returns The `Media` instance or `null` when there is none.\n     */\n    _getMedia(url) {\n        if (!url) {\n            return new Media(this.locale);\n        }\n        url = url.trim();\n        for (const definition of this.providerDefinitions) {\n            const previewRenderer = definition.html;\n            const pattern = toArray(definition.url);\n            for (const subPattern of pattern) {\n                const match = this._getUrlMatches(url, subPattern);\n                if (match) {\n                    return new Media(this.locale, url, match, previewRenderer);\n                }\n            }\n        }\n        return null;\n    }\n    /**\n     * Tries to match `url` to `pattern`.\n     *\n     * @param url The URL of the media.\n     * @param pattern The pattern that should accept the media URL.\n     */\n    _getUrlMatches(url, pattern) {\n        // 1. Try to match without stripping the protocol and \"www\" subdomain.\n        let match = url.match(pattern);\n        if (match) {\n            return match;\n        }\n        // 2. Try to match after stripping the protocol.\n        let rawUrl = url.replace(/^https?:\\/\\//, '');\n        match = rawUrl.match(pattern);\n        if (match) {\n            return match;\n        }\n        // 3. Try to match after stripping the \"www\" subdomain.\n        rawUrl = rawUrl.replace(/^www\\./, '');\n        match = rawUrl.match(pattern);\n        if (match) {\n            return match;\n        }\n        return null;\n    }\n}\n/**\n * Represents media defined by the provider configuration.\n *\n * It can be rendered to the {@link module:engine/view/element~Element view element} and used in the editing or data pipeline.\n */\nclass Media {\n    /**\n     * The URL this Media instance represents.\n     */\n    url;\n    /**\n     * Shorthand for {@link module:utils/locale~Locale#t}.\n     *\n     * @see module:utils/locale~Locale#t\n     */\n    _locale;\n    /**\n     * The output of the `RegExp.match` which validated the {@link #url} of this media.\n     */\n    _match;\n    /**\n     * The function returning the HTML string preview of this media.\n     */\n    _previewRenderer;\n    constructor(locale, url, match, previewRenderer) {\n        this.url = this._getValidUrl(url);\n        this._locale = locale;\n        this._match = match;\n        this._previewRenderer = previewRenderer;\n    }\n    /**\n     * Returns the view element representation of the media.\n     *\n     * @param writer The view writer used to produce a view element.\n     */\n    getViewElement(writer, options) {\n        const attributes = {};\n        let viewElement;\n        if (options.renderForEditingView || (options.renderMediaPreview && this.url && this._previewRenderer)) {\n            if (this.url) {\n                attributes['data-oembed-url'] = this.url;\n            }\n            if (options.renderForEditingView) {\n                attributes.class = 'ck-media__wrapper';\n            }\n            const mediaHtml = this._getPreviewHtml(options);\n            viewElement = writer.createRawElement('div', attributes, (domElement, domConverter) => {\n                domConverter.setContentOf(domElement, mediaHtml);\n            });\n        }\n        else {\n            if (this.url) {\n                attributes.url = this.url;\n            }\n            viewElement = writer.createEmptyElement(options.elementName, attributes);\n        }\n        writer.setCustomProperty('media-content', true, viewElement);\n        return viewElement;\n    }\n    /**\n     * Returns the HTML string of the media content preview.\n     */\n    _getPreviewHtml(options) {\n        if (this._previewRenderer) {\n            return this._previewRenderer(this._match);\n        }\n        else {\n            // The placeholder only makes sense for editing view and media which have URLs.\n            // Placeholder is never displayed in data and URL-less media have no content.\n            if (this.url && options.renderForEditingView) {\n                return this._getPlaceholderHtml();\n            }\n            return '';\n        }\n    }\n    /**\n     * Returns the placeholder HTML when the media has no content preview.\n     */\n    _getPlaceholderHtml() {\n        const icon = new IconView();\n        const t = this._locale.t;\n        icon.content = IconMediaPlaceholder;\n        icon.viewBox = mediaPlaceholderIconViewBox;\n        const placeholder = new Template({\n            tag: 'div',\n            attributes: {\n                class: 'ck ck-reset_all ck-media__placeholder'\n            },\n            children: [\n                {\n                    tag: 'div',\n                    attributes: {\n                        class: 'ck-media__placeholder__icon'\n                    },\n                    children: [icon]\n                },\n                {\n                    tag: 'a',\n                    attributes: {\n                        class: 'ck-media__placeholder__url',\n                        target: '_blank',\n                        rel: 'noopener noreferrer',\n                        href: this.url,\n                        'data-cke-tooltip-text': t('Open media in new tab')\n                    },\n                    children: [\n                        {\n                            tag: 'span',\n                            attributes: {\n                                class: 'ck-media__placeholder__url__text'\n                            },\n                            children: [this.url]\n                        }\n                    ]\n                }\n            ]\n        }).render();\n        return placeholder.outerHTML;\n    }\n    /**\n     * Returns the full URL to the specified media.\n     *\n     * @param url The URL of the media.\n     */\n    _getValidUrl(url) {\n        if (!url) {\n            return null;\n        }\n        if (url.match(/^https?/)) {\n            return url;\n        }\n        return 'https://' + url;\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./mediaembedediting.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module media-embed/mediaembedediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { first } from 'ckeditor5/src/utils.js';\nimport { modelToViewUrlAttributeConverter } from './converters.js';\nimport MediaEmbedCommand from './mediaembedcommand.js';\nimport MediaRegistry from './mediaregistry.js';\nimport { toMediaWidget, createMediaFigureElement } from './utils.js';\nimport '../theme/mediaembedediting.css';\n/**\n * The media embed editing feature.\n */\nexport default class MediaEmbedEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'MediaEmbedEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * The media registry managing the media providers in the editor.\n     */\n    registry;\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        editor.config.define('mediaEmbed', {\n            elementName: 'oembed',\n            providers: [\n                {\n                    name: 'dailymotion',\n                    url: [\n                        /^dailymotion\\.com\\/video\\/(\\w+)/,\n                        /^dai.ly\\/(\\w+)/\n                    ],\n                    html: match => {\n                        const id = match[1];\n                        return ('<div style=\"position: relative; padding-bottom: 100%; height: 0; \">' +\n                            `<iframe src=\"https://www.dailymotion.com/embed/video/${id}\" ` +\n                            'style=\"position: absolute; width: 100%; height: 100%; top: 0; left: 0;\" ' +\n                            'frameborder=\"0\" width=\"480\" height=\"270\" allowfullscreen allow=\"autoplay\">' +\n                            '</iframe>' +\n                            '</div>');\n                    }\n                },\n                {\n                    name: 'spotify',\n                    url: [\n                        /^open\\.spotify\\.com\\/(artist\\/\\w+)/,\n                        /^open\\.spotify\\.com\\/(album\\/\\w+)/,\n                        /^open\\.spotify\\.com\\/(track\\/\\w+)/\n                    ],\n                    html: match => {\n                        const id = match[1];\n                        return ('<div style=\"position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;\">' +\n                            `<iframe src=\"https://open.spotify.com/embed/${id}\" ` +\n                            'style=\"position: absolute; width: 100%; height: 100%; top: 0; left: 0;\" ' +\n                            'frameborder=\"0\" allowtransparency=\"true\" allow=\"encrypted-media\">' +\n                            '</iframe>' +\n                            '</div>');\n                    }\n                },\n                {\n                    name: 'youtube',\n                    url: [\n                        /^(?:m\\.)?youtube\\.com\\/watch\\?v=([\\w-]+)(?:&t=(\\d+))?/,\n                        /^(?:m\\.)?youtube\\.com\\/shorts\\/([\\w-]+)(?:\\?t=(\\d+))?/,\n                        /^(?:m\\.)?youtube\\.com\\/v\\/([\\w-]+)(?:\\?t=(\\d+))?/,\n                        /^youtube\\.com\\/embed\\/([\\w-]+)(?:\\?start=(\\d+))?/,\n                        /^youtu\\.be\\/([\\w-]+)(?:\\?t=(\\d+))?/\n                    ],\n                    html: match => {\n                        const id = match[1];\n                        const time = match[2];\n                        return ('<div style=\"position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;\">' +\n                            `<iframe src=\"https://www.youtube.com/embed/${id}${time ? `?start=${time}` : ''}\" ` +\n                            'style=\"position: absolute; width: 100%; height: 100%; top: 0; left: 0;\" ' +\n                            'frameborder=\"0\" allow=\"autoplay; encrypted-media\" allowfullscreen>' +\n                            '</iframe>' +\n                            '</div>');\n                    }\n                },\n                {\n                    name: 'vimeo',\n                    url: [\n                        /^vimeo\\.com\\/(\\d+)/,\n                        /^vimeo\\.com\\/[^/]+\\/[^/]+\\/video\\/(\\d+)/,\n                        /^vimeo\\.com\\/album\\/[^/]+\\/video\\/(\\d+)/,\n                        /^vimeo\\.com\\/channels\\/[^/]+\\/(\\d+)/,\n                        /^vimeo\\.com\\/groups\\/[^/]+\\/videos\\/(\\d+)/,\n                        /^vimeo\\.com\\/ondemand\\/[^/]+\\/(\\d+)/,\n                        /^player\\.vimeo\\.com\\/video\\/(\\d+)/\n                    ],\n                    html: match => {\n                        const id = match[1];\n                        return ('<div style=\"position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;\">' +\n                            `<iframe src=\"https://player.vimeo.com/video/${id}\" ` +\n                            'style=\"position: absolute; width: 100%; height: 100%; top: 0; left: 0;\" ' +\n                            'frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen>' +\n                            '</iframe>' +\n                            '</div>');\n                    }\n                },\n                {\n                    name: 'instagram',\n                    url: [\n                        /^instagram\\.com\\/p\\/(\\w+)/,\n                        /^instagram\\.com\\/reel\\/(\\w+)/\n                    ]\n                },\n                {\n                    name: 'twitter',\n                    url: [\n                        /^twitter\\.com/,\n                        /^x\\.com/\n                    ]\n                },\n                {\n                    name: 'googleMaps',\n                    url: [\n                        /^google\\.com\\/maps/,\n                        /^goo\\.gl\\/maps/,\n                        /^maps\\.google\\.com/,\n                        /^maps\\.app\\.goo\\.gl/\n                    ]\n                },\n                {\n                    name: 'flickr',\n                    url: /^flickr\\.com/\n                },\n                {\n                    name: 'facebook',\n                    url: /^facebook\\.com/\n                }\n            ]\n        });\n        this.registry = new MediaRegistry(editor.locale, editor.config.get('mediaEmbed'));\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const schema = editor.model.schema;\n        const t = editor.t;\n        const conversion = editor.conversion;\n        const renderMediaPreview = editor.config.get('mediaEmbed.previewsInData');\n        const elementName = editor.config.get('mediaEmbed.elementName');\n        const registry = this.registry;\n        editor.commands.add('mediaEmbed', new MediaEmbedCommand(editor));\n        // Configure the schema.\n        schema.register('media', {\n            inheritAllFrom: '$blockObject',\n            allowAttributes: ['url']\n        });\n        // Model -> Data\n        conversion.for('dataDowncast').elementToStructure({\n            model: 'media',\n            view: (modelElement, { writer }) => {\n                const url = modelElement.getAttribute('url');\n                return createMediaFigureElement(writer, registry, url, {\n                    elementName,\n                    renderMediaPreview: !!url && renderMediaPreview\n                });\n            }\n        });\n        // Model -> Data (url -> data-oembed-url)\n        conversion.for('dataDowncast').add(modelToViewUrlAttributeConverter(registry, {\n            elementName,\n            renderMediaPreview\n        }));\n        // Model -> View (element)\n        conversion.for('editingDowncast').elementToStructure({\n            model: 'media',\n            view: (modelElement, { writer }) => {\n                const url = modelElement.getAttribute('url');\n                const figure = createMediaFigureElement(writer, registry, url, {\n                    elementName,\n                    renderForEditingView: true\n                });\n                return toMediaWidget(figure, writer, t('media widget'));\n            }\n        });\n        // Model -> View (url -> data-oembed-url)\n        conversion.for('editingDowncast').add(modelToViewUrlAttributeConverter(registry, {\n            elementName,\n            renderForEditingView: true\n        }));\n        // View -> Model (data-oembed-url -> url)\n        conversion.for('upcast')\n            // Upcast semantic media.\n            .elementToElement({\n            view: element => ['oembed', elementName].includes(element.name) && element.getAttribute('url') ?\n                { name: true } :\n                null,\n            model: (viewMedia, { writer }) => {\n                const url = viewMedia.getAttribute('url');\n                if (registry.hasMedia(url)) {\n                    return writer.createElement('media', { url });\n                }\n                return null;\n            }\n        })\n            // Upcast non-semantic media.\n            .elementToElement({\n            view: {\n                name: 'div',\n                attributes: {\n                    'data-oembed-url': true\n                }\n            },\n            model: (viewMedia, { writer }) => {\n                const url = viewMedia.getAttribute('data-oembed-url');\n                if (registry.hasMedia(url)) {\n                    return writer.createElement('media', { url });\n                }\n                return null;\n            }\n        })\n            // Consume `<figure class=\"media\">` elements, that were left after upcast.\n            .add(dispatcher => {\n            const converter = (evt, data, conversionApi) => {\n                if (!conversionApi.consumable.consume(data.viewItem, { name: true, classes: 'media' })) {\n                    return;\n                }\n                const { modelRange, modelCursor } = conversionApi.convertChildren(data.viewItem, data.modelCursor);\n                data.modelRange = modelRange;\n                data.modelCursor = modelCursor;\n                const modelElement = first(modelRange.getItems());\n                if (!modelElement) {\n                    // Revert consumed figure so other features can convert it.\n                    conversionApi.consumable.revert(data.viewItem, { name: true, classes: 'media' });\n                }\n            };\n            dispatcher.on('element:figure', converter);\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module media-embed/automediaembed\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { LiveRange, LivePosition } from 'ckeditor5/src/engine.js';\nimport { Clipboard } from 'ckeditor5/src/clipboard.js';\nimport { Delete } from 'ckeditor5/src/typing.js';\nimport { Undo } from 'ckeditor5/src/undo.js';\nimport { global } from 'ckeditor5/src/utils.js';\nimport MediaEmbedEditing from './mediaembedediting.js';\nimport { insertMedia } from './utils.js';\nconst URL_REGEXP = /^(?:http(s)?:\\/\\/)?[\\w-]+\\.[\\w-.~:/?#[\\]@!$&'()*+,;=%]+$/;\n/**\n * The auto-media embed plugin. It recognizes media links in the pasted content and embeds\n * them shortly after they are injected into the document.\n */\nexport default class AutoMediaEmbed extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [Clipboard, Delete, Undo];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'AutoMediaEmbed';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * The paste–to–embed `setTimeout` ID. Stored as a property to allow\n     * cleaning of the timeout.\n     */\n    _timeoutId;\n    /**\n     * The position where the `<media>` element will be inserted after the timeout,\n     * determined each time the new content is pasted into the document.\n     */\n    _positionToInsert;\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        this._timeoutId = null;\n        this._positionToInsert = null;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const modelDocument = editor.model.document;\n        // We need to listen on `Clipboard#inputTransformation` because we need to save positions of selection.\n        // After pasting, the content between those positions will be checked for a URL that could be transformed\n        // into media.\n        const clipboardPipeline = editor.plugins.get('ClipboardPipeline');\n        this.listenTo(clipboardPipeline, 'inputTransformation', () => {\n            const firstRange = modelDocument.selection.getFirstRange();\n            const leftLivePosition = LivePosition.fromPosition(firstRange.start);\n            leftLivePosition.stickiness = 'toPrevious';\n            const rightLivePosition = LivePosition.fromPosition(firstRange.end);\n            rightLivePosition.stickiness = 'toNext';\n            modelDocument.once('change:data', () => {\n                this._embedMediaBetweenPositions(leftLivePosition, rightLivePosition);\n                leftLivePosition.detach();\n                rightLivePosition.detach();\n            }, { priority: 'high' });\n        });\n        const undoCommand = editor.commands.get('undo');\n        undoCommand.on('execute', () => {\n            if (this._timeoutId) {\n                global.window.clearTimeout(this._timeoutId);\n                this._positionToInsert.detach();\n                this._timeoutId = null;\n                this._positionToInsert = null;\n            }\n        }, { priority: 'high' });\n    }\n    /**\n     * Analyzes the part of the document between provided positions in search for a URL representing media.\n     * When the URL is found, it is automatically converted into media.\n     *\n     * @param leftPosition Left position of the selection.\n     * @param rightPosition Right position of the selection.\n     */\n    _embedMediaBetweenPositions(leftPosition, rightPosition) {\n        const editor = this.editor;\n        const mediaRegistry = editor.plugins.get(MediaEmbedEditing).registry;\n        // TODO: Use marker instead of LiveRange & LivePositions.\n        const urlRange = new LiveRange(leftPosition, rightPosition);\n        const walker = urlRange.getWalker({ ignoreElementEnd: true });\n        let url = '';\n        for (const node of walker) {\n            if (node.item.is('$textProxy')) {\n                url += node.item.data;\n            }\n        }\n        url = url.trim();\n        // If the URL does not match to universal URL regexp, let's skip that.\n        if (!url.match(URL_REGEXP)) {\n            urlRange.detach();\n            return;\n        }\n        // If the URL represents a media, let's use it.\n        if (!mediaRegistry.hasMedia(url)) {\n            urlRange.detach();\n            return;\n        }\n        const mediaEmbedCommand = editor.commands.get('mediaEmbed');\n        // Do not anything if media element cannot be inserted at the current position (#47).\n        if (!mediaEmbedCommand.isEnabled) {\n            urlRange.detach();\n            return;\n        }\n        // Position won't be available in the `setTimeout` function so let's clone it.\n        this._positionToInsert = LivePosition.fromPosition(leftPosition);\n        // This action mustn't be executed if undo was called between pasting and auto-embedding.\n        this._timeoutId = global.window.setTimeout(() => {\n            editor.model.change(writer => {\n                this._timeoutId = null;\n                writer.remove(urlRange);\n                urlRange.detach();\n                let insertionPosition = null;\n                // Check if position where the media element should be inserted is still valid.\n                // Otherwise leave it as undefined to use document.selection - default behavior of model.insertContent().\n                if (this._positionToInsert.root.rootName !== '$graveyard') {\n                    insertionPosition = this._positionToInsert;\n                }\n                insertMedia(editor.model, url, insertionPosition, false);\n                this._positionToInsert.detach();\n                this._positionToInsert = null;\n            });\n            editor.plugins.get(Delete).requestUndoOnBackspace();\n        }, 100);\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./mediaform.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module media-embed/ui/mediaformview\n */\nimport { LabeledFieldView, View, createLabeledInputText, submitHandler } from 'ckeditor5/src/ui.js';\nimport { FocusTracker, KeystrokeHandler } from 'ckeditor5/src/utils.js';\n// See: #8833.\n// eslint-disable-next-line ckeditor5-rules/ckeditor-imports\nimport '@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css';\nimport '../../theme/mediaform.css';\n/**\n * The media form view controller class.\n *\n * See {@link module:media-embed/ui/mediaformview~MediaFormView}.\n */\nexport default class MediaFormView extends View {\n    /**\n     * Tracks information about the DOM focus in the form.\n     */\n    focusTracker;\n    /**\n     * An instance of the {@link module:utils/keystrokehandler~KeystrokeHandler}.\n     */\n    keystrokes;\n    /**\n     * The URL input view.\n     */\n    urlInputView;\n    /**\n     * An array of form validators used by {@link #isValid}.\n     */\n    _validators;\n    /**\n     * The default info text for the {@link #urlInputView}.\n     */\n    _urlInputViewInfoDefault;\n    /**\n     * The info text with an additional tip for the {@link #urlInputView},\n     * displayed when the input has some value.\n     */\n    _urlInputViewInfoTip;\n    /**\n     * @param validators Form validators used by {@link #isValid}.\n     * @param locale The localization services instance.\n     */\n    constructor(validators, locale) {\n        super(locale);\n        this.focusTracker = new FocusTracker();\n        this.keystrokes = new KeystrokeHandler();\n        this.set('mediaURLInputValue', '');\n        this.urlInputView = this._createUrlInput();\n        this._validators = validators;\n        this.setTemplate({\n            tag: 'form',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-media-form',\n                    'ck-responsive-form'\n                ],\n                tabindex: '-1'\n            },\n            children: [\n                this.urlInputView\n            ]\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    render() {\n        super.render();\n        submitHandler({\n            view: this\n        });\n        // Register the view in the focus tracker.\n        this.focusTracker.add(this.urlInputView.element);\n        // Start listening for the keystrokes coming from #element.\n        this.keystrokes.listenTo(this.element);\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        super.destroy();\n        this.focusTracker.destroy();\n        this.keystrokes.destroy();\n    }\n    /**\n     * Focuses the {@link #urlInputView}.\n     */\n    focus() {\n        this.urlInputView.focus();\n    }\n    /**\n     * The native DOM `value` of the {@link #urlInputView} element.\n     *\n     * **Note**: Do not confuse it with the {@link module:ui/inputtext/inputtextview~InputTextView#value}\n     * which works one way only and may not represent the actual state of the component in the DOM.\n     */\n    get url() {\n        return this.urlInputView.fieldView.element.value.trim();\n    }\n    set url(url) {\n        this.urlInputView.fieldView.value = url.trim();\n    }\n    /**\n     * Validates the form and returns `false` when some fields are invalid.\n     */\n    isValid() {\n        this.resetFormStatus();\n        for (const validator of this._validators) {\n            const errorText = validator(this);\n            // One error per field is enough.\n            if (errorText) {\n                // Apply updated error.\n                this.urlInputView.errorText = errorText;\n                return false;\n            }\n        }\n        return true;\n    }\n    /**\n     * Cleans up the supplementary error and information text of the {@link #urlInputView}\n     * bringing them back to the state when the form has been displayed for the first time.\n     *\n     * See {@link #isValid}.\n     */\n    resetFormStatus() {\n        this.urlInputView.errorText = null;\n        this.urlInputView.infoText = this._urlInputViewInfoDefault;\n    }\n    /**\n     * Creates a labeled input view.\n     *\n     * @returns Labeled input view instance.\n     */\n    _createUrlInput() {\n        const t = this.locale.t;\n        const labeledInput = new LabeledFieldView(this.locale, createLabeledInputText);\n        const inputField = labeledInput.fieldView;\n        this._urlInputViewInfoDefault = t('Paste the media URL in the input.');\n        this._urlInputViewInfoTip = t('Tip: Paste the URL into the content to embed faster.');\n        labeledInput.label = t('Media URL');\n        labeledInput.infoText = this._urlInputViewInfoDefault;\n        inputField.inputMode = 'url';\n        inputField.on('input', () => {\n            // Display the tip text only when there is some value. Otherwise fall back to the default info text.\n            labeledInput.infoText = inputField.element.value ? this._urlInputViewInfoTip : this._urlInputViewInfoDefault;\n            this.mediaURLInputValue = inputField.element.value.trim();\n        });\n        return labeledInput;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module media-embed/mediaembedui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { IconMedia } from 'ckeditor5/src/icons.js';\nimport { ButtonView, CssTransitionDisablerMixin, MenuBarMenuListItemButtonView, Dialog } from 'ckeditor5/src/ui.js';\nimport MediaFormView from './ui/mediaformview.js';\nimport MediaEmbedEditing from './mediaembedediting.js';\n/**\n * The media embed UI plugin.\n */\nexport default class MediaEmbedUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [MediaEmbedEditing, Dialog];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'MediaEmbedUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    _formView;\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        editor.ui.componentFactory.add('mediaEmbed', () => {\n            const t = this.editor.locale.t;\n            const button = this._createDialogButton(ButtonView);\n            button.tooltip = true;\n            button.label = t('Insert media');\n            return button;\n        });\n        editor.ui.componentFactory.add('menuBar:mediaEmbed', () => {\n            const t = this.editor.locale.t;\n            const button = this._createDialogButton(MenuBarMenuListItemButtonView);\n            button.label = t('Media');\n            return button;\n        });\n    }\n    /**\n     * Creates a button for menu bar that will show media embed dialog.\n     */\n    _createDialogButton(ButtonClass) {\n        const editor = this.editor;\n        const buttonView = new ButtonClass(editor.locale);\n        const command = editor.commands.get('mediaEmbed');\n        const dialogPlugin = this.editor.plugins.get('Dialog');\n        buttonView.icon = IconMedia;\n        buttonView.bind('isEnabled').to(command, 'isEnabled');\n        buttonView.on('execute', () => {\n            if (dialogPlugin.id === 'mediaEmbed') {\n                dialogPlugin.hide();\n            }\n            else {\n                this._showDialog();\n            }\n        });\n        return buttonView;\n    }\n    _showDialog() {\n        const editor = this.editor;\n        const dialog = editor.plugins.get('Dialog');\n        const command = editor.commands.get('mediaEmbed');\n        const t = editor.locale.t;\n        const isMediaSelected = command.value !== undefined;\n        if (!this._formView) {\n            const registry = editor.plugins.get(MediaEmbedEditing).registry;\n            this._formView = new (CssTransitionDisablerMixin(MediaFormView))(getFormValidators(editor.t, registry), editor.locale);\n            this._formView.on('submit', () => this._handleSubmitForm());\n        }\n        dialog.show({\n            id: 'mediaEmbed',\n            title: t('Media embed'),\n            content: this._formView,\n            isModal: true,\n            onShow: () => {\n                this._formView.url = command.value || '';\n                this._formView.resetFormStatus();\n                this._formView.urlInputView.fieldView.select();\n            },\n            actionButtons: [\n                {\n                    label: t('Cancel'),\n                    withText: true,\n                    onExecute: () => dialog.hide()\n                },\n                {\n                    label: isMediaSelected ? t('Save') : t('Insert'),\n                    class: 'ck-button-action',\n                    withText: true,\n                    onExecute: () => this._handleSubmitForm()\n                }\n            ]\n        });\n    }\n    _handleSubmitForm() {\n        const editor = this.editor;\n        const dialog = editor.plugins.get('Dialog');\n        if (this._formView.isValid()) {\n            editor.execute('mediaEmbed', this._formView.url);\n            dialog.hide();\n            editor.editing.view.focus();\n        }\n    }\n}\nfunction getFormValidators(t, registry) {\n    return [\n        form => {\n            if (!form.url.length) {\n                return t('The URL must not be empty.');\n            }\n        },\n        form => {\n            if (!registry.hasMedia(form.url)) {\n                return t('This media URL is not supported.');\n            }\n        }\n    ];\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./mediaembed.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module media-embed/mediaembed\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Widget } from 'ckeditor5/src/widget.js';\nimport MediaEmbedEditing from './mediaembedediting.js';\nimport AutoMediaEmbed from './automediaembed.js';\nimport MediaEmbedUI from './mediaembedui.js';\nimport '../theme/mediaembed.css';\n/**\n * The media embed plugin.\n *\n * For a detailed overview, check the {@glink features/media-embed Media Embed feature documentation}.\n *\n * This is a \"glue\" plugin which loads the following plugins:\n *\n * * The {@link module:media-embed/mediaembedediting~MediaEmbedEditing media embed editing feature},\n * * The {@link module:media-embed/mediaembedui~MediaEmbedUI media embed UI feature} and\n * * The {@link module:media-embed/automediaembed~AutoMediaEmbed auto-media embed feature}.\n */\nexport default class MediaEmbed extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [MediaEmbedEditing, MediaEmbedUI, AutoMediaEmbed, Widget];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'MediaEmbed';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module media-embed/mediaembedtoolbar\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { WidgetToolbarRepository } from 'ckeditor5/src/widget.js';\nimport { getSelectedMediaViewWidget } from './utils.js';\nimport './mediaembedconfig.js';\n/**\n * The media embed toolbar plugin. It creates a toolbar for media embed that shows up when the media element is selected.\n *\n * Instances of toolbar components (e.g. buttons) are created based on the\n * {@link module:media-embed/mediaembedconfig~MediaEmbedConfig#toolbar `media.toolbar` configuration option}.\n */\nexport default class MediaEmbedToolbar extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [WidgetToolbarRepository];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'MediaEmbedToolbar';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    afterInit() {\n        const editor = this.editor;\n        const t = editor.t;\n        const widgetToolbarRepository = editor.plugins.get(WidgetToolbarRepository);\n        widgetToolbarRepository.register('mediaEmbed', {\n            ariaLabel: t('Media toolbar'),\n            items: editor.config.get('mediaEmbed.toolbar') || [],\n            getRelatedElement: getSelectedMediaViewWidget\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module page-break/pagebreakcommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { findOptimalInsertionRange } from 'ckeditor5/src/widget.js';\n/**\n * The page break command.\n *\n * The command is registered by {@link module:page-break/pagebreakediting~PageBreakEditing} as `'pageBreak'`.\n *\n * To insert a page break at the current selection, execute the command:\n *\n *\t\teditor.execute( 'pageBreak' );\n */\nexport default class PageBreakCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const model = this.editor.model;\n        const schema = model.schema;\n        const selection = model.document.selection;\n        this.isEnabled = isPageBreakAllowedInParent(selection, schema, model);\n    }\n    /**\n     * Executes the command.\n     *\n     * @fires execute\n     */\n    execute() {\n        const model = this.editor.model;\n        model.change(writer => {\n            const pageBreakElement = writer.createElement('pageBreak');\n            model.insertObject(pageBreakElement, null, null, {\n                setSelection: 'after'\n            });\n        });\n    }\n}\n/**\n * Checks if a page break is allowed by the schema in the optimal insertion parent.\n */\nfunction isPageBreakAllowedInParent(selection, schema, model) {\n    const parent = getInsertPageBreakParent(selection, model);\n    return schema.checkChild(parent, 'pageBreak');\n}\n/**\n * Returns a node that will be used to insert a page break with `model.insertContent` to check if the page break can be placed there.\n */\nfunction getInsertPageBreakParent(selection, model) {\n    const insertionRange = findOptimalInsertionRange(selection, model);\n    const parent = insertionRange.start.parent;\n    if (parent.isEmpty && !parent.is('element', '$root')) {\n        return parent.parent;\n    }\n    return parent;\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./pagebreak.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module page-break/pagebreakediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { toWidget } from 'ckeditor5/src/widget.js';\nimport PageBreakCommand from './pagebreakcommand.js';\nimport '../theme/pagebreak.css';\n/**\n * The page break editing feature.\n */\nexport default class PageBreakEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'PageBreakEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const schema = editor.model.schema;\n        const t = editor.t;\n        const conversion = editor.conversion;\n        schema.register('pageBreak', {\n            inheritAllFrom: '$blockObject'\n        });\n        conversion.for('dataDowncast').elementToStructure({\n            model: 'pageBreak',\n            view: (modelElement, { writer }) => {\n                const divElement = writer.createContainerElement('div', {\n                    class: 'page-break',\n                    // If user has no `.ck-content` styles, it should always break a page during print.\n                    style: 'page-break-after: always'\n                }, \n                // For a rationale of using span inside a div see:\n                // https://github.com/ckeditor/ckeditor5-page-break/pull/1#discussion_r328934062.\n                writer.createContainerElement('span', {\n                    style: 'display: none'\n                }));\n                return divElement;\n            }\n        });\n        conversion.for('editingDowncast').elementToStructure({\n            model: 'pageBreak',\n            view: (modelElement, { writer }) => {\n                const label = t('Page break');\n                const viewWrapper = writer.createContainerElement('div');\n                const viewLabelElement = writer.createRawElement('span', { class: 'page-break__label' }, function (domElement) {\n                    domElement.innerText = t('Page break');\n                });\n                writer.addClass('page-break', viewWrapper);\n                writer.insert(writer.createPositionAt(viewWrapper, 0), viewLabelElement);\n                return toPageBreakWidget(viewWrapper, writer, label);\n            }\n        });\n        conversion.for('upcast')\n            .elementToElement({\n            view: element => {\n                // For upcast conversion it's enough if we check for element style and verify if it's empty\n                // or contains only hidden span element.\n                const hasPageBreakBefore = element.getStyle('page-break-before') == 'always';\n                const hasPageBreakAfter = element.getStyle('page-break-after') == 'always';\n                if (!hasPageBreakBefore && !hasPageBreakAfter) {\n                    return null;\n                }\n                // The \"page break\" div accepts only single child or no child at all.\n                if (element.childCount == 1) {\n                    const viewSpan = element.getChild(0);\n                    // The child must be the \"span\" element that is not displayed.\n                    if (!viewSpan.is('element', 'span') || viewSpan.getStyle('display') != 'none') {\n                        return null;\n                    }\n                }\n                else if (element.childCount > 1) {\n                    return null;\n                }\n                return { name: true };\n            },\n            model: 'pageBreak',\n            // This conversion must be checked before <br> conversion because some editors use\n            // <br style=\"page-break-before:always\"> as a page break marker.\n            converterPriority: 'high'\n        });\n        editor.commands.add('pageBreak', new PageBreakCommand(editor));\n    }\n}\n/**\n * Converts a given {@link module:engine/view/element~Element} to a page break widget:\n * * Adds a {@link module:engine/view/element~Element#_setCustomProperty custom property} allowing to\n *   recognize the page break widget element.\n * * Calls the {@link module:widget/utils~toWidget} function with the proper element's label creator.\n */\nfunction toPageBreakWidget(viewElement, writer, label) {\n    writer.setCustomProperty('pageBreak', true, viewElement);\n    return toWidget(viewElement, writer, { label });\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module page-break/pagebreakui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { IconPageBreak } from 'ckeditor5/src/icons.js';\nimport { ButtonView, MenuBarMenuListItemButtonView } from 'ckeditor5/src/ui.js';\n/**\n * The page break UI plugin.\n */\nexport default class PageBreakUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'PageBreakUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        // Add pageBreak button to feature components.\n        editor.ui.componentFactory.add('pageBreak', () => {\n            const view = this._createButton(ButtonView);\n            view.set({\n                tooltip: true\n            });\n            return view;\n        });\n        editor.ui.componentFactory.add('menuBar:pageBreak', () => this._createButton(MenuBarMenuListItemButtonView));\n    }\n    /**\n     * Creates a button for page break command to use either in toolbar or in menu bar.\n     */\n    _createButton(ButtonClass) {\n        const editor = this.editor;\n        const locale = editor.locale;\n        const command = editor.commands.get('pageBreak');\n        const view = new ButtonClass(editor.locale);\n        const t = locale.t;\n        view.set({\n            label: t('Page break'),\n            icon: IconPageBreak\n        });\n        view.bind('isEnabled').to(command, 'isEnabled');\n        // Execute the command.\n        this.listenTo(view, 'execute', () => {\n            editor.execute('pageBreak');\n            editor.editing.view.focus();\n        });\n        return view;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module page-break/pagebreak\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Widget } from 'ckeditor5/src/widget.js';\nimport PageBreakEditing from './pagebreakediting.js';\nimport PageBreakUI from './pagebreakui.js';\n/**\n * The page break feature.\n *\n * It provides the possibility to insert a page break into the rich-text editor.\n *\n * For a detailed overview, check the {@glink features/page-break Page break feature} documentation.\n */\nexport default class PageBreak extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [PageBreakEditing, PageBreakUI, Widget];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'PageBreak';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module paste-from-office/filters/utils\n */\n/**\n * Normalizes CSS length value to 'px'.\n *\n * @internal\n */\nexport function convertCssLengthToPx(value) {\n    const numericValue = parseFloat(value);\n    if (value.endsWith('pt')) {\n        // 1pt = 1in / 72\n        return toPx(numericValue * 96 / 72);\n    }\n    else if (value.endsWith('pc')) {\n        // 1pc = 12pt = 1in / 6.\n        return toPx(numericValue * 12 * 96 / 72);\n    }\n    else if (value.endsWith('in')) {\n        // 1in = 2.54cm = 96px\n        return toPx(numericValue * 96);\n    }\n    else if (value.endsWith('cm')) {\n        // 1cm = 96px / 2.54\n        return toPx(numericValue * 96 / 2.54);\n    }\n    else if (value.endsWith('mm')) {\n        // 1mm = 1cm / 10\n        return toPx(numericValue / 10 * 96 / 2.54);\n    }\n    return value;\n}\n/**\n * Returns true for value with 'px' unit.\n *\n * @internal\n */\nexport function isPx(value) {\n    return value !== undefined && value.endsWith('px');\n}\n/**\n * Returns a rounded 'px' value.\n *\n * @internal\n */\nexport function toPx(value) {\n    return value.toFixed(2).replace(/\\.?0+$/, '') + 'px';\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module paste-from-office/filters/list\n */\nimport { Matcher, UpcastWriter } from 'ckeditor5/src/engine.js';\nimport { convertCssLengthToPx, isPx, toPx } from './utils.js';\n/**\n * Transforms Word specific list-like elements to the semantic HTML lists.\n *\n * Lists in Word are represented by block elements with special attributes like:\n *\n * ```xml\n * <p class=MsoListParagraphCxSpFirst style='mso-list:l1 level1 lfo1'>...</p> // Paragraph based list.\n * <h1 style='mso-list:l0 level1 lfo1'>...</h1> // Heading 1 based list.\n * ```\n *\n * @param documentFragment The view structure to be transformed.\n * @param stylesString Styles from which list-like elements styling will be extracted.\n */\nexport function transformListItemLikeElementsIntoLists(documentFragment, stylesString, hasMultiLevelListPlugin) {\n    if (!documentFragment.childCount) {\n        return;\n    }\n    const writer = new UpcastWriter(documentFragment.document);\n    const itemLikeElements = findAllItemLikeElements(documentFragment, writer);\n    if (!itemLikeElements.length) {\n        return;\n    }\n    const encounteredLists = {};\n    const stack = [];\n    for (const itemLikeElement of itemLikeElements) {\n        if (itemLikeElement.indent !== undefined) {\n            if (!isListContinuation(itemLikeElement)) {\n                stack.length = 0;\n            }\n            // Combined list ID for addressing encounter lists counters.\n            const originalListId = `${itemLikeElement.id}:${itemLikeElement.indent}`;\n            // Normalized list item indentation.\n            const indent = Math.min(itemLikeElement.indent - 1, stack.length);\n            // Trimming of the list stack on list ID change.\n            if (indent < stack.length && stack[indent].id !== itemLikeElement.id) {\n                stack.length = indent;\n            }\n            // Trimming of the list stack on lower indent list encountered.\n            if (indent < stack.length - 1) {\n                stack.length = indent + 1;\n            }\n            else {\n                const listStyle = detectListStyle(itemLikeElement, stylesString);\n                // Create a new OL/UL if required (greater indent or different list type).\n                if (indent > stack.length - 1 || stack[indent].listElement.name != listStyle.type) {\n                    // Check if there is some start index to set from a previous list.\n                    if (indent == 0 &&\n                        listStyle.type == 'ol' &&\n                        itemLikeElement.id !== undefined &&\n                        encounteredLists[originalListId]) {\n                        listStyle.startIndex = encounteredLists[originalListId];\n                    }\n                    const listElement = createNewEmptyList(listStyle, writer, hasMultiLevelListPlugin);\n                    // Apply list padding only if we have margins for the item and the parent item.\n                    if (isPx(itemLikeElement.marginLeft) &&\n                        (indent == 0 || isPx(stack[indent - 1].marginLeft))) {\n                        let marginLeft = itemLikeElement.marginLeft;\n                        if (indent > 0) {\n                            // Convert the padding from absolute to relative.\n                            marginLeft = toPx(parseFloat(marginLeft) - parseFloat(stack[indent - 1].marginLeft));\n                        }\n                        writer.setStyle('padding-left', marginLeft, listElement);\n                    }\n                    // Insert the new OL/UL.\n                    if (stack.length == 0) {\n                        const parent = itemLikeElement.element.parent;\n                        const index = parent.getChildIndex(itemLikeElement.element) + 1;\n                        writer.insertChild(index, listElement, parent);\n                    }\n                    else {\n                        const parentListItems = stack[indent - 1].listItemElements;\n                        writer.appendChild(listElement, parentListItems[parentListItems.length - 1]);\n                    }\n                    // Update the list stack for other items to reference.\n                    stack[indent] = {\n                        ...itemLikeElement,\n                        listElement,\n                        listItemElements: []\n                    };\n                    // Prepare list counter for start index.\n                    if (indent == 0 && itemLikeElement.id !== undefined) {\n                        encounteredLists[originalListId] = listStyle.startIndex || 1;\n                    }\n                }\n            }\n            // Use LI if it is already it or create a new LI element.\n            // https://github.com/ckeditor/ckeditor5/issues/15964\n            const listItem = itemLikeElement.element.name == 'li' ? itemLikeElement.element : writer.createElement('li');\n            // Append the LI to OL/UL.\n            writer.appendChild(listItem, stack[indent].listElement);\n            stack[indent].listItemElements.push(listItem);\n            // Increment list counter.\n            if (indent == 0 && itemLikeElement.id !== undefined) {\n                encounteredLists[originalListId]++;\n            }\n            // Append list block to LI.\n            if (itemLikeElement.element != listItem) {\n                writer.appendChild(itemLikeElement.element, listItem);\n            }\n            // Clean list block.\n            removeBulletElement(itemLikeElement.element, writer);\n            writer.removeStyle('text-indent', itemLikeElement.element); // #12361\n            writer.removeStyle('margin-left', itemLikeElement.element);\n        }\n        else {\n            // Other blocks in a list item.\n            const stackItem = stack.find(stackItem => stackItem.marginLeft == itemLikeElement.marginLeft);\n            // This might be a paragraph that has known margin, but it is not a real list block.\n            if (stackItem) {\n                const listItems = stackItem.listItemElements;\n                // Append block to LI.\n                writer.appendChild(itemLikeElement.element, listItems[listItems.length - 1]);\n                writer.removeStyle('margin-left', itemLikeElement.element);\n            }\n            else {\n                stack.length = 0;\n            }\n        }\n    }\n}\n/**\n * Removes paragraph wrapping content inside a list item.\n */\nexport function unwrapParagraphInListItem(documentFragment, writer) {\n    for (const value of writer.createRangeIn(documentFragment)) {\n        const element = value.item;\n        if (element.is('element', 'li')) {\n            // Google Docs allows for single paragraph inside LI.\n            const firstChild = element.getChild(0);\n            if (firstChild && firstChild.is('element', 'p')) {\n                writer.unwrapElement(firstChild);\n            }\n        }\n    }\n}\n/**\n * Finds all list-like elements in a given document fragment.\n *\n * @param documentFragment Document fragment in which to look for list-like nodes.\n * @returns Array of found list-like items. Each item is an object containing:\n */\nfunction findAllItemLikeElements(documentFragment, writer) {\n    const range = writer.createRangeIn(documentFragment);\n    const itemLikeElements = [];\n    const foundMargins = new Set();\n    for (const item of range.getItems()) {\n        // https://github.com/ckeditor/ckeditor5/issues/15964\n        if (!item.is('element') || !item.name.match(/^(p|h\\d+|li|div)$/)) {\n            continue;\n        }\n        // Try to rely on margin-left style to find paragraphs visually aligned with previously encountered list item.\n        let marginLeft = getMarginLeftNormalized(item);\n        // Ignore margin-left 0 style if there is no MsoList... class.\n        if (marginLeft !== undefined &&\n            parseFloat(marginLeft) == 0 &&\n            !Array.from(item.getClassNames()).find(className => className.startsWith('MsoList'))) {\n            marginLeft = undefined;\n        }\n        // List item or a following list item block.\n        if (item.hasStyle('mso-list') || marginLeft !== undefined && foundMargins.has(marginLeft)) {\n            const itemData = getListItemData(item);\n            itemLikeElements.push({\n                element: item,\n                id: itemData.id,\n                order: itemData.order,\n                indent: itemData.indent,\n                marginLeft\n            });\n            if (marginLeft !== undefined) {\n                foundMargins.add(marginLeft);\n            }\n        }\n        // Clear found margins as we found block after a list.\n        else {\n            foundMargins.clear();\n        }\n    }\n    return itemLikeElements;\n}\n/**\n * Whether the given element is possibly a list continuation. Previous element was wrapped into a list\n * or the current element already is inside a list.\n */\nfunction isListContinuation(currentItem) {\n    const previousSibling = currentItem.element.previousSibling;\n    if (!previousSibling) {\n        // If it's a li inside ul or ol like in here: https://github.com/ckeditor/ckeditor5/issues/15964.\n        return isList(currentItem.element.parent);\n    }\n    // Even with the same id the list does not have to be continuous (#43).\n    return isList(previousSibling);\n}\nfunction isList(element) {\n    return element.is('element', 'ol') || element.is('element', 'ul');\n}\n/**\n * Extracts list item style from the provided CSS.\n *\n * List item style is extracted from the CSS stylesheet. Each list with its specific style attribute\n * value (`mso-list:l1 level1 lfo1`) has its dedicated properties in a CSS stylesheet defined with a selector like:\n *\n * ```css\n * @list l1:level1 { ... }\n * ```\n *\n * It contains `mso-level-number-format` property which defines list numbering/bullet style. If this property\n * is not defined it means default `decimal` numbering.\n *\n * Here CSS string representation is used as `mso-level-number-format` property is an invalid CSS property\n * and will be removed during CSS parsing.\n *\n * @param listLikeItem List-like item for which list style will be searched for. Usually\n * a result of `findAllItemLikeElements()` function.\n * @param stylesString CSS stylesheet.\n * @returns An object with properties:\n *\n * * type - List type, could be `ul` or `ol`.\n * * startIndex - List start index, valid only for ordered lists.\n * * style - List style, for example: `decimal`, `lower-roman`, etc. It is extracted\n *     directly from Word stylesheet and adjusted to represent proper values for the CSS `list-style-type` property.\n *     If it cannot be adjusted, the `null` value is returned.\n */\nfunction detectListStyle(listLikeItem, stylesString) {\n    const listStyleRegexp = new RegExp(`@list l${listLikeItem.id}:level${listLikeItem.indent}\\\\s*({[^}]*)`, 'gi');\n    const listStyleTypeRegex = /mso-level-number-format:([^;]{0,100});/gi;\n    const listStartIndexRegex = /mso-level-start-at:\\s{0,100}([0-9]{0,10})\\s{0,100};/gi;\n    const legalStyleListRegex = new RegExp(`@list\\\\s+l${listLikeItem.id}:level\\\\d\\\\s*{[^{]*mso-level-text:\"%\\\\d\\\\\\\\.`, 'gi');\n    const multiLevelNumberFormatTypeRegex = new RegExp(`@list l${listLikeItem.id}:level\\\\d\\\\s*{[^{]*mso-level-number-format:`, 'gi');\n    const legalStyleListMatch = legalStyleListRegex.exec(stylesString);\n    const multiLevelNumberFormatMatch = multiLevelNumberFormatTypeRegex.exec(stylesString);\n    // Multi level lists in Word have mso-level-number-format attribute except legal lists,\n    // so we used that. If list has legal list match and doesn't has mso-level-number-format\n    // then this is legal-list.\n    const islegalStyleList = legalStyleListMatch && !multiLevelNumberFormatMatch;\n    const listStyleMatch = listStyleRegexp.exec(stylesString);\n    let listStyleType = 'decimal'; // Decimal is default one.\n    let type = 'ol'; // <ol> is default list.\n    let startIndex = null;\n    if (listStyleMatch && listStyleMatch[1]) {\n        const listStyleTypeMatch = listStyleTypeRegex.exec(listStyleMatch[1]);\n        if (listStyleTypeMatch && listStyleTypeMatch[1]) {\n            listStyleType = listStyleTypeMatch[1].trim();\n            type = listStyleType !== 'bullet' && listStyleType !== 'image' ? 'ol' : 'ul';\n        }\n        // Styles for the numbered lists are always defined in the Word CSS stylesheet.\n        // Unordered lists MAY contain a value for the Word CSS definition `mso-level-text` but sometimes\n        // this tag is missing. And because of that, we cannot depend on that. We need to predict the list style value\n        // based on the list style marker element.\n        if (listStyleType === 'bullet') {\n            const bulletedStyle = findBulletedListStyle(listLikeItem.element);\n            if (bulletedStyle) {\n                listStyleType = bulletedStyle;\n            }\n        }\n        else {\n            const listStartIndexMatch = listStartIndexRegex.exec(listStyleMatch[1]);\n            if (listStartIndexMatch && listStartIndexMatch[1]) {\n                startIndex = parseInt(listStartIndexMatch[1]);\n            }\n        }\n        if (islegalStyleList) {\n            type = 'ol';\n        }\n    }\n    return {\n        type,\n        startIndex,\n        style: mapListStyleDefinition(listStyleType),\n        isLegalStyleList: islegalStyleList\n    };\n}\n/**\n * Tries to extract the `list-style-type` value based on the marker element for bulleted list.\n */\nfunction findBulletedListStyle(element) {\n    // https://github.com/ckeditor/ckeditor5/issues/15964\n    if (element.name == 'li' && element.parent.name == 'ul' && element.parent.hasAttribute('type')) {\n        return element.parent.getAttribute('type');\n    }\n    const listMarkerElement = findListMarkerNode(element);\n    if (!listMarkerElement) {\n        return null;\n    }\n    const listMarker = listMarkerElement._data;\n    if (listMarker === 'o') {\n        return 'circle';\n    }\n    else if (listMarker === '·') {\n        return 'disc';\n    }\n    // Word returns '§' instead of '■' for the square list style.\n    else if (listMarker === '§') {\n        return 'square';\n    }\n    return null;\n}\n/**\n * Tries to find a text node that represents the marker element (list-style-type).\n */\nfunction findListMarkerNode(element) {\n    // If the first child is a text node, it is the data for the element.\n    // The list-style marker is not present here.\n    if (element.getChild(0).is('$text')) {\n        return null;\n    }\n    for (const childNode of element.getChildren()) {\n        // The list-style marker will be inside the `<span>` element. Let's ignore all non-span elements.\n        // It may happen that the `<a>` element is added as the first child. Most probably, it's an anchor element.\n        if (!childNode.is('element', 'span')) {\n            continue;\n        }\n        const textNodeOrElement = childNode.getChild(0);\n        if (!textNodeOrElement) {\n            continue;\n        }\n        // If already found the marker element, use it.\n        if (textNodeOrElement.is('$text')) {\n            return textNodeOrElement;\n        }\n        return textNodeOrElement.getChild(0);\n    }\n    /* istanbul ignore next -- @preserve */\n    return null;\n}\n/**\n * Parses the `list-style-type` value extracted directly from the Word CSS stylesheet and returns proper CSS definition.\n */\nfunction mapListStyleDefinition(value) {\n    if (value.startsWith('arabic-leading-zero')) {\n        return 'decimal-leading-zero';\n    }\n    switch (value) {\n        case 'alpha-upper':\n            return 'upper-alpha';\n        case 'alpha-lower':\n            return 'lower-alpha';\n        case 'roman-upper':\n            return 'upper-roman';\n        case 'roman-lower':\n            return 'lower-roman';\n        case 'circle':\n        case 'disc':\n        case 'square':\n            return value;\n        default:\n            return null;\n    }\n}\n/**\n * Creates a new list OL/UL element.\n */\nfunction createNewEmptyList(listStyle, writer, hasMultiLevelListPlugin) {\n    const list = writer.createElement(listStyle.type);\n    // We do not support modifying the marker for a particular list item.\n    // Set the value for the `list-style-type` property directly to the list container.\n    if (listStyle.style) {\n        writer.setStyle('list-style-type', listStyle.style, list);\n    }\n    if (listStyle.startIndex && listStyle.startIndex > 1) {\n        writer.setAttribute('start', listStyle.startIndex, list);\n    }\n    if (listStyle.isLegalStyleList && hasMultiLevelListPlugin) {\n        writer.addClass('legal-list', list);\n    }\n    return list;\n}\n/**\n * Extracts list item information from Word specific list-like element style:\n *\n * ```\n * `style=\"mso-list:l1 level1 lfo1\"`\n * ```\n *\n * where:\n *\n * ```\n * * `l1` is a list id (however it does not mean this is a continuous list - see #43),\n * * `level1` is a list item indentation level,\n * * `lfo1` is a list insertion order in a document.\n * ```\n *\n * @param element Element from which style data is extracted.\n */\nfunction getListItemData(element) {\n    const listStyle = element.getStyle('mso-list');\n    if (listStyle === undefined) {\n        return {};\n    }\n    const idMatch = listStyle.match(/(^|\\s{1,100})l(\\d+)/i);\n    const orderMatch = listStyle.match(/\\s{0,100}lfo(\\d+)/i);\n    const indentMatch = listStyle.match(/\\s{0,100}level(\\d+)/i);\n    if (idMatch && orderMatch && indentMatch) {\n        return {\n            id: idMatch[2],\n            order: orderMatch[1],\n            indent: parseInt(indentMatch[1])\n        };\n    }\n    return {\n        indent: 1 // Handle empty mso-list style as a marked for default list item.\n    };\n}\n/**\n * Removes span with a numbering/bullet from a given element.\n */\nfunction removeBulletElement(element, writer) {\n    // Matcher for finding `span` elements holding lists numbering/bullets.\n    const bulletMatcher = new Matcher({\n        name: 'span',\n        styles: {\n            'mso-list': 'Ignore'\n        }\n    });\n    const range = writer.createRangeIn(element);\n    for (const value of range) {\n        if (value.type === 'elementStart' && bulletMatcher.match(value.item)) {\n            writer.remove(value.item);\n        }\n    }\n}\n/**\n * Returns element left margin normalized to 'px' if possible.\n */\nfunction getMarginLeftNormalized(element) {\n    const value = element.getStyle('margin-left');\n    if (value === undefined || value.endsWith('px')) {\n        return value;\n    }\n    return convertCssLengthToPx(value);\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module paste-from-office/normalizers/mswordnormalizer\n */\nimport transformBookmarks from '../filters/bookmark.js';\nimport { transformListItemLikeElementsIntoLists } from '../filters/list.js';\nimport { replaceImagesSourceWithBase64 } from '../filters/image.js';\nimport removeMSAttributes from '../filters/removemsattributes.js';\nimport { UpcastWriter } from 'ckeditor5/src/engine.js';\nconst msWordMatch1 = /<meta\\s*name=\"?generator\"?\\s*content=\"?microsoft\\s*word\\s*\\d+\"?\\/?>/i;\nconst msWordMatch2 = /xmlns:o=\"urn:schemas-microsoft-com/i;\n/**\n * Normalizer for the content pasted from Microsoft Word.\n */\nexport default class MSWordNormalizer {\n    document;\n    hasMultiLevelListPlugin;\n    /**\n     * Creates a new `MSWordNormalizer` instance.\n     *\n     * @param document View document.\n     */\n    constructor(document, hasMultiLevelListPlugin = false) {\n        this.document = document;\n        this.hasMultiLevelListPlugin = hasMultiLevelListPlugin;\n    }\n    /**\n     * @inheritDoc\n     */\n    isActive(htmlString) {\n        return msWordMatch1.test(htmlString) || msWordMatch2.test(htmlString);\n    }\n    /**\n     * @inheritDoc\n     */\n    execute(data) {\n        const writer = new UpcastWriter(this.document);\n        const { body: documentFragment, stylesString } = data._parsedData;\n        transformBookmarks(documentFragment, writer);\n        transformListItemLikeElementsIntoLists(documentFragment, stylesString, this.hasMultiLevelListPlugin);\n        replaceImagesSourceWithBase64(documentFragment, data.dataTransfer.getData('text/rtf'));\n        removeMSAttributes(documentFragment);\n        data.content = documentFragment;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * Transforms `<a>` elements which are bookmarks by moving their children after the element.\n */\nexport default function transformBookmarks(documentFragment, writer) {\n    const elementsToChange = [];\n    for (const value of writer.createRangeIn(documentFragment)) {\n        const element = value.item;\n        if (element.is('element', 'a') &&\n            !element.hasAttribute('href') &&\n            (element.hasAttribute('id') || element.hasAttribute('name'))) {\n            elementsToChange.push(element);\n        }\n    }\n    for (const element of elementsToChange) {\n        const index = element.parent.getChildIndex(element) + 1;\n        const children = element.getChildren();\n        writer.insertChild(index, children, element.parent);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module paste-from-office/filters/image\n */\n/* globals btoa */\nimport { Matcher, UpcastWriter } from 'ckeditor5/src/engine.js';\n/**\n * Replaces source attribute of all `<img>` elements representing regular\n * images (not the Word shapes) with inlined base64 image representation extracted from RTF or Blob data.\n *\n * @param documentFragment Document fragment on which transform images.\n * @param rtfData The RTF data from which images representation will be used.\n */\nexport function replaceImagesSourceWithBase64(documentFragment, rtfData) {\n    if (!documentFragment.childCount) {\n        return;\n    }\n    const upcastWriter = new UpcastWriter(documentFragment.document);\n    const shapesIds = findAllShapesIds(documentFragment, upcastWriter);\n    removeAllImgElementsRepresentingShapes(shapesIds, documentFragment, upcastWriter);\n    insertMissingImgs(shapesIds, documentFragment, upcastWriter);\n    removeAllShapeElements(documentFragment, upcastWriter);\n    const images = findAllImageElementsWithLocalSource(documentFragment, upcastWriter);\n    if (images.length) {\n        replaceImagesFileSourceWithInlineRepresentation(images, extractImageDataFromRtf(rtfData), upcastWriter);\n    }\n}\n/**\n * Converts given HEX string to base64 representation.\n *\n * @internal\n * @param hexString The HEX string to be converted.\n * @returns Base64 representation of a given HEX string.\n */\nexport function _convertHexToBase64(hexString) {\n    return btoa(hexString.match(/\\w{2}/g).map(char => {\n        return String.fromCharCode(parseInt(char, 16));\n    }).join(''));\n}\n/**\n * Finds all shapes (`<v:*>...</v:*>`) ids. Shapes can represent images (canvas)\n * or Word shapes (which does not have RTF or Blob representation).\n *\n * @param documentFragment Document fragment from which to extract shape ids.\n * @returns Array of shape ids.\n */\nfunction findAllShapesIds(documentFragment, writer) {\n    const range = writer.createRangeIn(documentFragment);\n    const shapeElementsMatcher = new Matcher({\n        name: /v:(.+)/\n    });\n    const shapesIds = [];\n    for (const value of range) {\n        if (value.type != 'elementStart') {\n            continue;\n        }\n        const el = value.item;\n        const previousSibling = el.previousSibling;\n        const prevSiblingName = previousSibling && previousSibling.is('element') ? previousSibling.name : null;\n        // List of ids which should not be considered as shapes.\n        // https://github.com/ckeditor/ckeditor5/pull/15847#issuecomment-1941543983\n        const exceptionIds = ['Chart'];\n        const isElementAShape = shapeElementsMatcher.match(el);\n        const hasElementGfxdataAttribute = el.getAttribute('o:gfxdata');\n        const isPreviousSiblingAShapeType = prevSiblingName === 'v:shapetype';\n        const isElementIdInExceptionsArray = hasElementGfxdataAttribute &&\n            exceptionIds.some(item => el.getAttribute('id').includes(item));\n        // If shape element has 'o:gfxdata' attribute and is not directly before\n        // `<v:shapetype>` element it means that it represents a Word shape.\n        if (isElementAShape &&\n            hasElementGfxdataAttribute &&\n            !isPreviousSiblingAShapeType &&\n            !isElementIdInExceptionsArray) {\n            shapesIds.push(value.item.getAttribute('id'));\n        }\n    }\n    return shapesIds;\n}\n/**\n * Removes all `<img>` elements which represents Word shapes and not regular images.\n *\n * @param shapesIds Shape ids which will be checked against `<img>` elements.\n * @param documentFragment Document fragment from which to remove `<img>` elements.\n */\nfunction removeAllImgElementsRepresentingShapes(shapesIds, documentFragment, writer) {\n    const range = writer.createRangeIn(documentFragment);\n    const imageElementsMatcher = new Matcher({\n        name: 'img'\n    });\n    const imgs = [];\n    for (const value of range) {\n        if (value.item.is('element') && imageElementsMatcher.match(value.item)) {\n            const el = value.item;\n            const shapes = el.getAttribute('v:shapes') ? el.getAttribute('v:shapes').split(' ') : [];\n            if (shapes.length && shapes.every(shape => shapesIds.indexOf(shape) > -1)) {\n                imgs.push(el);\n                // Shapes may also have empty source while content is paste in some browsers (Safari).\n            }\n            else if (!el.getAttribute('src')) {\n                imgs.push(el);\n            }\n        }\n    }\n    for (const img of imgs) {\n        writer.remove(img);\n    }\n}\n/**\n * Removes all shape elements (`<v:*>...</v:*>`) so they do not pollute the output structure.\n *\n * @param documentFragment Document fragment from which to remove shape elements.\n */\nfunction removeAllShapeElements(documentFragment, writer) {\n    const range = writer.createRangeIn(documentFragment);\n    const shapeElementsMatcher = new Matcher({\n        name: /v:(.+)/\n    });\n    const shapes = [];\n    for (const value of range) {\n        if (value.type == 'elementStart' && shapeElementsMatcher.match(value.item)) {\n            shapes.push(value.item);\n        }\n    }\n    for (const shape of shapes) {\n        writer.remove(shape);\n    }\n}\n/**\n * Inserts `img` tags if there is none after a shape.\n */\nfunction insertMissingImgs(shapeIds, documentFragment, writer) {\n    const range = writer.createRangeIn(documentFragment);\n    const shapes = [];\n    for (const value of range) {\n        if (value.type == 'elementStart' && value.item.is('element', 'v:shape')) {\n            const id = value.item.getAttribute('id');\n            if (shapeIds.includes(id)) {\n                continue;\n            }\n            if (!containsMatchingImg(value.item.parent.getChildren(), id)) {\n                shapes.push(value.item);\n            }\n        }\n    }\n    for (const shape of shapes) {\n        const attrs = {\n            src: findSrc(shape)\n        };\n        if (shape.hasAttribute('alt')) {\n            attrs.alt = shape.getAttribute('alt');\n        }\n        const img = writer.createElement('img', attrs);\n        writer.insertChild(shape.index + 1, img, shape.parent);\n    }\n    function containsMatchingImg(nodes, id) {\n        for (const node of nodes) {\n            /* istanbul ignore else -- @preserve */\n            if (node.is('element')) {\n                if (node.name == 'img' && node.getAttribute('v:shapes') == id) {\n                    return true;\n                }\n                if (containsMatchingImg(node.getChildren(), id)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n    function findSrc(shape) {\n        for (const child of shape.getChildren()) {\n            /* istanbul ignore else -- @preserve */\n            if (child.is('element') && child.getAttribute('src')) {\n                return child.getAttribute('src');\n            }\n        }\n    }\n}\n/**\n * Finds all `<img>` elements in a given document fragment which have source pointing to local `file://` resource.\n *\n * @param documentFragment Document fragment in which to look for `<img>` elements.\n * @returns result All found images grouped by source type.\n */\nfunction findAllImageElementsWithLocalSource(documentFragment, writer) {\n    const range = writer.createRangeIn(documentFragment);\n    const imageElementsMatcher = new Matcher({\n        name: 'img'\n    });\n    const imgs = [];\n    for (const value of range) {\n        if (value.item.is('element') && imageElementsMatcher.match(value.item)) {\n            if (value.item.getAttribute('src').startsWith('file://')) {\n                imgs.push(value.item);\n            }\n        }\n    }\n    return imgs;\n}\n/**\n * Extracts all images HEX representations from a given RTF data.\n *\n * @param rtfData The RTF data from which to extract images HEX representation.\n * @returns Array of found HEX representations. Each array item is an object containing:\n *\n * * hex Image representation in HEX format.\n * * type Type of image, `image/png` or `image/jpeg`.\n */\nfunction extractImageDataFromRtf(rtfData) {\n    if (!rtfData) {\n        return [];\n    }\n    const regexPictureHeader = /{\\\\pict[\\s\\S]+?\\\\bliptag-?\\d+(\\\\blipupi-?\\d+)?({\\\\\\*\\\\blipuid\\s?[\\da-fA-F]+)?[\\s}]*?/;\n    const regexPicture = new RegExp('(?:(' + regexPictureHeader.source + '))([\\\\da-fA-F\\\\s]+)\\\\}', 'g');\n    const images = rtfData.match(regexPicture);\n    const result = [];\n    if (images) {\n        for (const image of images) {\n            let imageType = false;\n            if (image.includes('\\\\pngblip')) {\n                imageType = 'image/png';\n            }\n            else if (image.includes('\\\\jpegblip')) {\n                imageType = 'image/jpeg';\n            }\n            if (imageType) {\n                result.push({\n                    hex: image.replace(regexPictureHeader, '').replace(/[^\\da-fA-F]/g, ''),\n                    type: imageType\n                });\n            }\n        }\n    }\n    return result;\n}\n/**\n * Replaces `src` attribute value of all given images with the corresponding base64 image representation.\n *\n * @param imageElements Array of image elements which will have its source replaced.\n * @param imagesHexSources Array of images hex sources (usually the result of `extractImageDataFromRtf()` function).\n * The array should be the same length as `imageElements` parameter.\n */\nfunction replaceImagesFileSourceWithInlineRepresentation(imageElements, imagesHexSources, writer) {\n    // Assume there is an equal amount of image elements and images HEX sources so they can be matched accordingly based on existing order.\n    if (imageElements.length === imagesHexSources.length) {\n        for (let i = 0; i < imageElements.length; i++) {\n            const newSrc = `data:${imagesHexSources[i].type};base64,${_convertHexToBase64(imagesHexSources[i].hex)}`;\n            writer.setAttribute('src', newSrc, imageElements[i]);\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module paste-from-office/filters/removemsattributes\n */\nimport { UpcastWriter } from 'ckeditor5/src/engine.js';\n/**\n * Cleanup MS attributes like styles, attributes and elements.\n *\n * @param documentFragment element `data.content` obtained from clipboard.\n */\nexport default function removeMSAttributes(documentFragment) {\n    const elementsToUnwrap = [];\n    const writer = new UpcastWriter(documentFragment.document);\n    for (const { item } of writer.createRangeIn(documentFragment)) {\n        if (!item.is('element')) {\n            continue;\n        }\n        for (const className of item.getClassNames()) {\n            if (/\\bmso/gi.exec(className)) {\n                writer.removeClass(className, item);\n            }\n        }\n        for (const styleName of item.getStyleNames()) {\n            if (/\\bmso/gi.exec(styleName)) {\n                writer.removeStyle(styleName, item);\n            }\n        }\n        if (item.is('element', 'w:sdt') ||\n            item.is('element', 'w:sdtpr') && item.isEmpty ||\n            item.is('element', 'o:p') && item.isEmpty) {\n            elementsToUnwrap.push(item);\n        }\n    }\n    for (const item of elementsToUnwrap) {\n        const itemParent = item.parent;\n        const childIndex = itemParent.getChildIndex(item);\n        writer.insertChild(childIndex, item.getChildren(), itemParent);\n        writer.remove(item);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module paste-from-office/filters/br\n */\nimport { DomConverter, ViewDocument } from 'ckeditor5/src/engine.js';\n/**\n * Transforms `<br>` elements that are siblings to some block element into a paragraphs.\n *\n * @param documentFragment The view structure to be transformed.\n */\nexport default function transformBlockBrsToParagraphs(documentFragment, writer) {\n    const viewDocument = new ViewDocument(writer.document.stylesProcessor);\n    const domConverter = new DomConverter(viewDocument, { renderingMode: 'data' });\n    const blockElements = domConverter.blockElements;\n    const inlineObjectElements = domConverter.inlineObjectElements;\n    const elementsToReplace = [];\n    for (const value of writer.createRangeIn(documentFragment)) {\n        const element = value.item;\n        if (element.is('element', 'br')) {\n            const nextSibling = findSibling(element, 'forward', writer, { blockElements, inlineObjectElements });\n            const previousSibling = findSibling(element, 'backward', writer, { blockElements, inlineObjectElements });\n            const nextSiblingIsBlock = isBlockViewElement(nextSibling, blockElements);\n            const previousSiblingIsBlock = isBlockViewElement(previousSibling, blockElements);\n            // If the <br> is surrounded by blocks then convert it to a paragraph:\n            // * <p>foo</p>[<br>]<p>bar</p> -> <p>foo</p>[<p></p>]<p>bar</p>\n            // * <p>foo</p>[<br>] -> <p>foo</p>[<p></p>]\n            // * [<br>]<p>foo</p> -> [<p></p>]<p>foo</p>\n            if (previousSiblingIsBlock || nextSiblingIsBlock) {\n                elementsToReplace.push(element);\n            }\n        }\n    }\n    for (const element of elementsToReplace) {\n        if (element.hasClass('Apple-interchange-newline')) {\n            writer.remove(element);\n        }\n        else {\n            writer.replace(element, writer.createElement('p'));\n        }\n    }\n}\n/**\n * Returns sibling node, threats inline elements as transparent (but should stop on an inline objects).\n */\nfunction findSibling(viewElement, direction, writer, { blockElements, inlineObjectElements }) {\n    let position = writer.createPositionAt(viewElement, direction == 'forward' ? 'after' : 'before');\n    // Find first position that is just before a first:\n    // * text node,\n    // * block element,\n    // * inline object element.\n    // It's ignoring any inline (non-object) elements like span, strong, etc.\n    position = position.getLastMatchingPosition(({ item }) => (item.is('element') &&\n        !blockElements.includes(item.name) &&\n        !inlineObjectElements.includes(item.name)), { direction });\n    return direction == 'forward' ? position.nodeAfter : position.nodeBefore;\n}\n/**\n * Returns true for view elements that are listed as block view elements.\n */\nfunction isBlockViewElement(node, blockElements) {\n    return !!node && node.is('element') && blockElements.includes(node.name);\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module paste-from-office/normalizers/googledocsnormalizer\n */\nimport { UpcastWriter } from 'ckeditor5/src/engine.js';\nimport removeBoldWrapper from '../filters/removeboldwrapper.js';\nimport transformBlockBrsToParagraphs from '../filters/br.js';\nimport { unwrapParagraphInListItem } from '../filters/list.js';\nconst googleDocsMatch = /id=(\"|')docs-internal-guid-[-0-9a-f]+(\"|')/i;\n/**\n * Normalizer for the content pasted from Google Docs.\n */\nexport default class GoogleDocsNormalizer {\n    document;\n    /**\n     * Creates a new `GoogleDocsNormalizer` instance.\n     *\n     * @param document View document.\n     */\n    constructor(document) {\n        this.document = document;\n    }\n    /**\n     * @inheritDoc\n     */\n    isActive(htmlString) {\n        return googleDocsMatch.test(htmlString);\n    }\n    /**\n     * @inheritDoc\n     */\n    execute(data) {\n        const writer = new UpcastWriter(this.document);\n        const { body: documentFragment } = data._parsedData;\n        removeBoldWrapper(documentFragment, writer);\n        unwrapParagraphInListItem(documentFragment, writer);\n        transformBlockBrsToParagraphs(documentFragment, writer);\n        data.content = documentFragment;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * Removes the `<b>` tag wrapper added by Google Docs to a copied content.\n *\n * @param documentFragment element `data.content` obtained from clipboard\n */\nexport default function removeBoldWrapper(documentFragment, writer) {\n    for (const child of documentFragment.getChildren()) {\n        if (child.is('element', 'b') && child.getStyle('font-weight') === 'normal') {\n            const childIndex = documentFragment.getChildIndex(child);\n            writer.remove(child);\n            writer.insertChild(childIndex, child.getChildren(), documentFragment);\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module paste-from-office/normalizers/googlesheetsnormalizer\n */\nimport { UpcastWriter } from 'ckeditor5/src/engine.js';\nimport removeXmlns from '../filters/removexmlns.js';\nimport removeGoogleSheetsTag from '../filters/removegooglesheetstag.js';\nimport removeInvalidTableWidth from '../filters/removeinvalidtablewidth.js';\nimport removeStyleBlock from '../filters/removestyleblock.js';\nconst googleSheetsMatch = /<google-sheets-html-origin/i;\n/**\n * Normalizer for the content pasted from Google Sheets.\n */\nexport default class GoogleSheetsNormalizer {\n    document;\n    /**\n     * Creates a new `GoogleSheetsNormalizer` instance.\n     *\n     * @param document View document.\n     */\n    constructor(document) {\n        this.document = document;\n    }\n    /**\n     * @inheritDoc\n     */\n    isActive(htmlString) {\n        return googleSheetsMatch.test(htmlString);\n    }\n    /**\n     * @inheritDoc\n     */\n    execute(data) {\n        const writer = new UpcastWriter(this.document);\n        const { body: documentFragment } = data._parsedData;\n        removeGoogleSheetsTag(documentFragment, writer);\n        removeXmlns(documentFragment, writer);\n        removeInvalidTableWidth(documentFragment, writer);\n        removeStyleBlock(documentFragment, writer);\n        data.content = documentFragment;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * Removes the `<google-sheets-html-origin>` tag wrapper added by Google Sheets to a copied content.\n *\n * @param documentFragment element `data.content` obtained from clipboard\n */\nexport default function removeGoogleSheetsTag(documentFragment, writer) {\n    for (const child of documentFragment.getChildren()) {\n        if (child.is('element', 'google-sheets-html-origin')) {\n            const childIndex = documentFragment.getChildIndex(child);\n            writer.remove(child);\n            writer.insertChild(childIndex, child.getChildren(), documentFragment);\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * Removes the `xmlns` attribute from table pasted from Google Sheets.\n *\n * @param documentFragment element `data.content` obtained from clipboard\n */\nexport default function removeXmlns(documentFragment, writer) {\n    for (const child of documentFragment.getChildren()) {\n        if (child.is('element', 'table') && child.hasAttribute('xmlns')) {\n            writer.removeAttribute('xmlns', child);\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * Removes the `width:0px` style from table pasted from Google Sheets.\n *\n * @param documentFragment element `data.content` obtained from clipboard\n */\nexport default function removeInvalidTableWidth(documentFragment, writer) {\n    for (const child of documentFragment.getChildren()) {\n        if (child.is('element', 'table') && child.getStyle('width') === '0px') {\n            writer.removeStyle('width', child);\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * Removes `<style>` block added by Google Sheets to a copied content.\n *\n * @param documentFragment element `data.content` obtained from clipboard\n */\nexport default function removeStyleBlock(documentFragment, writer) {\n    for (const child of Array.from(documentFragment.getChildren())) {\n        if (child.is('element', 'style')) {\n            writer.remove(child);\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module paste-from-office/filters/space\n */\n/**\n * Replaces last space preceding elements closing tag with `&nbsp;`. Such operation prevents spaces from being removed\n * during further DOM/View processing (see especially {@link module:engine/view/domconverter~DomConverter#_processDomInlineNodes}).\n * This method also takes into account Word specific `<o:p></o:p>` empty tags.\n * Additionally multiline sequences of spaces and new lines between tags are removed (see #39 and #40).\n *\n * @param htmlString HTML string in which spacing should be normalized.\n * @returns Input HTML with spaces normalized.\n */\nexport function normalizeSpacing(htmlString) {\n    // Run normalizeSafariSpaceSpans() two times to cover nested spans.\n    return normalizeSafariSpaceSpans(normalizeSafariSpaceSpans(htmlString))\n        // Remove all \\r\\n from \"spacerun spans\" so the last replace line doesn't strip all whitespaces.\n        .replace(/(<span\\s+style=['\"]mso-spacerun:yes['\"]>[^\\S\\r\\n]*?)[\\r\\n]+([^\\S\\r\\n]*<\\/span>)/g, '$1$2')\n        .replace(/<span\\s+style=['\"]mso-spacerun:yes['\"]><\\/span>/g, '')\n        .replace(/(<span\\s+style=['\"]letter-spacing:[^'\"]+?['\"]>)[\\r\\n]+(<\\/span>)/g, '$1 $2')\n        .replace(/ <\\//g, '\\u00A0</')\n        .replace(/ <o:p><\\/o:p>/g, '\\u00A0<o:p></o:p>')\n        // Remove <o:p> block filler from empty paragraph. Safari uses \\u00A0 instead of &nbsp;.\n        .replace(/<o:p>(&nbsp;|\\u00A0)<\\/o:p>/g, '')\n        // Remove all whitespaces when they contain any \\r or \\n.\n        .replace(/>([^\\S\\r\\n]*[\\r\\n]\\s*)</g, '><');\n}\n/**\n * Normalizes spacing in special Word `spacerun spans` (`<span style='mso-spacerun:yes'>\\s+</span>`) by replacing\n * all spaces with `&nbsp; ` pairs. This prevents spaces from being removed during further DOM/View processing\n * (see especially {@link module:engine/view/domconverter~DomConverter#_processDomInlineNodes}).\n *\n * @param htmlDocument Native `Document` object in which spacing should be normalized.\n */\nexport function normalizeSpacerunSpans(htmlDocument) {\n    htmlDocument.querySelectorAll('span[style*=spacerun]').forEach(el => {\n        const htmlElement = el;\n        const innerTextLength = htmlElement.innerText.length || 0;\n        htmlElement.innerText = Array(innerTextLength + 1).join('\\u00A0 ').substr(0, innerTextLength);\n    });\n}\n/**\n * Normalizes specific spacing generated by Safari when content pasted from Word (`<span class=\"Apple-converted-space\"> </span>`)\n * by replacing all spaces sequences longer than 1 space with `&nbsp; ` pairs. This prevents spaces from being removed during\n * further DOM/View processing (see especially {@link module:engine/view/domconverter~DomConverter#_processDataFromDomText}).\n *\n * This function is similar to {@link module:clipboard/utils/normalizeclipboarddata normalizeClipboardData util} but uses\n * regular spaces / &nbsp; sequence for replacement.\n *\n * @param htmlString HTML string in which spacing should be normalized\n * @returns Input HTML with spaces normalized.\n */\nfunction normalizeSafariSpaceSpans(htmlString) {\n    return htmlString.replace(/<span(?: class=\"Apple-converted-space\"|)>(\\s+)<\\/span>/g, (fullMatch, spaces) => {\n        return spaces.length === 1 ? ' ' : Array(spaces.length + 1).join('\\u00A0 ').substr(0, spaces.length);\n    });\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module paste-from-office/pastefromoffice\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { ClipboardPipeline } from 'ckeditor5/src/clipboard.js';\nimport MSWordNormalizer from './normalizers/mswordnormalizer.js';\nimport GoogleDocsNormalizer from './normalizers/googledocsnormalizer.js';\nimport GoogleSheetsNormalizer from './normalizers/googlesheetsnormalizer.js';\nimport { parseHtml } from './filters/parse.js';\n/**\n * The Paste from Office plugin.\n *\n * This plugin handles content pasted from Office apps and transforms it (if necessary)\n * to a valid structure which can then be understood by the editor features.\n *\n * Transformation is made by a set of predefined {@link module:paste-from-office/normalizer~Normalizer normalizers}.\n * This plugin includes following normalizers:\n * * {@link module:paste-from-office/normalizers/mswordnormalizer~MSWordNormalizer Microsoft Word normalizer}\n * * {@link module:paste-from-office/normalizers/googledocsnormalizer~GoogleDocsNormalizer Google Docs normalizer}\n *\n * For more information about this feature check the {@glink api/paste-from-office package page}.\n */\nexport default class PasteFromOffice extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'PasteFromOffice';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ClipboardPipeline];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const clipboardPipeline = editor.plugins.get('ClipboardPipeline');\n        const viewDocument = editor.editing.view.document;\n        const normalizers = [];\n        const hasMultiLevelListPlugin = this.editor.plugins.has('MultiLevelList');\n        normalizers.push(new MSWordNormalizer(viewDocument, hasMultiLevelListPlugin));\n        normalizers.push(new GoogleDocsNormalizer(viewDocument));\n        normalizers.push(new GoogleSheetsNormalizer(viewDocument));\n        clipboardPipeline.on('inputTransformation', (evt, data) => {\n            if (data._isTransformedWithPasteFromOffice) {\n                return;\n            }\n            const codeBlock = editor.model.document.selection.getFirstPosition().parent;\n            if (codeBlock.is('element', 'codeBlock')) {\n                return;\n            }\n            const htmlString = data.dataTransfer.getData('text/html');\n            const activeNormalizer = normalizers.find(normalizer => normalizer.isActive(htmlString));\n            if (activeNormalizer) {\n                if (!data._parsedData) {\n                    data._parsedData = parseHtml(htmlString, viewDocument.stylesProcessor);\n                }\n                activeNormalizer.execute(data);\n                data._isTransformedWithPasteFromOffice = true;\n            }\n        }, { priority: 'high' });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module paste-from-office/filters/parse\n */\n/* globals DOMParser */\nimport { DomConverter, ViewDocument } from 'ckeditor5/src/engine.js';\nimport { normalizeSpacing, normalizeSpacerunSpans } from './space.js';\n/**\n * Parses the provided HTML extracting contents of `<body>` and `<style>` tags.\n *\n * @param htmlString HTML string to be parsed.\n */\nexport function parseHtml(htmlString, stylesProcessor) {\n    const domParser = new DOMParser();\n    // Remove Word specific \"if comments\" so content inside is not omitted by the parser.\n    htmlString = htmlString.replace(/<!--\\[if gte vml 1]>/g, '');\n    // Clean the <head> section of MS Windows specific tags. See https://github.com/ckeditor/ckeditor5/issues/15333.\n    // The regular expression matches the <o:SmartTagType> tag with optional attributes (with or without values).\n    htmlString = htmlString.replace(/<o:SmartTagType(?:\\s+[^\\s>=]+(?:=\"[^\"]*\")?)*\\s*\\/?>/gi, '');\n    const normalizedHtml = normalizeSpacing(cleanContentAfterBody(htmlString));\n    // Parse htmlString as native Document object.\n    const htmlDocument = domParser.parseFromString(normalizedHtml, 'text/html');\n    normalizeSpacerunSpans(htmlDocument);\n    // Get `innerHTML` first as transforming to View modifies the source document.\n    const bodyString = htmlDocument.body.innerHTML;\n    // Transform document.body to View.\n    const bodyView = documentToView(htmlDocument, stylesProcessor);\n    // Extract stylesheets.\n    const stylesObject = extractStyles(htmlDocument);\n    return {\n        body: bodyView,\n        bodyString,\n        styles: stylesObject.styles,\n        stylesString: stylesObject.stylesString\n    };\n}\n/**\n * Transforms native `Document` object into {@link module:engine/view/documentfragment~DocumentFragment}. Comments are skipped.\n *\n * @param htmlDocument Native `Document` object to be transformed.\n */\nfunction documentToView(htmlDocument, stylesProcessor) {\n    const viewDocument = new ViewDocument(stylesProcessor);\n    const domConverter = new DomConverter(viewDocument, { renderingMode: 'data' });\n    const fragment = htmlDocument.createDocumentFragment();\n    const nodes = htmlDocument.body.childNodes;\n    while (nodes.length > 0) {\n        fragment.appendChild(nodes[0]);\n    }\n    return domConverter.domToView(fragment, { skipComments: true });\n}\n/**\n * Extracts both `CSSStyleSheet` and string representation from all `style` elements available in a provided `htmlDocument`.\n *\n * @param htmlDocument Native `Document` object from which styles will be extracted.\n */\nfunction extractStyles(htmlDocument) {\n    const styles = [];\n    const stylesString = [];\n    const styleTags = Array.from(htmlDocument.getElementsByTagName('style'));\n    for (const style of styleTags) {\n        if (style.sheet && style.sheet.cssRules && style.sheet.cssRules.length) {\n            styles.push(style.sheet);\n            stylesString.push(style.innerHTML);\n        }\n    }\n    return {\n        styles,\n        stylesString: stylesString.join(' ')\n    };\n}\n/**\n * Removes leftover content from between closing </body> and closing </html> tag:\n *\n * ```html\n * <html><body><p>Foo Bar</p></body><span>Fo</span></html> -> <html><body><p>Foo Bar</p></body></html>\n * ```\n *\n * This function is used as specific browsers (Edge) add some random content after `body` tag when pasting from Word.\n * @param htmlString The HTML string to be cleaned.\n * @returns The HTML string with leftover content removed.\n */\nfunction cleanContentAfterBody(htmlString) {\n    const bodyCloseTag = '</body>';\n    const htmlCloseTag = '</html>';\n    const bodyCloseIndex = htmlString.indexOf(bodyCloseTag);\n    if (bodyCloseIndex < 0) {\n        return htmlString;\n    }\n    const htmlCloseIndex = htmlString.indexOf(htmlCloseTag, bodyCloseIndex + bodyCloseTag.length);\n    return htmlString.substring(0, bodyCloseIndex + bodyCloseTag.length) +\n        (htmlCloseIndex >= 0 ? htmlString.substring(htmlCloseIndex) : '');\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module remove-format/removeformatui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { IconRemoveFormat } from 'ckeditor5/src/icons.js';\nimport { ButtonView, MenuBarMenuListItemButtonView } from 'ckeditor5/src/ui.js';\nconst REMOVE_FORMAT = 'removeFormat';\n/**\n * The remove format UI plugin. It registers the `'removeFormat'` button which can be\n * used in the toolbar.\n */\nexport default class RemoveFormatUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'RemoveFormatUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        editor.ui.componentFactory.add(REMOVE_FORMAT, () => {\n            const view = this._createButton(ButtonView);\n            view.set({\n                tooltip: true\n            });\n            return view;\n        });\n        editor.ui.componentFactory.add(`menuBar:${REMOVE_FORMAT}`, () => this._createButton(MenuBarMenuListItemButtonView));\n    }\n    /**\n     * Creates a button for remove format command to use either in toolbar or in menu bar.\n     */\n    _createButton(ButtonClass) {\n        const editor = this.editor;\n        const locale = editor.locale;\n        const command = editor.commands.get(REMOVE_FORMAT);\n        const view = new ButtonClass(editor.locale);\n        const t = locale.t;\n        view.set({\n            label: t('Remove Format'),\n            icon: IconRemoveFormat\n        });\n        view.bind('isEnabled').to(command, 'isEnabled');\n        // Execute the command.\n        this.listenTo(view, 'execute', () => {\n            editor.execute(REMOVE_FORMAT);\n            editor.editing.view.focus();\n        });\n        return view;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { first } from 'ckeditor5/src/utils.js';\n/**\n * The remove format command.\n *\n * It is used by the {@link module:remove-format/removeformat~RemoveFormat remove format feature}\n * to clear the formatting in the selection.\n *\n * ```ts\n * editor.execute( 'removeFormat' );\n * ```\n */\nexport default class RemoveFormatCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const model = this.editor.model;\n        this.isEnabled = !!first(this._getFormattingItems(model.document.selection, model.schema));\n    }\n    /**\n     * @inheritDoc\n     */\n    execute() {\n        const model = this.editor.model;\n        const schema = model.schema;\n        model.change(writer => {\n            for (const item of this._getFormattingItems(model.document.selection, schema)) {\n                if (item.is('selection')) {\n                    for (const attributeName of this._getFormattingAttributes(item, schema)) {\n                        writer.removeSelectionAttribute(attributeName);\n                    }\n                }\n                else {\n                    // Workaround for items with multiple removable attributes. See\n                    // https://github.com/ckeditor/ckeditor5-remove-format/pull/1#pullrequestreview-220515609\n                    const itemRange = writer.createRangeOn(item);\n                    for (const attributeName of this._getFormattingAttributes(item, schema)) {\n                        writer.removeAttribute(attributeName, itemRange);\n                    }\n                }\n            }\n        });\n    }\n    /**\n     * Returns an iterable of items in a selection (including the selection itself) that have formatting model\n     * attributes to be removed by the feature.\n     *\n     * @param schema The schema describing the item.\n     */\n    *_getFormattingItems(selection, schema) {\n        const itemHasRemovableFormatting = (item) => {\n            return !!first(this._getFormattingAttributes(item, schema));\n        };\n        // Check formatting on selected items that are not blocks.\n        for (const curRange of selection.getRanges()) {\n            for (const item of curRange.getItems()) {\n                if (!schema.isBlock(item) && itemHasRemovableFormatting(item)) {\n                    yield item;\n                }\n            }\n        }\n        // Check formatting from selected blocks.\n        for (const block of selection.getSelectedBlocks()) {\n            if (itemHasRemovableFormatting(block)) {\n                yield block;\n            }\n        }\n        // Finally the selection might be formatted as well, so make sure to check it.\n        if (itemHasRemovableFormatting(selection)) {\n            yield selection;\n        }\n    }\n    /**\n     * Returns an iterable of formatting attributes of a given model item.\n     *\n     * **Note:** Formatting items have the `isFormatting` property set to `true`.\n     *\n     * @param schema The schema describing the item.\n     * @returns The names of formatting attributes found in a given item.\n     */\n    *_getFormattingAttributes(item, schema) {\n        for (const [attributeName] of item.getAttributes()) {\n            const attributeProperties = schema.getAttributeProperties(attributeName);\n            if (attributeProperties && attributeProperties.isFormatting) {\n                yield attributeName;\n            }\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module remove-format/removeformatediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport RemoveFormatCommand from './removeformatcommand.js';\n/**\n * The remove format editing plugin.\n *\n * It registers the {@link module:remove-format/removeformatcommand~RemoveFormatCommand removeFormat} command.\n */\nexport default class RemoveFormatEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'RemoveFormatEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        editor.commands.add('removeFormat', new RemoveFormatCommand(editor));\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module remove-format/removeformat\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport RemoveFormatUI from './removeformatui.js';\nimport RemoveFormatEditing from './removeformatediting.js';\n/**\n * The remove format plugin.\n *\n * This is a \"glue\" plugin which loads the {@link module:remove-format/removeformatediting~RemoveFormatEditing}\n * and {@link module:remove-format/removeformatui~RemoveFormatUI} plugins.\n *\n * For a detailed overview, check out the {@glink features/remove-format remove format} feature documentation.\n */\nexport default class RemoveFormat extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [RemoveFormatEditing, RemoveFormatUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'RemoveFormat';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module source-editing/utils/formathtml\n */\n/**\n * A simple (and naive) HTML code formatter that returns a formatted HTML markup that can be easily\n * parsed by human eyes. It beautifies the HTML code by adding new lines between elements that behave like block elements\n * (https://developer.mozilla.org/en-US/docs/Web/HTML/Block-level_elements\n * and a few more like `tr`, `td`, and similar ones) and inserting indents for nested content.\n *\n * WARNING: This function works only on a text that does not contain any indentations or new lines.\n * Calling this function on the already formatted text will damage the formatting.\n *\n * @param input An HTML string to format.\n */\nexport function formatHtml(input) {\n    // A list of block-like elements around which the new lines should be inserted, and within which\n    // the indentation of their children should be increased.\n    // The list is partially based on https://developer.mozilla.org/en-US/docs/Web/HTML/Block-level_elements that contains\n    // a full list of HTML block-level elements.\n    // A void element is an element that cannot have any child - https://html.spec.whatwg.org/multipage/syntax.html#void-elements.\n    // Note that <pre> element is not listed on this list to avoid breaking whitespace formatting.\n    // Note that <br> element is not listed and handled separately so no additional white spaces are injected.\n    const elementsToFormat = [\n        { name: 'address', isVoid: false },\n        { name: 'article', isVoid: false },\n        { name: 'aside', isVoid: false },\n        { name: 'blockquote', isVoid: false },\n        { name: 'details', isVoid: false },\n        { name: 'dialog', isVoid: false },\n        { name: 'dd', isVoid: false },\n        { name: 'div', isVoid: false },\n        { name: 'dl', isVoid: false },\n        { name: 'dt', isVoid: false },\n        { name: 'fieldset', isVoid: false },\n        { name: 'figcaption', isVoid: false },\n        { name: 'figure', isVoid: false },\n        { name: 'footer', isVoid: false },\n        { name: 'form', isVoid: false },\n        { name: 'h1', isVoid: false },\n        { name: 'h2', isVoid: false },\n        { name: 'h3', isVoid: false },\n        { name: 'h4', isVoid: false },\n        { name: 'h5', isVoid: false },\n        { name: 'h6', isVoid: false },\n        { name: 'header', isVoid: false },\n        { name: 'hgroup', isVoid: false },\n        { name: 'hr', isVoid: true },\n        { name: 'li', isVoid: false },\n        { name: 'main', isVoid: false },\n        { name: 'nav', isVoid: false },\n        { name: 'ol', isVoid: false },\n        { name: 'p', isVoid: false },\n        { name: 'section', isVoid: false },\n        { name: 'table', isVoid: false },\n        { name: 'tbody', isVoid: false },\n        { name: 'td', isVoid: false },\n        { name: 'th', isVoid: false },\n        { name: 'thead', isVoid: false },\n        { name: 'tr', isVoid: false },\n        { name: 'ul', isVoid: false }\n    ];\n    const elementNamesToFormat = elementsToFormat.map(element => element.name).join('|');\n    // It is not the fastest way to format the HTML markup but the performance should be good enough.\n    const lines = input\n        // Add new line before and after `<tag>` and `</tag>`.\n        // It may separate individual elements with two new lines, but this will be fixed below.\n        .replace(new RegExp(`</?(${elementNamesToFormat})( .*?)?>`, 'g'), '\\n$&\\n')\n        // Keep `<br>`s at the end of line to avoid adding additional whitespaces before `<br>`.\n        .replace(/<br[^>]*>/g, '$&\\n')\n        // Divide input string into lines, which start with either an opening tag, a closing tag, or just a text.\n        .split('\\n');\n    let indentCount = 0;\n    let isPreformattedLine = false;\n    return lines\n        .filter(line => line.length)\n        .map(line => {\n        isPreformattedLine = isPreformattedBlockLine(line, isPreformattedLine);\n        if (isNonVoidOpeningTag(line, elementsToFormat)) {\n            return indentLine(line, indentCount++);\n        }\n        if (isClosingTag(line, elementsToFormat)) {\n            return indentLine(line, --indentCount);\n        }\n        if (isPreformattedLine === 'middle' || isPreformattedLine === 'last') {\n            return line;\n        }\n        return indentLine(line, indentCount);\n    })\n        .join('\\n');\n}\n/**\n * Checks, if an argument is an opening tag of a non-void element to be formatted.\n *\n * @param line String to check.\n * @param elementsToFormat Elements to be formatted.\n */\nfunction isNonVoidOpeningTag(line, elementsToFormat) {\n    return elementsToFormat.some(element => {\n        if (element.isVoid) {\n            return false;\n        }\n        if (!new RegExp(`<${element.name}( .*?)?>`).test(line)) {\n            return false;\n        }\n        return true;\n    });\n}\n/**\n * Checks, if an argument is a closing tag.\n *\n * @param line String to check.\n * @param elementsToFormat Elements to be formatted.\n */\nfunction isClosingTag(line, elementsToFormat) {\n    return elementsToFormat.some(element => {\n        return new RegExp(`</${element.name}>`).test(line);\n    });\n}\n/**\n * Indents a line by a specified number of characters.\n *\n * @param line Line to indent.\n * @param indentCount Number of characters to use for indentation.\n * @param indentChar Indentation character(s). 4 spaces by default.\n */\nfunction indentLine(line, indentCount, indentChar = '    ') {\n    // More about Math.max() here in https://github.com/ckeditor/ckeditor5/issues/10698.\n    return `${indentChar.repeat(Math.max(0, indentCount))}${line}`;\n}\n/**\n * Checks whether a line belongs to a preformatted (`<pre>`) block.\n *\n * @param line Line to check.\n * @param isPreviousLinePreFormatted Information on whether the previous line was preformatted (and how).\n */\nfunction isPreformattedBlockLine(line, isPreviousLinePreFormatted) {\n    if (new RegExp('<pre( .*?)?>').test(line)) {\n        return 'first';\n    }\n    else if (new RegExp('</pre>').test(line)) {\n        return 'last';\n    }\n    else if (isPreviousLinePreFormatted === 'first' || isPreviousLinePreFormatted === 'middle') {\n        return 'middle';\n    }\n    else {\n        return false;\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./sourceediting.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module source-editing/sourceediting\n */\n/* global console */\nimport { Plugin, PendingActions } from 'ckeditor5/src/core.js';\nimport { IconSource } from 'ckeditor5/src/icons.js';\nimport { ButtonView, MenuBarMenuListItemButtonView } from 'ckeditor5/src/ui.js';\nimport { CKEditorError, createElement, ElementReplacer } from 'ckeditor5/src/utils.js';\nimport { formatHtml } from './utils/formathtml.js';\nimport '../theme/sourceediting.css';\nconst COMMAND_FORCE_DISABLE_ID = 'SourceEditingMode';\n/**\n * The source editing feature.\n *\n * It provides the possibility to view and edit the source of the document.\n *\n * For a detailed overview, check the {@glink features/source-editing/source-editing source editing feature documentation} and the\n * {@glink api/source-editing package page}.\n */\nexport default class SourceEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'SourceEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [PendingActions];\n    }\n    /**\n     * The element replacer instance used to replace the editing roots with the wrapper elements containing the document source.\n     */\n    _elementReplacer;\n    /**\n     * Maps all root names to wrapper elements containing the document source.\n     */\n    _replacedRoots;\n    /**\n     * Maps all root names to their document data.\n     */\n    _dataFromRoots;\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        this.set('isSourceEditingMode', false);\n        this._elementReplacer = new ElementReplacer();\n        this._replacedRoots = new Map();\n        this._dataFromRoots = new Map();\n        editor.config.define('sourceEditing.allowCollaborationFeatures', false);\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        this._checkCompatibility();\n        const editor = this.editor;\n        const t = editor.locale.t;\n        editor.ui.componentFactory.add('sourceEditing', () => {\n            const buttonView = this._createButton(ButtonView);\n            buttonView.set({\n                label: t('Source'),\n                icon: IconSource,\n                tooltip: true,\n                class: 'ck-source-editing-button'\n            });\n            return buttonView;\n        });\n        editor.ui.componentFactory.add('menuBar:sourceEditing', () => {\n            const buttonView = this._createButton(MenuBarMenuListItemButtonView);\n            buttonView.set({\n                label: t('Show source'),\n                role: 'menuitemcheckbox'\n            });\n            return buttonView;\n        });\n        // Currently, the plugin handles the source editing mode by itself only for the classic editor. To use this plugin with other\n        // integrations, listen to the `change:isSourceEditingMode` event and act accordingly.\n        if (this._isAllowedToHandleSourceEditingMode()) {\n            this.on('change:isSourceEditingMode', (evt, name, isSourceEditingMode) => {\n                if (isSourceEditingMode) {\n                    this._hideVisibleDialog();\n                    this._showSourceEditing();\n                    this._disableCommands();\n                }\n                else {\n                    this._hideSourceEditing();\n                    this._enableCommands();\n                }\n            });\n            this.on('change:isEnabled', (evt, name, isEnabled) => this._handleReadOnlyMode(!isEnabled));\n            this.listenTo(editor, 'change:isReadOnly', (evt, name, isReadOnly) => this._handleReadOnlyMode(isReadOnly));\n        }\n        // Update the editor data while calling editor.getData() in the source editing mode.\n        editor.data.on('get', () => {\n            if (this.isSourceEditingMode) {\n                this.updateEditorData();\n            }\n        }, { priority: 'high' });\n    }\n    /**\n     * Updates the source data in all hidden editing roots.\n     */\n    updateEditorData() {\n        const editor = this.editor;\n        const data = {};\n        for (const [rootName, domSourceEditingElementWrapper] of this._replacedRoots) {\n            const oldData = this._dataFromRoots.get(rootName);\n            const newData = domSourceEditingElementWrapper.dataset.value;\n            // Do not set the data unless some changes have been made in the meantime.\n            // This prevents empty undo steps after switching to the normal editor.\n            if (oldData !== newData) {\n                data[rootName] = newData;\n                this._dataFromRoots.set(rootName, newData);\n            }\n        }\n        if (Object.keys(data).length) {\n            editor.data.set(data, { batchType: { isUndoable: true }, suppressErrorInCollaboration: true });\n        }\n    }\n    _checkCompatibility() {\n        const editor = this.editor;\n        const allowCollaboration = editor.config.get('sourceEditing.allowCollaborationFeatures');\n        if (!allowCollaboration && editor.plugins.has('RealTimeCollaborativeEditing')) {\n            /**\n             * Source editing feature is not fully compatible with real-time collaboration,\n             * and using it may lead to data loss. Please read\n             * {@glink features/source-editing/source-editing#limitations-and-incompatibilities source editing feature guide} to learn more.\n             *\n             * If you understand the possible risk of data loss, you can enable the source editing\n             * by setting the\n             * {@link module:source-editing/sourceeditingconfig~SourceEditingConfig#allowCollaborationFeatures}\n             * configuration flag to `true`.\n             *\n             * @error source-editing-incompatible-with-real-time-collaboration\n             */\n            throw new CKEditorError('source-editing-incompatible-with-real-time-collaboration', null);\n        }\n        const collaborationPluginNamesToWarn = [\n            'CommentsEditing',\n            'TrackChangesEditing',\n            'RevisionHistory'\n        ];\n        // Currently, the basic integration with Collaboration Features is to display a warning in the console.\n        //\n        // If `allowCollaboration` flag is set, do not show these warnings. If the flag is set, we assume that the integrator read\n        // appropriate section of the guide so there's no use to spam the console with warnings.\n        //\n        if (!allowCollaboration && collaborationPluginNamesToWarn.some(pluginName => editor.plugins.has(pluginName))) {\n            console.warn('You initialized the editor with the source editing feature and at least one of the collaboration features. ' +\n                'Please be advised that the source editing feature may not work, and be careful when editing document source ' +\n                'that contains markers created by the collaboration features.');\n        }\n        // Restricted Editing integration can also lead to problems. Warn the user accordingly.\n        if (editor.plugins.has('RestrictedEditingModeEditing')) {\n            console.warn('You initialized the editor with the source editing feature and restricted editing feature. ' +\n                'Please be advised that the source editing feature may not work, and be careful when editing document source ' +\n                'that contains markers created by the restricted editing feature.');\n        }\n    }\n    /**\n     * Creates source editing wrappers that replace each editing root. Each wrapper contains the document source from the corresponding\n     * root.\n     *\n     * The wrapper element contains a textarea and it solves the problem, that the textarea element cannot auto expand its height based on\n     * the content it contains. The solution is to make the textarea more like a plain div element, which expands in height as much as it\n     * needs to, in order to display the whole document source without scrolling. The wrapper element is a parent for the textarea and for\n     * the pseudo-element `::after`, that replicates the look, content, and position of the textarea. The pseudo-element replica is hidden,\n     * but it is styled to be an identical visual copy of the textarea with the same content. Then, the wrapper is a grid container and both\n     * of its children (the textarea and the `::after` pseudo-element) are positioned within a CSS grid to occupy the same grid cell. The\n     * content in the pseudo-element `::after` is set in CSS and it stretches the grid to the appropriate size based on the textarea value.\n     * Since both children occupy the same grid cell, both have always the same height.\n     */\n    _showSourceEditing() {\n        const editor = this.editor;\n        const editingView = editor.editing.view;\n        const model = editor.model;\n        model.change(writer => {\n            writer.setSelection(null);\n            writer.removeSelectionAttribute(model.document.selection.getAttributeKeys());\n        });\n        // It is not needed to iterate through all editing roots, as currently the plugin supports only the Classic Editor with a single\n        // main root, but this code may help understand and use this feature in external integrations.\n        for (const [rootName, domRootElement] of editingView.domRoots) {\n            const data = formatSource(editor.data.get({ rootName }));\n            const domSourceEditingElementTextarea = createElement(domRootElement.ownerDocument, 'textarea', {\n                rows: '1',\n                'aria-label': 'Source code editing area'\n            });\n            const domSourceEditingElementWrapper = createElement(domRootElement.ownerDocument, 'div', {\n                class: 'ck-source-editing-area',\n                'data-value': data\n            }, [domSourceEditingElementTextarea]);\n            domSourceEditingElementTextarea.value = data;\n            // Setting a value to textarea moves the input cursor to the end. We want the selection at the beginning.\n            domSourceEditingElementTextarea.setSelectionRange(0, 0);\n            // Bind the textarea's value to the wrapper's `data-value` property. Each change of the textarea's value updates the\n            // wrapper's `data-value` property.\n            domSourceEditingElementTextarea.addEventListener('input', () => {\n                domSourceEditingElementWrapper.dataset.value = domSourceEditingElementTextarea.value;\n                editor.ui.update();\n            });\n            editingView.change(writer => {\n                const viewRoot = editingView.document.getRoot(rootName);\n                writer.addClass('ck-hidden', viewRoot);\n            });\n            // Register the element so it becomes available for Alt+F10 and Esc navigation.\n            editor.ui.setEditableElement('sourceEditing:' + rootName, domSourceEditingElementTextarea);\n            this._replacedRoots.set(rootName, domSourceEditingElementWrapper);\n            this._elementReplacer.replace(domRootElement, domSourceEditingElementWrapper);\n            this._dataFromRoots.set(rootName, data);\n        }\n        this._hideDocumentOutline();\n        this._refreshAnnotationsVisibility();\n        this._focusSourceEditing();\n    }\n    /**\n     * Restores all hidden editing roots and sets the source data in them.\n     */\n    _hideSourceEditing() {\n        const editor = this.editor;\n        const editingView = editor.editing.view;\n        this.updateEditorData();\n        editingView.change(writer => {\n            for (const [rootName] of this._replacedRoots) {\n                writer.removeClass('ck-hidden', editingView.document.getRoot(rootName));\n            }\n        });\n        this._elementReplacer.restore();\n        this._replacedRoots.clear();\n        this._dataFromRoots.clear();\n        this._showDocumentOutline();\n        this._refreshAnnotationsVisibility();\n        editingView.focus();\n    }\n    /**\n     * Hides the document outline if it is configured.\n     */\n    _hideDocumentOutline() {\n        if (this.editor.plugins.has('DocumentOutlineUI')) {\n            this.editor.plugins.get('DocumentOutlineUI').view.element.style.display = 'none';\n        }\n    }\n    /**\n     * Shows the document outline if it was hidden when entering the source editing.\n     */\n    _showDocumentOutline() {\n        if (this.editor.plugins.has('DocumentOutlineUI')) {\n            this.editor.plugins.get('DocumentOutlineUI').view.element.style.display = '';\n        }\n    }\n    /**\n     * Hides the annotations when entering the source editing mode and shows back them after leaving it.\n     */\n    _refreshAnnotationsVisibility() {\n        if (this.editor.plugins.has('Annotations')) {\n            this.editor.plugins.get('Annotations').refreshVisibility();\n        }\n    }\n    /**\n     * Focuses the textarea containing document source from the first editing root.\n     */\n    _focusSourceEditing() {\n        const editor = this.editor;\n        const [domSourceEditingElementWrapper] = this._replacedRoots.values();\n        const textarea = domSourceEditingElementWrapper.querySelector('textarea');\n        // The FocusObserver was disabled by View.render() while the DOM root was getting hidden and the replacer\n        // revealed the textarea. So it couldn't notice that the DOM root got blurred in the process.\n        // Let's sync this state manually here because otherwise Renderer will attempt to render selection\n        // in an invisible DOM root.\n        editor.editing.view.document.isFocused = false;\n        textarea.focus();\n    }\n    /**\n     * Disables all commands.\n     */\n    _disableCommands() {\n        const editor = this.editor;\n        for (const command of editor.commands.commands()) {\n            command.forceDisabled(COMMAND_FORCE_DISABLE_ID);\n        }\n        // Comments archive UI plugin will be disabled manually too.\n        if (editor.plugins.has('CommentsArchiveUI')) {\n            editor.plugins.get('CommentsArchiveUI').forceDisabled(COMMAND_FORCE_DISABLE_ID);\n        }\n    }\n    /**\n     * Clears forced disable for all commands, that was previously set through {@link #_disableCommands}.\n     */\n    _enableCommands() {\n        const editor = this.editor;\n        for (const command of editor.commands.commands()) {\n            command.clearForceDisabled(COMMAND_FORCE_DISABLE_ID);\n        }\n        // Comments archive UI plugin will be enabled manually too.\n        if (editor.plugins.has('CommentsArchiveUI')) {\n            editor.plugins.get('CommentsArchiveUI').clearForceDisabled(COMMAND_FORCE_DISABLE_ID);\n        }\n    }\n    /**\n     * Adds or removes the `readonly` attribute from the textarea from all roots, if document source mode is active.\n     *\n     * @param isReadOnly Indicates whether all textarea elements should be read-only.\n     */\n    _handleReadOnlyMode(isReadOnly) {\n        if (!this.isSourceEditingMode) {\n            return;\n        }\n        for (const [, domSourceEditingElementWrapper] of this._replacedRoots) {\n            domSourceEditingElementWrapper.querySelector('textarea').readOnly = isReadOnly;\n        }\n    }\n    /**\n     * Checks, if the plugin is allowed to handle the source editing mode by itself. Currently, the source editing mode is supported only\n     * for the {@link module:editor-classic/classiceditor~ClassicEditor classic editor}.\n     */\n    _isAllowedToHandleSourceEditingMode() {\n        const editor = this.editor;\n        const editable = editor.ui.view.editable;\n        // Checks, if the editor's editable belongs to the editor's DOM tree.\n        return editable && !editable.hasExternalElement;\n    }\n    /**\n     * If any {@link module:ui/dialog/dialogview~DialogView editor dialog} is currently visible, hide it.\n     */\n    _hideVisibleDialog() {\n        if (this.editor.plugins.has('Dialog')) {\n            const dialogPlugin = this.editor.plugins.get('Dialog');\n            if (dialogPlugin.isOpen) {\n                dialogPlugin.hide();\n            }\n        }\n    }\n    _createButton(ButtonClass) {\n        const editor = this.editor;\n        const buttonView = new ButtonClass(editor.locale);\n        buttonView.set({\n            withText: true,\n            isToggleable: true\n        });\n        buttonView.bind('isOn').to(this, 'isSourceEditingMode');\n        // The button should be disabled if one of the following conditions is met:\n        buttonView.bind('isEnabled').to(this, 'isEnabled', editor, 'isReadOnly', editor.plugins.get(PendingActions), 'hasAny', (isEnabled, isEditorReadOnly, hasAnyPendingActions) => {\n            // (1) The plugin itself is disabled.\n            if (!isEnabled) {\n                return false;\n            }\n            // (2) The editor is in read-only mode.\n            if (isEditorReadOnly) {\n                return false;\n            }\n            // (3) Any pending action is scheduled. It may change the model, so modifying the document source should be prevented\n            // until the model is finally set.\n            if (hasAnyPendingActions) {\n                return false;\n            }\n            return true;\n        });\n        this.listenTo(buttonView, 'execute', () => {\n            this.isSourceEditingMode = !this.isSourceEditingMode;\n        });\n        return buttonView;\n    }\n}\n/**\n * Formats the content for a better readability.\n *\n * For a non-HTML source the unchanged input string is returned.\n *\n * @param input Input string to check.\n */\nfunction formatSource(input) {\n    if (!isHtml(input)) {\n        return input;\n    }\n    return formatHtml(input);\n}\n/**\n * Checks, if the document source is HTML. It is sufficient to just check the first character from the document data.\n *\n * @param input Input string to check.\n */\nfunction isHtml(input) {\n    return input.startsWith('<');\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { ButtonView, View } from 'ckeditor5/src/ui.js';\n/**\n * A class representing an individual button (style) in the grid. Renders a rich preview of the style.\n */\nexport default class StyleGridButtonView extends ButtonView {\n    /**\n     * Definition of the style the button will apply when executed.\n     */\n    styleDefinition;\n    /**\n     * The view rendering the preview of the style.\n     */\n    previewView;\n    /**\n     * Creates an instance of the {@link module:style/ui/stylegridbuttonview~StyleGridButtonView} class.\n     *\n     * @param locale The localization services instance.\n     * @param styleDefinition Definition of the style.\n     */\n    constructor(locale, styleDefinition) {\n        super(locale);\n        this.styleDefinition = styleDefinition;\n        this.previewView = this._createPreview();\n        this.set({\n            label: styleDefinition.name,\n            class: 'ck-style-grid__button',\n            withText: true\n        });\n        this.extendTemplate({\n            attributes: {\n                role: 'option'\n            }\n        });\n        this.children.add(this.previewView, 0);\n    }\n    /**\n     * Creates the view representing the preview of the style.\n     */\n    _createPreview() {\n        const previewView = new View(this.locale);\n        previewView.setTemplate({\n            tag: 'div',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-reset_all-excluded',\n                    'ck-style-grid__button__preview',\n                    'ck-content'\n                ],\n                // The preview \"AaBbCcDdEeFfGgHhIiJj\" should not be read by screen readers because it is purely presentational.\n                'aria-hidden': 'true'\n            },\n            children: [\n                this.styleDefinition.previewTemplate\n            ]\n        });\n        return previewView;\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./stylegrid.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module style/ui/stylegridview\n */\nimport { View, addKeyboardHandlingForGrid } from 'ckeditor5/src/ui.js';\nimport { FocusTracker, KeystrokeHandler } from 'ckeditor5/src/utils.js';\nimport StyleGridButtonView from './stylegridbuttonview.js';\nimport '../../theme/stylegrid.css';\n/**\n * A class representing a grid of styles ({@link module:style/ui/stylegridbuttonview~StyleGridButtonView buttons}).\n * Allows users to select a style.\n */\nexport default class StyleGridView extends View {\n    /**\n     * Tracks information about the DOM focus in the view.\n     */\n    focusTracker;\n    /**\n     * An instance of the {@link module:utils/keystrokehandler~KeystrokeHandler}.\n     */\n    keystrokes;\n    /**\n     * A collection of style {@link module:style/ui/stylegridbuttonview~StyleGridButtonView buttons}.\n     */\n    children;\n    /**\n     * Creates an instance of the {@link module:style/ui/stylegridview~StyleGridView} class.\n     *\n     * @param locale The localization services instance.\n     * @param styleDefinitions Definitions of the styles.\n     */\n    constructor(locale, styleDefinitions) {\n        super(locale);\n        this.focusTracker = new FocusTracker();\n        this.keystrokes = new KeystrokeHandler();\n        this.set('activeStyles', []);\n        this.set('enabledStyles', []);\n        this.children = this.createCollection();\n        this.children.delegate('execute').to(this);\n        for (const definition of styleDefinitions) {\n            const gridTileView = new StyleGridButtonView(locale, definition);\n            this.children.add(gridTileView);\n        }\n        this.on('change:activeStyles', () => {\n            for (const child of this.children) {\n                child.isOn = this.activeStyles.includes(child.styleDefinition.name);\n            }\n        });\n        this.on('change:enabledStyles', () => {\n            for (const child of this.children) {\n                child.isEnabled = this.enabledStyles.includes(child.styleDefinition.name);\n            }\n        });\n        this.setTemplate({\n            tag: 'div',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-style-grid'\n                ],\n                role: 'listbox'\n            },\n            children: this.children\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    render() {\n        super.render();\n        for (const child of this.children) {\n            this.focusTracker.add(child.element);\n        }\n        addKeyboardHandlingForGrid({\n            keystrokeHandler: this.keystrokes,\n            focusTracker: this.focusTracker,\n            gridItems: this.children,\n            numberOfColumns: 3,\n            uiLanguageDirection: this.locale && this.locale.uiLanguageDirection\n        });\n        // Start listening for the keystrokes coming from the grid view.\n        this.keystrokes.listenTo(this.element);\n    }\n    /**\n     * Focuses the first style button in the grid.\n     */\n    focus() {\n        this.children.first.focus();\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        super.destroy();\n        this.focusTracker.destroy();\n        this.keystrokes.destroy();\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./stylegroup.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module style/ui/stylegroupview\n */\nimport { LabelView, View } from 'ckeditor5/src/ui.js';\nimport StyleGridView from './stylegridview.js';\nimport '../../theme/stylegroup.css';\n/**\n * A class representing a group of styles (e.g. \"block\" or \"inline\").\n *\n * Renders a {@link module:style/ui/stylegridview~StyleGridView style grid} and a label.\n */\nexport default class StyleGroupView extends View {\n    /**\n     * The styles grid of the group.\n     */\n    gridView;\n    /**\n     * The label of the group.\n     */\n    labelView;\n    /**\n     * Creates an instance of the {@link module:style/ui/stylegroupview~StyleGroupView} class.\n     *\n     * @param locale The localization services instance.\n     * @param label The localized label of the group.\n     * @param styleDefinitions Definitions of the styles in the group.\n     */\n    constructor(locale, label, styleDefinitions) {\n        super(locale);\n        this.labelView = new LabelView(locale);\n        this.labelView.text = label;\n        this.gridView = new StyleGridView(locale, styleDefinitions);\n        this.setTemplate({\n            tag: 'div',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-style-panel__style-group'\n                ],\n                role: 'group',\n                'aria-labelledby': this.labelView.id\n            },\n            children: [\n                this.labelView,\n                this.gridView\n            ]\n        });\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./stylepanel.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module style/ui/stylepanelview\n */\nimport { FocusCycler, View, ViewCollection } from 'ckeditor5/src/ui.js';\nimport { FocusTracker, KeystrokeHandler } from 'ckeditor5/src/utils.js';\nimport StyleGroupView from './stylegroupview.js';\nimport '../../theme/stylepanel.css';\n/**\n * A class representing a panel with available content styles. It renders styles in button grids, grouped\n * in categories.\n */\nexport default class StylePanelView extends View {\n    /**\n     * Tracks information about DOM focus in the panel.\n     */\n    focusTracker;\n    /**\n     * An instance of the {@link module:utils/keystrokehandler~KeystrokeHandler}.\n     */\n    keystrokes;\n    /**\n     * A collection of panel children.\n     */\n    children;\n    /**\n     * A view representing block styles group.\n     */\n    blockStylesGroupView;\n    /**\n     * A view representing inline styles group\n     */\n    inlineStylesGroupView;\n    /**\n     * A collection of views that can be focused in the panel.\n     */\n    _focusables;\n    /**\n     * Helps cycling over {@link #_focusables} in the panel.\n     */\n    _focusCycler;\n    /**\n     * Creates an instance of the {@link module:style/ui/stylegroupview~StyleGroupView} class.\n     *\n     * @param locale The localization services instance.\n     * @param styleDefinitions Normalized definitions of the styles.\n     */\n    constructor(locale, styleDefinitions) {\n        super(locale);\n        const t = locale.t;\n        this.focusTracker = new FocusTracker();\n        this.keystrokes = new KeystrokeHandler();\n        this.children = this.createCollection();\n        this.blockStylesGroupView = new StyleGroupView(locale, t('Block styles'), styleDefinitions.block);\n        this.inlineStylesGroupView = new StyleGroupView(locale, t('Text styles'), styleDefinitions.inline);\n        this.set('activeStyles', []);\n        this.set('enabledStyles', []);\n        this._focusables = new ViewCollection();\n        this._focusCycler = new FocusCycler({\n            focusables: this._focusables,\n            focusTracker: this.focusTracker,\n            keystrokeHandler: this.keystrokes,\n            actions: {\n                // Navigate style groups backwards using the <kbd>Shift</kbd> + <kbd>Tab</kbd> keystroke.\n                focusPrevious: ['shift + tab'],\n                // Navigate style groups forward using the <kbd>Tab</kbd> key.\n                focusNext: ['tab']\n            }\n        });\n        if (styleDefinitions.block.length) {\n            this.children.add(this.blockStylesGroupView);\n        }\n        if (styleDefinitions.inline.length) {\n            this.children.add(this.inlineStylesGroupView);\n        }\n        this.blockStylesGroupView.gridView.delegate('execute').to(this);\n        this.inlineStylesGroupView.gridView.delegate('execute').to(this);\n        this.blockStylesGroupView.gridView\n            .bind('activeStyles', 'enabledStyles')\n            .to(this, 'activeStyles', 'enabledStyles');\n        this.inlineStylesGroupView.gridView\n            .bind('activeStyles', 'enabledStyles')\n            .to(this, 'activeStyles', 'enabledStyles');\n        this.setTemplate({\n            tag: 'div',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-style-panel'\n                ]\n            },\n            children: this.children\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    render() {\n        super.render();\n        // Register the views as focusable.\n        this._focusables.add(this.blockStylesGroupView.gridView);\n        this._focusables.add(this.inlineStylesGroupView.gridView);\n        // Register the views in the focus tracker.\n        this.focusTracker.add(this.blockStylesGroupView.gridView.element);\n        this.focusTracker.add(this.inlineStylesGroupView.gridView.element);\n        this.keystrokes.listenTo(this.element);\n    }\n    /**\n     * Focuses the first focusable element in the panel.\n     */\n    focus() {\n        this._focusCycler.focusFirst();\n    }\n    /**\n     * Focuses the last focusable element in the panel.\n     */\n    focusLast() {\n        this._focusCycler.focusLast();\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module style/styleutils\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { isObject } from 'es-toolkit/compat';\n// These are intermediate element names that can't be rendered as style preview because they don't make sense standalone.\nconst NON_PREVIEWABLE_ELEMENT_NAMES = [\n    'caption', 'colgroup', 'dd', 'dt', 'figcaption', 'legend', 'li', 'optgroup', 'option', 'rp',\n    'rt', 'summary', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr'\n];\nexport default class StyleUtils extends Plugin {\n    _htmlSupport;\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'StyleUtils';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        this.decorate('isStyleEnabledForBlock');\n        this.decorate('isStyleActiveForBlock');\n        this.decorate('getAffectedBlocks');\n        this.decorate('isStyleEnabledForInlineSelection');\n        this.decorate('isStyleActiveForInlineSelection');\n        this.decorate('getAffectedInlineSelectable');\n        this.decorate('getStylePreview');\n        this.decorate('configureGHSDataFilter');\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        this._htmlSupport = this.editor.plugins.get('GeneralHtmlSupport');\n    }\n    /**\n     * Normalizes {@link module:style/styleconfig~StyleConfig#definitions} in the configuration of the styles feature.\n     * The structure of normalized styles looks as follows:\n     *\n     * ```ts\n     * {\n     * \tblock: [\n     * \t\t<module:style/style~StyleDefinition>,\n     * \t\t<module:style/style~StyleDefinition>,\n     * \t\t...\n     * \t],\n     * \tinline: [\n     * \t\t<module:style/style~StyleDefinition>,\n     * \t\t<module:style/style~StyleDefinition>,\n     * \t\t...\n     * \t]\n     * }\n     * ```\n     *\n     * @returns An object with normalized style definitions grouped into `block` and `inline` categories (arrays).\n     */\n    normalizeConfig(dataSchema, styleDefinitions = []) {\n        const normalizedDefinitions = {\n            block: [],\n            inline: []\n        };\n        for (const definition of styleDefinitions) {\n            const modelElements = [];\n            const ghsAttributes = [];\n            for (const ghsDefinition of dataSchema.getDefinitionsForView(definition.element)) {\n                const appliesToBlock = 'appliesToBlock' in ghsDefinition ? ghsDefinition.appliesToBlock : false;\n                if (ghsDefinition.isBlock || appliesToBlock) {\n                    if (typeof appliesToBlock == 'string') {\n                        modelElements.push(appliesToBlock);\n                    }\n                    else if (ghsDefinition.isBlock) {\n                        const ghsBlockDefinition = ghsDefinition;\n                        modelElements.push(ghsDefinition.model);\n                        if (ghsBlockDefinition.paragraphLikeModel) {\n                            modelElements.push(ghsBlockDefinition.paragraphLikeModel);\n                        }\n                    }\n                }\n                else {\n                    ghsAttributes.push(ghsDefinition.model);\n                }\n            }\n            const previewTemplate = this.getStylePreview(definition, [\n                { text: 'AaBbCcDdEeFfGgHhIiJj' }\n            ]);\n            if (modelElements.length) {\n                normalizedDefinitions.block.push({\n                    ...definition,\n                    previewTemplate,\n                    modelElements,\n                    isBlock: true\n                });\n            }\n            else {\n                normalizedDefinitions.inline.push({\n                    ...definition,\n                    previewTemplate,\n                    ghsAttributes\n                });\n            }\n        }\n        return normalizedDefinitions;\n    }\n    /**\n     * Verifies if the given style is applicable to the provided block element.\n     *\n     * @internal\n     */\n    isStyleEnabledForBlock(definition, block) {\n        const model = this.editor.model;\n        const attributeName = this._htmlSupport.getGhsAttributeNameForElement(definition.element);\n        if (!model.schema.checkAttribute(block, attributeName)) {\n            return false;\n        }\n        return definition.modelElements.includes(block.name);\n    }\n    /**\n     * Returns true if the given style is applied to the specified block element.\n     *\n     * @internal\n     */\n    isStyleActiveForBlock(definition, block) {\n        const attributeName = this._htmlSupport.getGhsAttributeNameForElement(definition.element);\n        const ghsAttributeValue = block.getAttribute(attributeName);\n        return this.hasAllClasses(ghsAttributeValue, definition.classes);\n    }\n    /**\n     * Returns an array of block elements that style should be applied to.\n     *\n     * @internal\n     */\n    getAffectedBlocks(definition, block) {\n        if (definition.modelElements.includes(block.name)) {\n            return [block];\n        }\n        return null;\n    }\n    /**\n     * Verifies if the given style is applicable to the provided document selection.\n     *\n     * @internal\n     */\n    isStyleEnabledForInlineSelection(definition, selection) {\n        const model = this.editor.model;\n        for (const ghsAttributeName of definition.ghsAttributes) {\n            if (model.schema.checkAttributeInSelection(selection, ghsAttributeName)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    /**\n     * Returns true if the given style is applied to the specified document selection.\n     *\n     * @internal\n     */\n    isStyleActiveForInlineSelection(definition, selection) {\n        for (const ghsAttributeName of definition.ghsAttributes) {\n            const ghsAttributeValue = this._getValueFromFirstAllowedNode(selection, ghsAttributeName);\n            if (this.hasAllClasses(ghsAttributeValue, definition.classes)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    /**\n     * Returns a selectable that given style should be applied to.\n     *\n     * @internal\n     */\n    getAffectedInlineSelectable(definition, selection) {\n        return selection;\n    }\n    /**\n     * Returns the `TemplateDefinition` used by styles dropdown to render style preview.\n     *\n     * @internal\n     */\n    getStylePreview(definition, children) {\n        const { element, classes } = definition;\n        return {\n            tag: isPreviewable(element) ? element : 'div',\n            attributes: {\n                class: classes\n            },\n            children\n        };\n    }\n    /**\n     * Verifies if all classes are present in the given GHS attribute.\n     *\n     * @internal\n     */\n    hasAllClasses(ghsAttributeValue, classes) {\n        return isObject(ghsAttributeValue) &&\n            hasClassesProperty(ghsAttributeValue) &&\n            classes.every(className => ghsAttributeValue.classes.includes(className));\n    }\n    /**\n     * This is where the styles feature configures the GHS feature. This method translates normalized\n     * {@link module:style/styleconfig~StyleDefinition style definitions} to\n     * {@link module:engine/view/matcher~MatcherObjectPattern matcher patterns} and feeds them to the GHS\n     * {@link module:html-support/datafilter~DataFilter} plugin.\n     *\n     * @internal\n     */\n    configureGHSDataFilter({ block, inline }) {\n        const ghsDataFilter = this.editor.plugins.get('DataFilter');\n        ghsDataFilter.loadAllowedConfig(block.map(normalizedStyleDefinitionToMatcherPattern));\n        ghsDataFilter.loadAllowedConfig(inline.map(normalizedStyleDefinitionToMatcherPattern));\n    }\n    /**\n     * Checks the attribute value of the first node in the selection that allows the attribute.\n     * For the collapsed selection, returns the selection attribute.\n     *\n     * @param selection The document selection.\n     * @param attributeName Name of the GHS attribute.\n     * @returns The attribute value.\n     */\n    _getValueFromFirstAllowedNode(selection, attributeName) {\n        const model = this.editor.model;\n        const schema = model.schema;\n        if (selection.isCollapsed) {\n            return selection.getAttribute(attributeName);\n        }\n        for (const range of selection.getRanges()) {\n            for (const item of range.getItems()) {\n                if (schema.checkAttribute(item, attributeName)) {\n                    return item.getAttribute(attributeName);\n                }\n            }\n        }\n        return null;\n    }\n}\n/**\n * Checks if given object has `classes` property which is an array.\n *\n * @param obj Object to check.\n */\nfunction hasClassesProperty(obj) {\n    return Boolean(obj.classes) && Array.isArray(obj.classes);\n}\n/**\n * Decides whether an element should be created in the preview or a substitute `<div>` should\n * be used instead. This avoids previewing a standalone `<td>`, `<li>`, etc. without a parent.\n *\n * @param elementName Name of the element\n * @returns Boolean indicating whether the element can be rendered.\n */\nfunction isPreviewable(elementName) {\n    return !NON_PREVIEWABLE_ELEMENT_NAMES.includes(elementName);\n}\n/**\n * Translates a normalized style definition to a view matcher pattern.\n */\nfunction normalizedStyleDefinitionToMatcherPattern({ element, classes }) {\n    return {\n        name: element,\n        classes\n    };\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./style.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module style/styleui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { createDropdown } from 'ckeditor5/src/ui.js';\nimport StylePanelView from './ui/stylepanelview.js';\nimport StyleUtils from './styleutils.js';\nimport '../theme/style.css';\n/**\n * The UI plugin of the style feature .\n *\n * It registers the `'style'` UI dropdown in the editor's {@link module:ui/componentfactory~ComponentFactory component factory}\n * that displays a grid of styles and allows changing styles of the content.\n */\nexport default class StyleUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'StyleUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [StyleUtils];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const dataSchema = editor.plugins.get('DataSchema');\n        const styleUtils = editor.plugins.get('StyleUtils');\n        const styleDefinitions = editor.config.get('style.definitions');\n        const normalizedStyleDefinitions = styleUtils.normalizeConfig(dataSchema, styleDefinitions);\n        // Add the dropdown to the component factory.\n        editor.ui.componentFactory.add('style', locale => {\n            const t = locale.t;\n            const dropdown = createDropdown(locale);\n            const styleCommand = editor.commands.get('style');\n            dropdown.once('change:isOpen', () => {\n                const panelView = new StylePanelView(locale, normalizedStyleDefinitions);\n                // Put the styles panel is the dropdown.\n                dropdown.panelView.children.add(panelView);\n                // Close the dropdown when a style is selected in the styles panel.\n                panelView.delegate('execute').to(dropdown);\n                // Bind the state of the styles panel to the command.\n                panelView.bind('activeStyles').to(styleCommand, 'value');\n                panelView.bind('enabledStyles').to(styleCommand, 'enabledStyles');\n            });\n            // The entire dropdown will be disabled together with the command (e.g. when the editor goes read-only).\n            dropdown.bind('isEnabled').to(styleCommand);\n            // This dropdown has no icon. It displays text label depending on the selection.\n            dropdown.buttonView.withText = true;\n            // The label of the dropdown is dynamic and depends on how many styles are active at a time.\n            dropdown.buttonView.bind('label').to(styleCommand, 'value', value => {\n                if (value.length > 1) {\n                    return t('Multiple styles');\n                }\n                else if (value.length === 1) {\n                    return value[0];\n                }\n                else {\n                    return t('Styles');\n                }\n            });\n            // The dropdown has a static CSS class for easy customization. There's another CSS class\n            // that gets displayed when multiple styles are active at a time allowing visual customization of\n            // the label.\n            dropdown.bind('class').to(styleCommand, 'value', value => {\n                const classes = [\n                    'ck-style-dropdown'\n                ];\n                if (value.length > 1) {\n                    classes.push('ck-style-dropdown_multiple-active');\n                }\n                return classes.join(' ');\n            });\n            // Execute the command when a style is selected in the styles panel.\n            // Also focus the editable after executing the command.\n            // It overrides a default behaviour where the focus is moved to the dropdown button (#12125).\n            dropdown.on('execute', evt => {\n                editor.execute('style', { styleName: evt.source.styleDefinition.name });\n                editor.editing.view.focus();\n            });\n            return dropdown;\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { logWarning, first } from 'ckeditor5/src/utils.js';\nimport StyleUtils from './styleutils.js';\n/**\n * Style command.\n *\n * Applies and removes styles from selection and elements.\n */\nexport default class StyleCommand extends Command {\n    /**\n     * Normalized definitions of the styles.\n     */\n    _styleDefinitions;\n    /**\n     * The StyleUtils plugin.\n     */\n    _styleUtils;\n    /**\n     * Creates an instance of the command.\n     *\n     * @param editor Editor on which this command will be used.\n     * @param styleDefinitions Normalized definitions of the styles.\n     */\n    constructor(editor, styleDefinitions) {\n        super(editor);\n        this.set('value', []);\n        this.set('enabledStyles', []);\n        this._styleDefinitions = styleDefinitions;\n        this._styleUtils = this.editor.plugins.get(StyleUtils);\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        const value = new Set();\n        const enabledStyles = new Set();\n        // Inline styles.\n        for (const definition of this._styleDefinitions.inline) {\n            // Check if this inline style is enabled.\n            if (this._styleUtils.isStyleEnabledForInlineSelection(definition, selection)) {\n                enabledStyles.add(definition.name);\n            }\n            // Check if this inline style is active.\n            if (this._styleUtils.isStyleActiveForInlineSelection(definition, selection)) {\n                value.add(definition.name);\n            }\n        }\n        // Block styles.\n        const firstBlock = first(selection.getSelectedBlocks()) || selection.getFirstPosition().parent;\n        if (firstBlock) {\n            const ancestorBlocks = firstBlock.getAncestors({ includeSelf: true, parentFirst: true });\n            for (const block of ancestorBlocks) {\n                if (block.is('rootElement')) {\n                    break;\n                }\n                for (const definition of this._styleDefinitions.block) {\n                    // Check if this block style is enabled.\n                    if (!this._styleUtils.isStyleEnabledForBlock(definition, block)) {\n                        continue;\n                    }\n                    enabledStyles.add(definition.name);\n                    // Check if this block style is active.\n                    if (this._styleUtils.isStyleActiveForBlock(definition, block)) {\n                        value.add(definition.name);\n                    }\n                }\n                // E.g. reached a model table when the selection is in a cell. The command should not modify\n                // ancestors of a table.\n                if (model.schema.isObject(block)) {\n                    break;\n                }\n            }\n        }\n        this.enabledStyles = Array.from(enabledStyles).sort();\n        this.isEnabled = this.enabledStyles.length > 0;\n        this.value = this.isEnabled ? Array.from(value).sort() : [];\n    }\n    /**\n     * Executes the command &ndash; applies the style classes to the selection or removes it from the selection.\n     *\n     * If the command value already contains the requested style, it will remove the style classes. Otherwise, it will set it.\n     *\n     * The execution result differs, depending on the {@link module:engine/model/document~Document#selection} and the\n     * style type (inline or block):\n     *\n     * * When applying inline styles:\n     *   * If the selection is on a range, the command applies the style classes to all nodes in that range.\n     *   * If the selection is collapsed in a non-empty node, the command applies the style classes to the\n     * {@link module:engine/model/document~Document#selection}.\n     *\n     * * When applying block styles:\n     *   * If the selection is on a range, the command applies the style classes to the nearest block parent element.\n     *\n     * @fires execute\n     * @param options Command options.\n     * @param options.styleName Style name matching the one defined in the\n     * {@link module:style/styleconfig~StyleConfig#definitions configuration}.\n     * @param options.forceValue Whether the command should add given style (`true`) or remove it (`false`) from the selection.\n     * If not set (default), the command will toggle the style basing on the first selected node. Note, that this will not force\n     * setting a style on an element that cannot receive given style.\n     */\n    execute({ styleName, forceValue }) {\n        if (!this.enabledStyles.includes(styleName)) {\n            /**\n             * Style command can be executed only with a correct style name.\n             *\n             * This warning may be caused by:\n             *\n             * * passing a name that is not specified in the {@link module:style/styleconfig~StyleConfig#definitions configuration}\n             * (e.g. a CSS class name),\n             * * when trying to apply a style that is not allowed on a given element.\n             *\n             * @error style-command-executed-with-incorrect-style-name\n             */\n            logWarning('style-command-executed-with-incorrect-style-name');\n            return;\n        }\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        const htmlSupport = this.editor.plugins.get('GeneralHtmlSupport');\n        const allDefinitions = [\n            ...this._styleDefinitions.inline,\n            ...this._styleDefinitions.block\n        ];\n        const activeDefinitions = allDefinitions.filter(({ name }) => this.value.includes(name));\n        const definition = allDefinitions.find(({ name }) => name == styleName);\n        const shouldAddStyle = forceValue === undefined ? !this.value.includes(definition.name) : forceValue;\n        model.change(() => {\n            let selectables;\n            if (isBlockStyleDefinition(definition)) {\n                selectables = this._findAffectedBlocks(getBlocksFromSelection(selection), definition);\n            }\n            else {\n                selectables = [this._styleUtils.getAffectedInlineSelectable(definition, selection)];\n            }\n            for (const selectable of selectables) {\n                if (shouldAddStyle) {\n                    htmlSupport.addModelHtmlClass(definition.element, definition.classes, selectable);\n                }\n                else {\n                    htmlSupport.removeModelHtmlClass(definition.element, getDefinitionExclusiveClasses(activeDefinitions, definition), selectable);\n                }\n            }\n        });\n    }\n    /**\n     * Returns a set of elements that should be affected by the block-style change.\n     */\n    _findAffectedBlocks(selectedBlocks, definition) {\n        const blocks = new Set();\n        for (const selectedBlock of selectedBlocks) {\n            const ancestorBlocks = selectedBlock.getAncestors({ includeSelf: true, parentFirst: true });\n            for (const block of ancestorBlocks) {\n                if (block.is('rootElement')) {\n                    break;\n                }\n                const affectedBlocks = this._styleUtils.getAffectedBlocks(definition, block);\n                if (affectedBlocks) {\n                    for (const affectedBlock of affectedBlocks) {\n                        blocks.add(affectedBlock);\n                    }\n                    break;\n                }\n            }\n        }\n        return blocks;\n    }\n}\n/**\n * Returns classes that are defined only in the supplied definition and not in any other active definition. It's used\n * to ensure that classes used by other definitions are preserved when a style is removed. See #11748.\n *\n * @param activeDefinitions All currently active definitions affecting selected element(s).\n * @param definition Definition whose classes will be compared with all other active definition classes.\n * @returns Array of classes exclusive to the supplied definition.\n */\nfunction getDefinitionExclusiveClasses(activeDefinitions, definition) {\n    return activeDefinitions.reduce((classes, currentDefinition) => {\n        if (currentDefinition.name === definition.name) {\n            return classes;\n        }\n        return classes.filter(className => !currentDefinition.classes.includes(className));\n    }, definition.classes);\n}\n/**\n * Checks if provided style definition is of type block.\n */\nfunction isBlockStyleDefinition(definition) {\n    return 'isBlock' in definition;\n}\n/**\n * Gets block elements from selection. If there are none, returns first selected element.\n * @param selection Current document's selection.\n * @returns Selected blocks if there are any, first selected element otherwise.\n */\nfunction getBlocksFromSelection(selection) {\n    const blocks = Array.from(selection.getSelectedBlocks());\n    if (blocks.length) {\n        return blocks;\n    }\n    return [selection.getFirstPosition().parent];\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module style/integrations/list\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport StyleUtils from '../styleutils.js';\nexport default class ListStyleSupport extends Plugin {\n    _listUtils;\n    _styleUtils;\n    _htmlSupport;\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ListStyleSupport';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [StyleUtils, 'GeneralHtmlSupport'];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        if (!editor.plugins.has('ListEditing')) {\n            return;\n        }\n        this._styleUtils = editor.plugins.get(StyleUtils);\n        this._listUtils = this.editor.plugins.get('ListUtils');\n        this._htmlSupport = this.editor.plugins.get('GeneralHtmlSupport');\n        this.listenTo(this._styleUtils, 'isStyleEnabledForBlock', (evt, [definition, block]) => {\n            if (this._isStyleEnabledForBlock(definition, block)) {\n                evt.return = true;\n                evt.stop();\n            }\n        }, { priority: 'high' });\n        this.listenTo(this._styleUtils, 'isStyleActiveForBlock', (evt, [definition, block]) => {\n            if (this._isStyleActiveForBlock(definition, block)) {\n                evt.return = true;\n                evt.stop();\n            }\n        }, { priority: 'high' });\n        this.listenTo(this._styleUtils, 'getAffectedBlocks', (evt, [definition, block]) => {\n            const blocks = this._getAffectedBlocks(definition, block);\n            if (blocks) {\n                evt.return = blocks;\n                evt.stop();\n            }\n        }, { priority: 'high' });\n        this.listenTo(this._styleUtils, 'getStylePreview', (evt, [definition, children]) => {\n            const templateDefinition = this._getStylePreview(definition, children);\n            if (templateDefinition) {\n                evt.return = templateDefinition;\n                evt.stop();\n            }\n        }, { priority: 'high' });\n    }\n    /**\n     * Verifies if the given style is applicable to the provided block element.\n     */\n    _isStyleEnabledForBlock(definition, block) {\n        const model = this.editor.model;\n        if (!['ol', 'ul', 'li'].includes(definition.element)) {\n            return false;\n        }\n        if (!this._listUtils.isListItemBlock(block)) {\n            return false;\n        }\n        const attributeName = this._htmlSupport.getGhsAttributeNameForElement(definition.element);\n        if (definition.element == 'ol' || definition.element == 'ul') {\n            if (!model.schema.checkAttribute(block, attributeName)) {\n                return false;\n            }\n            const isNumbered = this._listUtils.isNumberedListType(block.getAttribute('listType'));\n            const viewElementName = isNumbered ? 'ol' : 'ul';\n            return definition.element == viewElementName;\n        }\n        else {\n            return model.schema.checkAttribute(block, attributeName);\n        }\n    }\n    /**\n     * Returns true if the given style is applied to the specified block element.\n     */\n    _isStyleActiveForBlock(definition, block) {\n        const attributeName = this._htmlSupport.getGhsAttributeNameForElement(definition.element);\n        const ghsAttributeValue = block.getAttribute(attributeName);\n        return this._styleUtils.hasAllClasses(ghsAttributeValue, definition.classes);\n    }\n    /**\n     * Returns an array of block elements that style should be applied to.\n     */\n    _getAffectedBlocks(definition, block) {\n        if (!this._isStyleEnabledForBlock(definition, block)) {\n            return null;\n        }\n        if (definition.element == 'li') {\n            return this._listUtils.expandListBlocksToCompleteItems(block, { withNested: false });\n        }\n        else {\n            return this._listUtils.expandListBlocksToCompleteList(block);\n        }\n    }\n    /**\n     * Returns a view template definition for the style preview.\n     */\n    _getStylePreview(definition, children) {\n        const { element, classes } = definition;\n        if (element == 'ol' || element == 'ul') {\n            return {\n                tag: element,\n                attributes: {\n                    class: classes\n                },\n                children: [\n                    {\n                        tag: 'li',\n                        children\n                    }\n                ]\n            };\n        }\n        else if (element == 'li') {\n            return {\n                tag: 'ol',\n                children: [\n                    {\n                        tag: element,\n                        attributes: {\n                            class: classes\n                        },\n                        children\n                    }\n                ]\n            };\n        }\n        return null;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module style/integrations/table\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport StyleUtils from '../styleutils.js';\nexport default class TableStyleSupport extends Plugin {\n    _tableUtils;\n    _styleUtils;\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TableStyleSupport';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [StyleUtils];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        if (!editor.plugins.has('TableEditing')) {\n            return;\n        }\n        this._styleUtils = editor.plugins.get(StyleUtils);\n        this._tableUtils = this.editor.plugins.get('TableUtils');\n        this.listenTo(this._styleUtils, 'isStyleEnabledForBlock', (evt, [definition, block]) => {\n            if (this._isApplicable(definition, block)) {\n                evt.return = this._isStyleEnabledForBlock(definition, block);\n                evt.stop();\n            }\n        }, { priority: 'high' });\n        this.listenTo(this._styleUtils, 'getAffectedBlocks', (evt, [definition, block]) => {\n            if (this._isApplicable(definition, block)) {\n                evt.return = this._getAffectedBlocks(definition, block);\n                evt.stop();\n            }\n        }, { priority: 'high' });\n        this.listenTo(this._styleUtils, 'configureGHSDataFilter', (evt, [{ block }]) => {\n            const ghsDataFilter = this.editor.plugins.get('DataFilter');\n            ghsDataFilter.loadAllowedConfig(block\n                .filter(definition => definition.element == 'figcaption')\n                .map(definition => ({ name: 'caption', classes: definition.classes })));\n        });\n    }\n    /**\n     * Checks if this plugin's custom logic should be applied for defintion-block pair.\n     *\n     * @param definition Style definition that is being considered.\n     * @param block Block element to check if should be styled.\n     * @returns True if the defintion-block pair meet the plugin criteria, false otherwise.\n     */\n    _isApplicable(definition, block) {\n        if (['td', 'th'].includes(definition.element)) {\n            return block.name == 'tableCell';\n        }\n        if (['thead', 'tbody'].includes(definition.element)) {\n            return block.name == 'table';\n        }\n        return false;\n    }\n    /**\n     * Checks if the style definition should be applied to selected block.\n     *\n     * @param definition Style definition that is being considered.\n     * @param block Block element to check if should be styled.\n     * @returns True if the block should be style with the style description, false otherwise.\n     */\n    _isStyleEnabledForBlock(definition, block) {\n        if (['td', 'th'].includes(definition.element)) {\n            const location = this._tableUtils.getCellLocation(block);\n            const tableRow = block.parent;\n            const table = tableRow.parent;\n            const headingRows = table.getAttribute('headingRows') || 0;\n            const headingColumns = table.getAttribute('headingColumns') || 0;\n            const isHeadingCell = location.row < headingRows || location.column < headingColumns;\n            if (definition.element == 'th') {\n                return isHeadingCell;\n            }\n            else {\n                return !isHeadingCell;\n            }\n        }\n        if (['thead', 'tbody'].includes(definition.element)) {\n            const headingRows = block.getAttribute('headingRows') || 0;\n            if (definition.element == 'thead') {\n                return headingRows > 0;\n            }\n            else {\n                return headingRows < this._tableUtils.getRows(block);\n            }\n        }\n        /* istanbul ignore next -- @preserve */\n        return false;\n    }\n    /**\n     * Gets all blocks that the style should be applied to.\n     *\n     * @param definition Style definition that is being considered.\n     * @param block A block element from selection.\n     * @returns An array with the block that was passed as an argument if meets the criteria, null otherwise.\n     */\n    _getAffectedBlocks(definition, block) {\n        if (!this._isStyleEnabledForBlock(definition, block)) {\n            return null;\n        }\n        return [block];\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module style/integrations/link\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { findAttributeRange, findAttributeRangeBound } from 'ckeditor5/src/typing.js';\nimport StyleUtils from '../styleutils.js';\nexport default class LinkStyleSupport extends Plugin {\n    _styleUtils;\n    _htmlSupport;\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'LinkStyleSupport';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [StyleUtils, 'GeneralHtmlSupport'];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        if (!editor.plugins.has('LinkEditing')) {\n            return;\n        }\n        this._styleUtils = editor.plugins.get(StyleUtils);\n        this._htmlSupport = this.editor.plugins.get('GeneralHtmlSupport');\n        this.listenTo(this._styleUtils, 'isStyleEnabledForInlineSelection', (evt, [definition, selection]) => {\n            if (definition.element == 'a') {\n                evt.return = this._isStyleEnabled(definition, selection);\n                evt.stop();\n            }\n        }, { priority: 'high' });\n        this.listenTo(this._styleUtils, 'isStyleActiveForInlineSelection', (evt, [definition, selection]) => {\n            if (definition.element == 'a') {\n                evt.return = this._isStyleActive(definition, selection);\n                evt.stop();\n            }\n        }, { priority: 'high' });\n        this.listenTo(this._styleUtils, 'getAffectedInlineSelectable', (evt, [definition, selection]) => {\n            if (definition.element != 'a') {\n                return;\n            }\n            const selectable = this._getAffectedSelectable(definition, selection);\n            if (selectable) {\n                evt.return = selectable;\n                evt.stop();\n            }\n        }, { priority: 'high' });\n    }\n    /**\n     * Verifies if the given style is applicable to the provided document selection.\n     */\n    _isStyleEnabled(definition, selection) {\n        const model = this.editor.model;\n        // Handle collapsed selection.\n        if (selection.isCollapsed) {\n            return selection.hasAttribute('linkHref');\n        }\n        // Non-collapsed selection.\n        for (const range of selection.getRanges()) {\n            for (const item of range.getItems()) {\n                if ((item.is('$textProxy') || model.schema.isInline(item)) && item.hasAttribute('linkHref')) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n    /**\n     * Returns true if the given style is applied to the specified document selection.\n     */\n    _isStyleActive(definition, selection) {\n        const model = this.editor.model;\n        const attributeName = this._htmlSupport.getGhsAttributeNameForElement(definition.element);\n        // Handle collapsed selection.\n        if (selection.isCollapsed) {\n            if (selection.hasAttribute('linkHref')) {\n                const ghsAttributeValue = selection.getAttribute(attributeName);\n                if (this._styleUtils.hasAllClasses(ghsAttributeValue, definition.classes)) {\n                    return true;\n                }\n            }\n            return false;\n        }\n        // Non-collapsed selection.\n        for (const range of selection.getRanges()) {\n            for (const item of range.getItems()) {\n                if ((item.is('$textProxy') || model.schema.isInline(item)) && item.hasAttribute('linkHref')) {\n                    const ghsAttributeValue = item.getAttribute(attributeName);\n                    return this._styleUtils.hasAllClasses(ghsAttributeValue, definition.classes);\n                }\n            }\n        }\n        return false;\n    }\n    /**\n     * Returns a selectable that given style should be applied to.\n     */\n    _getAffectedSelectable(definition, selection) {\n        const model = this.editor.model;\n        // Handle collapsed selection.\n        if (selection.isCollapsed) {\n            const linkHref = selection.getAttribute('linkHref');\n            return findAttributeRange(selection.getFirstPosition(), 'linkHref', linkHref, model);\n        }\n        // Non-collapsed selection.\n        const ranges = [];\n        for (const range of selection.getRanges()) {\n            // First expand range to include the whole link.\n            const expandedRange = model.createRange(expandAttributePosition(range.start, 'linkHref', true, model), expandAttributePosition(range.end, 'linkHref', false, model));\n            // Pick only ranges on links.\n            for (const item of expandedRange.getItems()) {\n                if ((item.is('$textProxy') || model.schema.isInline(item)) && item.hasAttribute('linkHref')) {\n                    ranges.push(this.editor.model.createRangeOn(item));\n                }\n            }\n        }\n        // Make sure that we have a continuous range on a link\n        // (not split between text nodes with mixed attributes like bold etc.)\n        return normalizeRanges(ranges);\n    }\n}\n/**\n * Walks forward or backward (depends on the `lookBack` flag), node by node, as long as they have the same attribute value\n * and returns a position just before or after (depends on the `lookBack` flag) the last matched node.\n */\nfunction expandAttributePosition(position, attributeName, lookBack, model) {\n    const referenceNode = position.textNode || (lookBack ? position.nodeAfter : position.nodeBefore);\n    if (!referenceNode || !referenceNode.hasAttribute(attributeName)) {\n        return position;\n    }\n    const attributeValue = referenceNode.getAttribute(attributeName);\n    return findAttributeRangeBound(position, attributeName, attributeValue, lookBack, model);\n}\n/**\n * Normalizes list of ranges by joining intersecting or \"touching\" ranges.\n *\n * Note: It assumes that ranges are sorted.\n */\nfunction normalizeRanges(ranges) {\n    for (let i = 1; i < ranges.length; i++) {\n        const joinedRange = ranges[i - 1].getJoined(ranges[i]);\n        if (joinedRange) {\n            // Replace the ranges on the list with the new joined range.\n            ranges.splice(--i, 2, joinedRange);\n        }\n    }\n    return ranges;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module style/styleediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport StyleCommand from './stylecommand.js';\nimport StyleUtils from './styleutils.js';\nimport ListStyleSupport from './integrations/list.js';\nimport TableStyleSupport from './integrations/table.js';\nimport LinkStyleSupport from './integrations/link.js';\n/**\n * The style engine feature.\n *\n * It configures the {@glink features/html/general-html-support General HTML Support feature} based on\n * {@link module:style/styleconfig~StyleConfig#definitions configured style definitions} and introduces the\n * {@link module:style/stylecommand~StyleCommand style command} that applies styles to the content of the document.\n */\nexport default class StyleEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'StyleEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return ['GeneralHtmlSupport', StyleUtils, ListStyleSupport, TableStyleSupport, LinkStyleSupport];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const dataSchema = editor.plugins.get('DataSchema');\n        const styleUtils = editor.plugins.get('StyleUtils');\n        const styleDefinitions = editor.config.get('style.definitions');\n        const normalizedStyleDefinitions = styleUtils.normalizeConfig(dataSchema, styleDefinitions);\n        editor.commands.add('style', new StyleCommand(editor, normalizedStyleDefinitions));\n        styleUtils.configureGHSDataFilter(normalizedStyleDefinitions);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module style/style\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport StyleUI from './styleui.js';\nimport StyleEditing from './styleediting.js';\n/**\n * The style plugin.\n *\n * This is a \"glue\" plugin that loads the {@link module:style/styleediting~StyleEditing style editing feature}\n * and {@link module:style/styleui~StyleUI style UI feature}.\n */\nexport default class Style extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'Style';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [StyleEditing, StyleUI];\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { first } from 'ckeditor5/src/utils.js';\n/**\n * Conversion helper for upcasting attributes using normalized styles.\n *\n * @param options.modelAttribute The attribute to set.\n * @param options.styleName The style name to convert.\n * @param options.viewElement The view element name that should be converted.\n * @param options.defaultValue The default value for the specified `modelAttribute`.\n * @param options.shouldUpcast The function which returns `true` if style should be upcasted from this element.\n */\nexport function upcastStyleToAttribute(conversion, options) {\n    const { modelAttribute, styleName, viewElement, defaultValue, reduceBoxSides = false, shouldUpcast = () => true } = options;\n    conversion.for('upcast').attributeToAttribute({\n        view: {\n            name: viewElement,\n            styles: {\n                [styleName]: /[\\s\\S]+/\n            }\n        },\n        model: {\n            key: modelAttribute,\n            value: (viewElement, conversionApi, data) => {\n                if (!shouldUpcast(viewElement)) {\n                    return;\n                }\n                const localDefaultValue = getDefaultValueAdjusted(defaultValue, '', data);\n                const normalized = viewElement.getNormalizedStyle(styleName);\n                const value = reduceBoxSides ? reduceBoxSidesValue(normalized) : normalized;\n                if (localDefaultValue !== value) {\n                    return value;\n                }\n            }\n        }\n    });\n}\n/**\n * Conversion helper for upcasting border styles for view elements.\n *\n * @param defaultBorder The default border values.\n * @param defaultBorder.color The default `borderColor` value.\n * @param defaultBorder.style The default `borderStyle` value.\n * @param defaultBorder.width The default `borderWidth` value.\n */\nexport function upcastBorderStyles(conversion, viewElementName, modelAttributes, defaultBorder) {\n    conversion.for('upcast').add(dispatcher => dispatcher.on('element:' + viewElementName, (evt, data, conversionApi) => {\n        // If the element was not converted by element-to-element converter,\n        // we should not try to convert the style. See #8393.\n        if (!data.modelRange) {\n            return;\n        }\n        // Check the most detailed properties. These will be always set directly or\n        // when using the \"group\" properties like: `border-(top|right|bottom|left)` or `border`.\n        const stylesToConsume = [\n            'border-top-width',\n            'border-top-color',\n            'border-top-style',\n            'border-bottom-width',\n            'border-bottom-color',\n            'border-bottom-style',\n            'border-right-width',\n            'border-right-color',\n            'border-right-style',\n            'border-left-width',\n            'border-left-color',\n            'border-left-style'\n        ].filter(styleName => data.viewItem.hasStyle(styleName));\n        if (!stylesToConsume.length) {\n            return;\n        }\n        const matcherPattern = {\n            styles: stylesToConsume\n        };\n        // Try to consume appropriate values from consumable values list.\n        if (!conversionApi.consumable.test(data.viewItem, matcherPattern)) {\n            return;\n        }\n        const modelElement = [...data.modelRange.getItems({ shallow: true })].pop();\n        const tableElement = modelElement.findAncestor('table', { includeSelf: true });\n        let localDefaultBorder = defaultBorder;\n        if (tableElement && tableElement.getAttribute('tableType') == 'layout') {\n            localDefaultBorder = {\n                style: 'none',\n                color: '',\n                width: ''\n            };\n        }\n        conversionApi.consumable.consume(data.viewItem, matcherPattern);\n        const normalizedBorder = {\n            style: data.viewItem.getNormalizedStyle('border-style'),\n            color: data.viewItem.getNormalizedStyle('border-color'),\n            width: data.viewItem.getNormalizedStyle('border-width')\n        };\n        const reducedBorder = {\n            style: reduceBoxSidesValue(normalizedBorder.style),\n            color: reduceBoxSidesValue(normalizedBorder.color),\n            width: reduceBoxSidesValue(normalizedBorder.width)\n        };\n        if (reducedBorder.style !== localDefaultBorder.style) {\n            conversionApi.writer.setAttribute(modelAttributes.style, reducedBorder.style, modelElement);\n        }\n        if (reducedBorder.color !== localDefaultBorder.color) {\n            conversionApi.writer.setAttribute(modelAttributes.color, reducedBorder.color, modelElement);\n        }\n        if (reducedBorder.width !== localDefaultBorder.width) {\n            conversionApi.writer.setAttribute(modelAttributes.width, reducedBorder.width, modelElement);\n        }\n    }));\n}\n/**\n * Conversion helper for downcasting an attribute to a style.\n */\nexport function downcastAttributeToStyle(conversion, options) {\n    const { modelElement, modelAttribute, styleName } = options;\n    conversion.for('downcast').attributeToAttribute({\n        model: {\n            name: modelElement,\n            key: modelAttribute\n        },\n        view: modelAttributeValue => ({\n            key: 'style',\n            value: {\n                [styleName]: modelAttributeValue\n            }\n        })\n    });\n}\n/**\n * Conversion helper for downcasting attributes from the model table to a view table (not to `<figure>`).\n */\nexport function downcastTableAttribute(conversion, options) {\n    const { modelAttribute, styleName } = options;\n    conversion.for('downcast').add(dispatcher => dispatcher.on(`attribute:${modelAttribute}:table`, (evt, data, conversionApi) => {\n        const { item, attributeNewValue } = data;\n        const { mapper, writer } = conversionApi;\n        if (!conversionApi.consumable.consume(data.item, evt.name)) {\n            return;\n        }\n        const table = [...mapper.toViewElement(item).getChildren()].find(child => child.is('element', 'table'));\n        if (attributeNewValue) {\n            writer.setStyle(styleName, attributeNewValue, table);\n        }\n        else {\n            writer.removeStyle(styleName, table);\n        }\n    }));\n}\n/**\n * Returns the default value for table or table cell property adjusted for layout tables.\n */\nexport function getDefaultValueAdjusted(defaultValue, layoutTableDefault, data) {\n    const modelElement = data.modelRange && first(data.modelRange.getItems({ shallow: true }));\n    const tableElement = modelElement && modelElement.is('element') && modelElement.findAncestor('table', { includeSelf: true });\n    if (tableElement && tableElement.getAttribute('tableType') === 'layout') {\n        return layoutTableDefault;\n    }\n    return defaultValue;\n}\n/**\n * Reduces the full top, right, bottom, left object to a single string if all sides are equal.\n * Returns original style otherwise.\n */\nfunction reduceBoxSidesValue(style) {\n    if (!style) {\n        return;\n    }\n    const sides = ['top', 'right', 'bottom', 'left'];\n    const allSidesDefined = sides.every(side => style[side]);\n    if (!allSidesDefined) {\n        return style;\n    }\n    const topSideStyle = style.top;\n    const allSidesEqual = sides.every(side => style[side] === topSideStyle);\n    if (!allSidesEqual) {\n        return style;\n    }\n    return topSideStyle;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { downcastAttributeToStyle, upcastStyleToAttribute } from './../converters/tableproperties.js';\n/**\n * A common method to update the numeric value. If a value is the default one, it will be unset.\n *\n * @param key An attribute key.\n * @param value The new attribute value.\n * @param item A model item on which the attribute will be set.\n * @param defaultValue The default attribute value. If a value is lower or equal, it will be unset.\n */\nexport function updateNumericAttribute(key, value, item, writer, defaultValue = 1) {\n    if (value !== undefined && value !== null && defaultValue !== undefined && defaultValue !== null && value > defaultValue) {\n        writer.setAttribute(key, value, item);\n    }\n    else {\n        writer.removeAttribute(key, item);\n    }\n}\n/**\n * A common method to create an empty table cell. It creates a proper model structure as a table cell must have at least one block inside.\n *\n * @param writer The model writer.\n * @param insertPosition The position at which the table cell should be inserted.\n * @param attributes The element attributes.\n * @returns Created table cell.\n */\nexport function createEmptyTableCell(writer, insertPosition, attributes = {}) {\n    const tableCell = writer.createElement('tableCell', attributes);\n    writer.insertElement('paragraph', tableCell);\n    writer.insert(tableCell, insertPosition);\n    return tableCell;\n}\n/**\n * Checks if a table cell belongs to the heading column section.\n */\nexport function isHeadingColumnCell(tableUtils, tableCell) {\n    const table = tableCell.parent.parent;\n    const headingColumns = parseInt(table.getAttribute('headingColumns') || '0');\n    const { column } = tableUtils.getCellLocation(tableCell);\n    return !!headingColumns && column < headingColumns;\n}\n/**\n * Enables conversion for an attribute for simple view-model mappings.\n *\n * @param options.defaultValue The default value for the specified `modelAttribute`.\n */\nexport function enableProperty(schema, conversion, options) {\n    const { modelAttribute } = options;\n    schema.extend('tableCell', {\n        allowAttributes: [modelAttribute]\n    });\n    upcastStyleToAttribute(conversion, { viewElement: /^(td|th)$/, ...options });\n    downcastAttributeToStyle(conversion, { modelElement: 'tableCell', ...options });\n}\n/**\n * Depending on the position of the selection we either return the table under cursor or look for the table higher in the hierarchy.\n */\nexport function getSelectionAffectedTable(selection) {\n    const selectedElement = selection.getSelectedElement();\n    // Is the command triggered from the `tableToolbar`?\n    if (selectedElement && selectedElement.is('element', 'table')) {\n        return selectedElement;\n    }\n    return selection.getFirstPosition().findAncestor('table');\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { createEmptyTableCell } from '../utils/common.js';\nimport { first } from 'ckeditor5/src/utils.js';\n/**\n * Returns a function that converts the table view representation:\n *\n * ```xml\n * <figure class=\"table\"><table>...</table></figure>\n * ```\n *\n * to the model representation:\n *\n * ```xml\n * <table></table>\n * ```\n */\nexport function upcastTableFigure() {\n    return (dispatcher) => {\n        dispatcher.on('element:figure', (evt, data, conversionApi) => {\n            // Do not convert if this is not a \"table figure\".\n            if (!conversionApi.consumable.test(data.viewItem, { name: true, classes: 'table' })) {\n                return;\n            }\n            // Find a table element inside the figure element.\n            const viewTable = getViewTableFromFigure(data.viewItem);\n            // Do not convert if table element is absent or was already converted.\n            if (!viewTable || !conversionApi.consumable.test(viewTable, { name: true })) {\n                return;\n            }\n            // Consume the figure to prevent other converters from processing it again.\n            conversionApi.consumable.consume(data.viewItem, { name: true, classes: 'table' });\n            // Convert view table to model table.\n            const conversionResult = conversionApi.convertItem(viewTable, data.modelCursor);\n            // Get table element from conversion result.\n            const modelTable = first(conversionResult.modelRange.getItems());\n            // When table wasn't successfully converted then finish conversion.\n            if (!modelTable) {\n                // Revert consumed figure so other features can convert it.\n                conversionApi.consumable.revert(data.viewItem, { name: true, classes: 'table' });\n                return;\n            }\n            conversionApi.convertChildren(data.viewItem, conversionApi.writer.createPositionAt(modelTable, 'end'));\n            conversionApi.updateConversionResult(modelTable, data);\n        });\n    };\n}\n/**\n * View table element to model table element conversion helper.\n *\n * This conversion helper converts the table element as well as table rows.\n *\n * @returns Conversion helper.\n */\nexport default function upcastTable() {\n    return (dispatcher) => {\n        dispatcher.on('element:table', (evt, data, conversionApi) => {\n            const viewTable = data.viewItem;\n            // When element was already consumed then skip it.\n            if (!conversionApi.consumable.test(viewTable, { name: true })) {\n                return;\n            }\n            const { rows, headingRows, headingColumns } = scanTable(viewTable);\n            // Only set attributes if values is greater then 0.\n            const attributes = {};\n            if (headingColumns) {\n                attributes.headingColumns = headingColumns;\n            }\n            if (headingRows) {\n                attributes.headingRows = headingRows;\n            }\n            const table = conversionApi.writer.createElement('table', attributes);\n            if (!conversionApi.safeInsert(table, data.modelCursor)) {\n                return;\n            }\n            conversionApi.consumable.consume(viewTable, { name: true });\n            // Upcast table rows in proper order (heading rows first).\n            rows.forEach(row => conversionApi.convertItem(row, conversionApi.writer.createPositionAt(table, 'end')));\n            // Convert everything else.\n            conversionApi.convertChildren(viewTable, conversionApi.writer.createPositionAt(table, 'end'));\n            // Create one row and one table cell for empty table.\n            if (table.isEmpty) {\n                const row = conversionApi.writer.createElement('tableRow');\n                conversionApi.writer.insert(row, conversionApi.writer.createPositionAt(table, 'end'));\n                createEmptyTableCell(conversionApi.writer, conversionApi.writer.createPositionAt(row, 'end'));\n            }\n            conversionApi.updateConversionResult(table, data);\n        });\n    };\n}\n/**\n * A conversion helper that skips empty <tr> elements from upcasting at the beginning of the table.\n *\n * An empty row is considered a table model error but when handling clipboard data there could be rows that contain only row-spanned cells\n * and empty TR-s are used to maintain the table structure (also {@link module:table/tablewalker~TableWalker} assumes that there are only\n * rows that have related `tableRow` elements).\n *\n * *Note:* Only the first empty rows are removed because they have no meaning and it solves the issue\n * of an improper table with all empty rows.\n *\n * @returns Conversion helper.\n */\nexport function skipEmptyTableRow() {\n    return (dispatcher) => {\n        dispatcher.on('element:tr', (evt, data) => {\n            if (data.viewItem.isEmpty && data.modelCursor.index == 0) {\n                evt.stop();\n            }\n        }, { priority: 'high' });\n    };\n}\n/**\n * A converter that ensures an empty paragraph is inserted in a table cell if no other content was converted.\n *\n * @returns Conversion helper.\n */\nexport function ensureParagraphInTableCell(elementName) {\n    return (dispatcher) => {\n        dispatcher.on(`element:${elementName}`, (evt, data, { writer }) => {\n            // The default converter will create a model range on converted table cell.\n            if (!data.modelRange) {\n                return;\n            }\n            const tableCell = data.modelRange.start.nodeAfter;\n            const modelCursor = writer.createPositionAt(tableCell, 0);\n            // Ensure a paragraph in the model for empty table cells for converted table cells.\n            if (data.viewItem.isEmpty) {\n                writer.insertElement('paragraph', modelCursor);\n                return;\n            }\n            const childNodes = Array.from(tableCell.getChildren());\n            // In case there are only markers inside the table cell then move them to the paragraph.\n            if (childNodes.every(node => node.is('element', '$marker'))) {\n                const paragraph = writer.createElement('paragraph');\n                writer.insert(paragraph, writer.createPositionAt(tableCell, 0));\n                for (const node of childNodes) {\n                    writer.move(writer.createRangeOn(node), writer.createPositionAt(paragraph, 'end'));\n                }\n            }\n        }, { priority: 'low' });\n    };\n}\n/**\n * Get view `<table>` element from the view widget (`<figure>`).\n */\nfunction getViewTableFromFigure(figureView) {\n    for (const figureChild of figureView.getChildren()) {\n        if (figureChild.is('element', 'table')) {\n            return figureChild;\n        }\n    }\n}\n/**\n * Scans table rows and extracts required metadata from the table:\n *\n * headingRows    - The number of rows that go as table headers.\n * headingColumns - The maximum number of row headings.\n * rows           - Sorted `<tr>` elements as they should go into the model - ie. if `<thead>` is inserted after `<tbody>` in the view.\n */\nfunction scanTable(viewTable) {\n    let headingRows = 0;\n    let headingColumns = undefined;\n    // The `<tbody>` and `<thead>` sections in the DOM do not have to be in order `<thead>` -> `<tbody>` and there might be more than one\n    // of them.\n    // As the model does not have these sections, rows from different sections must be sorted.\n    // For example, below is a valid HTML table:\n    //\n    // <table>\n    //   <tbody><tr><td>2</td></tr></tbody>\n    //   <thead><tr><td>1</td></tr></thead>\n    //   <tbody><tr><td>3</td></tr></tbody>\n    // </table>\n    //\n    // But browsers will render rows in order as: 1 as the heading and 2 and 3 as the body.\n    const headRows = [];\n    const bodyRows = [];\n    // Currently the editor does not support more then one <thead> section.\n    // Only the first <thead> from the view will be used as a heading row and the others will be converted to body rows.\n    let firstTheadElement;\n    for (const tableChild of Array.from(viewTable.getChildren())) {\n        // Only `<thead>`, `<tbody>` & `<tfoot>` from allowed table children can have `<tr>`s.\n        // The else is for future purposes (mainly `<caption>`).\n        if (tableChild.name !== 'tbody' && tableChild.name !== 'thead' && tableChild.name !== 'tfoot') {\n            continue;\n        }\n        // Save the first `<thead>` in the table as table header - all other ones will be converted to table body rows.\n        if (tableChild.name === 'thead' && !firstTheadElement) {\n            firstTheadElement = tableChild;\n        }\n        // There might be some extra empty text nodes between the `<tr>`s.\n        // Make sure further code operates on `tr`s only. (#145)\n        const trs = Array.from(tableChild.getChildren()).filter((el) => el.is('element', 'tr'));\n        // Keep tracking of the previous row columns count to improve detection of heading rows.\n        let maxPrevColumns = null;\n        for (const tr of trs) {\n            const trColumns = Array\n                .from(tr.getChildren())\n                .filter(el => el.is('element', 'td') || el.is('element', 'th'));\n            // This <tr> is a child of a first <thead> element.\n            if ((firstTheadElement && tableChild === firstTheadElement) ||\n                (tableChild.name === 'tbody' &&\n                    trColumns.length > 0 &&\n                    // These conditions handles the case when the first column is a <th> element and it's the only column in the row.\n                    // This case is problematic because it's not clear if this row should be a heading row or not, as it may be result\n                    // of the cell span from the previous row.\n                    // Issue: https://github.com/ckeditor/ckeditor5/issues/17556\n                    (maxPrevColumns === null || trColumns.length === maxPrevColumns) &&\n                    trColumns.every(e => e.is('element', 'th')))) {\n                headingRows++;\n                headRows.push(tr);\n            }\n            else {\n                bodyRows.push(tr);\n                // For other rows check how many column headings this row has.\n                const headingCols = scanRowForHeadingColumns(tr);\n                if (!headingColumns || headingCols < headingColumns) {\n                    headingColumns = headingCols;\n                }\n            }\n            // We use the maximum number of columns to avoid false positives when detecting\n            // multiple rows with single column within `rowspan`. Without it the last row of `rowspan=3`\n            // would be detected as a heading row because it has only one column (identical to the previous row).\n            maxPrevColumns = Math.max(maxPrevColumns || 0, trColumns.length);\n        }\n    }\n    return {\n        headingRows,\n        headingColumns: headingColumns || 0,\n        rows: [...headRows, ...bodyRows]\n    };\n}\n/**\n * Scans a `<tr>` element and its children for metadata:\n * - For heading row:\n *     - Adds this row to either the heading or the body rows.\n *     - Updates the number of heading rows.\n * - For body rows:\n *     - Calculates the number of column headings.\n */\nfunction scanRowForHeadingColumns(tr) {\n    let headingColumns = 0;\n    let index = 0;\n    // Filter out empty text nodes from tr children.\n    const children = Array.from(tr.getChildren())\n        .filter(child => child.name === 'th' || child.name === 'td');\n    // Count starting adjacent <th> elements of a <tr>.\n    while (index < children.length && children[index].name === 'th') {\n        const th = children[index];\n        // Adjust columns calculation by the number of spanned columns.\n        const colspan = parseInt(th.getAttribute('colspan') || '1');\n        headingColumns = headingColumns + colspan;\n        index++;\n    }\n    return headingColumns;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * The table iterator class. It allows to iterate over table cells. For each cell the iterator yields\n * {@link module:table/tablewalker~TableSlot} with proper table cell attributes.\n */\nexport default class TableWalker {\n    /**\n     * The walker's table element.\n     *\n     * @internal\n     */\n    _table;\n    /**\n     * A row index from which this iterator will start.\n     */\n    _startRow;\n    /**\n     * A row index at which this iterator will end.\n     */\n    _endRow;\n    /**\n     * If set, the table walker will only output cells from a given column and following ones or cells that overlap them.\n     */\n    _startColumn;\n    /**\n     * If set, the table walker will only output cells up to a given column.\n     */\n    _endColumn;\n    /**\n     * Enables output of spanned cells that are normally not yielded.\n     */\n    _includeAllSlots;\n    /**\n     * Row indexes to skip from the iteration.\n     */\n    _skipRows;\n    /**\n     * The current row index.\n     *\n     * @internal\n     */\n    _row;\n    /**\n     * The index of the current row element in the table.\n     *\n     * @internal\n     */\n    _rowIndex;\n    /**\n     * The current column index.\n     *\n     * @internal\n     */\n    _column;\n    /**\n     * The cell index in a parent row. For spanned cells when {@link #_includeAllSlots} is set to `true`,\n     * this represents the index of the next table cell.\n     *\n     * @internal\n     */\n    _cellIndex;\n    /**\n     * Holds a map of spanned cells in a table.\n     */\n    _spannedCells;\n    /**\n     * Index of the next column where a cell is anchored.\n     */\n    _nextCellAtColumn;\n    /**\n     * Indicates whether the iterator jumped to (or close to) the start row, ignoring rows that don't need to be traversed.\n     */\n    _jumpedToStartRow = false;\n    /**\n     * Creates an instance of the table walker.\n     *\n     * The table walker iterates internally by traversing the table from row index = 0 and column index = 0.\n     * It walks row by row and column by column in order to output values defined in the constructor.\n     * By default it will output only the locations that are occupied by a cell. To include also spanned rows and columns,\n     * pass the `includeAllSlots` option to the constructor.\n     *\n     * The most important values of the iterator are column and row indexes of a cell.\n     *\n     * See {@link module:table/tablewalker~TableSlot} what values are returned by the table walker.\n     *\n     * To iterate over a given row:\n     *\n     * ```ts\n     * const tableWalker = new TableWalker( table, { startRow: 1, endRow: 2 } );\n     *\n     * for ( const tableSlot of tableWalker ) {\n     *   console.log( 'A cell at row', tableSlot.row, 'and column', tableSlot.column );\n     * }\n     * ```\n     *\n     * For instance the code above for the following table:\n     *\n     *  +----+----+----+----+----+----+\n     *  | 00      | 02 | 03 | 04 | 05 |\n     *  |         +----+----+----+----+\n     *  |         | 12      | 14 | 15 |\n     *  |         +----+----+----+    +\n     *  |         | 22           |    |\n     *  |----+----+----+----+----+    +\n     *  | 30 | 31 | 32 | 33 | 34 |    |\n     *  +----+----+----+----+----+----+\n     *\n     * will log in the console:\n     *\n     *  'A cell at row 1 and column 2'\n     *  'A cell at row 1 and column 4'\n     *  'A cell at row 1 and column 5'\n     *  'A cell at row 2 and column 2'\n     *\n     * To also iterate over spanned cells:\n     *\n     * ```ts\n     * const tableWalker = new TableWalker( table, { row: 1, includeAllSlots: true } );\n     *\n     * for ( const tableSlot of tableWalker ) {\n     *   console.log( 'Slot at', tableSlot.row, 'x', tableSlot.column, ':', tableSlot.isAnchor ? 'is anchored' : 'is spanned' );\n     * }\n     * ```\n     *\n     * will log in the console for the table from the previous example:\n     *\n     *  'Cell at 1 x 0 : is spanned'\n     *  'Cell at 1 x 1 : is spanned'\n     *  'Cell at 1 x 2 : is anchored'\n     *  'Cell at 1 x 3 : is spanned'\n     *  'Cell at 1 x 4 : is anchored'\n     *  'Cell at 1 x 5 : is anchored'\n     *\n     * **Note**: Option `row` is a shortcut that sets both `startRow` and `endRow` to the same row.\n     * (Use either `row` or `startRow` and `endRow` but never together). Similarly the `column` option sets both `startColumn`\n     * and `endColumn` to the same column (Use either `column` or `startColumn` and `endColumn` but never together).\n     *\n     * @param table A table over which the walker iterates.\n     * @param options An object with configuration.\n     * @param options.row A row index for which this iterator will output cells. Can't be used together with `startRow` and `endRow`.\n     * @param options.startRow A row index from which this iterator should start. Can't be used together with `row`. Default value is 0.\n     * @param options.endRow A row index at which this iterator should end. Can't be used together with `row`.\n     * @param options.column A column index for which this iterator will output cells.\n     * Can't be used together with `startColumn` and `endColumn`.\n     * @param options.startColumn A column index from which this iterator should start.\n     * Can't be used together with `column`. Default value is 0.\n     * @param options.endColumn A column index at which this iterator should end. Can't be used together with `column`.\n     * @param options.includeAllSlots Also return values for spanned cells. Default value is \"false\".\n     */\n    constructor(table, options = {}) {\n        this._table = table;\n        this._startRow = options.row !== undefined ? options.row : options.startRow || 0;\n        this._endRow = options.row !== undefined ? options.row : options.endRow;\n        this._startColumn = options.column !== undefined ? options.column : options.startColumn || 0;\n        this._endColumn = options.column !== undefined ? options.column : options.endColumn;\n        this._includeAllSlots = !!options.includeAllSlots;\n        this._skipRows = new Set();\n        this._row = 0;\n        this._rowIndex = 0;\n        this._column = 0;\n        this._cellIndex = 0;\n        this._spannedCells = new Map();\n        this._nextCellAtColumn = -1;\n    }\n    /**\n     * Iterable interface.\n     */\n    [Symbol.iterator]() {\n        return this;\n    }\n    /**\n     * Gets the next table walker's value.\n     *\n     * @returns The next table walker's value.\n     */\n    next() {\n        if (this._canJumpToStartRow()) {\n            this._jumpToNonSpannedRowClosestToStartRow();\n        }\n        const row = this._table.getChild(this._rowIndex);\n        // Iterator is done when there's no row (table ended) or the row is after `endRow` limit.\n        if (!row || this._isOverEndRow()) {\n            return { done: true, value: undefined };\n        }\n        // We step over current element when it is not a tableRow instance.\n        if (!row.is('element', 'tableRow')) {\n            this._rowIndex++;\n            return this.next();\n        }\n        if (this._isOverEndColumn()) {\n            return this._advanceToNextRow();\n        }\n        let outValue = null;\n        const spanData = this._getSpanned();\n        if (spanData) {\n            if (this._includeAllSlots && !this._shouldSkipSlot()) {\n                outValue = this._formatOutValue(spanData.cell, spanData.row, spanData.column);\n            }\n        }\n        else {\n            const cell = row.getChild(this._cellIndex);\n            if (!cell) {\n                // If there are no more cells left in row advance to the next row.\n                return this._advanceToNextRow();\n            }\n            const colspan = parseInt(cell.getAttribute('colspan') || '1');\n            const rowspan = parseInt(cell.getAttribute('rowspan') || '1');\n            // Record this cell spans if it's not 1x1 cell.\n            if (colspan > 1 || rowspan > 1) {\n                this._recordSpans(cell, rowspan, colspan);\n            }\n            if (!this._shouldSkipSlot()) {\n                outValue = this._formatOutValue(cell);\n            }\n            this._nextCellAtColumn = this._column + colspan;\n        }\n        // Advance to the next column before returning value.\n        this._column++;\n        if (this._column == this._nextCellAtColumn) {\n            this._cellIndex++;\n        }\n        // The current value will be returned only if current row and column are not skipped.\n        return outValue || this.next();\n    }\n    /**\n     * Marks a row to skip in the next iteration. It will also skip cells from the current row if there are any cells from the current row\n     * to output.\n     *\n     * @param row The row index to skip.\n     */\n    skipRow(row) {\n        this._skipRows.add(row);\n    }\n    /**\n     * Advances internal cursor to the next row.\n     */\n    _advanceToNextRow() {\n        this._row++;\n        this._rowIndex++;\n        this._column = 0;\n        this._cellIndex = 0;\n        this._nextCellAtColumn = -1;\n        return this.next();\n    }\n    /**\n     * Checks if the current row is over {@link #_endRow}.\n     */\n    _isOverEndRow() {\n        // If #_endRow is defined skip all rows after it.\n        return this._endRow !== undefined && this._row > this._endRow;\n    }\n    /**\n     * Checks if the current cell is over {@link #_endColumn}\n     */\n    _isOverEndColumn() {\n        // If #_endColumn is defined skip all cells after it.\n        return this._endColumn !== undefined && this._column > this._endColumn;\n    }\n    /**\n     * A common method for formatting the iterator's output value.\n     *\n     * @param cell The table cell to output.\n     * @param anchorRow The row index of a cell anchor slot.\n     * @param anchorColumn The column index of a cell anchor slot.\n     */\n    _formatOutValue(cell, anchorRow = this._row, anchorColumn = this._column) {\n        return {\n            done: false,\n            value: new TableSlot(this, cell, anchorRow, anchorColumn)\n        };\n    }\n    /**\n     * Checks if the current slot should be skipped.\n     */\n    _shouldSkipSlot() {\n        const rowIsMarkedAsSkipped = this._skipRows.has(this._row);\n        const rowIsBeforeStartRow = this._row < this._startRow;\n        const columnIsBeforeStartColumn = this._column < this._startColumn;\n        const columnIsAfterEndColumn = this._endColumn !== undefined && this._column > this._endColumn;\n        return rowIsMarkedAsSkipped || rowIsBeforeStartRow || columnIsBeforeStartColumn || columnIsAfterEndColumn;\n    }\n    /**\n     * Returns the cell element that is spanned over the current cell location.\n     */\n    _getSpanned() {\n        const rowMap = this._spannedCells.get(this._row);\n        // No spans for given row.\n        if (!rowMap) {\n            return null;\n        }\n        // If spans for given rows has entry for column it means that this location if spanned by other cell.\n        return rowMap.get(this._column) || null;\n    }\n    /**\n     * Updates spanned cells map relative to the current cell location and its span dimensions.\n     *\n     * @param cell A cell that is spanned.\n     * @param rowspan Cell height.\n     * @param colspan Cell width.\n     */\n    _recordSpans(cell, rowspan, colspan) {\n        const data = {\n            cell,\n            row: this._row,\n            column: this._column\n        };\n        for (let rowToUpdate = this._row; rowToUpdate < this._row + rowspan; rowToUpdate++) {\n            for (let columnToUpdate = this._column; columnToUpdate < this._column + colspan; columnToUpdate++) {\n                if (rowToUpdate != this._row || columnToUpdate != this._column) {\n                    this._markSpannedCell(rowToUpdate, columnToUpdate, data);\n                }\n            }\n        }\n    }\n    /**\n     * Marks the cell location as spanned by another cell.\n     *\n     * @param row The row index of the cell location.\n     * @param column The column index of the cell location.\n     * @param data A spanned cell details (cell element, anchor row and column).\n     */\n    _markSpannedCell(row, column, data) {\n        if (!this._spannedCells.has(row)) {\n            this._spannedCells.set(row, new Map());\n        }\n        const rowSpans = this._spannedCells.get(row);\n        rowSpans.set(column, data);\n    }\n    /**\n     * Checks if part of the table can be skipped.\n     */\n    _canJumpToStartRow() {\n        return !!this._startRow &&\n            this._startRow > 0 &&\n            !this._jumpedToStartRow;\n    }\n    /**\n     * Sets the current row to `this._startRow` or the first row before it that has the number of cells\n     * equal to the number of columns in the table.\n     *\n     * Example:\n     * \t+----+----+----+\n     *  | 00 | 01 | 02 |\n     *  |----+----+----+\n     *  | 10      | 12 |\n     *  |         +----+\n     *  |         | 22 |\n     *  |         +----+\n     *  |         | 32 | <--- Start row\n     *  +----+----+----+\n     *  | 40 | 41 | 42 |\n     *  +----+----+----+\n     *\n     * If the 4th row is a `this._startRow`, this method will:\n     * 1.) Count the number of columns this table has based on the first row (3 columns in this case).\n     * 2.) Check if the 4th row contains 3 cells. It doesn't, so go to the row before it.\n     * 3.) Check if the 3rd row contains 3 cells. It doesn't, so go to the row before it.\n     * 4.) Check if the 2nd row contains 3 cells. It does, so set the current row to that row.\n     *\n     * Setting the current row this way is necessary to let the `next()`  method loop over the cells\n     * spanning multiple rows or columns and update the `this._spannedCells` property.\n     */\n    _jumpToNonSpannedRowClosestToStartRow() {\n        const firstRowLength = this._getRowLength(0);\n        for (let i = this._startRow; !this._jumpedToStartRow; i--) {\n            if (firstRowLength === this._getRowLength(i)) {\n                this._row = i;\n                this._rowIndex = i;\n                this._jumpedToStartRow = true;\n            }\n        }\n    }\n    /**\n     * Returns a number of columns in a row taking `colspan` into consideration.\n     */\n    _getRowLength(rowIndex) {\n        const row = this._table.getChild(rowIndex);\n        return [...row.getChildren()].reduce((cols, row) => {\n            return cols + parseInt(row.getAttribute('colspan') || '1');\n        }, 0);\n    }\n}\n/**\n * An object returned by {@link module:table/tablewalker~TableWalker} when traversing table cells.\n */\nclass TableSlot {\n    /**\n     * The current table cell.\n     */\n    cell;\n    /**\n     * The row index of a table slot.\n     */\n    row;\n    /**\n     * The column index of a table slot.\n     */\n    column;\n    /**\n     * The row index of a cell anchor slot.\n     */\n    cellAnchorRow;\n    /**\n     * The column index of a cell anchor slot.\n     */\n    cellAnchorColumn;\n    /**\n     * The index of the current cell in the parent row.\n     */\n    _cellIndex;\n    /**\n     * The index of the current row element in the table.\n     */\n    _rowIndex;\n    /**\n     * The table element.\n     */\n    _table;\n    /**\n     * Creates an instance of the table walker value.\n     *\n     * @param tableWalker The table walker instance.\n     * @param cell The current table cell.\n     * @param anchorRow The row index of a cell anchor slot.\n     * @param anchorColumn The column index of a cell anchor slot.\n     */\n    constructor(tableWalker, cell, anchorRow, anchorColumn) {\n        this.cell = cell;\n        this.row = tableWalker._row;\n        this.column = tableWalker._column;\n        this.cellAnchorRow = anchorRow;\n        this.cellAnchorColumn = anchorColumn;\n        this._cellIndex = tableWalker._cellIndex;\n        this._rowIndex = tableWalker._rowIndex;\n        this._table = tableWalker._table;\n    }\n    // @if CK_DEBUG // public get isSpanned(): unknown { return throwMissingGetterError( 'isSpanned' ); }\n    // @if CK_DEBUG // public get colspan(): unknown { return throwMissingGetterError( 'colspan' ); }\n    // @if CK_DEBUG // public get rowspan(): unknown { return throwMissingGetterError( 'rowspan' ); }\n    // @if CK_DEBUG // public get cellIndex(): unknown { return throwMissingGetterError( 'cellIndex' ); }\n    /**\n     * Whether the cell is anchored in the current slot.\n     */\n    get isAnchor() {\n        return this.row === this.cellAnchorRow && this.column === this.cellAnchorColumn;\n    }\n    /**\n     * The width of a cell defined by a `colspan` attribute. If the model attribute is not present, it is set to `1`.\n     */\n    get cellWidth() {\n        return parseInt(this.cell.getAttribute('colspan') || '1');\n    }\n    /**\n     * The height of a cell defined by a `rowspan` attribute. If the model attribute is not present, it is set to `1`.\n     */\n    get cellHeight() {\n        return parseInt(this.cell.getAttribute('rowspan') || '1');\n    }\n    /**\n     * The index of the current row element in the table.\n     */\n    get rowIndex() {\n        return this._rowIndex;\n    }\n    /**\n     * Returns the {@link module:engine/model/position~Position} before the table slot.\n     */\n    getPositionBefore() {\n        const model = this._table.root.document.model;\n        return model.createPositionAt(this._table.getChild(this.row), this._cellIndex);\n    }\n}\n/**\n * This `TableSlot`'s getter (property) was removed in CKEditor 5 v20.0.0.\n *\n * Check out the new `TableWalker`'s API in the documentation.\n *\n * @error tableslot-getter-removed\n * @param getterName\n */\n// @if CK_DEBUG // function throwMissingGetterError( getterName: string ): void {\n// @if CK_DEBUG //\t\tthrow new CKEditorError( 'tableslot-getter-removed', null, {\n// @if CK_DEBUG //\t\t\tgetterName\n// @if CK_DEBUG //\t\t} );\n// @if CK_DEBUG // }\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/converters/downcast\n */\nimport { toWidget, toWidgetEditable } from 'ckeditor5/src/widget.js';\nimport TableWalker from './../tablewalker.js';\n/**\n * Model table element to view table element conversion helper.\n */\nexport function downcastTable(tableUtils, options) {\n    return (table, { writer }) => {\n        const headingRows = table.getAttribute('headingRows') || 0;\n        const tableElement = writer.createContainerElement('table', null, []);\n        const figureElement = writer.createContainerElement('figure', { class: 'table' }, tableElement);\n        // Table head slot.\n        if (headingRows > 0) {\n            writer.insert(writer.createPositionAt(tableElement, 'end'), writer.createContainerElement('thead', null, writer.createSlot(element => element.is('element', 'tableRow') && element.index < headingRows)));\n        }\n        // Table body slot.\n        if (headingRows < tableUtils.getRows(table)) {\n            writer.insert(writer.createPositionAt(tableElement, 'end'), writer.createContainerElement('tbody', null, writer.createSlot(element => element.is('element', 'tableRow') && element.index >= headingRows)));\n        }\n        // Dynamic slots.\n        for (const { positionOffset, filter } of options.additionalSlots) {\n            writer.insert(writer.createPositionAt(tableElement, positionOffset), writer.createSlot(filter));\n        }\n        // Create a slot with items that don't fit into the table.\n        writer.insert(writer.createPositionAt(tableElement, 'after'), writer.createSlot(element => {\n            if (element.is('element', 'tableRow')) {\n                return false;\n            }\n            return !options.additionalSlots.some(({ filter }) => filter(element));\n        }));\n        return options.asWidget ? toTableWidget(figureElement, writer) : figureElement;\n    };\n}\n/**\n * Model table row element to view `<tr>` element conversion helper.\n *\n * @returns Element creator.\n */\nexport function downcastRow() {\n    return (tableRow, { writer }) => {\n        return tableRow.isEmpty ?\n            writer.createEmptyElement('tr') :\n            writer.createContainerElement('tr');\n    };\n}\n/**\n * Model table cell element to view `<td>` or `<th>` element conversion helper.\n *\n * This conversion helper will create proper `<th>` elements for table cells that are in the heading section (heading row or column)\n * and `<td>` otherwise.\n *\n * @param options.asWidget If set to `true`, the downcast conversion will produce a widget.\n * @returns Element creator.\n */\nexport function downcastCell(options = {}) {\n    return (tableCell, { writer }) => {\n        const tableRow = tableCell.parent;\n        const table = tableRow.parent;\n        const rowIndex = table.getChildIndex(tableRow);\n        const tableWalker = new TableWalker(table, { row: rowIndex });\n        const headingRows = table.getAttribute('headingRows') || 0;\n        const headingColumns = table.getAttribute('headingColumns') || 0;\n        let result = null;\n        // We need to iterate over a table in order to get proper row & column values from a walker.\n        for (const tableSlot of tableWalker) {\n            if (tableSlot.cell == tableCell) {\n                const isHeading = tableSlot.row < headingRows || tableSlot.column < headingColumns;\n                const cellElementName = isHeading ? 'th' : 'td';\n                result = options.asWidget ?\n                    toWidgetEditable(writer.createEditableElement(cellElementName), writer, { withAriaRole: false }) :\n                    writer.createContainerElement(cellElementName);\n                break;\n            }\n        }\n        return result;\n    };\n}\n/**\n * Overrides paragraph inside table cell conversion.\n *\n * This converter:\n * * should be used to override default paragraph conversion.\n * * It will only convert `<paragraph>` placed directly inside `<tableCell>`.\n * * For a single paragraph without attributes it returns `<span>` to simulate data table.\n * * For all other cases it returns `<p>` element.\n *\n * @param options.asWidget If set to `true`, the downcast conversion will produce a widget.\n * @returns Element creator.\n */\nexport function convertParagraphInTableCell(options = {}) {\n    return (modelElement, { writer }) => {\n        if (!modelElement.parent.is('element', 'tableCell')) {\n            return null;\n        }\n        if (!isSingleParagraphWithoutAttributes(modelElement)) {\n            return null;\n        }\n        if (options.asWidget) {\n            return writer.createContainerElement('span', { class: 'ck-table-bogus-paragraph' });\n        }\n        else {\n            // Using `<p>` in case there are some markers on it and transparentRendering will render it anyway.\n            const viewElement = writer.createContainerElement('p');\n            writer.setCustomProperty('dataPipeline:transparentRendering', true, viewElement);\n            return viewElement;\n        }\n    };\n}\n/**\n * Checks if given model `<paragraph>` is an only child of a parent (`<tableCell>`) and if it has any attribute set.\n *\n * The paragraph should be converted in the editing view to:\n *\n * * If returned `true` - to a `<span class=\"ck-table-bogus-paragraph\">`\n * * If returned `false` - to a `<p>`\n */\nexport function isSingleParagraphWithoutAttributes(modelElement) {\n    const tableCell = modelElement.parent;\n    const isSingleParagraph = tableCell.childCount == 1;\n    return isSingleParagraph && !hasAnyAttribute(modelElement);\n}\n/**\n * Converts a given {@link module:engine/view/element~Element} to a table widget:\n * * Adds a {@link module:engine/view/element~Element#_setCustomProperty custom property} allowing to recognize the table widget element.\n * * Calls the {@link module:widget/utils~toWidget} function with the proper element's label creator.\n *\n * @param writer An instance of the view writer.\n * @param label The element's label. It will be concatenated with the table `alt` attribute if one is present.\n */\nfunction toTableWidget(viewElement, writer) {\n    writer.setCustomProperty('table', true, viewElement);\n    return toWidget(viewElement, writer, { hasSelectionHandle: true });\n}\n/**\n * Checks if an element has any attributes set.\n */\nfunction hasAnyAttribute(element) {\n    for (const attributeKey of element.getAttributeKeys()) {\n        // Ignore selection attributes stored on block elements.\n        if (attributeKey.startsWith('selection:') || attributeKey == 'htmlEmptyBlock') {\n            continue;\n        }\n        return true;\n    }\n    return false;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/commands/inserttablecommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\n/**\n * The insert table command.\n *\n * The command is registered by {@link module:table/tableediting~TableEditing} as the `'insertTable'` editor command.\n *\n * To insert a table at the current selection, execute the command and specify the dimensions:\n *\n * ```ts\n * editor.execute( 'insertTable', { rows: 20, columns: 5 } );\n * ```\n */\nexport default class InsertTableCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        const schema = model.schema;\n        this.isEnabled = isAllowedInParent(selection, schema);\n    }\n    /**\n     * Executes the command.\n     *\n     * Inserts a table with the given number of rows and columns into the editor.\n     *\n     * @param options.rows The number of rows to create in the inserted table. Default value is 2.\n     * @param options.columns The number of columns to create in the inserted table. Default value is 2.\n     * @param options.headingRows The number of heading rows. If not provided it will default to\n     * {@link module:table/tableconfig~TableConfig#defaultHeadings `config.table.defaultHeadings.rows`} table config.\n     * @param options.headingColumns The number of heading columns. If not provided it will default to\n     * {@link module:table/tableconfig~TableConfig#defaultHeadings `config.table.defaultHeadings.columns`} table config.\n     * @fires execute\n     */\n    execute(options = {}) {\n        const editor = this.editor;\n        const model = editor.model;\n        const tableUtils = editor.plugins.get('TableUtils');\n        const defaultRows = editor.config.get('table.defaultHeadings.rows');\n        const defaultColumns = editor.config.get('table.defaultHeadings.columns');\n        if (options.headingRows === undefined && defaultRows) {\n            options.headingRows = defaultRows;\n        }\n        if (options.headingColumns === undefined && defaultColumns) {\n            options.headingColumns = defaultColumns;\n        }\n        model.change(writer => {\n            const table = tableUtils.createTable(writer, options);\n            model.insertObject(table, null, null, { findOptimalPosition: 'auto' });\n            writer.setSelection(writer.createPositionAt(table.getNodeByPath([0, 0, 0]), 0));\n        });\n    }\n}\n/**\n * Checks if the table is allowed in the parent.\n */\nfunction isAllowedInParent(selection, schema) {\n    const positionParent = selection.getFirstPosition().parent;\n    const validParent = positionParent === positionParent.root ? positionParent : positionParent.parent;\n    return schema.checkChild(validParent, 'table');\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/commands/insertrowcommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\n/**\n * The insert row command.\n *\n * The command is registered by {@link module:table/tableediting~TableEditing} as the `'insertTableRowBelow'` and\n * `'insertTableRowAbove'` editor commands.\n *\n * To insert a row below the selected cell, execute the following command:\n *\n * ```ts\n * editor.execute( 'insertTableRowBelow' );\n * ```\n *\n * To insert a row above the selected cell, execute the following command:\n *\n * ```ts\n * editor.execute( 'insertTableRowAbove' );\n * ```\n */\nexport default class InsertRowCommand extends Command {\n    /**\n     * The order of insertion relative to the row in which the caret is located.\n     */\n    order;\n    /**\n     * Creates a new `InsertRowCommand` instance.\n     *\n     * @param editor The editor on which this command will be used.\n     * @param options.order The order of insertion relative to the row in which the caret is located.\n     * Possible values: `\"above\"` and `\"below\"`. Default value is \"below\"\n     */\n    constructor(editor, options = {}) {\n        super(editor);\n        this.order = options.order || 'below';\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const selection = this.editor.model.document.selection;\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const isAnyCellSelected = !!tableUtils.getSelectionAffectedTableCells(selection).length;\n        this.isEnabled = isAnyCellSelected;\n    }\n    /**\n     * Executes the command.\n     *\n     * Depending on the command's {@link #order} value, it inserts a row `'below'` or `'above'` the row in which selection is set.\n     *\n     * @fires execute\n     */\n    execute() {\n        const editor = this.editor;\n        const selection = editor.model.document.selection;\n        const tableUtils = editor.plugins.get('TableUtils');\n        const insertAbove = this.order === 'above';\n        const affectedTableCells = tableUtils.getSelectionAffectedTableCells(selection);\n        const rowIndexes = tableUtils.getRowIndexes(affectedTableCells);\n        const row = insertAbove ? rowIndexes.first : rowIndexes.last;\n        const table = affectedTableCells[0].findAncestor('table');\n        tableUtils.insertRows(table, { at: insertAbove ? row : row + 1, copyStructureFromAbove: !insertAbove });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/commands/insertcolumncommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\n/**\n * The insert column command.\n *\n * The command is registered by {@link module:table/tableediting~TableEditing} as the `'insertTableColumnLeft'` and\n * `'insertTableColumnRight'` editor commands.\n *\n * To insert a column to the left of the selected cell, execute the following command:\n *\n * ```ts\n * editor.execute( 'insertTableColumnLeft' );\n * ```\n *\n * To insert a column to the right of the selected cell, execute the following command:\n *\n * ```ts\n * editor.execute( 'insertTableColumnRight' );\n * ```\n */\nexport default class InsertColumnCommand extends Command {\n    /**\n     * The order of insertion relative to the column in which the caret is located.\n     */\n    order;\n    /**\n     * Creates a new `InsertColumnCommand` instance.\n     *\n     * @param editor An editor on which this command will be used.\n     * @param options.order The order of insertion relative to the column in which the caret is located.\n     * Possible values: `\"left\"` and `\"right\"`. Default value is \"right\".\n     */\n    constructor(editor, options = {}) {\n        super(editor);\n        this.order = options.order || 'right';\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const selection = this.editor.model.document.selection;\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const isAnyCellSelected = !!tableUtils.getSelectionAffectedTableCells(selection).length;\n        this.isEnabled = isAnyCellSelected;\n    }\n    /**\n     * Executes the command.\n     *\n     * Depending on the command's {@link #order} value, it inserts a column to the `'left'` or `'right'` of the column\n     * in which the selection is set.\n     *\n     * @fires execute\n     */\n    execute() {\n        const editor = this.editor;\n        const selection = editor.model.document.selection;\n        const tableUtils = editor.plugins.get('TableUtils');\n        const insertBefore = this.order === 'left';\n        const affectedTableCells = tableUtils.getSelectionAffectedTableCells(selection);\n        const columnIndexes = tableUtils.getColumnIndexes(affectedTableCells);\n        const column = insertBefore ? columnIndexes.first : columnIndexes.last;\n        const table = affectedTableCells[0].findAncestor('table');\n        tableUtils.insertColumns(table, { columns: 1, at: insertBefore ? column : column + 1 });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/commands/splitcellcommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\n/**\n * The split cell command.\n *\n * The command is registered by {@link module:table/tableediting~TableEditing} as the `'splitTableCellVertically'`\n * and `'splitTableCellHorizontally'`  editor commands.\n *\n * You can split any cell vertically or horizontally by executing this command. For example, to split the selected table cell vertically:\n *\n * ```ts\n * editor.execute( 'splitTableCellVertically' );\n * ```\n */\nexport default class SplitCellCommand extends Command {\n    /**\n     * The direction that indicates which cell will be split.\n     */\n    direction;\n    /**\n     * Creates a new `SplitCellCommand` instance.\n     *\n     * @param editor The editor on which this command will be used.\n     * @param options.direction Indicates whether the command should split cells `'horizontally'` or `'vertically'`.\n     */\n    constructor(editor, options = {}) {\n        super(editor);\n        this.direction = options.direction || 'horizontally';\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const selectedCells = tableUtils.getSelectionAffectedTableCells(this.editor.model.document.selection);\n        this.isEnabled = selectedCells.length === 1;\n    }\n    /**\n     * @inheritDoc\n     */\n    execute() {\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const tableCell = tableUtils.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];\n        const isHorizontal = this.direction === 'horizontally';\n        if (isHorizontal) {\n            tableUtils.splitCellHorizontally(tableCell, 2);\n        }\n        else {\n            tableUtils.splitCellVertically(tableCell, 2);\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { default as TableWalker } from '../tablewalker.js';\nimport { createEmptyTableCell, updateNumericAttribute } from './common.js';\n/**\n * Returns a cropped table according to given dimensions.\n\n * To return a cropped table that starts at first row and first column and end in third row and column:\n *\n * ```ts\n * const croppedTable = cropTableToDimensions( table, {\n *   startRow: 1,\n *   endRow: 3,\n *   startColumn: 1,\n *   endColumn: 3\n * }, writer );\n * ```\n *\n * Calling the code above for the table below:\n *\n *        0   1   2   3   4                      0   1   2\n *      ┌───┬───┬───┬───┬───┐\n *   0  │ a │ b │ c │ d │ e │\n *      ├───┴───┤   ├───┴───┤                  ┌───┬───┬───┐\n *   1  │ f     │   │ g     │                  │   │   │ g │  0\n *      ├───┬───┴───┼───┬───┤   will return:   ├───┴───┼───┤\n *   2  │ h │ i     │ j │ k │                  │ i     │ j │  1\n *      ├───┤       ├───┤   │                  │       ├───┤\n *   3  │ l │       │ m │   │                  │       │ m │  2\n *      ├───┼───┬───┤   ├───┤                  └───────┴───┘\n *   4  │ n │ o │ p │   │ q │\n *      └───┴───┴───┴───┴───┘\n */\nexport function cropTableToDimensions(sourceTable, cropDimensions, writer) {\n    const { startRow, startColumn, endRow, endColumn } = cropDimensions;\n    // Initialize the cropped table element.\n    const croppedTable = writer.createElement('table');\n    // Copy table type attribute if present.\n    const sourceTableType = sourceTable.getAttribute('tableType');\n    if (sourceTableType) {\n        writer.setAttribute('tableType', sourceTableType, croppedTable);\n    }\n    // Create empty table with empty rows equal to crop height.\n    const cropHeight = endRow - startRow + 1;\n    for (let i = 0; i < cropHeight; i++) {\n        writer.insertElement('tableRow', croppedTable, 'end');\n    }\n    const tableMap = [...new TableWalker(sourceTable, { startRow, endRow, startColumn, endColumn, includeAllSlots: true })];\n    // Iterate over source table slots (including empty - spanned - ones).\n    for (const { row: sourceRow, column: sourceColumn, cell: tableCell, isAnchor, cellAnchorRow, cellAnchorColumn } of tableMap) {\n        // Row index in cropped table.\n        const rowInCroppedTable = sourceRow - startRow;\n        const row = croppedTable.getChild(rowInCroppedTable);\n        // For empty slots: fill the gap with empty table cell.\n        if (!isAnchor) {\n            // But fill the gap only if the spanning cell is anchored outside cropped area.\n            // In the table from method jsdoc those cells are: \"c\" & \"f\".\n            if (cellAnchorRow < startRow || cellAnchorColumn < startColumn) {\n                createEmptyTableCell(writer, writer.createPositionAt(row, 'end'));\n            }\n        }\n        // Otherwise clone the cell with all children and trim if it exceeds cropped area.\n        else {\n            const tableCellCopy = writer.cloneElement(tableCell);\n            writer.append(tableCellCopy, row);\n            // Trim table if it exceeds cropped area.\n            // In the table from method jsdoc those cells are: \"g\" & \"m\".\n            trimTableCellIfNeeded(tableCellCopy, sourceRow, sourceColumn, endRow, endColumn, writer);\n        }\n    }\n    // Adjust heading rows & columns in cropped table if crop selection includes headings parts.\n    addHeadingsToCroppedTable(croppedTable, sourceTable, startRow, startColumn, writer);\n    return croppedTable;\n}\n/**\n * Returns slot info of cells that starts above and overlaps a given row.\n *\n * In a table below, passing `overlapRow = 3`\n *\n *     ┌───┬───┬───┬───┬───┐\n *  0  │ a │ b │ c │ d │ e │\n *     │   ├───┼───┼───┼───┤\n *  1  │   │ f │ g │ h │ i │\n *     ├───┤   ├───┼───┤   │\n *  2  │ j │   │ k │ l │   │\n *     │   │   │   ├───┼───┤\n *  3  │   │   │   │ m │ n │  <- overlap row to check\n *     ├───┼───┤   │   ├───│\n *  4  │ o │ p │   │   │ q │\n *     └───┴───┴───┴───┴───┘\n *\n * will return slot info for cells: \"j\", \"f\", \"k\".\n *\n * @param table The table to check.\n * @param overlapRow The index of the row to check.\n * @param startRow row to start analysis. Use it when it is known that the cells above that row will not overlap. Default value is 0.\n */\nexport function getVerticallyOverlappingCells(table, overlapRow, startRow = 0) {\n    const cells = [];\n    const tableWalker = new TableWalker(table, { startRow, endRow: overlapRow - 1 });\n    for (const slotInfo of tableWalker) {\n        const { row, cellHeight } = slotInfo;\n        const cellEndRow = row + cellHeight - 1;\n        if (row < overlapRow && overlapRow <= cellEndRow) {\n            cells.push(slotInfo);\n        }\n    }\n    return cells;\n}\n/**\n * Splits the table cell horizontally.\n *\n * @returns Created table cell, if any were created.\n */\nexport function splitHorizontally(tableCell, splitRow, writer) {\n    const tableRow = tableCell.parent;\n    const table = tableRow.parent;\n    const rowIndex = tableRow.index;\n    const rowspan = parseInt(tableCell.getAttribute('rowspan'));\n    const newRowspan = splitRow - rowIndex;\n    const newCellAttributes = {};\n    const newCellRowSpan = rowspan - newRowspan;\n    if (newCellRowSpan > 1) {\n        newCellAttributes.rowspan = newCellRowSpan;\n    }\n    const colspan = parseInt(tableCell.getAttribute('colspan') || '1');\n    if (colspan > 1) {\n        newCellAttributes.colspan = colspan;\n    }\n    const startRow = rowIndex;\n    const endRow = startRow + newRowspan;\n    const tableMap = [...new TableWalker(table, { startRow, endRow, includeAllSlots: true })];\n    let newCell = null;\n    let columnIndex;\n    for (const tableSlot of tableMap) {\n        const { row, column, cell } = tableSlot;\n        if (cell === tableCell && columnIndex === undefined) {\n            columnIndex = column;\n        }\n        if (columnIndex !== undefined && columnIndex === column && row === endRow) {\n            newCell = createEmptyTableCell(writer, tableSlot.getPositionBefore(), newCellAttributes);\n        }\n    }\n    // Update the rowspan attribute after updating table.\n    updateNumericAttribute('rowspan', newRowspan, tableCell, writer);\n    return newCell;\n}\n/**\n * Returns slot info of cells that starts before and overlaps a given column.\n *\n * In a table below, passing `overlapColumn = 3`\n *\n *    0   1   2   3   4\n *  ┌───────┬───────┬───┐\n *  │ a     │ b     │ c │\n *  │───┬───┴───────┼───┤\n *  │ d │ e         │ f │\n *  ├───┼───┬───────┴───┤\n *  │ g │ h │ i         │\n *  ├───┼───┼───┬───────┤\n *  │ j │ k │ l │ m     │\n *  ├───┼───┴───┼───┬───┤\n *  │ n │ o     │ p │ q │\n *  └───┴───────┴───┴───┘\n *                ^\n *                Overlap column to check\n *\n * will return slot info for cells: \"b\", \"e\", \"i\".\n *\n * @param table The table to check.\n * @param overlapColumn The index of the column to check.\n */\nexport function getHorizontallyOverlappingCells(table, overlapColumn) {\n    const cellsToSplit = [];\n    const tableWalker = new TableWalker(table);\n    for (const slotInfo of tableWalker) {\n        const { column, cellWidth } = slotInfo;\n        const cellEndColumn = column + cellWidth - 1;\n        if (column < overlapColumn && overlapColumn <= cellEndColumn) {\n            cellsToSplit.push(slotInfo);\n        }\n    }\n    return cellsToSplit;\n}\n/**\n * Splits the table cell vertically.\n *\n * @param columnIndex The table cell column index.\n * @param splitColumn The index of column to split cell on.\n * @returns Created table cell.\n */\nexport function splitVertically(tableCell, columnIndex, splitColumn, writer) {\n    const colspan = parseInt(tableCell.getAttribute('colspan'));\n    const newColspan = splitColumn - columnIndex;\n    const newCellAttributes = {};\n    const newCellColSpan = colspan - newColspan;\n    if (newCellColSpan > 1) {\n        newCellAttributes.colspan = newCellColSpan;\n    }\n    const rowspan = parseInt(tableCell.getAttribute('rowspan') || '1');\n    if (rowspan > 1) {\n        newCellAttributes.rowspan = rowspan;\n    }\n    const newCell = createEmptyTableCell(writer, writer.createPositionAfter(tableCell), newCellAttributes);\n    // Update the colspan attribute after updating table.\n    updateNumericAttribute('colspan', newColspan, tableCell, writer);\n    return newCell;\n}\n/**\n * Adjusts table cell dimensions to not exceed limit row and column.\n *\n * If table cell width (or height) covers a column (or row) that is after a limit column (or row)\n * this method will trim \"colspan\" (or \"rowspan\") attribute so the table cell will fit in a defined limits.\n */\nexport function trimTableCellIfNeeded(tableCell, cellRow, cellColumn, limitRow, limitColumn, writer) {\n    const colspan = parseInt(tableCell.getAttribute('colspan') || '1');\n    const rowspan = parseInt(tableCell.getAttribute('rowspan') || '1');\n    const endColumn = cellColumn + colspan - 1;\n    if (endColumn > limitColumn) {\n        const trimmedSpan = limitColumn - cellColumn + 1;\n        updateNumericAttribute('colspan', trimmedSpan, tableCell, writer, 1);\n    }\n    const endRow = cellRow + rowspan - 1;\n    if (endRow > limitRow) {\n        const trimmedSpan = limitRow - cellRow + 1;\n        updateNumericAttribute('rowspan', trimmedSpan, tableCell, writer, 1);\n    }\n}\n/**\n * Sets proper heading attributes to a cropped table.\n */\nfunction addHeadingsToCroppedTable(croppedTable, sourceTable, startRow, startColumn, writer) {\n    const headingRows = parseInt(sourceTable.getAttribute('headingRows') || '0');\n    if (headingRows > 0) {\n        const headingRowsInCrop = headingRows - startRow;\n        updateNumericAttribute('headingRows', headingRowsInCrop, croppedTable, writer, 0);\n    }\n    const headingColumns = parseInt(sourceTable.getAttribute('headingColumns') || '0');\n    if (headingColumns > 0) {\n        const headingColumnsInCrop = headingColumns - startColumn;\n        updateNumericAttribute('headingColumns', headingColumnsInCrop, croppedTable, writer, 0);\n    }\n}\n/**\n * Removes columns that have no cells anchored.\n *\n * In table below:\n *\n *     +----+----+----+----+----+----+----+\n *     | 00 | 01      | 03 | 04      | 06 |\n *     +----+----+----+----+         +----+\n *     | 10 | 11      | 13 |         | 16 |\n *     +----+----+----+----+----+----+----+\n *     | 20 | 21      | 23 | 24      | 26 |\n *     +----+----+----+----+----+----+----+\n *                  ^--- empty ---^\n *\n * Will remove columns 2 and 5.\n *\n * **Note:** This is a low-level helper method for clearing invalid model state when doing table modifications.\n * To remove a column from a table use {@link module:table/tableutils~TableUtils#removeColumns `TableUtils.removeColumns()`}.\n *\n * @internal\n * @returns True if removed some columns.\n */\nexport function removeEmptyColumns(table, tableUtils) {\n    const width = tableUtils.getColumns(table);\n    const columnsMap = new Array(width).fill(0);\n    for (const { column } of new TableWalker(table)) {\n        columnsMap[column]++;\n    }\n    const emptyColumns = columnsMap.reduce((result, cellsCount, column) => {\n        return cellsCount ? result : [...result, column];\n    }, []);\n    if (emptyColumns.length > 0) {\n        // Remove only last empty column because it will recurrently trigger removing empty rows.\n        const emptyColumn = emptyColumns[emptyColumns.length - 1];\n        // @if CK_DEBUG_TABLE // console.log( `Removing empty column: ${ emptyColumn }.` );\n        tableUtils.removeColumns(table, { at: emptyColumn });\n        return true;\n    }\n    return false;\n}\n/**\n * Removes rows that have no cells anchored.\n *\n * In table below:\n *\n *     +----+----+----+\n *     | 00 | 01 | 02 |\n *     +----+----+----+\n *     | 10 | 11 | 12 |\n *     +    +    +    +\n *     |    |    |    | <-- empty\n *     +----+----+----+\n *     | 30 | 31 | 32 |\n *     +----+----+----+\n *     | 40      | 42 |\n *     +         +    +\n *     |         |    | <-- empty\n *     +----+----+----+\n *     | 60 | 61 | 62 |\n *     +----+----+----+\n *\n * Will remove rows 2 and 5.\n *\n * **Note:** This is a low-level helper method for clearing invalid model state when doing table modifications.\n * To remove a row from a table use {@link module:table/tableutils~TableUtils#removeRows `TableUtils.removeRows()`}.\n *\n * @internal\n * @returns True if removed some rows.\n */\nexport function removeEmptyRows(table, tableUtils) {\n    const emptyRows = [];\n    const tableRowCount = tableUtils.getRows(table);\n    for (let rowIndex = 0; rowIndex < tableRowCount; rowIndex++) {\n        const tableRow = table.getChild(rowIndex);\n        if (tableRow.isEmpty) {\n            emptyRows.push(rowIndex);\n        }\n    }\n    if (emptyRows.length > 0) {\n        // Remove only last empty row because it will recurrently trigger removing empty columns.\n        const emptyRow = emptyRows[emptyRows.length - 1];\n        // @if CK_DEBUG_TABLE // console.log( `Removing empty row: ${ emptyRow }.` );\n        tableUtils.removeRows(table, { at: emptyRow });\n        return true;\n    }\n    return false;\n}\n/**\n * Removes rows and columns that have no cells anchored.\n *\n * In table below:\n *\n *     +----+----+----+----+\n *     | 00      | 02      |\n *     +----+----+         +\n *     | 10      |         |\n *     +----+----+----+----+\n *     | 20      | 22 | 23 |\n *     +         +    +    +\n *     |         |    |    | <-- empty row\n *     +----+----+----+----+\n *             ^--- empty column\n *\n * Will remove row 3 and column 1.\n *\n * **Note:** This is a low-level helper method for clearing invalid model state when doing table modifications.\n * To remove a rows from a table use {@link module:table/tableutils~TableUtils#removeRows `TableUtils.removeRows()`} and\n * {@link module:table/tableutils~TableUtils#removeColumns `TableUtils.removeColumns()`} to remove a column.\n *\n * @internal\n */\nexport function removeEmptyRowsColumns(table, tableUtils) {\n    const removedColumns = removeEmptyColumns(table, tableUtils);\n    // If there was some columns removed then cleaning empty rows was already triggered.\n    if (!removedColumns) {\n        removeEmptyRows(table, tableUtils);\n    }\n}\n/**\n * Returns adjusted last row index if selection covers part of a row with empty slots (spanned by other cells).\n * The `dimensions.lastRow` is equal to last row index but selection might be bigger.\n *\n * This happens *only* on rectangular selection so we analyze a case like this:\n *\n *        +---+---+---+---+\n *      0 | a | b | c | d |\n *        +   +   +---+---+\n *      1 |   | e | f | g |\n *        +   +---+   +---+\n *      2 |   | h |   | i | <- last row, each cell has rowspan = 2,\n *        +   +   +   +   +    so we need to return 3, not 2\n *      3 |   |   |   |   |\n *        +---+---+---+---+\n *\n * @returns Adjusted last row index.\n */\nexport function adjustLastRowIndex(table, dimensions) {\n    const lastRowMap = Array.from(new TableWalker(table, {\n        startColumn: dimensions.firstColumn,\n        endColumn: dimensions.lastColumn,\n        row: dimensions.lastRow\n    }));\n    const everyCellHasSingleRowspan = lastRowMap.every(({ cellHeight }) => cellHeight === 1);\n    // It is a \"flat\" row, so the last row index is OK.\n    if (everyCellHasSingleRowspan) {\n        return dimensions.lastRow;\n    }\n    // Otherwise get any cell's rowspan and adjust the last row index.\n    const rowspanAdjustment = lastRowMap[0].cellHeight - 1;\n    return dimensions.lastRow + rowspanAdjustment;\n}\n/**\n * Returns adjusted last column index if selection covers part of a column with empty slots (spanned by other cells).\n * The `dimensions.lastColumn` is equal to last column index but selection might be bigger.\n *\n * This happens *only* on rectangular selection so we analyze a case like this:\n *\n *       0   1   2   3\n *     +---+---+---+---+\n *     | a             |\n *     +---+---+---+---+\n *     | b | c | d     |\n *     +---+---+---+---+\n *     | e     | f     |\n *     +---+---+---+---+\n *     | g | h         |\n *     +---+---+---+---+\n *               ^\n *              last column, each cell has colspan = 2, so we need to return 3, not 2\n *\n * @returns Adjusted last column index.\n */\nexport function adjustLastColumnIndex(table, dimensions) {\n    const lastColumnMap = Array.from(new TableWalker(table, {\n        startRow: dimensions.firstRow,\n        endRow: dimensions.lastRow,\n        column: dimensions.lastColumn\n    }));\n    const everyCellHasSingleColspan = lastColumnMap.every(({ cellWidth }) => cellWidth === 1);\n    // It is a \"flat\" column, so the last column index is OK.\n    if (everyCellHasSingleColspan) {\n        return dimensions.lastColumn;\n    }\n    // Otherwise get any cell's colspan and adjust the last column index.\n    const colspanAdjustment = lastColumnMap[0].cellWidth - 1;\n    return dimensions.lastColumn + colspanAdjustment;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport TableWalker from '../tablewalker.js';\nimport { isHeadingColumnCell } from '../utils/common.js';\nimport { removeEmptyRowsColumns } from '../utils/structure.js';\n/**\n * The merge cell command.\n *\n * The command is registered by {@link module:table/tableediting~TableEditing} as the `'mergeTableCellRight'`, `'mergeTableCellLeft'`,\n * `'mergeTableCellUp'` and `'mergeTableCellDown'` editor commands.\n *\n * To merge a table cell at the current selection with another cell, execute the command corresponding with the preferred direction.\n *\n * For example, to merge with a cell to the right:\n *\n * ```ts\n * editor.execute( 'mergeTableCellRight' );\n * ```\n *\n * **Note**: If a table cell has a different [`rowspan`](https://www.w3.org/TR/html50/tabular-data.html#attr-tdth-rowspan)\n * (for `'mergeTableCellRight'` and `'mergeTableCellLeft'`) or [`colspan`](https://www.w3.org/TR/html50/tabular-data.html#attr-tdth-colspan)\n * (for `'mergeTableCellUp'` and `'mergeTableCellDown'`), the command will be disabled.\n */\nexport default class MergeCellCommand extends Command {\n    /**\n     * The direction that indicates which cell will be merged with the currently selected one.\n     */\n    direction;\n    /**\n     * Whether the merge is horizontal (left/right) or vertical (up/down).\n     */\n    isHorizontal;\n    /**\n     * Creates a new `MergeCellCommand` instance.\n     *\n     * @param editor The editor on which this command will be used.\n     * @param options.direction Indicates which cell to merge with the currently selected one.\n     * Possible values are: `'left'`, `'right'`, `'up'` and `'down'`.\n     */\n    constructor(editor, options) {\n        super(editor);\n        this.direction = options.direction;\n        this.isHorizontal = this.direction == 'right' || this.direction == 'left';\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const cellToMerge = this._getMergeableCell();\n        this.value = cellToMerge;\n        this.isEnabled = !!cellToMerge;\n    }\n    /**\n     * Executes the command.\n     *\n     * Depending on the command's {@link #direction} value, it will merge the cell that is to the `'left'`, `'right'`, `'up'` or `'down'`.\n     *\n     * @fires execute\n     */\n    execute() {\n        const model = this.editor.model;\n        const doc = model.document;\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const tableCell = tableUtils.getTableCellsContainingSelection(doc.selection)[0];\n        const cellToMerge = this.value;\n        const direction = this.direction;\n        model.change(writer => {\n            const isMergeNext = direction == 'right' || direction == 'down';\n            // The merge mechanism is always the same so sort cells to be merged.\n            const cellToExpand = (isMergeNext ? tableCell : cellToMerge);\n            const cellToRemove = (isMergeNext ? cellToMerge : tableCell);\n            // Cache the parent of cell to remove for later check.\n            const removedTableCellRow = cellToRemove.parent;\n            mergeTableCells(cellToRemove, cellToExpand, writer);\n            const spanAttribute = this.isHorizontal ? 'colspan' : 'rowspan';\n            const cellSpan = parseInt(tableCell.getAttribute(spanAttribute) || '1');\n            const cellToMergeSpan = parseInt(cellToMerge.getAttribute(spanAttribute) || '1');\n            // Update table cell span attribute and merge set selection on merged contents.\n            writer.setAttribute(spanAttribute, cellSpan + cellToMergeSpan, cellToExpand);\n            writer.setSelection(writer.createRangeIn(cellToExpand));\n            const tableUtils = this.editor.plugins.get('TableUtils');\n            const table = removedTableCellRow.findAncestor('table');\n            // Remove empty rows and columns after merging.\n            removeEmptyRowsColumns(table, tableUtils);\n        });\n    }\n    /**\n     * Returns a cell that can be merged with the current cell depending on the command's direction.\n     */\n    _getMergeableCell() {\n        const model = this.editor.model;\n        const doc = model.document;\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const tableCell = tableUtils.getTableCellsContainingSelection(doc.selection)[0];\n        if (!tableCell) {\n            return;\n        }\n        // First get the cell on proper direction.\n        const cellToMerge = this.isHorizontal ?\n            getHorizontalCell(tableCell, this.direction, tableUtils) :\n            getVerticalCell(tableCell, this.direction, tableUtils);\n        if (!cellToMerge) {\n            return;\n        }\n        // If found check if the span perpendicular to merge direction is equal on both cells.\n        const spanAttribute = this.isHorizontal ? 'rowspan' : 'colspan';\n        const span = parseInt(tableCell.getAttribute(spanAttribute) || '1');\n        const cellToMergeSpan = parseInt(cellToMerge.getAttribute(spanAttribute) || '1');\n        if (cellToMergeSpan === span) {\n            return cellToMerge;\n        }\n    }\n}\n/**\n * Returns the cell that can be merged horizontally.\n */\nfunction getHorizontalCell(tableCell, direction, tableUtils) {\n    const tableRow = tableCell.parent;\n    const table = tableRow.parent;\n    const horizontalCell = direction == 'right' ? tableCell.nextSibling : tableCell.previousSibling;\n    const hasHeadingColumns = (table.getAttribute('headingColumns') || 0) > 0;\n    if (!horizontalCell) {\n        return;\n    }\n    // Sort cells:\n    const cellOnLeft = (direction == 'right' ? tableCell : horizontalCell);\n    const cellOnRight = (direction == 'right' ? horizontalCell : tableCell);\n    // Get their column indexes:\n    const { column: leftCellColumn } = tableUtils.getCellLocation(cellOnLeft);\n    const { column: rightCellColumn } = tableUtils.getCellLocation(cellOnRight);\n    const leftCellSpan = parseInt(cellOnLeft.getAttribute('colspan') || '1');\n    const isCellOnLeftInHeadingColumn = isHeadingColumnCell(tableUtils, cellOnLeft);\n    const isCellOnRightInHeadingColumn = isHeadingColumnCell(tableUtils, cellOnRight);\n    // We cannot merge heading columns cells with regular cells.\n    if (hasHeadingColumns && isCellOnLeftInHeadingColumn != isCellOnRightInHeadingColumn) {\n        return;\n    }\n    // The cell on the right must have index that is distant to the cell on the left by the left cell's width (colspan).\n    const cellsAreTouching = leftCellColumn + leftCellSpan === rightCellColumn;\n    // If the right cell's column index is different it means that there are rowspanned cells between them.\n    return cellsAreTouching ? horizontalCell : undefined;\n}\n/**\n * Returns the cell that can be merged vertically.\n */\nfunction getVerticalCell(tableCell, direction, tableUtils) {\n    const tableRow = tableCell.parent;\n    const table = tableRow.parent;\n    const rowIndex = table.getChildIndex(tableRow);\n    // Don't search for mergeable cell if direction points out of the table.\n    if ((direction == 'down' && rowIndex === tableUtils.getRows(table) - 1) || (direction == 'up' && rowIndex === 0)) {\n        return null;\n    }\n    const rowspan = parseInt(tableCell.getAttribute('rowspan') || '1');\n    const headingRows = table.getAttribute('headingRows') || 0;\n    const isMergeWithBodyCell = direction == 'down' && (rowIndex + rowspan) === headingRows;\n    const isMergeWithHeadCell = direction == 'up' && rowIndex === headingRows;\n    // Don't search for mergeable cell if direction points out of the current table section.\n    if (headingRows && (isMergeWithBodyCell || isMergeWithHeadCell)) {\n        return null;\n    }\n    const currentCellRowSpan = parseInt(tableCell.getAttribute('rowspan') || '1');\n    const rowOfCellToMerge = direction == 'down' ? rowIndex + currentCellRowSpan : rowIndex;\n    const tableMap = [...new TableWalker(table, { endRow: rowOfCellToMerge })];\n    const currentCellData = tableMap.find(value => value.cell === tableCell);\n    const mergeColumn = currentCellData.column;\n    const cellToMergeData = tableMap.find(({ row, cellHeight, column }) => {\n        if (column !== mergeColumn) {\n            return false;\n        }\n        if (direction == 'down') {\n            // If merging a cell below the mergeRow is already calculated.\n            return row === rowOfCellToMerge;\n        }\n        else {\n            // If merging a cell above calculate if it spans to mergeRow.\n            return rowOfCellToMerge === row + cellHeight;\n        }\n    });\n    return cellToMergeData && cellToMergeData.cell ? cellToMergeData.cell : null;\n}\n/**\n * Merges two table cells. It will ensure that after merging cells with an empty paragraph, the resulting table cell will only have one\n * paragraph. If one of the merged table cells is empty, the merged table cell will have the contents of the non-empty table cell.\n * If both are empty, the merged table cell will have only one empty paragraph.\n */\nfunction mergeTableCells(cellToRemove, cellToExpand, writer) {\n    if (!isEmpty(cellToRemove)) {\n        if (isEmpty(cellToExpand)) {\n            writer.remove(writer.createRangeIn(cellToExpand));\n        }\n        writer.move(writer.createRangeIn(cellToRemove), writer.createPositionAt(cellToExpand, 'end'));\n    }\n    // Remove merged table cell.\n    writer.remove(cellToRemove);\n}\n/**\n * Checks if the passed table cell contains an empty paragraph.\n */\nfunction isEmpty(tableCell) {\n    const firstTableChild = tableCell.getChild(0);\n    return tableCell.childCount == 1 && firstTableChild.is('element', 'paragraph') && firstTableChild.isEmpty;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/commands/removerowcommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\n/**\n * The remove row command.\n *\n * The command is registered by {@link module:table/tableediting~TableEditing} as the `'removeTableRow'` editor command.\n *\n * To remove the row containing the selected cell, execute the command:\n *\n * ```ts\n * editor.execute( 'removeTableRow' );\n * ```\n */\nexport default class RemoveRowCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const selectedCells = tableUtils.getSelectionAffectedTableCells(this.editor.model.document.selection);\n        const firstCell = selectedCells[0];\n        if (firstCell) {\n            const table = firstCell.findAncestor('table');\n            const tableRowCount = tableUtils.getRows(table);\n            const lastRowIndex = tableRowCount - 1;\n            const selectedRowIndexes = tableUtils.getRowIndexes(selectedCells);\n            const areAllRowsSelected = selectedRowIndexes.first === 0 && selectedRowIndexes.last === lastRowIndex;\n            // Disallow selecting whole table -> delete whole table should be used instead.\n            this.isEnabled = !areAllRowsSelected;\n        }\n        else {\n            this.isEnabled = false;\n        }\n    }\n    /**\n     * @inheritDoc\n     */\n    execute() {\n        const model = this.editor.model;\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const referenceCells = tableUtils.getSelectionAffectedTableCells(model.document.selection);\n        const removedRowIndexes = tableUtils.getRowIndexes(referenceCells);\n        const firstCell = referenceCells[0];\n        const table = firstCell.findAncestor('table');\n        const columnIndexToFocus = tableUtils.getCellLocation(firstCell).column;\n        model.change(writer => {\n            const rowsToRemove = removedRowIndexes.last - removedRowIndexes.first + 1;\n            tableUtils.removeRows(table, {\n                at: removedRowIndexes.first,\n                rows: rowsToRemove\n            });\n            const cellToFocus = getCellToFocus(table, removedRowIndexes.first, columnIndexToFocus, tableUtils.getRows(table));\n            writer.setSelection(writer.createPositionAt(cellToFocus, 0));\n        });\n    }\n}\n/**\n * Returns a cell that should be focused before removing the row, belonging to the same column as the currently focused cell.\n * - If the row was not the last one, the cell to focus will be in the row that followed it (before removal).\n * - If the row was the last one, the cell to focus will be in the row that preceded it (before removal).\n */\nfunction getCellToFocus(table, removedRowIndex, columnToFocus, tableRowCount) {\n    // Don't go beyond last row's index.\n    const row = table.getChild(Math.min(removedRowIndex, tableRowCount - 1));\n    // Default to first table cell.\n    let cellToFocus = row.getChild(0);\n    let column = 0;\n    for (const tableCell of row.getChildren()) {\n        if (column > columnToFocus) {\n            return cellToFocus;\n        }\n        cellToFocus = tableCell;\n        column += parseInt(tableCell.getAttribute('colspan') || '1');\n    }\n    return cellToFocus;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/commands/removecolumncommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport TableWalker from '../tablewalker.js';\n/**\n * The remove column command.\n *\n * The command is registered by {@link module:table/tableediting~TableEditing} as the `'removeTableColumn'` editor command.\n *\n * To remove the column containing the selected cell, execute the command:\n *\n * ```ts\n * editor.execute( 'removeTableColumn' );\n * ```\n */\nexport default class RemoveColumnCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const selectedCells = tableUtils.getSelectionAffectedTableCells(this.editor.model.document.selection);\n        const firstCell = selectedCells[0];\n        if (firstCell) {\n            const table = firstCell.findAncestor('table');\n            const tableColumnCount = tableUtils.getColumns(table);\n            const { first, last } = tableUtils.getColumnIndexes(selectedCells);\n            this.isEnabled = last - first < (tableColumnCount - 1);\n        }\n        else {\n            this.isEnabled = false;\n        }\n    }\n    /**\n     * @inheritDoc\n     */\n    execute() {\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const [firstCell, lastCell] = getBoundaryCells(this.editor.model.document.selection, tableUtils);\n        const table = firstCell.parent.parent;\n        // Cache the table before removing or updating colspans.\n        const tableMap = [...new TableWalker(table)];\n        // Store column indexes of removed columns.\n        const removedColumnIndexes = {\n            first: tableMap.find(value => value.cell === firstCell).column,\n            last: tableMap.find(value => value.cell === lastCell).column\n        };\n        const cellToFocus = getCellToFocus(tableMap, firstCell, lastCell, removedColumnIndexes);\n        this.editor.model.change(writer => {\n            const columnsToRemove = removedColumnIndexes.last - removedColumnIndexes.first + 1;\n            tableUtils.removeColumns(table, {\n                at: removedColumnIndexes.first,\n                columns: columnsToRemove\n            });\n            writer.setSelection(writer.createPositionAt(cellToFocus, 0));\n        });\n    }\n}\n/**\n * Returns a proper table cell to focus after removing a column.\n * - selection is on last table cell it will return previous cell.\n */\nfunction getCellToFocus(tableMap, firstCell, lastCell, removedColumnIndexes) {\n    const colspan = parseInt(lastCell.getAttribute('colspan') || '1');\n    // If the table cell is spanned over 2+ columns - it will be truncated so the selection should\n    // stay in that cell.\n    if (colspan > 1) {\n        return lastCell;\n    }\n    // Normally, look for the cell in the same row that precedes the first cell to put selection there (\"column on the left\").\n    // If the deleted column is the first column of the table, there will be no predecessor: use the cell\n    // from the column that follows then (also in the same row).\n    else if (firstCell.previousSibling || lastCell.nextSibling) {\n        return lastCell.nextSibling || firstCell.previousSibling;\n    }\n    // It can happen that table cells have no siblings in a row, for instance, when there are row spans\n    // in the table (in the previous row). Then just look for the closest cell that is in a column\n    // that will not be removed to put the selection there.\n    else {\n        // Look for any cell in a column that precedes the first removed column.\n        if (removedColumnIndexes.first) {\n            return tableMap.reverse().find(({ column }) => {\n                return column < removedColumnIndexes.first;\n            }).cell;\n        }\n        // If the first removed column is the first column of the table, then\n        // look for any cell that is in a column that follows the last removed column.\n        else {\n            return tableMap.reverse().find(({ column }) => {\n                return column > removedColumnIndexes.last;\n            }).cell;\n        }\n    }\n}\n/**\n * Returns helper object returning the first and the last cell contained in given selection, based on DOM order.\n */\nfunction getBoundaryCells(selection, tableUtils) {\n    const referenceCells = tableUtils.getSelectionAffectedTableCells(selection);\n    const firstCell = referenceCells[0];\n    const lastCell = referenceCells.pop();\n    const returnValue = [firstCell, lastCell];\n    return firstCell.isBefore(lastCell) ? returnValue : returnValue.reverse();\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/commands/setheaderrowcommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { updateNumericAttribute } from '../utils/common.js';\nimport { getVerticallyOverlappingCells, splitHorizontally } from '../utils/structure.js';\n/**\n * The header row command.\n *\n * The command is registered by {@link module:table/tableediting~TableEditing} as the `'setTableColumnHeader'` editor command.\n *\n * You can make the row containing the selected cell a [header](https://www.w3.org/TR/html50/tabular-data.html#the-th-element) by executing:\n *\n * ```ts\n * editor.execute( 'setTableRowHeader' );\n * ```\n *\n * **Note:** All preceding rows will also become headers. If the current row is already a header, executing this command\n * will make it a regular row back again (including the following rows).\n */\nexport default class SetHeaderRowCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const model = this.editor.model;\n        const selectedCells = tableUtils.getSelectionAffectedTableCells(model.document.selection);\n        if (selectedCells.length === 0) {\n            this.isEnabled = false;\n            this.value = false;\n            return;\n        }\n        const table = selectedCells[0].findAncestor('table');\n        this.isEnabled = model.schema.checkAttribute(table, 'headingRows');\n        this.value = selectedCells.every(cell => this._isInHeading(cell, cell.parent.parent));\n    }\n    /**\n     * Executes the command.\n     *\n     * When the selection is in a non-header row, the command will set the `headingRows` table attribute to cover that row.\n     *\n     * When the selection is already in a header row, it will set `headingRows` so the heading section will end before that row.\n     *\n     * @fires execute\n     * @param options.forceValue If set, the command will set (`true`) or unset (`false`) the header rows according to\n     * the `forceValue` parameter instead of the current model state.\n     */\n    execute(options = {}) {\n        if (options.forceValue === this.value) {\n            return;\n        }\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const model = this.editor.model;\n        const selectedCells = tableUtils.getSelectionAffectedTableCells(model.document.selection);\n        const table = selectedCells[0].findAncestor('table');\n        const { first, last } = tableUtils.getRowIndexes(selectedCells);\n        const headingRowsToSet = this.value ? first : last + 1;\n        const currentHeadingRows = table.getAttribute('headingRows') || 0;\n        model.change(writer => {\n            if (headingRowsToSet) {\n                // Changing heading rows requires to check if any of a heading cell is overlapping vertically the table head.\n                // Any table cell that has a rowspan attribute > 1 will not exceed the table head so we need to fix it in rows below.\n                const startRow = headingRowsToSet > currentHeadingRows ? currentHeadingRows : 0;\n                const overlappingCells = getVerticallyOverlappingCells(table, headingRowsToSet, startRow);\n                for (const { cell } of overlappingCells) {\n                    splitHorizontally(cell, headingRowsToSet, writer);\n                }\n            }\n            updateNumericAttribute('headingRows', headingRowsToSet, table, writer, 0);\n        });\n    }\n    /**\n     * Checks if a table cell is in the heading section.\n     */\n    _isInHeading(tableCell, table) {\n        const headingRows = parseInt(table.getAttribute('headingRows') || '0');\n        return !!headingRows && tableCell.parent.index < headingRows;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/commands/setheadercolumncommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { isHeadingColumnCell, updateNumericAttribute } from '../utils/common.js';\nimport { getHorizontallyOverlappingCells, splitVertically } from '../utils/structure.js';\n/**\n * The header column command.\n *\n * The command is registered by {@link module:table/tableediting~TableEditing} as the `'setTableColumnHeader'` editor command.\n *\n * You can make the column containing the selected cell a [header](https://www.w3.org/TR/html50/tabular-data.html#the-th-element)\n * by executing:\n *\n * ```ts\n * editor.execute( 'setTableColumnHeader' );\n * ```\n *\n * **Note:** All preceding columns will also become headers. If the current column is already a header, executing this command\n * will make it a regular column back again (including the following columns).\n */\nexport default class SetHeaderColumnCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const model = this.editor.model;\n        const selectedCells = tableUtils.getSelectionAffectedTableCells(model.document.selection);\n        if (selectedCells.length === 0) {\n            this.isEnabled = false;\n            this.value = false;\n            return;\n        }\n        const table = selectedCells[0].findAncestor('table');\n        this.isEnabled = model.schema.checkAttribute(table, 'headingColumns');\n        this.value = selectedCells.every(cell => isHeadingColumnCell(tableUtils, cell));\n    }\n    /**\n     * Executes the command.\n     *\n     * When the selection is in a non-header column, the command will set the `headingColumns` table attribute to cover that column.\n     *\n     * When the selection is already in a header column, it will set `headingColumns` so the heading section will end before that column.\n     *\n     * @fires execute\n     * @param options.forceValue If set, the command will set (`true`) or unset (`false`) the header columns according to\n     * the `forceValue` parameter instead of the current model state.\n     */\n    execute(options = {}) {\n        if (options.forceValue === this.value) {\n            return;\n        }\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const model = this.editor.model;\n        const selectedCells = tableUtils.getSelectionAffectedTableCells(model.document.selection);\n        const table = selectedCells[0].findAncestor('table');\n        const { first, last } = tableUtils.getColumnIndexes(selectedCells);\n        const headingColumnsToSet = this.value ? first : last + 1;\n        model.change(writer => {\n            if (headingColumnsToSet) {\n                // Changing heading columns requires to check if any of a heading cell is overlapping horizontally the table head.\n                // Any table cell that has a colspan attribute > 1 will not exceed the table head so we need to fix it in columns before.\n                const overlappingCells = getHorizontallyOverlappingCells(table, headingColumnsToSet);\n                for (const { cell, column } of overlappingCells) {\n                    splitVertically(cell, column, headingColumnsToSet, writer);\n                }\n            }\n            updateNumericAttribute('headingColumns', headingColumnsToSet, table, writer, 0);\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { global } from 'ckeditor5/src/utils.js';\nimport { COLUMN_WIDTH_PRECISION, COLUMN_MIN_WIDTH_AS_PERCENTAGE, COLUMN_MIN_WIDTH_IN_PIXELS } from './constants.js';\n/**\n * Returns all the inserted or changed table model elements in a given change set. Only the tables\n * with 'columnsWidth' attribute are taken into account. The returned set may be empty.\n *\n * Most notably if an entire table is removed it will not be included in returned set.\n *\n * @param model The model to collect the affected elements from.\n * @returns A set of table model elements.\n */\nexport function getChangedResizedTables(model) {\n    const affectedTables = new Set();\n    for (const change of model.document.differ.getChanges()) {\n        let referencePosition = null;\n        // Checks if the particular change from the differ is:\n        // - an insertion or removal of a table, a row or a cell,\n        // - an attribute change on a table, a row or a cell.\n        switch (change.type) {\n            case 'insert':\n                referencePosition = ['table', 'tableRow', 'tableCell'].includes(change.name) ?\n                    change.position :\n                    null;\n                break;\n            case 'remove':\n                // If the whole table is removed, there's no need to update its column widths (#12201).\n                referencePosition = ['tableRow', 'tableCell'].includes(change.name) ?\n                    change.position :\n                    null;\n                break;\n            case 'attribute':\n                if (change.range.start.nodeAfter) {\n                    referencePosition = ['table', 'tableRow', 'tableCell'].includes(change.range.start.nodeAfter.name) ?\n                        change.range.start :\n                        null;\n                }\n                break;\n        }\n        if (!referencePosition) {\n            continue;\n        }\n        const tableNode = (referencePosition.nodeAfter && referencePosition.nodeAfter.is('element', 'table')) ?\n            referencePosition.nodeAfter : referencePosition.findAncestor('table');\n        // We iterate over the whole table looking for the nested tables that are also affected.\n        for (const node of model.createRangeOn(tableNode).getItems()) {\n            if (!node.is('element', 'table')) {\n                continue;\n            }\n            if (!getColumnGroupElement(node)) {\n                continue;\n            }\n            affectedTables.add(node);\n        }\n    }\n    return affectedTables;\n}\n/**\n * Calculates the percentage of the minimum column width given in pixels for a given table.\n *\n * @param modelTable A table model element.\n * @param editor The editor instance.\n * @returns The minimal column width in percentage.\n */\nexport function getColumnMinWidthAsPercentage(modelTable, editor) {\n    return COLUMN_MIN_WIDTH_IN_PIXELS * 100 / getTableWidthInPixels(modelTable, editor);\n}\n/**\n * Calculates the table width in pixels.\n *\n * @param modelTable A table model element.\n * @param editor The editor instance.\n * @returns The width of the table in pixels.\n */\nexport function getTableWidthInPixels(modelTable, editor) {\n    // It is possible for a table to not have a <tbody> element - see #11878.\n    const referenceElement = getChildrenViewElement(modelTable, 'tbody', editor) || getChildrenViewElement(modelTable, 'thead', editor);\n    const domReferenceElement = editor.editing.view.domConverter.mapViewToDom(referenceElement);\n    return getElementWidthInPixels(domReferenceElement);\n}\n/**\n * Returns the a view element with a given name that is nested directly in a `<table>` element\n * related to a given `modelTable`.\n *\n * @param elementName Name of a view to be looked for, e.g. `'colgroup`', `'thead`'.\n * @returns Matched view or `undefined` otherwise.\n */\nfunction getChildrenViewElement(modelTable, elementName, editor) {\n    const viewFigure = editor.editing.mapper.toViewElement(modelTable);\n    const viewTable = [...viewFigure.getChildren()]\n        .find((node) => node.is('element', 'table'));\n    return [...viewTable.getChildren()]\n        .find((node) => node.is('element', elementName));\n}\n/**\n * Returns the computed width (in pixels) of the DOM element without padding and borders.\n *\n * @param domElement A DOM element.\n * @returns The width of the DOM element in pixels.\n */\nexport function getElementWidthInPixels(domElement) {\n    const styles = global.window.getComputedStyle(domElement);\n    // In the 'border-box' box sizing algorithm, the element's width\n    // already includes the padding and border width (#12335).\n    if (styles.boxSizing === 'border-box') {\n        return parseFloat(styles.width) -\n            parseFloat(styles.paddingLeft) -\n            parseFloat(styles.paddingRight) -\n            parseFloat(styles.borderLeftWidth) -\n            parseFloat(styles.borderRightWidth);\n    }\n    else {\n        return parseFloat(styles.width);\n    }\n}\n/**\n * Returns the column indexes on the left and right edges of a cell. They differ if the cell spans\n * across multiple columns.\n *\n * @param cell A table cell model element.\n * @param tableUtils The Table Utils plugin instance.\n * @returns An object containing the indexes of the left and right edges of the cell.\n */\nexport function getColumnEdgesIndexes(cell, tableUtils) {\n    const cellColumnIndex = tableUtils.getCellLocation(cell).column;\n    const cellWidth = cell.getAttribute('colspan') || 1;\n    return {\n        leftEdge: cellColumnIndex,\n        rightEdge: cellColumnIndex + cellWidth - 1\n    };\n}\n/**\n * Rounds the provided value to a fixed-point number with defined number of digits after the decimal point.\n *\n * @param value A number to be rounded.\n * @returns The rounded number.\n */\nexport function toPrecision(value) {\n    const multiplier = Math.pow(10, COLUMN_WIDTH_PRECISION);\n    const number = typeof value === 'number' ? value : parseFloat(value);\n    return Math.round(number * multiplier) / multiplier;\n}\n/**\n * Clamps the number within the inclusive lower (min) and upper (max) bounds. Returned number is rounded using the\n * {@link ~toPrecision `toPrecision()`} function.\n *\n * @param number A number to be clamped.\n * @param min A lower bound.\n * @param max An upper bound.\n * @returns The clamped number.\n */\nexport function clamp(number, min, max) {\n    if (number <= min) {\n        return toPrecision(min);\n    }\n    if (number >= max) {\n        return toPrecision(max);\n    }\n    return toPrecision(number);\n}\n/**\n * Creates an array with defined length and fills all elements with defined value.\n *\n * @param length The length of the array.\n * @param value The value to fill the array with.\n * @returns An array with defined length and filled with defined value.\n */\nexport function createFilledArray(length, value) {\n    return Array(length).fill(value);\n}\n/**\n * Sums all array values that can be parsed to a float.\n *\n * @param array An array of numbers.\n * @returns The sum of all array values.\n */\nexport function sumArray(array) {\n    return array\n        .map(value => typeof value === 'number' ? value : parseFloat(value))\n        .filter(value => !Number.isNaN(value))\n        .reduce((result, item) => result + item, 0);\n}\n/**\n * Makes sure that the sum of the widths from all columns is 100%. If the sum of all the widths is not equal 100%, all the widths are\n * changed proportionally so that they all sum back to 100%. If there are columns without specified width, the amount remaining\n * after assigning the known widths will be distributed equally between them.\n *\n * @param columnWidths An array of column widths.\n * @returns An array of column widths guaranteed to sum up to 100%.\n */\nexport function normalizeColumnWidths(columnWidths) {\n    const widths = columnWidths.map(width => {\n        if (width === 'auto') {\n            return width;\n        }\n        return parseFloat(width.replace('%', ''));\n    });\n    let normalizedWidths = calculateMissingColumnWidths(widths);\n    const totalWidth = sumArray(normalizedWidths);\n    if (totalWidth !== 100) {\n        normalizedWidths = normalizedWidths\n            // Adjust all the columns proportionally.\n            .map(width => toPrecision(width * 100 / totalWidth))\n            // Due to rounding of numbers it may happen that the sum of the widths of all columns will not be exactly 100%.\n            // Therefore, the width of the last column is explicitly adjusted (narrowed or expanded), since all the columns\n            // have been proportionally changed already.\n            .map((columnWidth, columnIndex, width) => {\n            const isLastColumn = columnIndex === width.length - 1;\n            if (!isLastColumn) {\n                return columnWidth;\n            }\n            const totalWidth = sumArray(width);\n            return toPrecision(columnWidth + 100 - totalWidth);\n        });\n    }\n    return normalizedWidths.map(width => width + '%');\n}\n/**\n * Initializes the column widths by parsing the attribute value and calculating the uninitialized column widths. The special value 'auto'\n * indicates that width for the column must be calculated. The width of such uninitialized column is calculated as follows:\n * - If there is enough free space in the table for all uninitialized columns to have at least the minimum allowed width for all of them,\n *   then set this width equally for all uninitialized columns.\n * - Otherwise, just set the minimum allowed width for all uninitialized columns. The sum of all column widths will be greater than 100%,\n *   but then it will be adjusted proportionally to 100% in {@link #normalizeColumnWidths `normalizeColumnWidths()`}.\n *\n * @param columnWidths An array of column widths.\n * @returns An array with 'auto' values replaced with calculated widths.\n */\nfunction calculateMissingColumnWidths(columnWidths) {\n    const numberOfUninitializedColumns = columnWidths.filter(columnWidth => columnWidth === 'auto').length;\n    if (numberOfUninitializedColumns === 0) {\n        return columnWidths.map(columnWidth => toPrecision(columnWidth));\n    }\n    const totalWidthOfInitializedColumns = sumArray(columnWidths);\n    const widthForUninitializedColumn = Math.max((100 - totalWidthOfInitializedColumns) / numberOfUninitializedColumns, COLUMN_MIN_WIDTH_AS_PERCENTAGE);\n    return columnWidths\n        .map(columnWidth => columnWidth === 'auto' ? widthForUninitializedColumn : columnWidth)\n        .map(columnWidth => toPrecision(columnWidth));\n}\n/**\n * Calculates the total horizontal space taken by the cell. That includes:\n *  * width,\n *  * left and red padding,\n *  * border width.\n *\n * @param domCell A DOM cell element.\n * @returns Width in pixels without `px` at the end.\n */\nexport function getDomCellOuterWidth(domCell) {\n    const styles = global.window.getComputedStyle(domCell);\n    // In the 'border-box' box sizing algorithm, the element's width\n    // already includes the padding and border width (#12335).\n    if (styles.boxSizing === 'border-box') {\n        return parseInt(styles.width);\n    }\n    else {\n        return parseFloat(styles.width) +\n            parseFloat(styles.paddingLeft) +\n            parseFloat(styles.paddingRight) +\n            parseFloat(styles.borderWidth);\n    }\n}\n/**\n * Updates column elements to match columns widths.\n *\n * @param columns\n * @param tableColumnGroup\n * @param normalizedWidths\n * @param writer\n */\nexport function updateColumnElements(columns, tableColumnGroup, normalizedWidths, writer) {\n    for (let i = 0; i < Math.max(normalizedWidths.length, columns.length); i++) {\n        const column = columns[i];\n        const columnWidth = normalizedWidths[i];\n        if (!columnWidth) {\n            // Number of `<tableColumn>` elements exceeds actual number of columns.\n            writer.remove(column);\n        }\n        else if (!column) {\n            // There is fewer `<tableColumn>` elements than actual columns.\n            writer.appendElement('tableColumn', { columnWidth }, tableColumnGroup);\n        }\n        else {\n            // Update column width.\n            writer.setAttribute('columnWidth', columnWidth, column);\n        }\n    }\n}\n/**\n * Returns a 'tableColumnGroup' element from the 'table'.\n *\n * @internal\n * @param element A 'table' or 'tableColumnGroup' element.\n * @returns A 'tableColumnGroup' element.\n */\nexport function getColumnGroupElement(element) {\n    if (element.is('element', 'tableColumnGroup')) {\n        return element;\n    }\n    const children = element.getChildren();\n    return Array\n        .from(children)\n        .find(element => element.is('element', 'tableColumnGroup'));\n}\n/**\n * Returns an array of 'tableColumn' elements. It may be empty if there's no `tableColumnGroup` element.\n *\n * @internal\n * @param element A 'table' or 'tableColumnGroup' element.\n * @returns An array of 'tableColumn' elements.\n */\nexport function getTableColumnElements(element) {\n    const columnGroupElement = getColumnGroupElement(element);\n    if (!columnGroupElement) {\n        return [];\n    }\n    return Array.from(columnGroupElement.getChildren());\n}\n/**\n * Returns an array of table column widths.\n *\n * @internal\n * @param element A 'table' or 'tableColumnGroup' element.\n * @returns An array of table column widths.\n */\nexport function getTableColumnsWidths(element) {\n    return getTableColumnElements(element).map(column => column.getAttribute('columnWidth'));\n}\n/**\n * Translates the `colSpan` model attribute into additional column widths and returns the resulting array.\n *\n * @internal\n * @param element A 'table' or 'tableColumnGroup' element.\n * @param writer A writer instance.\n * @returns An array of table column widths.\n */\nexport function translateColSpanAttribute(element, writer) {\n    const tableColumnElements = getTableColumnElements(element);\n    return tableColumnElements.reduce((acc, element) => {\n        const columnWidth = element.getAttribute('columnWidth');\n        const colSpan = element.getAttribute('colSpan');\n        if (!colSpan) {\n            acc.push(columnWidth);\n            return acc;\n        }\n        // Translate the `colSpan` model attribute on to the proper number of column widths\n        // and remove it from the element.\n        // See https://github.com/ckeditor/ckeditor5/issues/14521#issuecomment-1662102889 for more details.\n        for (let i = 0; i < colSpan; i++) {\n            acc.push(columnWidth);\n        }\n        writer.removeAttribute('colSpan', element);\n        return acc;\n    }, []);\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/tableutils\n */\nimport { CKEditorError } from 'ckeditor5/src/utils.js';\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport TableWalker from './tablewalker.js';\nimport { createEmptyTableCell, updateNumericAttribute } from './utils/common.js';\nimport { removeEmptyColumns, removeEmptyRows } from './utils/structure.js';\nimport { getTableColumnElements } from './tablecolumnresize/utils.js';\n/**\n * The table utilities plugin.\n */\nexport default class TableUtils extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TableUtils';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        this.decorate('insertColumns');\n        this.decorate('insertRows');\n    }\n    /**\n     * Returns the table cell location as an object with table row and table column indexes.\n     *\n     * For instance, in the table below:\n     *\n     *      0   1   2   3\n     *    +---+---+---+---+\n     *  0 | a     | b | c |\n     *    +       +   +---+\n     *  1 |       |   | d |\n     *    +---+---+   +---+\n     *  2 | e     |   | f |\n     *    +---+---+---+---+\n     *\n     * the method will return:\n     *\n     * ```ts\n     * const cellA = table.getNodeByPath( [ 0, 0 ] );\n     * editor.plugins.get( 'TableUtils' ).getCellLocation( cellA );\n     * // will return { row: 0, column: 0 }\n     *\n     * const cellD = table.getNodeByPath( [ 1, 0 ] );\n     * editor.plugins.get( 'TableUtils' ).getCellLocation( cellD );\n     * // will return { row: 1, column: 3 }\n     * ```\n     *\n     * @returns Returns a `{row, column}` object.\n     */\n    getCellLocation(tableCell) {\n        const tableRow = tableCell.parent;\n        const table = tableRow.parent;\n        const rowIndex = table.getChildIndex(tableRow);\n        const tableWalker = new TableWalker(table, { row: rowIndex });\n        for (const { cell, row, column } of tableWalker) {\n            if (cell === tableCell) {\n                return { row, column };\n            }\n        }\n        // Should be unreachable code.\n        /* istanbul ignore next -- @preserve */\n        return undefined;\n    }\n    /**\n     * Creates an empty table with a proper structure. The table needs to be inserted into the model,\n     * for example, by using the {@link module:engine/model/model~Model#insertContent} function.\n     *\n     * ```ts\n     * model.change( ( writer ) => {\n     *   // Create a table of 2 rows and 7 columns:\n     *   const table = tableUtils.createTable( writer, { rows: 2, columns: 7 } );\n     *\n     *   // Insert a table to the model at the best position taking the current selection:\n     *   model.insertContent( table );\n     * }\n     * ```\n     *\n     * @param writer The model writer.\n     * @param options.rows The number of rows to create. Default value is 2.\n     * @param options.columns The number of columns to create. Default value is 2.\n     * @param options.headingRows The number of heading rows. Default value is 0.\n     * @param options.headingColumns The number of heading columns. Default value is 0.\n     * @returns The created table element.\n     */\n    createTable(writer, options) {\n        const table = writer.createElement('table');\n        const rows = options.rows || 2;\n        const columns = options.columns || 2;\n        createEmptyRows(writer, table, 0, rows, columns);\n        if (options.headingRows) {\n            updateNumericAttribute('headingRows', Math.min(options.headingRows, rows), table, writer, 0);\n        }\n        if (options.headingColumns) {\n            updateNumericAttribute('headingColumns', Math.min(options.headingColumns, columns), table, writer, 0);\n        }\n        return table;\n    }\n    /**\n     * Inserts rows into a table.\n     *\n     * ```ts\n     * editor.plugins.get( 'TableUtils' ).insertRows( table, { at: 1, rows: 2 } );\n     * ```\n     *\n     * Assuming the table on the left, the above code will transform it to the table on the right:\n     *\n     *  row index\n     *    0 +---+---+---+       `at` = 1,      +---+---+---+ 0\n     *      | a | b | c |       `rows` = 2,    | a | b | c |\n     *    1 +   +---+---+   <-- insert here    +   +---+---+ 1\n     *      |   | d | e |                      |   |   |   |\n     *    2 +   +---+---+       will give:     +   +---+---+ 2\n     *      |   | f | g |                      |   |   |   |\n     *    3 +---+---+---+                      +   +---+---+ 3\n     *                                         |   | d | e |\n     *                                         +   +---+---+ 4\n     *                                         +   + f | g |\n     *                                         +---+---+---+ 5\n     *\n     * @param table The table model element where the rows will be inserted.\n     * @param options.at The row index at which the rows will be inserted.  Default value is 0.\n     * @param options.rows The number of rows to insert.  Default value is 1.\n     * @param options.copyStructureFromAbove The flag for copying row structure. Note that\n     * the row structure will not be copied if this option is not provided.\n     */\n    insertRows(table, options = {}) {\n        const model = this.editor.model;\n        const insertAt = options.at || 0;\n        const rowsToInsert = options.rows || 1;\n        const isCopyStructure = options.copyStructureFromAbove !== undefined;\n        const copyStructureFrom = options.copyStructureFromAbove ? insertAt - 1 : insertAt;\n        const rows = this.getRows(table);\n        const columns = this.getColumns(table);\n        if (insertAt > rows) {\n            /**\n             * The `options.at` points at a row position that does not exist.\n             *\n             * @error tableutils-insertrows-insert-out-of-range\n             */\n            throw new CKEditorError('tableutils-insertrows-insert-out-of-range', this, { options });\n        }\n        model.change(writer => {\n            const headingRows = table.getAttribute('headingRows') || 0;\n            // Inserting rows inside heading section requires to update `headingRows` attribute as the heading section will grow.\n            if (headingRows > insertAt) {\n                updateNumericAttribute('headingRows', headingRows + rowsToInsert, table, writer, 0);\n            }\n            // Inserting at the end or at the beginning of a table doesn't require to calculate anything special.\n            if (!isCopyStructure && (insertAt === 0 || insertAt === rows)) {\n                createEmptyRows(writer, table, insertAt, rowsToInsert, columns);\n                return;\n            }\n            // Iterate over all the rows above the inserted rows in order to check for the row-spanned cells.\n            const walkerEndRow = isCopyStructure ? Math.max(insertAt, copyStructureFrom) : insertAt;\n            const tableIterator = new TableWalker(table, { endRow: walkerEndRow });\n            // Store spans of the reference row to reproduce it's structure. This array is column number indexed.\n            const rowColSpansMap = new Array(columns).fill(1);\n            for (const { row, column, cellHeight, cellWidth, cell } of tableIterator) {\n                const lastCellRow = row + cellHeight - 1;\n                const isOverlappingInsertedRow = row < insertAt && insertAt <= lastCellRow;\n                const isReferenceRow = row <= copyStructureFrom && copyStructureFrom <= lastCellRow;\n                // If the cell is row-spanned and overlaps the inserted row, then reserve space for it in the row map.\n                if (isOverlappingInsertedRow) {\n                    // This cell overlaps the inserted rows so we need to expand it further.\n                    writer.setAttribute('rowspan', cellHeight + rowsToInsert, cell);\n                    // Mark this cell with negative number to indicate how many cells should be skipped when adding the new cells.\n                    rowColSpansMap[column] = -cellWidth;\n                }\n                // Store the colspan from reference row.\n                else if (isCopyStructure && isReferenceRow) {\n                    rowColSpansMap[column] = cellWidth;\n                }\n            }\n            for (let rowIndex = 0; rowIndex < rowsToInsert; rowIndex++) {\n                const tableRow = writer.createElement('tableRow');\n                writer.insert(tableRow, table, insertAt);\n                for (let cellIndex = 0; cellIndex < rowColSpansMap.length; cellIndex++) {\n                    const colspan = rowColSpansMap[cellIndex];\n                    const insertPosition = writer.createPositionAt(tableRow, 'end');\n                    // Insert the empty cell only if this slot is not row-spanned from any other cell.\n                    if (colspan > 0) {\n                        createEmptyTableCell(writer, insertPosition, colspan > 1 ? { colspan } : undefined);\n                    }\n                    // Skip the col-spanned slots, there won't be any cells.\n                    cellIndex += Math.abs(colspan) - 1;\n                }\n            }\n        });\n    }\n    /**\n     * Inserts columns into a table.\n     *\n     * ```ts\n     * editor.plugins.get( 'TableUtils' ).insertColumns( table, { at: 1, columns: 2 } );\n     * ```\n     *\n     * Assuming the table on the left, the above code will transform it to the table on the right:\n     *\n     *  0   1   2   3                   0   1   2   3   4   5\n     *  +---+---+---+                   +---+---+---+---+---+\n     *  | a     | b |                   | a             | b |\n     *  +       +---+                   +               +---+\n     *  |       | c |                   |               | c |\n     *  +---+---+---+     will give:    +---+---+---+---+---+\n     *  | d | e | f |                   | d |   |   | e | f |\n     *  +---+   +---+                   +---+---+---+   +---+\n     *  | g |   | h |                   | g |   |   |   | h |\n     *  +---+---+---+                   +---+---+---+---+---+\n     *  | i         |                   | i                 |\n     *  +---+---+---+                   +---+---+---+---+---+\n     *      ^---- insert here, `at` = 1, `columns` = 2\n     *\n     * @param table The table model element where the columns will be inserted.\n     * @param options.at The column index at which the columns will be inserted. Default value is 0.\n     * @param options.columns The number of columns to insert. Default value is 1.\n     */\n    insertColumns(table, options = {}) {\n        const model = this.editor.model;\n        const insertAt = options.at || 0;\n        const columnsToInsert = options.columns || 1;\n        model.change(writer => {\n            const headingColumns = table.getAttribute('headingColumns');\n            // Inserting columns inside heading section requires to update `headingColumns` attribute as the heading section will grow.\n            if (insertAt < headingColumns) {\n                writer.setAttribute('headingColumns', headingColumns + columnsToInsert, table);\n            }\n            const tableColumns = this.getColumns(table);\n            // Inserting at the end and at the beginning of a table doesn't require to calculate anything special.\n            if (insertAt === 0 || tableColumns === insertAt) {\n                for (const tableRow of table.getChildren()) {\n                    // Ignore non-row elements inside the table (e.g. caption).\n                    if (!tableRow.is('element', 'tableRow')) {\n                        continue;\n                    }\n                    createCells(columnsToInsert, writer, writer.createPositionAt(tableRow, insertAt ? 'end' : 0));\n                }\n                return;\n            }\n            const tableWalker = new TableWalker(table, { column: insertAt, includeAllSlots: true });\n            for (const tableSlot of tableWalker) {\n                const { row, cell, cellAnchorColumn, cellAnchorRow, cellWidth, cellHeight } = tableSlot;\n                // When iterating over column the table walker outputs either:\n                // - cells at given column index (cell \"e\" from method docs),\n                // - spanned columns (spanned cell from row between cells \"g\" and \"h\" - spanned by \"e\", only if `includeAllSlots: true`),\n                // - or a cell from the same row which spans over this column (cell \"a\").\n                if (cellAnchorColumn < insertAt) {\n                    // If cell is anchored in previous column, it is a cell that spans over an inserted column (cell \"a\" & \"i\").\n                    // For such cells expand them by a number of columns inserted.\n                    writer.setAttribute('colspan', cellWidth + columnsToInsert, cell);\n                    // This cell will overlap cells in rows below so skip them (because of `includeAllSlots` option) - (cell \"a\")\n                    const lastCellRow = cellAnchorRow + cellHeight - 1;\n                    for (let i = row; i <= lastCellRow; i++) {\n                        tableWalker.skipRow(i);\n                    }\n                }\n                else {\n                    // It's either cell at this column index or spanned cell by a row-spanned cell from row above.\n                    // In table above it's cell \"e\" and a spanned position from row below (empty cell between cells \"g\" and \"h\")\n                    createCells(columnsToInsert, writer, tableSlot.getPositionBefore());\n                }\n            }\n        });\n    }\n    /**\n     * Removes rows from the given `table`.\n     *\n     * This method re-calculates the table geometry including `rowspan` attribute of table cells overlapping removed rows\n     * and table headings values.\n     *\n     * ```ts\n     * editor.plugins.get( 'TableUtils' ).removeRows( table, { at: 1, rows: 2 } );\n     * ```\n     *\n     * Executing the above code in the context of the table on the left will transform its structure as presented on the right:\n     *\n     *  row index\n     *      ┌───┬───┬───┐        `at` = 1        ┌───┬───┬───┐\n     *    0 │ a │ b │ c │        `rows` = 2      │ a │ b │ c │ 0\n     *      │   ├───┼───┤                        │   ├───┼───┤\n     *    1 │   │ d │ e │  <-- remove from here  │   │ d │ g │ 1\n     *      │   │   ├───┤        will give:      ├───┼───┼───┤\n     *    2 │   │   │ f │                        │ h │ i │ j │ 2\n     *      │   │   ├───┤                        └───┴───┴───┘\n     *    3 │   │   │ g │\n     *      ├───┼───┼───┤\n     *    4 │ h │ i │ j │\n     *      └───┴───┴───┘\n     *\n     * @param options.at The row index at which the removing rows will start.\n     * @param options.rows The number of rows to remove. Default value is 1.\n     */\n    removeRows(table, options) {\n        const model = this.editor.model;\n        const rowsToRemove = options.rows || 1;\n        const rowCount = this.getRows(table);\n        const first = options.at;\n        const last = first + rowsToRemove - 1;\n        if (last > rowCount - 1) {\n            /**\n             * The `options.at` param must point at existing row and `options.rows` must not exceed the rows in the table.\n             *\n             * @error tableutils-removerows-row-index-out-of-range\n             */\n            throw new CKEditorError('tableutils-removerows-row-index-out-of-range', this, { table, options });\n        }\n        model.change(writer => {\n            const indexesObject = { first, last };\n            // Removing rows from the table require that most calculations to be done prior to changing table structure.\n            // Preparations must be done in the same enqueueChange callback to use the current table structure.\n            // 1. Preparation - get row-spanned cells that have to be modified after removing rows.\n            const { cellsToMove, cellsToTrim } = getCellsToMoveAndTrimOnRemoveRow(table, indexesObject);\n            // 2. Execution\n            // 2a. Move cells from removed rows that extends over a removed section - must be done before removing rows.\n            // This will fill any gaps in a rows below that previously were empty because of row-spanned cells.\n            if (cellsToMove.size) {\n                const rowAfterRemovedSection = last + 1;\n                moveCellsToRow(table, rowAfterRemovedSection, cellsToMove, writer);\n            }\n            // 2b. Remove all required rows.\n            for (let i = last; i >= first; i--) {\n                writer.remove(table.getChild(i));\n            }\n            // 2c. Update cells from rows above that overlap removed section. Similar to step 2 but does not involve moving cells.\n            for (const { rowspan, cell } of cellsToTrim) {\n                updateNumericAttribute('rowspan', rowspan, cell, writer);\n            }\n            // 2d. Adjust heading rows if removed rows were in a heading section.\n            updateHeadingRows(table, indexesObject, writer);\n            // 2e. Remove empty columns (without anchored cells) if there are any.\n            if (!removeEmptyColumns(table, this)) {\n                // If there wasn't any empty columns then we still need to check if this wasn't called\n                // because of cleaning empty rows and we only removed one of them.\n                removeEmptyRows(table, this);\n            }\n        });\n    }\n    /**\n     * Removes columns from the given `table`.\n     *\n     * This method re-calculates the table geometry including the `colspan` attribute of table cells overlapping removed columns\n     * and table headings values.\n     *\n     * ```ts\n     * editor.plugins.get( 'TableUtils' ).removeColumns( table, { at: 1, columns: 2 } );\n     * ```\n     *\n     * Executing the above code in the context of the table on the left will transform its structure as presented on the right:\n     *\n     *    0   1   2   3   4                       0   1   2\n     *  ┌───────────────┬───┐                   ┌───────┬───┐\n     *  │ a             │ b │                   │ a     │ b │\n     *  │               ├───┤                   │       ├───┤\n     *  │               │ c │                   │       │ c │\n     *  ├───┬───┬───┬───┼───┤     will give:    ├───┬───┼───┤\n     *  │ d │ e │ f │ g │ h │                   │ d │ g │ h │\n     *  ├───┼───┼───┤   ├───┤                   ├───┤   ├───┤\n     *  │ i │ j │ k │   │ l │                   │ i │   │ l │\n     *  ├───┴───┴───┴───┴───┤                   ├───┴───┴───┤\n     *  │ m                 │                   │ m         │\n     *  └───────────────────┘                   └───────────┘\n     *        ^---- remove from here, `at` = 1, `columns` = 2\n     *\n     * @param options.at The row index at which the removing columns will start.\n     * @param options.columns The number of columns to remove.\n     */\n    removeColumns(table, options) {\n        const model = this.editor.model;\n        const first = options.at;\n        const columnsToRemove = options.columns || 1;\n        const last = options.at + columnsToRemove - 1;\n        model.change(writer => {\n            adjustHeadingColumns(table, { first, last }, writer);\n            const tableColumns = getTableColumnElements(table);\n            for (let removedColumnIndex = last; removedColumnIndex >= first; removedColumnIndex--) {\n                for (const { cell, column, cellWidth } of [...new TableWalker(table)]) {\n                    // If colspaned cell overlaps removed column decrease its span.\n                    if (column <= removedColumnIndex && cellWidth > 1 && column + cellWidth > removedColumnIndex) {\n                        updateNumericAttribute('colspan', cellWidth - 1, cell, writer);\n                    }\n                    else if (column === removedColumnIndex) {\n                        // The cell in removed column has colspan of 1.\n                        writer.remove(cell);\n                    }\n                }\n                // If table has `tableColumn` elements, we need to update it manually.\n                // See https://github.com/ckeditor/ckeditor5/issues/14521#issuecomment-1662102889 for details.\n                if (tableColumns[removedColumnIndex]) {\n                    // If the removed column is the first one then we need to add its width to the next column.\n                    // Otherwise we add it to the previous column.\n                    const adjacentColumn = removedColumnIndex === 0 ? tableColumns[1] : tableColumns[removedColumnIndex - 1];\n                    const removedColumnWidth = parseFloat(tableColumns[removedColumnIndex].getAttribute('columnWidth'));\n                    const adjacentColumnWidth = parseFloat(adjacentColumn.getAttribute('columnWidth'));\n                    writer.remove(tableColumns[removedColumnIndex]);\n                    // Add the removed column width (in %) to the adjacent column.\n                    writer.setAttribute('columnWidth', removedColumnWidth + adjacentColumnWidth + '%', adjacentColumn);\n                }\n            }\n            // Remove empty rows that could appear after removing columns.\n            if (!removeEmptyRows(table, this)) {\n                // If there wasn't any empty rows then we still need to check if this wasn't called\n                // because of cleaning empty columns and we only removed one of them.\n                removeEmptyColumns(table, this);\n            }\n        });\n    }\n    /**\n     * Divides a table cell vertically into several ones.\n     *\n     * The cell will be visually split into more cells by updating colspans of other cells in a column\n     * and inserting cells (columns) after that cell.\n     *\n     * In the table below, if cell \"a\" is split into 3 cells:\n     *\n     *  +---+---+---+\n     *  | a | b | c |\n     *  +---+---+---+\n     *  | d | e | f |\n     *  +---+---+---+\n     *\n     * it will result in the table below:\n     *\n     *  +---+---+---+---+---+\n     *  | a |   |   | b | c |\n     *  +---+---+---+---+---+\n     *  | d         | e | f |\n     *  +---+---+---+---+---+\n     *\n     * So cell \"d\" will get its `colspan` updated to `3` and 2 cells will be added (2 columns will be created).\n     *\n     * Splitting a cell that already has a `colspan` attribute set will distribute the cell `colspan` evenly and the remainder\n     * will be left to the original cell:\n     *\n     *  +---+---+---+\n     *  | a         |\n     *  +---+---+---+\n     *  | b | c | d |\n     *  +---+---+---+\n     *\n     * Splitting cell \"a\" with `colspan=3` into 2 cells will create 1 cell with a `colspan=a` and cell \"a\" that will have `colspan=2`:\n     *\n     *  +---+---+---+\n     *  | a     |   |\n     *  +---+---+---+\n     *  | b | c | d |\n     *  +---+---+---+\n     */\n    splitCellVertically(tableCell, numberOfCells = 2) {\n        const model = this.editor.model;\n        const tableRow = tableCell.parent;\n        const table = tableRow.parent;\n        const rowspan = parseInt(tableCell.getAttribute('rowspan') || '1');\n        const colspan = parseInt(tableCell.getAttribute('colspan') || '1');\n        model.change(writer => {\n            // First check - the cell spans over multiple rows so before doing anything else just split this cell.\n            if (colspan > 1) {\n                // Get spans of new (inserted) cells and span to update of split cell.\n                const { newCellsSpan, updatedSpan } = breakSpanEvenly(colspan, numberOfCells);\n                updateNumericAttribute('colspan', updatedSpan, tableCell, writer);\n                // Each inserted cell will have the same attributes:\n                const newCellsAttributes = {};\n                // Do not store default value in the model.\n                if (newCellsSpan > 1) {\n                    newCellsAttributes.colspan = newCellsSpan;\n                }\n                // Copy rowspan of split cell.\n                if (rowspan > 1) {\n                    newCellsAttributes.rowspan = rowspan;\n                }\n                const cellsToInsert = colspan > numberOfCells ? numberOfCells - 1 : colspan - 1;\n                createCells(cellsToInsert, writer, writer.createPositionAfter(tableCell), newCellsAttributes);\n            }\n            // Second check - the cell has colspan of 1 or we need to create more cells then the currently one spans over.\n            if (colspan < numberOfCells) {\n                const cellsToInsert = numberOfCells - colspan;\n                // First step: expand cells on the same column as split cell.\n                const tableMap = [...new TableWalker(table)];\n                // Get the column index of split cell.\n                const { column: splitCellColumn } = tableMap.find(({ cell }) => cell === tableCell);\n                // Find cells which needs to be expanded vertically - those on the same column or those that spans over split cell's column.\n                const cellsToUpdate = tableMap.filter(({ cell, cellWidth, column }) => {\n                    const isOnSameColumn = cell !== tableCell && column === splitCellColumn;\n                    const spansOverColumn = (column < splitCellColumn && column + cellWidth > splitCellColumn);\n                    return isOnSameColumn || spansOverColumn;\n                });\n                // Expand cells vertically.\n                for (const { cell, cellWidth } of cellsToUpdate) {\n                    writer.setAttribute('colspan', cellWidth + cellsToInsert, cell);\n                }\n                // Second step: create columns after split cell.\n                // Each inserted cell will have the same attributes:\n                const newCellsAttributes = {};\n                // Do not store default value in the model.\n                // Copy rowspan of split cell.\n                if (rowspan > 1) {\n                    newCellsAttributes.rowspan = rowspan;\n                }\n                createCells(cellsToInsert, writer, writer.createPositionAfter(tableCell), newCellsAttributes);\n                const headingColumns = table.getAttribute('headingColumns') || 0;\n                // Update heading section if split cell is in heading section.\n                if (headingColumns > splitCellColumn) {\n                    updateNumericAttribute('headingColumns', headingColumns + cellsToInsert, table, writer);\n                }\n            }\n        });\n    }\n    /**\n     * Divides a table cell horizontally into several ones.\n     *\n     * The cell will be visually split into more cells by updating rowspans of other cells in the row and inserting rows with a single cell\n     * below.\n     *\n     * If in the table below cell \"b\" is split into 3 cells:\n     *\n     *  +---+---+---+\n     *  | a | b | c |\n     *  +---+---+---+\n     *  | d | e | f |\n     *  +---+---+---+\n     *\n     * It will result in the table below:\n     *\n     *  +---+---+---+\n     *  | a | b | c |\n     *  +   +---+   +\n     *  |   |   |   |\n     *  +   +---+   +\n     *  |   |   |   |\n     *  +---+---+---+\n     *  | d | e | f |\n     *  +---+---+---+\n     *\n     * So cells \"a\" and \"b\" will get their `rowspan` updated to `3` and 2 rows with a single cell will be added.\n     *\n     * Splitting a cell that already has a `rowspan` attribute set will distribute the cell `rowspan` evenly and the remainder\n     * will be left to the original cell:\n     *\n     *  +---+---+---+\n     *  | a | b | c |\n     *  +   +---+---+\n     *  |   | d | e |\n     *  +   +---+---+\n     *  |   | f | g |\n     *  +   +---+---+\n     *  |   | h | i |\n     *  +---+---+---+\n     *\n     * Splitting cell \"a\" with `rowspan=4` into 3 cells will create 2 cells with a `rowspan=1` and cell \"a\" will have `rowspan=2`:\n     *\n     *  +---+---+---+\n     *  | a | b | c |\n     *  +   +---+---+\n     *  |   | d | e |\n     *  +---+---+---+\n     *  |   | f | g |\n     *  +---+---+---+\n     *  |   | h | i |\n     *  +---+---+---+\n     */\n    splitCellHorizontally(tableCell, numberOfCells = 2) {\n        const model = this.editor.model;\n        const tableRow = tableCell.parent;\n        const table = tableRow.parent;\n        const splitCellRow = table.getChildIndex(tableRow);\n        const rowspan = parseInt(tableCell.getAttribute('rowspan') || '1');\n        const colspan = parseInt(tableCell.getAttribute('colspan') || '1');\n        model.change(writer => {\n            // First check - the cell spans over multiple rows so before doing anything else just split this cell.\n            if (rowspan > 1) {\n                // Cache table map before updating table.\n                const tableMap = [...new TableWalker(table, {\n                        startRow: splitCellRow,\n                        endRow: splitCellRow + rowspan - 1,\n                        includeAllSlots: true\n                    })];\n                // Get spans of new (inserted) cells and span to update of split cell.\n                const { newCellsSpan, updatedSpan } = breakSpanEvenly(rowspan, numberOfCells);\n                updateNumericAttribute('rowspan', updatedSpan, tableCell, writer);\n                const { column: cellColumn } = tableMap.find(({ cell }) => cell === tableCell);\n                // Each inserted cell will have the same attributes:\n                const newCellsAttributes = {};\n                // Do not store default value in the model.\n                if (newCellsSpan > 1) {\n                    newCellsAttributes.rowspan = newCellsSpan;\n                }\n                // Copy colspan of split cell.\n                if (colspan > 1) {\n                    newCellsAttributes.colspan = colspan;\n                }\n                // Accumulator that stores distance from the last inserted cell span.\n                // It helps with evenly splitting larger cell spans (for example 10 cells collapsing into 3 cells).\n                // We split these cells into 3, 3, 4 cells and we have to call `createCells` only when distance between\n                // these cells is equal or greater than the new cells span size.\n                let distanceFromLastCellSpan = 0;\n                for (const tableSlot of tableMap) {\n                    const { column, row } = tableSlot;\n                    // As both newly created cells and the split cell might have rowspan,\n                    // the insertion of new cells must go to appropriate rows:\n                    //\n                    // 1. It's a row after split cell + it's height.\n                    const isAfterSplitCell = row >= splitCellRow + updatedSpan;\n                    // 2. Is on the same column.\n                    const isOnSameColumn = column === cellColumn;\n                    // Reset distance from the last cell span if we are on the same column and we exceeded the new cells span size.\n                    if (distanceFromLastCellSpan >= newCellsSpan && isOnSameColumn) {\n                        distanceFromLastCellSpan = 0;\n                    }\n                    if (isAfterSplitCell && isOnSameColumn) {\n                        // Create new cells only if the distance from the last cell span is equal or greater than the new cells span.\n                        if (!distanceFromLastCellSpan) {\n                            createCells(1, writer, tableSlot.getPositionBefore(), newCellsAttributes);\n                        }\n                        // Increase the distance from the last cell span.\n                        distanceFromLastCellSpan++;\n                    }\n                }\n            }\n            // Second check - the cell has rowspan of 1 or we need to create more cells than the current cell spans over.\n            if (rowspan < numberOfCells) {\n                // We already split the cell in check one so here we split to the remaining number of cells only.\n                const cellsToInsert = numberOfCells - rowspan;\n                // This check is needed since we need to check if there are any cells from previous rows than spans over this cell's row.\n                const tableMap = [...new TableWalker(table, { startRow: 0, endRow: splitCellRow })];\n                // First step: expand cells.\n                for (const { cell, cellHeight, row } of tableMap) {\n                    // Expand rowspan of cells that are either:\n                    // - on the same row as current cell,\n                    // - or are below split cell row and overlaps that row.\n                    if (cell !== tableCell && row + cellHeight > splitCellRow) {\n                        const rowspanToSet = cellHeight + cellsToInsert;\n                        writer.setAttribute('rowspan', rowspanToSet, cell);\n                    }\n                }\n                // Second step: create rows with single cell below split cell.\n                const newCellsAttributes = {};\n                // Copy colspan of split cell.\n                if (colspan > 1) {\n                    newCellsAttributes.colspan = colspan;\n                }\n                createEmptyRows(writer, table, splitCellRow + 1, cellsToInsert, 1, newCellsAttributes);\n                // Update heading section if split cell is in heading section.\n                const headingRows = table.getAttribute('headingRows') || 0;\n                if (headingRows > splitCellRow) {\n                    updateNumericAttribute('headingRows', headingRows + cellsToInsert, table, writer);\n                }\n            }\n        });\n    }\n    /**\n     * Returns the number of columns for a given table.\n     *\n     * ```ts\n     * editor.plugins.get( 'TableUtils' ).getColumns( table );\n     * ```\n     *\n     * @param table The table to analyze.\n     */\n    getColumns(table) {\n        // Analyze first row only as all the rows should have the same width.\n        // Using the first row without checking if it's a tableRow because we expect\n        // that table will have only tableRow model elements at the beginning.\n        const row = table.getChild(0);\n        return [...row.getChildren()]\n            // $marker elements can also be children of a row too (when TrackChanges is on). Don't include them in the count.\n            .filter(node => node.is('element', 'tableCell'))\n            .reduce((columns, row) => {\n            const columnWidth = parseInt(row.getAttribute('colspan') || '1');\n            return columns + columnWidth;\n        }, 0);\n    }\n    /**\n     * Returns the number of rows for a given table. Any other element present in the table model is omitted.\n     *\n     * ```ts\n     * editor.plugins.get( 'TableUtils' ).getRows( table );\n     * ```\n     *\n     * @param table The table to analyze.\n     */\n    getRows(table) {\n        // Rowspan not included due to #6427.\n        return Array.from(table.getChildren())\n            .reduce((rowCount, child) => child.is('element', 'tableRow') ? rowCount + 1 : rowCount, 0);\n    }\n    /**\n     * Creates an instance of the table walker.\n     *\n     * The table walker iterates internally by traversing the table from row index = 0 and column index = 0.\n     * It walks row by row and column by column in order to output values defined in the options.\n     * By default it will output only the locations that are occupied by a cell. To include also spanned rows and columns,\n     * pass the `includeAllSlots` option.\n     *\n     * @internal\n     * @param table A table over which the walker iterates.\n     * @param options An object with configuration.\n     */\n    createTableWalker(table, options = {}) {\n        return new TableWalker(table, options);\n    }\n    /**\n     * Returns all model table cells that are fully selected (from the outside)\n     * within the provided model selection's ranges.\n     *\n     * To obtain the cells selected from the inside, use\n     * {@link #getTableCellsContainingSelection}.\n     */\n    getSelectedTableCells(selection) {\n        const cells = [];\n        for (const range of this.sortRanges(selection.getRanges())) {\n            const element = range.getContainedElement();\n            if (element && element.is('element', 'tableCell')) {\n                cells.push(element);\n            }\n        }\n        return cells;\n    }\n    /**\n     * Returns all model table cells that the provided model selection's ranges\n     * {@link module:engine/model/range~Range#start} inside.\n     *\n     * To obtain the cells selected from the outside, use\n     * {@link #getSelectedTableCells}.\n     */\n    getTableCellsContainingSelection(selection) {\n        const cells = [];\n        for (const range of selection.getRanges()) {\n            const cellWithSelection = range.start.findAncestor('tableCell');\n            if (cellWithSelection) {\n                cells.push(cellWithSelection);\n            }\n        }\n        return cells;\n    }\n    /**\n     * Returns all model table cells that are either completely selected\n     * by selection ranges or host selection range\n     * {@link module:engine/model/range~Range#start start positions} inside them.\n     *\n     * Combines {@link #getTableCellsContainingSelection} and\n     * {@link #getSelectedTableCells}.\n     */\n    getSelectionAffectedTableCells(selection) {\n        const selectedCells = this.getSelectedTableCells(selection);\n        if (selectedCells.length) {\n            return selectedCells;\n        }\n        return this.getTableCellsContainingSelection(selection);\n    }\n    /**\n     * Returns an object with the `first` and `last` row index contained in the given `tableCells`.\n     *\n     * ```ts\n     * const selectedTableCells = getSelectedTableCells( editor.model.document.selection );\n     *\n     * const { first, last } = getRowIndexes( selectedTableCells );\n     *\n     * console.log( `Selected rows: ${ first } to ${ last }` );\n     * ```\n     *\n     * @returns Returns an object with the `first` and `last` table row indexes.\n     */\n    getRowIndexes(tableCells) {\n        const indexes = tableCells.map(cell => cell.parent.index);\n        return this._getFirstLastIndexesObject(indexes);\n    }\n    /**\n     * Returns an object with the `first` and `last` column index contained in the given `tableCells`.\n     *\n     * ```ts\n     * const selectedTableCells = getSelectedTableCells( editor.model.document.selection );\n     *\n     * const { first, last } = getColumnIndexes( selectedTableCells );\n     *\n     * console.log( `Selected columns: ${ first } to ${ last }` );\n     * ```\n     *\n     * @returns Returns an object with the `first` and `last` table column indexes.\n     */\n    getColumnIndexes(tableCells) {\n        const table = tableCells[0].findAncestor('table');\n        const tableMap = [...new TableWalker(table)];\n        const indexes = tableMap\n            .filter(entry => tableCells.includes(entry.cell))\n            .map(entry => entry.column);\n        return this._getFirstLastIndexesObject(indexes);\n    }\n    /**\n     * Checks if the selection contains cells that do not exceed rectangular selection.\n     *\n     * In a table below:\n     *\n     *  ┌───┬───┬───┬───┐\n     *  │ a │ b │ c │ d │\n     *  ├───┴───┼───┤   │\n     *  │ e     │ f │   │\n     *  │       ├───┼───┤\n     *  │       │ g │ h │\n     *  └───────┴───┴───┘\n     *\n     * Valid selections are these which create a solid rectangle (without gaps), such as:\n     *   - a, b (two horizontal cells)\n     *   - c, f (two vertical cells)\n     *   - a, b, e (cell \"e\" spans over four cells)\n     *   - c, d, f (cell d spans over a cell in the row below)\n     *\n     * While an invalid selection would be:\n     *   - a, c (the unselected cell \"b\" creates a gap)\n     *   - f, g, h (cell \"d\" spans over a cell from the row of \"f\" cell - thus creates a gap)\n     */\n    isSelectionRectangular(selectedTableCells) {\n        if (selectedTableCells.length < 2 || !this._areCellInTheSameTableSection(selectedTableCells)) {\n            return false;\n        }\n        // A valid selection is a fully occupied rectangle composed of table cells.\n        // Below we will calculate the area of a selected table cells and the area of valid selection.\n        // The area of a valid selection is defined by top-left and bottom-right cells.\n        const rows = new Set();\n        const columns = new Set();\n        let areaOfSelectedCells = 0;\n        for (const tableCell of selectedTableCells) {\n            const { row, column } = this.getCellLocation(tableCell);\n            const rowspan = parseInt(tableCell.getAttribute('rowspan')) || 1;\n            const colspan = parseInt(tableCell.getAttribute('colspan')) || 1;\n            // Record row & column indexes of current cell.\n            rows.add(row);\n            columns.add(column);\n            // For cells that spans over multiple rows add also the last row that this cell spans over.\n            if (rowspan > 1) {\n                rows.add(row + rowspan - 1);\n            }\n            // For cells that spans over multiple columns add also the last column that this cell spans over.\n            if (colspan > 1) {\n                columns.add(column + colspan - 1);\n            }\n            areaOfSelectedCells += (rowspan * colspan);\n        }\n        // We can only merge table cells that are in adjacent rows...\n        const areaOfValidSelection = getBiggestRectangleArea(rows, columns);\n        return areaOfValidSelection == areaOfSelectedCells;\n    }\n    /**\n     * Returns array of sorted ranges.\n     */\n    sortRanges(ranges) {\n        return Array.from(ranges).sort(compareRangeOrder);\n    }\n    /**\n     * Helper method to get an object with `first` and `last` indexes from an unsorted array of indexes.\n     */\n    _getFirstLastIndexesObject(indexes) {\n        const allIndexesSorted = indexes.sort((indexA, indexB) => indexA - indexB);\n        const first = allIndexesSorted[0];\n        const last = allIndexesSorted[allIndexesSorted.length - 1];\n        return { first, last };\n    }\n    /**\n     * Checks if the selection does not mix a header (column or row) with other cells.\n     *\n     * For instance, in the table below valid selections consist of cells with the same letter only.\n     * So, a-a (same heading row and column) or d-d (body cells) are valid while c-d or a-b are not.\n     *\n     * header columns\n     *    ↓   ↓\n     *  ┌───┬───┬───┬───┐\n     *  │ a │ a │ b │ b │  ← header row\n     *  ├───┼───┼───┼───┤\n     *  │ c │ c │ d │ d │\n     *  ├───┼───┼───┼───┤\n     *  │ c │ c │ d │ d │\n     *  └───┴───┴───┴───┘\n     */\n    _areCellInTheSameTableSection(tableCells) {\n        const table = tableCells[0].findAncestor('table');\n        const rowIndexes = this.getRowIndexes(tableCells);\n        const headingRows = parseInt(table.getAttribute('headingRows')) || 0;\n        // Calculating row indexes is a bit cheaper so if this check fails we can't merge.\n        if (!this._areIndexesInSameSection(rowIndexes, headingRows)) {\n            return false;\n        }\n        const columnIndexes = this.getColumnIndexes(tableCells);\n        const headingColumns = parseInt(table.getAttribute('headingColumns')) || 0;\n        // Similarly cells must be in same column section.\n        return this._areIndexesInSameSection(columnIndexes, headingColumns);\n    }\n    /**\n     * Unified check if table rows/columns indexes are in the same heading/body section.\n     */\n    _areIndexesInSameSection({ first, last }, headingSectionSize) {\n        const firstCellIsInHeading = first < headingSectionSize;\n        const lastCellIsInHeading = last < headingSectionSize;\n        return firstCellIsInHeading === lastCellIsInHeading;\n    }\n}\n/**\n * Creates empty rows at the given index in an existing table.\n *\n * @param insertAt The row index of row insertion.\n * @param rows The number of rows to create.\n * @param tableCellToInsert The number of cells to insert in each row.\n */\nfunction createEmptyRows(writer, table, insertAt, rows, tableCellToInsert, attributes = {}) {\n    for (let i = 0; i < rows; i++) {\n        const tableRow = writer.createElement('tableRow');\n        writer.insert(tableRow, table, insertAt);\n        createCells(tableCellToInsert, writer, writer.createPositionAt(tableRow, 'end'), attributes);\n    }\n}\n/**\n * Creates cells at a given position.\n *\n * @param cells The number of cells to create\n */\nfunction createCells(cells, writer, insertPosition, attributes = {}) {\n    for (let i = 0; i < cells; i++) {\n        createEmptyTableCell(writer, insertPosition, attributes);\n    }\n}\n/**\n * Evenly distributes the span of a cell to a number of provided cells.\n * The resulting spans will always be integer values.\n *\n * For instance breaking a span of 7 into 3 cells will return:\n *\n * ```ts\n * { newCellsSpan: 2, updatedSpan: 3 }\n * ```\n *\n * as two cells will have a span of 2 and the remainder will go the first cell so its span will change to 3.\n *\n * @param span The span value do break.\n * @param numberOfCells The number of resulting spans.\n */\nfunction breakSpanEvenly(span, numberOfCells) {\n    if (span < numberOfCells) {\n        return { newCellsSpan: 1, updatedSpan: 1 };\n    }\n    const newCellsSpan = Math.floor(span / numberOfCells);\n    const updatedSpan = (span - newCellsSpan * numberOfCells) + newCellsSpan;\n    return { newCellsSpan, updatedSpan };\n}\n/**\n * Updates heading columns attribute if removing a row from head section.\n */\nfunction adjustHeadingColumns(table, removedColumnIndexes, writer) {\n    const headingColumns = table.getAttribute('headingColumns') || 0;\n    if (headingColumns && removedColumnIndexes.first < headingColumns) {\n        const headingsRemoved = Math.min(headingColumns - 1 /* Other numbers are 0-based */, removedColumnIndexes.last) -\n            removedColumnIndexes.first + 1;\n        writer.setAttribute('headingColumns', headingColumns - headingsRemoved, table);\n    }\n}\n/**\n * Calculates a new heading rows value for removing rows from heading section.\n */\nfunction updateHeadingRows(table, { first, last }, writer) {\n    const headingRows = table.getAttribute('headingRows') || 0;\n    if (first < headingRows) {\n        const newRows = last < headingRows ? headingRows - (last - first + 1) : first;\n        updateNumericAttribute('headingRows', newRows, table, writer, 0);\n    }\n}\n/**\n * Finds cells that will be:\n * - trimmed - Cells that are \"above\" removed rows sections and overlap the removed section - their rowspan must be trimmed.\n * - moved - Cells from removed rows section might stick out of. These cells are moved to the next row after a removed section.\n *\n * Sample table with overlapping & sticking out cells:\n *\n *      +----+----+----+----+----+\n *      | 00 | 01 | 02 | 03 | 04 |\n *      +----+    +    +    +    +\n *      | 10 |    |    |    |    |\n *      +----+----+    +    +    +\n *      | 20 | 21 |    |    |    | <-- removed row\n *      +    +    +----+    +    +\n *      |    |    | 32 |    |    | <-- removed row\n *      +----+    +    +----+    +\n *      | 40 |    |    | 43 |    |\n *      +----+----+----+----+----+\n *\n * In a table above:\n * - cells to trim: '02', '03' & '04'.\n * - cells to move: '21' & '32'.\n */\nfunction getCellsToMoveAndTrimOnRemoveRow(table, { first, last }) {\n    const cellsToMove = new Map();\n    const cellsToTrim = [];\n    for (const { row, column, cellHeight, cell } of new TableWalker(table, { endRow: last })) {\n        const lastRowOfCell = row + cellHeight - 1;\n        const isCellStickingOutFromRemovedRows = row >= first && row <= last && lastRowOfCell > last;\n        if (isCellStickingOutFromRemovedRows) {\n            const rowspanInRemovedSection = last - row + 1;\n            const rowSpanToSet = cellHeight - rowspanInRemovedSection;\n            cellsToMove.set(column, {\n                cell,\n                rowspan: rowSpanToSet\n            });\n        }\n        const isCellOverlappingRemovedRows = row < first && lastRowOfCell >= first;\n        if (isCellOverlappingRemovedRows) {\n            let rowspanAdjustment;\n            // Cell fully covers removed section - trim it by removed rows count.\n            if (lastRowOfCell >= last) {\n                rowspanAdjustment = last - first + 1;\n            }\n            // Cell partially overlaps removed section - calculate cell's span that is in removed section.\n            else {\n                rowspanAdjustment = lastRowOfCell - first + 1;\n            }\n            cellsToTrim.push({\n                cell,\n                rowspan: cellHeight - rowspanAdjustment\n            });\n        }\n    }\n    return { cellsToMove, cellsToTrim };\n}\nfunction moveCellsToRow(table, targetRowIndex, cellsToMove, writer) {\n    const tableWalker = new TableWalker(table, {\n        includeAllSlots: true,\n        row: targetRowIndex\n    });\n    const tableRowMap = [...tableWalker];\n    const row = table.getChild(targetRowIndex);\n    let previousCell;\n    for (const { column, cell, isAnchor } of tableRowMap) {\n        if (cellsToMove.has(column)) {\n            const { cell: cellToMove, rowspan } = cellsToMove.get(column);\n            const targetPosition = previousCell ?\n                writer.createPositionAfter(previousCell) :\n                writer.createPositionAt(row, 0);\n            writer.move(writer.createRangeOn(cellToMove), targetPosition);\n            updateNumericAttribute('rowspan', rowspan, cellToMove, writer);\n            previousCell = cellToMove;\n        }\n        else if (isAnchor) {\n            // If cell is spanned then `cell` holds reference to overlapping cell. See ckeditor/ckeditor5#6502.\n            previousCell = cell;\n        }\n    }\n}\nfunction compareRangeOrder(rangeA, rangeB) {\n    // Since table cell ranges are disjoint, it's enough to check their start positions.\n    const posA = rangeA.start;\n    const posB = rangeB.start;\n    // Checking for equal position (returning 0) is not needed because this would be either:\n    // a. Intersecting range (not allowed by model)\n    // b. Collapsed range on the same position (allowed by model but should not happen).\n    return posA.isBefore(posB) ? -1 : 1;\n}\n/**\n * Calculates the area of a maximum rectangle that can span over the provided row & column indexes.\n */\nfunction getBiggestRectangleArea(rows, columns) {\n    const rowsIndexes = Array.from(rows.values());\n    const columnIndexes = Array.from(columns.values());\n    const lastRow = Math.max(...rowsIndexes);\n    const firstRow = Math.min(...rowsIndexes);\n    const lastColumn = Math.max(...columnIndexes);\n    const firstColumn = Math.min(...columnIndexes);\n    return (lastRow - firstRow + 1) * (lastColumn - firstColumn + 1);\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport TableUtils from '../tableutils.js';\nimport { updateNumericAttribute } from '../utils/common.js';\nimport { removeEmptyRowsColumns } from '../utils/structure.js';\n/**\n * The merge cells command.\n *\n * The command is registered by {@link module:table/tableediting~TableEditing} as the `'mergeTableCells'` editor command.\n *\n * For example, to merge selected table cells:\n *\n * ```ts\n * editor.execute( 'mergeTableCells' );\n * ```\n */\nexport default class MergeCellsCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const tableUtils = this.editor.plugins.get(TableUtils);\n        const selectedTableCells = tableUtils.getSelectedTableCells(this.editor.model.document.selection);\n        this.isEnabled = tableUtils.isSelectionRectangular(selectedTableCells);\n    }\n    /**\n     * Executes the command.\n     *\n     * @fires execute\n     */\n    execute() {\n        const model = this.editor.model;\n        const tableUtils = this.editor.plugins.get(TableUtils);\n        model.change(writer => {\n            const selectedTableCells = tableUtils.getSelectedTableCells(model.document.selection);\n            // All cells will be merged into the first one.\n            const firstTableCell = selectedTableCells.shift();\n            // Update target cell dimensions.\n            const { mergeWidth, mergeHeight } = getMergeDimensions(firstTableCell, selectedTableCells, tableUtils);\n            updateNumericAttribute('colspan', mergeWidth, firstTableCell, writer);\n            updateNumericAttribute('rowspan', mergeHeight, firstTableCell, writer);\n            for (const tableCell of selectedTableCells) {\n                mergeTableCells(tableCell, firstTableCell, writer);\n            }\n            const table = firstTableCell.findAncestor('table');\n            // Remove rows and columns that become empty (have no anchored cells).\n            removeEmptyRowsColumns(table, tableUtils);\n            writer.setSelection(firstTableCell, 'in');\n        });\n    }\n}\n/**\n *  Merges two table cells. It will ensure that after merging cells with empty paragraphs the resulting table cell will only have one\n * paragraph. If one of the merged table cells is empty, the merged table cell will have contents of the non-empty table cell.\n * If both are empty, the merged table cell will have only one empty paragraph.\n */\nfunction mergeTableCells(cellBeingMerged, targetCell, writer) {\n    if (!isEmpty(cellBeingMerged)) {\n        if (isEmpty(targetCell)) {\n            writer.remove(writer.createRangeIn(targetCell));\n        }\n        writer.move(writer.createRangeIn(cellBeingMerged), writer.createPositionAt(targetCell, 'end'));\n    }\n    // Remove merged table cell.\n    writer.remove(cellBeingMerged);\n}\n/**\n * Checks if the passed table cell contains an empty paragraph.\n */\nfunction isEmpty(tableCell) {\n    const firstTableChild = tableCell.getChild(0);\n    return tableCell.childCount == 1 && firstTableChild.is('element', 'paragraph') && firstTableChild.isEmpty;\n}\nfunction getMergeDimensions(firstTableCell, selectedTableCells, tableUtils) {\n    let maxWidthOffset = 0;\n    let maxHeightOffset = 0;\n    for (const tableCell of selectedTableCells) {\n        const { row, column } = tableUtils.getCellLocation(tableCell);\n        maxWidthOffset = getMaxOffset(tableCell, column, maxWidthOffset, 'colspan');\n        maxHeightOffset = getMaxOffset(tableCell, row, maxHeightOffset, 'rowspan');\n    }\n    // Update table cell span attribute and merge set selection on a merged contents.\n    const { row: firstCellRow, column: firstCellColumn } = tableUtils.getCellLocation(firstTableCell);\n    const mergeWidth = maxWidthOffset - firstCellColumn;\n    const mergeHeight = maxHeightOffset - firstCellRow;\n    return { mergeWidth, mergeHeight };\n}\nfunction getMaxOffset(tableCell, start, currentMaxOffset, which) {\n    const dimensionValue = parseInt(tableCell.getAttribute(which) || '1');\n    return Math.max(currentMaxOffset, start + dimensionValue);\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/commands/selectrowcommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\n/**\n * The select row command.\n *\n * The command is registered by {@link module:table/tableediting~TableEditing} as the `'selectTableRow'` editor command.\n *\n * To select the rows containing the selected cells, execute the command:\n *\n * ```ts\n * editor.execute( 'selectTableRow' );\n * ```\n */\nexport default class SelectRowCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        // It does not affect data so should be enabled in read-only mode.\n        this.affectsData = false;\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const selectedCells = tableUtils.getSelectionAffectedTableCells(this.editor.model.document.selection);\n        this.isEnabled = selectedCells.length > 0;\n    }\n    /**\n     * @inheritDoc\n     */\n    execute() {\n        const model = this.editor.model;\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const referenceCells = tableUtils.getSelectionAffectedTableCells(model.document.selection);\n        const rowIndexes = tableUtils.getRowIndexes(referenceCells);\n        const table = referenceCells[0].findAncestor('table');\n        const rangesToSelect = [];\n        for (let rowIndex = rowIndexes.first; rowIndex <= rowIndexes.last; rowIndex++) {\n            for (const cell of table.getChild(rowIndex).getChildren()) {\n                rangesToSelect.push(model.createRangeOn(cell));\n            }\n        }\n        model.change(writer => {\n            writer.setSelection(rangesToSelect);\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/commands/selectcolumncommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport TableWalker from '../tablewalker.js';\n/**\n * The select column command.\n *\n * The command is registered by {@link module:table/tableediting~TableEditing} as the `'selectTableColumn'` editor command.\n *\n * To select the columns containing the selected cells, execute the command:\n *\n * ```ts\n * editor.execute( 'selectTableColumn' );\n * ```\n */\nexport default class SelectColumnCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        // It does not affect data so should be enabled in read-only mode.\n        this.affectsData = false;\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const selectedCells = tableUtils.getSelectionAffectedTableCells(this.editor.model.document.selection);\n        this.isEnabled = selectedCells.length > 0;\n    }\n    /**\n     * @inheritDoc\n     */\n    execute() {\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const model = this.editor.model;\n        const referenceCells = tableUtils.getSelectionAffectedTableCells(model.document.selection);\n        const firstCell = referenceCells[0];\n        const lastCell = referenceCells.pop();\n        const table = firstCell.findAncestor('table');\n        const startLocation = tableUtils.getCellLocation(firstCell);\n        const endLocation = tableUtils.getCellLocation(lastCell);\n        const startColumn = Math.min(startLocation.column, endLocation.column);\n        const endColumn = Math.max(startLocation.column, endLocation.column);\n        const rangesToSelect = [];\n        for (const cellInfo of new TableWalker(table, { startColumn, endColumn })) {\n            rangesToSelect.push(model.createRangeOn(cellInfo.cell));\n        }\n        model.change(writer => {\n            writer.setSelection(rangesToSelect);\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport TableWalker from './../tablewalker.js';\nimport { createEmptyTableCell, updateNumericAttribute } from '../utils/common.js';\n/**\n * Injects a table layout post-fixer into the model.\n *\n * The role of the table layout post-fixer is to ensure that the table rows have the correct structure\n * after a {@link module:engine/model/model~Model#change `change()`} block was executed.\n *\n * The correct structure means that:\n *\n * * All table rows have the same size.\n * * None of the table cells extend vertically beyond their section (either header or body).\n * * A table cell has always at least one element as a child.\n *\n * If the table structure is not correct, the post-fixer will automatically correct it in two steps:\n *\n * 1. It will clip table cells that extend beyond their section.\n * 2. It will add empty table cells to the rows that are narrower than the widest table row.\n *\n * ## Clipping overlapping table cells\n *\n * Such situation may occur when pasting a table (or a part of a table) to the editor from external sources.\n *\n * For example, see the following table which has a cell (FOO) with the rowspan attribute (2):\n *\n * ```xml\n * <table headingRows=\"1\">\n *   <tableRow>\n *     <tableCell rowspan=\"2\"><paragraph>FOO</paragraph></tableCell>\n *     <tableCell colspan=\"2\"><paragraph>BAR</paragraph></tableCell>\n *   </tableRow>\n *   <tableRow>\n *     <tableCell><paragraph>BAZ</paragraph></tableCell>\n *     <tableCell><paragraph>XYZ</paragraph></tableCell>\n *   </tableRow>\n * </table>\n * ```\n *\n * It will be rendered in the view as:\n *\n * ```xml\n * <table>\n *   <thead>\n *     <tr>\n *       <td rowspan=\"2\">FOO</td>\n *       <td colspan=\"2\">BAR</td>\n *     </tr>\n *   </thead>\n *   <tbody>\n *     <tr>\n *       <td>BAZ</td>\n *       <td>XYZ</td>\n *     </tr>\n *   </tbody>\n * </table>\n * ```\n *\n * In the above example the table will be rendered as a table with two rows: one in the header and second one in the body.\n * The table cell (FOO) cannot span over multiple rows as it would extend from the header to the body section.\n * The `rowspan` attribute must be changed to (1). The value (1) is the default value of the `rowspan` attribute\n * so the `rowspan` attribute will be removed from the model.\n *\n * The table cell with BAZ in the content will be in the first column of the table.\n *\n * ## Adding missing table cells\n *\n * The table post-fixer will insert empty table cells to equalize table row sizes (the number of columns).\n * The size of a table row is calculated by counting column spans of table cells, both horizontal (from the same row) and\n * vertical (from the rows above).\n *\n * In the above example, the table row in the body section of the table is narrower then the row from the header: it has two cells\n * with the default colspan (1). The header row has one cell with colspan (1) and the second with colspan (2).\n * The table cell (FOO) does not extend beyond the head section (and as such will be fixed in the first step of this post-fixer).\n * The post-fixer will add a missing table cell to the row in the body section of the table.\n *\n * The table from the above example will be fixed and rendered to the view as below:\n *\n * ```xml\n * <table>\n *   <thead>\n *     <tr>\n *       <td rowspan=\"2\">FOO</td>\n *       <td colspan=\"2\">BAR</td>\n *     </tr>\n *   </thead>\n *   <tbody>\n *     <tr>\n *       <td>BAZ</td>\n *       <td>XYZ</td>\n *     </tr>\n *   </tbody>\n * </table>\n * ```\n *\n * ## Collaboration and undo - Expectations vs post-fixer results\n *\n * The table post-fixer only ensures proper structure without a deeper analysis of the nature of the change. As such, it might lead\n * to a structure which was not intended by the user. In particular, it will also fix undo steps (in conjunction with collaboration)\n * in which the editor content might not return to the original state.\n *\n * This will usually happen when one or more users change the size of the table.\n *\n * As an example see the table below:\n *\n * ```xml\n * <table>\n *   <tbody>\n *     <tr>\n *       <td>11</td>\n *       <td>12</td>\n *     </tr>\n *     <tr>\n *       <td>21</td>\n *       <td>22</td>\n *     </tr>\n *   </tbody>\n * </table>\n * ```\n *\n * and the user actions:\n *\n * 1. Both users have a table with two rows and two columns.\n * 2. User A adds a column at the end of the table. This will insert empty table cells to two rows.\n * 3. User B adds a row at the end of the table. This will insert a row with two empty table cells.\n * 4. Both users will have a table as below:\n *\n * ```xml\n * <table>\n *   <tbody>\n *     <tr>\n *       <td>11</td>\n *       <td>12</td>\n *       <td>(empty, inserted by A)</td>\n *     </tr>\n *     <tr>\n *       <td>21</td>\n *       <td>22</td>\n *       <td>(empty, inserted by A)</td>\n *     </tr>\n *     <tr>\n *       <td>(empty, inserted by B)</td>\n *       <td>(empty, inserted by B)</td>\n *     </tr>\n *   </tbody>\n * </table>\n * ```\n *\n * The last row is shorter then others so the table post-fixer will add an empty row to the last row:\n *\n * ```xml\n * <table>\n *   <tbody>\n *     <tr>\n *       <td>11</td>\n *       <td>12</td>\n *       <td>(empty, inserted by A)</td>\n *     </tr>\n *     <tr>\n *       <td>21</td>\n *       <td>22</td>\n *       <td>(empty, inserted by A)</td>\n *     </tr>\n *     <tr>\n *       <td>(empty, inserted by B)</td>\n *       <td>(empty, inserted by B)</td>\n *       <td>(empty, inserted by the post-fixer)</td>\n *     </tr>\n *   </tbody>\n * </table>\n * ```\n *\n * Unfortunately undo does not know the nature of the changes and depending on which user applies the post-fixer changes, undoing them\n * might lead to a broken table. If User B undoes inserting the column to the table, the undo engine will undo only the operations of\n * inserting empty cells to rows from the initial table state (row 1 and 2) but the cell in the post-fixed row will remain:\n *\n * ```xml\n * <table>\n *   <tbody>\n *     <tr>\n *       <td>11</td>\n *       <td>12</td>\n *     </tr>\n *     <tr>\n *       <td>21</td>\n *       <td>22</td>\n *     </tr>\n *     <tr>\n *       <td>(empty, inserted by B)</td>\n *       <td>(empty, inserted by B)</td>\n *       <td>(empty, inserted by a post-fixer)</td>\n *     </tr>\n *   </tbody>\n * </table>\n * ```\n *\n * After undo, the table post-fixer will detect that two rows are shorter than others and will fix the table to:\n *\n * ```xml\n * <table>\n *   <tbody>\n *     <tr>\n *       <td>11</td>\n *       <td>12</td>\n *       <td>(empty, inserted by a post-fixer after undo)</td>\n *     </tr>\n *     <tr>\n *       <td>21</td>\n *       <td>22</td>\n *       <td>(empty, inserted by a post-fixer after undo)</td>\n *     </tr>\n *     <tr>\n *       <td>(empty, inserted by B)</td>\n *       <td>(empty, inserted by B)</td>\n *       <td>(empty, inserted by a post-fixer)</td>\n *     </tr>\n *   </tbody>\n * </table>\n * ```\n */\nexport default function injectTableLayoutPostFixer(model) {\n    model.document.registerPostFixer(writer => tableLayoutPostFixer(writer, model));\n}\n/**\n * The table layout post-fixer.\n */\nfunction tableLayoutPostFixer(writer, model) {\n    const changes = model.document.differ.getChanges();\n    let wasFixed = false;\n    // Do not analyze the same table more then once - may happen for multiple changes in the same table.\n    const analyzedTables = new Set();\n    for (const entry of changes) {\n        let table = null;\n        if (entry.type == 'insert' && entry.name == 'table') {\n            table = entry.position.nodeAfter;\n        }\n        // Fix table on adding/removing table cells and rows.\n        if ((entry.type == 'insert' || entry.type == 'remove') && (entry.name == 'tableRow' || entry.name == 'tableCell')) {\n            table = entry.position.findAncestor('table');\n        }\n        // Fix table on any table's attribute change - including attributes of table cells.\n        if (isTableAttributeEntry(entry)) {\n            table = entry.range.start.findAncestor('table');\n        }\n        if (table && !analyzedTables.has(table)) {\n            // Step 1: correct rowspans of table cells if necessary.\n            // The wasFixed flag should be true if any of tables in batch was fixed - might be more then one.\n            wasFixed = fixTableCellsRowspan(table, writer) || wasFixed;\n            // Step 2: fix table rows sizes.\n            wasFixed = fixTableRowsSizes(table, writer) || wasFixed;\n            analyzedTables.add(table);\n        }\n    }\n    return wasFixed;\n}\n/**\n * Fixes the invalid value of the `rowspan` attribute because a table cell cannot vertically extend beyond the table section it belongs to.\n *\n * @returns Returns `true` if the table was fixed.\n */\nfunction fixTableCellsRowspan(table, writer) {\n    let wasFixed = false;\n    const cellsToTrim = findCellsToTrim(table);\n    if (cellsToTrim.length) {\n        // @if CK_DEBUG_TABLE // console.log( `Post-fixing table: trimming cells row-spans (${ cellsToTrim.length }).` );\n        wasFixed = true;\n        for (const data of cellsToTrim) {\n            updateNumericAttribute('rowspan', data.rowspan, data.cell, writer, 1);\n        }\n    }\n    return wasFixed;\n}\n/**\n * Makes all table rows in a table the same size.\n *\n * @returns Returns `true` if the table was fixed.\n */\nfunction fixTableRowsSizes(table, writer) {\n    let wasFixed = false;\n    const childrenLengths = getChildrenLengths(table);\n    const rowsToRemove = [];\n    // Find empty rows.\n    for (const [rowIndex, size] of childrenLengths.entries()) {\n        // Ignore all non-row models.\n        if (!size && table.getChild(rowIndex).is('element', 'tableRow')) {\n            rowsToRemove.push(rowIndex);\n        }\n    }\n    // Remove empty rows.\n    if (rowsToRemove.length) {\n        // @if CK_DEBUG_TABLE // console.log( `Post-fixing table: remove empty rows (${ rowsToRemove.length }).` );\n        wasFixed = true;\n        for (const rowIndex of rowsToRemove.reverse()) {\n            writer.remove(table.getChild(rowIndex));\n            childrenLengths.splice(rowIndex, 1);\n        }\n    }\n    // Filter out everything that's not a table row.\n    const rowsLengths = childrenLengths.filter((row, rowIndex) => table.getChild(rowIndex).is('element', 'tableRow'));\n    // Verify if all the rows have the same number of columns.\n    const tableSize = rowsLengths[0];\n    const isValid = rowsLengths.every(length => length === tableSize);\n    if (!isValid) {\n        // @if CK_DEBUG_TABLE // console.log( 'Post-fixing table: adding missing cells.' );\n        // Find the maximum number of columns.\n        const maxColumns = rowsLengths.reduce((prev, current) => current > prev ? current : prev, 0);\n        for (const [rowIndex, size] of rowsLengths.entries()) {\n            const columnsToInsert = maxColumns - size;\n            if (columnsToInsert) {\n                for (let i = 0; i < columnsToInsert; i++) {\n                    createEmptyTableCell(writer, writer.createPositionAt(table.getChild(rowIndex), 'end'));\n                }\n                wasFixed = true;\n            }\n        }\n    }\n    return wasFixed;\n}\n/**\n * Searches for table cells that extend beyond the table section to which they belong to. It will return an array of objects\n * that stores table cells to be trimmed and the correct value of the `rowspan` attribute to set.\n */\nfunction findCellsToTrim(table) {\n    const headingRows = parseInt(table.getAttribute('headingRows') || '0');\n    const maxRows = Array.from(table.getChildren())\n        .reduce((count, row) => row.is('element', 'tableRow') ? count + 1 : count, 0);\n    const cellsToTrim = [];\n    for (const { row, cell, cellHeight } of new TableWalker(table)) {\n        // Skip cells that do not expand over its row.\n        if (cellHeight < 2) {\n            continue;\n        }\n        const isInHeader = row < headingRows;\n        // Row limit is either end of header section or whole table as table body is after the header.\n        const rowLimit = isInHeader ? headingRows : maxRows;\n        // If table cell expands over its limit reduce it height to proper value.\n        if (row + cellHeight > rowLimit) {\n            const newRowspan = rowLimit - row;\n            cellsToTrim.push({ cell, rowspan: newRowspan });\n        }\n    }\n    return cellsToTrim;\n}\n/**\n * Returns an array with lengths of rows assigned to the corresponding row index.\n */\nfunction getChildrenLengths(table) {\n    // TableWalker will not provide items for the empty rows, we need to pre-fill this array.\n    const lengths = new Array(table.childCount).fill(0);\n    for (const { rowIndex } of new TableWalker(table, { includeAllSlots: true })) {\n        lengths[rowIndex]++;\n    }\n    return lengths;\n}\n/**\n * Checks if the differ entry for an attribute change is one of the table's attributes.\n */\nfunction isTableAttributeEntry(entry) {\n    if (entry.type !== 'attribute') {\n        return false;\n    }\n    const key = entry.attributeKey;\n    return key === 'headingRows' || key === 'colspan' || key === 'rowspan';\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * Injects a table cell post-fixer into the model which inserts a `paragraph` element into empty table cells.\n *\n * A table cell must contain at least one block element as a child. An empty table cell will have an empty `paragraph` as a child.\n *\n * ```xml\n * <table>\n *   <tableRow>\n *      <tableCell></tableCell>\n *   </tableRow>\n * </table>\n * ```\n *\n * Will be fixed to:\n *\n * ```xml\n * <table>\n *   <tableRow>\n *      <tableCell><paragraph></paragraph></tableCell>\n *   </tableRow>\n * </table>\n * ```\n */\nexport default function injectTableCellParagraphPostFixer(model) {\n    model.document.registerPostFixer(writer => tableCellContentsPostFixer(writer, model));\n}\n/**\n * The table cell contents post-fixer.\n */\nfunction tableCellContentsPostFixer(writer, model) {\n    const changes = model.document.differ.getChanges();\n    let wasFixed = false;\n    for (const entry of changes) {\n        if (entry.type == 'insert' && entry.name == 'table') {\n            wasFixed = fixTable(entry.position.nodeAfter, writer) || wasFixed;\n        }\n        if (entry.type == 'insert' && entry.name == 'tableRow') {\n            wasFixed = fixTableRow(entry.position.nodeAfter, writer) || wasFixed;\n        }\n        if (entry.type == 'insert' && entry.name == 'tableCell') {\n            wasFixed = fixTableCellContent(entry.position.nodeAfter, writer) || wasFixed;\n        }\n        if ((entry.type == 'remove' || entry.type == 'insert') && checkTableCellChange(entry)) {\n            wasFixed = fixTableCellContent(entry.position.parent, writer) || wasFixed;\n        }\n    }\n    return wasFixed;\n}\n/**\n * Fixes all table cells in a table.\n */\nfunction fixTable(table, writer) {\n    let wasFixed = false;\n    for (const row of table.getChildren()) {\n        if (row.is('element', 'tableRow')) {\n            wasFixed = fixTableRow(row, writer) || wasFixed;\n        }\n    }\n    return wasFixed;\n}\n/**\n * Fixes all table cells in a table row.\n */\nfunction fixTableRow(tableRow, writer) {\n    let wasFixed = false;\n    for (const tableCell of tableRow.getChildren()) {\n        wasFixed = fixTableCellContent(tableCell, writer) || wasFixed;\n    }\n    return wasFixed;\n}\n/**\n * Fixes all table cell content by:\n * - Adding a paragraph to a table cell without any child.\n * - Wrapping direct $text in a `<paragraph>`.\n */\nfunction fixTableCellContent(tableCell, writer) {\n    // Insert paragraph to an empty table cell.\n    if (tableCell.childCount == 0) {\n        // @if CK_DEBUG_TABLE // console.log( 'Post-fixing table: insert paragraph in empty cell.' );\n        writer.insertElement('paragraph', tableCell);\n        return true;\n    }\n    // Check table cell children for directly placed text nodes.\n    // Temporary solution. See https://github.com/ckeditor/ckeditor5/issues/1464.\n    const textNodes = Array.from(tableCell.getChildren()).filter(child => child.is('$text'));\n    // @if CK_DEBUG_TABLE // textNodes.length && console.log( 'Post-fixing table: wrap cell content with paragraph.' );\n    for (const child of textNodes) {\n        writer.wrap(writer.createRangeOn(child), 'paragraph');\n    }\n    // Return true when there were text nodes to fix.\n    return !!textNodes.length;\n}\n/**\n * Checks if a differ change should fix the table cell. This happens on:\n * - Removing content from the table cell (i.e. `tableCell` can be left empty).\n * - Adding a text node directly into a table cell.\n */\nfunction checkTableCellChange(entry) {\n    if (!entry.position.parent.is('element', 'tableCell')) {\n        return false;\n    }\n    return entry.type == 'insert' && entry.name == '$text' || entry.type == 'remove';\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { isSingleParagraphWithoutAttributes } from './downcast.js';\n/**\n * A table cell refresh handler which marks the table cell in the differ to have it re-rendered.\n *\n * Model `paragraph` inside a table cell can be rendered as `<span>` or `<p>`. It is rendered as `<span>` if this is the only block\n * element in that table cell and it does not have any attributes. It is rendered as `<p>` otherwise.\n *\n * When table cell content changes, for example a second `paragraph` element is added, we need to ensure that the first `paragraph` is\n * re-rendered so it changes from `<span>` to `<p>`. The easiest way to do it is to re-render the entire table cell.\n */\nexport default function tableCellRefreshHandler(model, editing) {\n    const differ = model.document.differ;\n    // Stores cells to be refreshed, so the table cell will be refreshed once for multiple changes.\n    const cellsToCheck = new Set();\n    for (const change of differ.getChanges()) {\n        const parent = change.type == 'attribute' ? change.range.start.parent : change.position.parent;\n        if (parent.is('element', 'tableCell')) {\n            cellsToCheck.add(parent);\n        }\n    }\n    for (const tableCell of cellsToCheck.values()) {\n        const paragraphsToRefresh = Array.from(tableCell.getChildren())\n            .filter(child => shouldRefresh(child, editing.mapper));\n        for (const paragraph of paragraphsToRefresh) {\n            editing.reconvertItem(paragraph);\n        }\n    }\n}\n/**\n * Check if given model element needs refreshing.\n */\nfunction shouldRefresh(child, mapper) {\n    if (!child.is('element', 'paragraph')) {\n        return false;\n    }\n    const viewElement = mapper.toViewElement(child);\n    if (!viewElement) {\n        return false;\n    }\n    return isSingleParagraphWithoutAttributes(child) !== viewElement.is('element', 'span');\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./tableediting.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/tableediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport upcastTable, { ensureParagraphInTableCell, skipEmptyTableRow, upcastTableFigure } from './converters/upcasttable.js';\nimport { convertParagraphInTableCell, downcastCell, downcastRow, downcastTable } from './converters/downcast.js';\nimport InsertTableCommand from './commands/inserttablecommand.js';\nimport InsertRowCommand from './commands/insertrowcommand.js';\nimport InsertColumnCommand from './commands/insertcolumncommand.js';\nimport SplitCellCommand from './commands/splitcellcommand.js';\nimport MergeCellCommand from './commands/mergecellcommand.js';\nimport RemoveRowCommand from './commands/removerowcommand.js';\nimport RemoveColumnCommand from './commands/removecolumncommand.js';\nimport SetHeaderRowCommand from './commands/setheaderrowcommand.js';\nimport SetHeaderColumnCommand from './commands/setheadercolumncommand.js';\nimport MergeCellsCommand from './commands/mergecellscommand.js';\nimport SelectRowCommand from './commands/selectrowcommand.js';\nimport SelectColumnCommand from './commands/selectcolumncommand.js';\nimport TableUtils from '../src/tableutils.js';\nimport injectTableLayoutPostFixer from './converters/table-layout-post-fixer.js';\nimport injectTableCellParagraphPostFixer from './converters/table-cell-paragraph-post-fixer.js';\nimport tableHeadingsRefreshHandler from './converters/table-headings-refresh-handler.js';\nimport tableCellRefreshHandler from './converters/table-cell-refresh-handler.js';\nimport '../theme/tableediting.css';\n/**\n * The table editing feature.\n */\nexport default class TableEditing extends Plugin {\n    /**\n     * Handlers for creating additional slots in the table.\n     */\n    _additionalSlots;\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TableEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [TableUtils];\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        this._additionalSlots = [];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const model = editor.model;\n        const schema = model.schema;\n        const conversion = editor.conversion;\n        const tableUtils = editor.plugins.get(TableUtils);\n        schema.register('table', {\n            inheritAllFrom: '$blockObject',\n            allowAttributes: ['headingRows', 'headingColumns']\n        });\n        schema.register('tableRow', {\n            allowIn: 'table',\n            isLimit: true\n        });\n        schema.register('tableCell', {\n            allowContentOf: '$container',\n            allowIn: 'tableRow',\n            allowAttributes: ['colspan', 'rowspan'],\n            isLimit: true,\n            isSelectable: true\n        });\n        // Figure conversion.\n        conversion.for('upcast').add(upcastTableFigure());\n        // Table conversion.\n        conversion.for('upcast').add(upcastTable());\n        conversion.for('editingDowncast').elementToStructure({\n            model: {\n                name: 'table',\n                attributes: ['headingRows']\n            },\n            view: downcastTable(tableUtils, {\n                asWidget: true,\n                additionalSlots: this._additionalSlots\n            })\n        });\n        conversion.for('dataDowncast').elementToStructure({\n            model: {\n                name: 'table',\n                attributes: ['headingRows']\n            },\n            view: downcastTable(tableUtils, {\n                additionalSlots: this._additionalSlots\n            })\n        });\n        // Table row conversion.\n        conversion.for('upcast').elementToElement({ model: 'tableRow', view: 'tr' });\n        conversion.for('upcast').add(skipEmptyTableRow());\n        conversion.for('downcast').elementToElement({\n            model: 'tableRow',\n            view: downcastRow()\n        });\n        // Table cell conversion.\n        conversion.for('upcast').elementToElement({ model: 'tableCell', view: 'td' });\n        conversion.for('upcast').elementToElement({ model: 'tableCell', view: 'th' });\n        conversion.for('upcast').add(ensureParagraphInTableCell('td'));\n        conversion.for('upcast').add(ensureParagraphInTableCell('th'));\n        conversion.for('editingDowncast').elementToElement({\n            model: 'tableCell',\n            view: downcastCell({ asWidget: true })\n        });\n        conversion.for('dataDowncast').elementToElement({\n            model: 'tableCell',\n            view: downcastCell()\n        });\n        // Duplicates code - needed to properly refresh paragraph inside a table cell.\n        conversion.for('editingDowncast').elementToElement({\n            model: 'paragraph',\n            view: convertParagraphInTableCell({ asWidget: true }),\n            converterPriority: 'high'\n        });\n        conversion.for('dataDowncast').elementToElement({\n            model: 'paragraph',\n            view: convertParagraphInTableCell(),\n            converterPriority: 'high'\n        });\n        // Table attributes conversion.\n        conversion.for('downcast').attributeToAttribute({ model: 'colspan', view: 'colspan' });\n        conversion.for('upcast').attributeToAttribute({\n            model: { key: 'colspan', value: upcastCellSpan('colspan') },\n            view: 'colspan'\n        });\n        conversion.for('downcast').attributeToAttribute({ model: 'rowspan', view: 'rowspan' });\n        conversion.for('upcast').attributeToAttribute({\n            model: { key: 'rowspan', value: upcastCellSpan('rowspan') },\n            view: 'rowspan'\n        });\n        // Define the config.\n        editor.config.define('table.defaultHeadings.rows', 0);\n        editor.config.define('table.defaultHeadings.columns', 0);\n        // Define all the commands.\n        editor.commands.add('insertTable', new InsertTableCommand(editor));\n        editor.commands.add('insertTableRowAbove', new InsertRowCommand(editor, { order: 'above' }));\n        editor.commands.add('insertTableRowBelow', new InsertRowCommand(editor, { order: 'below' }));\n        editor.commands.add('insertTableColumnLeft', new InsertColumnCommand(editor, { order: 'left' }));\n        editor.commands.add('insertTableColumnRight', new InsertColumnCommand(editor, { order: 'right' }));\n        editor.commands.add('removeTableRow', new RemoveRowCommand(editor));\n        editor.commands.add('removeTableColumn', new RemoveColumnCommand(editor));\n        editor.commands.add('splitTableCellVertically', new SplitCellCommand(editor, { direction: 'vertically' }));\n        editor.commands.add('splitTableCellHorizontally', new SplitCellCommand(editor, { direction: 'horizontally' }));\n        editor.commands.add('mergeTableCells', new MergeCellsCommand(editor));\n        editor.commands.add('mergeTableCellRight', new MergeCellCommand(editor, { direction: 'right' }));\n        editor.commands.add('mergeTableCellLeft', new MergeCellCommand(editor, { direction: 'left' }));\n        editor.commands.add('mergeTableCellDown', new MergeCellCommand(editor, { direction: 'down' }));\n        editor.commands.add('mergeTableCellUp', new MergeCellCommand(editor, { direction: 'up' }));\n        editor.commands.add('setTableColumnHeader', new SetHeaderColumnCommand(editor));\n        editor.commands.add('setTableRowHeader', new SetHeaderRowCommand(editor));\n        editor.commands.add('selectTableRow', new SelectRowCommand(editor));\n        editor.commands.add('selectTableColumn', new SelectColumnCommand(editor));\n        injectTableLayoutPostFixer(model);\n        injectTableCellParagraphPostFixer(model);\n        this.listenTo(model.document, 'change:data', () => {\n            tableHeadingsRefreshHandler(model, editor.editing);\n            tableCellRefreshHandler(model, editor.editing);\n        });\n    }\n    /**\n     * Registers downcast handler for the additional table slot.\n     */\n    registerAdditionalSlot(slotHandler) {\n        this._additionalSlots.push(slotHandler);\n    }\n}\n/**\n * Returns fixed colspan and rowspan attrbutes values.\n *\n * @param type colspan or rowspan.\n * @returns conversion value function.\n */\nfunction upcastCellSpan(type) {\n    return (cell) => {\n        const span = parseInt(cell.getAttribute(type));\n        if (Number.isNaN(span) || span <= 0) {\n            return null;\n        }\n        return span;\n    };\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport TableWalker from '../tablewalker.js';\n/**\n * A table headings refresh handler which marks the table cells or rows in the differ to have it re-rendered\n * if the headings attribute changed.\n *\n * Table heading rows and heading columns are represented in the model by a `headingRows` and `headingColumns` attributes.\n *\n * When table headings attribute changes, all the cells/rows are marked to re-render to change between `<td>` and `<th>`.\n */\nexport default function tableHeadingsRefreshHandler(model, editing) {\n    const differ = model.document.differ;\n    for (const change of differ.getChanges()) {\n        let table;\n        let isRowChange = false;\n        if (change.type == 'attribute') {\n            const element = change.range.start.nodeAfter;\n            if (!element || !element.is('element', 'table')) {\n                continue;\n            }\n            if (change.attributeKey != 'headingRows' && change.attributeKey != 'headingColumns') {\n                continue;\n            }\n            table = element;\n            isRowChange = change.attributeKey == 'headingRows';\n        }\n        else if (change.name == 'tableRow' || change.name == 'tableCell') {\n            table = change.position.findAncestor('table');\n            isRowChange = change.name == 'tableRow';\n        }\n        if (!table) {\n            continue;\n        }\n        const headingRows = table.getAttribute('headingRows') || 0;\n        const headingColumns = table.getAttribute('headingColumns') || 0;\n        const tableWalker = new TableWalker(table);\n        for (const tableSlot of tableWalker) {\n            const isHeading = tableSlot.row < headingRows || tableSlot.column < headingColumns;\n            const expectedElementName = isHeading ? 'th' : 'td';\n            const viewElement = editing.mapper.toViewElement(tableSlot.cell);\n            if (viewElement && viewElement.is('element') && viewElement.name != expectedElementName) {\n                editing.reconvertItem((isRowChange ? tableSlot.cell.parent : tableSlot.cell));\n            }\n        }\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./inserttable.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/ui/inserttableview\n */\nimport { View, ButtonView, addKeyboardHandlingForGrid } from 'ckeditor5/src/ui.js';\nimport { KeystrokeHandler, FocusTracker } from 'ckeditor5/src/utils.js';\nimport './../../theme/inserttable.css';\n/**\n * The table size view.\n *\n * It renders a 10x10 grid to choose the inserted table size.\n */\nexport default class InsertTableView extends View {\n    /**\n     * A collection of table size box items.\n     */\n    items;\n    /**\n     * Listen to `keydown` events fired in this view's main element.\n     */\n    keystrokes;\n    /**\n     * Tracks information about the DOM focus in the grid.\n     */\n    focusTracker;\n    /**\n     * @inheritDoc\n     */\n    constructor(locale) {\n        super(locale);\n        const bind = this.bindTemplate;\n        this.items = this._createGridCollection();\n        this.keystrokes = new KeystrokeHandler();\n        this.focusTracker = new FocusTracker();\n        this.set('rows', 0);\n        this.set('columns', 0);\n        this.bind('label').to(this, 'columns', this, 'rows', (columns, rows) => `${rows} × ${columns}`);\n        this.setTemplate({\n            tag: 'div',\n            attributes: {\n                class: ['ck']\n            },\n            children: [\n                {\n                    tag: 'div',\n                    attributes: {\n                        class: ['ck-insert-table-dropdown__grid']\n                    },\n                    on: {\n                        'mouseover@.ck-insert-table-dropdown-grid-box': bind.to('boxover')\n                    },\n                    children: this.items\n                },\n                {\n                    tag: 'div',\n                    attributes: {\n                        class: [\n                            'ck',\n                            'ck-insert-table-dropdown__label'\n                        ],\n                        'aria-hidden': true\n                    },\n                    children: [\n                        {\n                            text: bind.to('label')\n                        }\n                    ]\n                }\n            ],\n            on: {\n                mousedown: bind.to(evt => {\n                    evt.preventDefault();\n                }),\n                click: bind.to(() => {\n                    this.fire('execute');\n                })\n            }\n        });\n        // #rows and #columns are set via changes to #focusTracker on mouse over.\n        this.on('boxover', (evt, domEvt) => {\n            const { row, column } = domEvt.target.dataset;\n            this.items.get((parseInt(row, 10) - 1) * 10 + (parseInt(column, 10) - 1)).focus();\n        });\n        // This allows the #rows and #columns to be updated when:\n        // * the user navigates the grid using the keyboard,\n        // * the user moves the mouse over grid items.\n        this.focusTracker.on('change:focusedElement', (evt, name, focusedElement) => {\n            if (!focusedElement) {\n                return;\n            }\n            const { row, column } = focusedElement.dataset;\n            // As row & column indexes are zero-based transform it to number of selected rows & columns.\n            this.set({\n                rows: parseInt(row),\n                columns: parseInt(column)\n            });\n        });\n        this.on('change:columns', () => this._highlightGridBoxes());\n        this.on('change:rows', () => this._highlightGridBoxes());\n    }\n    render() {\n        super.render();\n        addKeyboardHandlingForGrid({\n            keystrokeHandler: this.keystrokes,\n            focusTracker: this.focusTracker,\n            gridItems: this.items,\n            numberOfColumns: 10,\n            uiLanguageDirection: this.locale && this.locale.uiLanguageDirection\n        });\n        for (const item of this.items) {\n            this.focusTracker.add(item.element);\n        }\n        this.keystrokes.listenTo(this.element);\n    }\n    /**\n     * Resets the rows and columns selection.\n     */\n    reset() {\n        this.set({\n            rows: 1,\n            columns: 1\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    focus() {\n        this.items.get(0).focus();\n    }\n    /**\n     * @inheritDoc\n     */\n    focusLast() {\n        this.items.get(0).focus();\n    }\n    /**\n     * Highlights grid boxes depending on rows and columns selected.\n     */\n    _highlightGridBoxes() {\n        const rows = this.rows;\n        const columns = this.columns;\n        this.items.map((boxView, index) => {\n            // Translate box index to the row & column index.\n            const itemRow = Math.floor(index / 10);\n            const itemColumn = index % 10;\n            // Grid box is highlighted when its row & column index belongs to selected number of rows & columns.\n            const isOn = itemRow < rows && itemColumn < columns;\n            boxView.set('isOn', isOn);\n        });\n    }\n    /**\n     * Creates a new Button for the grid.\n     *\n     * @param locale The locale instance.\n     * @param row Row number.\n     * @param column Column number.\n     * @param label The grid button label.\n     */\n    _createGridButton(locale, row, column, label) {\n        const button = new ButtonView(locale);\n        button.set({\n            label,\n            class: 'ck-insert-table-dropdown-grid-box'\n        });\n        button.extendTemplate({\n            attributes: {\n                'data-row': row,\n                'data-column': column\n            }\n        });\n        return button;\n    }\n    /**\n     * @returns A view collection containing boxes to be placed in a table grid.\n     */\n    _createGridCollection() {\n        const boxes = [];\n        // Add grid boxes to table selection view.\n        for (let index = 0; index < 100; index++) {\n            const row = Math.floor(index / 10);\n            const column = index % 10;\n            const label = `${row + 1} × ${column + 1}`;\n            boxes.push(this._createGridButton(this.locale, row + 1, column + 1, label));\n        }\n        return this.createCollection(boxes);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/tableui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { IconTable, IconTableColumn, IconTableRow, IconTableMergeCell } from 'ckeditor5/src/icons.js';\nimport { addListToDropdown, createDropdown, ViewModel, SplitButtonView, SwitchButtonView, MenuBarMenuView } from 'ckeditor5/src/ui.js';\nimport { Collection } from 'ckeditor5/src/utils.js';\nimport InsertTableView from './ui/inserttableview.js';\n/**\n * The table UI plugin. It introduces:\n *\n * * The `'insertTable'` dropdown,\n * * The `'menuBar:insertTable'` menu bar menu,\n * * The `'tableColumn'` dropdown,\n * * The `'tableRow'` dropdown,\n * * The `'mergeTableCells'` split button.\n *\n * The `'tableColumn'`, `'tableRow'` and `'mergeTableCells'` dropdowns work best with {@link module:table/tabletoolbar~TableToolbar}.\n */\nexport default class TableUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TableUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = this.editor.t;\n        const contentLanguageDirection = editor.locale.contentLanguageDirection;\n        const isContentLtr = contentLanguageDirection === 'ltr';\n        editor.ui.componentFactory.add('insertTable', locale => {\n            const command = editor.commands.get('insertTable');\n            const dropdownView = createDropdown(locale);\n            dropdownView.bind('isEnabled').to(command);\n            // Decorate dropdown's button.\n            dropdownView.buttonView.set({\n                icon: IconTable,\n                label: t('Insert table'),\n                tooltip: true\n            });\n            let insertTableView;\n            dropdownView.on('change:isOpen', () => {\n                if (insertTableView) {\n                    return;\n                }\n                // Prepare custom view for dropdown's panel.\n                insertTableView = new InsertTableView(locale);\n                dropdownView.panelView.children.add(insertTableView);\n                insertTableView.delegate('execute').to(dropdownView);\n                dropdownView.on('execute', () => {\n                    editor.execute('insertTable', { rows: insertTableView.rows, columns: insertTableView.columns });\n                    editor.editing.view.focus();\n                });\n            });\n            return dropdownView;\n        });\n        editor.ui.componentFactory.add('menuBar:insertTable', locale => {\n            const command = editor.commands.get('insertTable');\n            const menuView = new MenuBarMenuView(locale);\n            const insertTableView = new InsertTableView(locale);\n            insertTableView.delegate('execute').to(menuView);\n            menuView.on('change:isOpen', (event, name, isOpen) => {\n                if (!isOpen) {\n                    insertTableView.reset();\n                }\n            });\n            insertTableView.on('execute', () => {\n                editor.execute('insertTable', { rows: insertTableView.rows, columns: insertTableView.columns });\n                editor.editing.view.focus();\n            });\n            menuView.buttonView.set({\n                label: t('Table'),\n                icon: IconTable\n            });\n            menuView.panelView.children.add(insertTableView);\n            menuView.bind('isEnabled').to(command);\n            return menuView;\n        });\n        editor.ui.componentFactory.add('tableColumn', locale => {\n            const options = [\n                {\n                    type: 'switchbutton',\n                    model: {\n                        commandName: 'setTableColumnHeader',\n                        label: t('Header column'),\n                        bindIsOn: true\n                    }\n                },\n                { type: 'separator' },\n                {\n                    type: 'button',\n                    model: {\n                        commandName: isContentLtr ? 'insertTableColumnLeft' : 'insertTableColumnRight',\n                        label: t('Insert column left')\n                    }\n                },\n                {\n                    type: 'button',\n                    model: {\n                        commandName: isContentLtr ? 'insertTableColumnRight' : 'insertTableColumnLeft',\n                        label: t('Insert column right')\n                    }\n                },\n                {\n                    type: 'button',\n                    model: {\n                        commandName: 'removeTableColumn',\n                        label: t('Delete column')\n                    }\n                },\n                {\n                    type: 'button',\n                    model: {\n                        commandName: 'selectTableColumn',\n                        label: t('Select column')\n                    }\n                }\n            ];\n            return this._prepareDropdown(t('Column'), IconTableColumn, options, locale);\n        });\n        editor.ui.componentFactory.add('tableRow', locale => {\n            const options = [\n                {\n                    type: 'switchbutton',\n                    model: {\n                        commandName: 'setTableRowHeader',\n                        label: t('Header row'),\n                        bindIsOn: true\n                    }\n                },\n                { type: 'separator' },\n                {\n                    type: 'button',\n                    model: {\n                        commandName: 'insertTableRowAbove',\n                        label: t('Insert row above')\n                    }\n                },\n                {\n                    type: 'button',\n                    model: {\n                        commandName: 'insertTableRowBelow',\n                        label: t('Insert row below')\n                    }\n                },\n                {\n                    type: 'button',\n                    model: {\n                        commandName: 'removeTableRow',\n                        label: t('Delete row')\n                    }\n                },\n                {\n                    type: 'button',\n                    model: {\n                        commandName: 'selectTableRow',\n                        label: t('Select row')\n                    }\n                }\n            ];\n            return this._prepareDropdown(t('Row'), IconTableRow, options, locale);\n        });\n        editor.ui.componentFactory.add('mergeTableCells', locale => {\n            const options = [\n                {\n                    type: 'button',\n                    model: {\n                        commandName: 'mergeTableCellUp',\n                        label: t('Merge cell up')\n                    }\n                },\n                {\n                    type: 'button',\n                    model: {\n                        commandName: isContentLtr ? 'mergeTableCellRight' : 'mergeTableCellLeft',\n                        label: t('Merge cell right')\n                    }\n                },\n                {\n                    type: 'button',\n                    model: {\n                        commandName: 'mergeTableCellDown',\n                        label: t('Merge cell down')\n                    }\n                },\n                {\n                    type: 'button',\n                    model: {\n                        commandName: isContentLtr ? 'mergeTableCellLeft' : 'mergeTableCellRight',\n                        label: t('Merge cell left')\n                    }\n                },\n                { type: 'separator' },\n                {\n                    type: 'button',\n                    model: {\n                        commandName: 'splitTableCellVertically',\n                        label: t('Split cell vertically')\n                    }\n                },\n                {\n                    type: 'button',\n                    model: {\n                        commandName: 'splitTableCellHorizontally',\n                        label: t('Split cell horizontally')\n                    }\n                }\n            ];\n            return this._prepareMergeSplitButtonDropdown(t('Merge cells'), IconTableMergeCell, options, locale);\n        });\n    }\n    /**\n     * Creates a dropdown view from a set of options.\n     *\n     * @param label The dropdown button label.\n     * @param icon An icon for the dropdown button.\n     * @param options The list of options for the dropdown.\n     */\n    _prepareDropdown(label, icon, options, locale) {\n        const editor = this.editor;\n        const dropdownView = createDropdown(locale);\n        const commands = this._fillDropdownWithListOptions(dropdownView, options);\n        // Decorate dropdown's button.\n        dropdownView.buttonView.set({\n            label,\n            icon,\n            tooltip: true\n        });\n        // Make dropdown button disabled when all options are disabled.\n        dropdownView.bind('isEnabled').toMany(commands, 'isEnabled', (...areEnabled) => {\n            return areEnabled.some(isEnabled => isEnabled);\n        });\n        this.listenTo(dropdownView, 'execute', evt => {\n            editor.execute(evt.source.commandName);\n            // Toggling a switch button view should not move the focus to the editable.\n            if (!(evt.source instanceof SwitchButtonView)) {\n                editor.editing.view.focus();\n            }\n        });\n        return dropdownView;\n    }\n    /**\n     * Creates a dropdown view with a {@link module:ui/dropdown/button/splitbuttonview~SplitButtonView} for\n     * merge (and split)–related commands.\n     *\n     * @param label The dropdown button label.\n     * @param icon An icon for the dropdown button.\n     * @param options The list of options for the dropdown.\n     */\n    _prepareMergeSplitButtonDropdown(label, icon, options, locale) {\n        const editor = this.editor;\n        const dropdownView = createDropdown(locale, SplitButtonView);\n        const mergeCommandName = 'mergeTableCells';\n        // Main command.\n        const mergeCommand = editor.commands.get(mergeCommandName);\n        // Subcommands in the dropdown.\n        const commands = this._fillDropdownWithListOptions(dropdownView, options);\n        dropdownView.buttonView.set({\n            label,\n            icon,\n            tooltip: true,\n            isEnabled: true\n        });\n        // Make dropdown button disabled when all options are disabled together with the main command.\n        dropdownView.bind('isEnabled').toMany([mergeCommand, ...commands], 'isEnabled', (...areEnabled) => {\n            return areEnabled.some(isEnabled => isEnabled);\n        });\n        // Merge selected table cells when the main part of the split button is clicked.\n        this.listenTo(dropdownView.buttonView, 'execute', () => {\n            editor.execute(mergeCommandName);\n            editor.editing.view.focus();\n        });\n        // Execute commands for events coming from the list in the dropdown panel.\n        this.listenTo(dropdownView, 'execute', evt => {\n            editor.execute(evt.source.commandName);\n            editor.editing.view.focus();\n        });\n        return dropdownView;\n    }\n    /**\n     * Injects a {@link module:ui/list/listview~ListView} into the passed dropdown with buttons\n     * which execute editor commands as configured in passed options.\n     *\n     * @param options The list of options for the dropdown.\n     * @returns Commands the list options are interacting with.\n     */\n    _fillDropdownWithListOptions(dropdownView, options) {\n        const editor = this.editor;\n        const commands = [];\n        const itemDefinitions = new Collection();\n        for (const option of options) {\n            addListOption(option, editor, commands, itemDefinitions);\n        }\n        addListToDropdown(dropdownView, itemDefinitions);\n        return commands;\n    }\n}\n/**\n * Adds an option to a list view.\n *\n * @param option A configuration option.\n * @param commands The list of commands to update.\n * @param itemDefinitions A collection of dropdown items to update with the given option.\n */\nfunction addListOption(option, editor, commands, itemDefinitions) {\n    if (option.type === 'button' || option.type === 'switchbutton') {\n        const model = option.model = new ViewModel(option.model);\n        const { commandName, bindIsOn } = option.model;\n        const command = editor.commands.get(commandName);\n        commands.push(command);\n        model.set({ commandName });\n        model.bind('isEnabled').to(command);\n        if (bindIsOn) {\n            model.bind('isOn').to(command, 'value');\n        }\n        model.set({\n            withText: true\n        });\n    }\n    itemDefinitions.add(option);\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./tableselection.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/tableselection\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { first } from 'ckeditor5/src/utils.js';\nimport TableWalker from './tablewalker.js';\nimport TableUtils from './tableutils.js';\nimport { cropTableToDimensions, adjustLastRowIndex, adjustLastColumnIndex } from './utils/structure.js';\nimport '../theme/tableselection.css';\n/**\n * This plugin enables the advanced table cells, rows and columns selection.\n * It is loaded automatically by the {@link module:table/table~Table} plugin.\n */\nexport default class TableSelection extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TableSelection';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [TableUtils, TableUtils];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const model = editor.model;\n        const view = editor.editing.view;\n        this.listenTo(model, 'deleteContent', (evt, args) => this._handleDeleteContent(evt, args), { priority: 'high' });\n        this.listenTo(view.document, 'insertText', (evt, data) => this._handleInsertTextEvent(evt, data), { priority: 'high' });\n        this._defineSelectionConverter();\n        this._enablePluginDisabling(); // sic!\n    }\n    /**\n     * Returns the currently selected table cells or `null` if it is not a table cells selection.\n     */\n    getSelectedTableCells() {\n        const tableUtils = this.editor.plugins.get(TableUtils);\n        const selection = this.editor.model.document.selection;\n        const selectedCells = tableUtils.getSelectedTableCells(selection);\n        if (selectedCells.length == 0) {\n            return null;\n        }\n        // This should never happen, but let's know if it ever happens.\n        // @if CK_DEBUG //\tif ( selectedCells.length != selection.rangeCount ) {\n        // @if CK_DEBUG //\t\tconsole.warn( 'Mixed selection warning. The selection contains table cells and some other ranges.' );\n        // @if CK_DEBUG //\t}\n        return selectedCells;\n    }\n    /**\n     * Returns the selected table fragment as a document fragment.\n     */\n    getSelectionAsFragment() {\n        const tableUtils = this.editor.plugins.get(TableUtils);\n        const selectedCells = this.getSelectedTableCells();\n        if (!selectedCells) {\n            return null;\n        }\n        return this.editor.model.change(writer => {\n            const documentFragment = writer.createDocumentFragment();\n            const { first: firstColumn, last: lastColumn } = tableUtils.getColumnIndexes(selectedCells);\n            const { first: firstRow, last: lastRow } = tableUtils.getRowIndexes(selectedCells);\n            const sourceTable = selectedCells[0].findAncestor('table');\n            let adjustedLastRow = lastRow;\n            let adjustedLastColumn = lastColumn;\n            // If the selection is rectangular there could be a case of all cells in the last row/column spanned over\n            // next row/column so the real lastRow/lastColumn should be updated.\n            if (tableUtils.isSelectionRectangular(selectedCells)) {\n                const dimensions = {\n                    firstColumn,\n                    lastColumn,\n                    firstRow,\n                    lastRow\n                };\n                adjustedLastRow = adjustLastRowIndex(sourceTable, dimensions);\n                adjustedLastColumn = adjustLastColumnIndex(sourceTable, dimensions);\n            }\n            const cropDimensions = {\n                startRow: firstRow,\n                startColumn: firstColumn,\n                endRow: adjustedLastRow,\n                endColumn: adjustedLastColumn\n            };\n            const table = cropTableToDimensions(sourceTable, cropDimensions, writer);\n            writer.insert(table, documentFragment, 0);\n            return documentFragment;\n        });\n    }\n    /**\n     * Sets the model selection based on given anchor and target cells (can be the same cell).\n     * Takes care of setting the backward flag.\n     *\n     * ```ts\n     * const modelRoot = editor.model.document.getRoot();\n     * const firstCell = modelRoot.getNodeByPath( [ 0, 0, 0 ] );\n     * const lastCell = modelRoot.getNodeByPath( [ 0, 0, 1 ] );\n     *\n     * const tableSelection = editor.plugins.get( 'TableSelection' );\n     * tableSelection.setCellSelection( firstCell, lastCell );\n     * ```\n     */\n    setCellSelection(anchorCell, targetCell) {\n        const cellsToSelect = this._getCellsToSelect(anchorCell, targetCell);\n        this.editor.model.change(writer => {\n            writer.setSelection(cellsToSelect.cells.map(cell => writer.createRangeOn(cell)), { backward: cellsToSelect.backward });\n        });\n    }\n    /**\n     * Returns the focus cell from the current selection.\n     */\n    getFocusCell() {\n        const selection = this.editor.model.document.selection;\n        const focusCellRange = [...selection.getRanges()].pop();\n        const element = focusCellRange.getContainedElement();\n        if (element && element.is('element', 'tableCell')) {\n            return element;\n        }\n        return null;\n    }\n    /**\n     * Returns the anchor cell from the current selection.\n     */\n    getAnchorCell() {\n        const selection = this.editor.model.document.selection;\n        const anchorCellRange = first(selection.getRanges());\n        const element = anchorCellRange.getContainedElement();\n        if (element && element.is('element', 'tableCell')) {\n            return element;\n        }\n        return null;\n    }\n    /**\n     * Defines a selection converter which marks the selected cells with a specific class.\n     *\n     * The real DOM selection is put in the last cell. Since the order of ranges is dependent on whether the\n     * selection is backward or not, the last cell will usually be close to the \"focus\" end of the selection\n     * (a selection has anchor and focus).\n     *\n     * The real DOM selection is then hidden with CSS.\n     */\n    _defineSelectionConverter() {\n        const editor = this.editor;\n        const highlighted = new Set();\n        editor.conversion.for('editingDowncast').add(dispatcher => dispatcher.on('selection', (evt, data, conversionApi) => {\n            const viewWriter = conversionApi.writer;\n            clearHighlightedTableCells(viewWriter);\n            const selectedCells = this.getSelectedTableCells();\n            if (!selectedCells) {\n                return;\n            }\n            for (const tableCell of selectedCells) {\n                const viewElement = conversionApi.mapper.toViewElement(tableCell);\n                viewWriter.addClass('ck-editor__editable_selected', viewElement);\n                highlighted.add(viewElement);\n            }\n            const lastViewCell = conversionApi.mapper.toViewElement(selectedCells[selectedCells.length - 1]);\n            viewWriter.setSelection(lastViewCell, 0);\n        }, { priority: 'lowest' }));\n        function clearHighlightedTableCells(viewWriter) {\n            for (const previouslyHighlighted of highlighted) {\n                viewWriter.removeClass('ck-editor__editable_selected', previouslyHighlighted);\n            }\n            highlighted.clear();\n        }\n    }\n    /**\n     * Creates a listener that reacts to changes in {@link #isEnabled} and, if the plugin was disabled,\n     * it collapses the multi-cell selection to a regular selection placed inside a table cell.\n     *\n     * This listener helps features that disable the table selection plugin bring the selection\n     * to a clear state they can work with (for instance, because they don't support multiple cell selection).\n     */\n    _enablePluginDisabling() {\n        const editor = this.editor;\n        this.on('change:isEnabled', () => {\n            if (!this.isEnabled) {\n                const selectedCells = this.getSelectedTableCells();\n                if (!selectedCells) {\n                    return;\n                }\n                editor.model.change(writer => {\n                    const position = writer.createPositionAt(selectedCells[0], 0);\n                    const range = editor.model.schema.getNearestSelectionRange(position);\n                    writer.setSelection(range);\n                });\n            }\n        });\n    }\n    /**\n     * Overrides the default `model.deleteContent()` behavior over a selected table fragment.\n     *\n     * @param args Delete content method arguments.\n     */\n    _handleDeleteContent(event, args) {\n        const tableUtils = this.editor.plugins.get(TableUtils);\n        const selection = args[0];\n        const options = args[1];\n        const model = this.editor.model;\n        const isBackward = !options || options.direction == 'backward';\n        const selectedTableCells = tableUtils.getSelectedTableCells(selection);\n        if (!selectedTableCells.length) {\n            return;\n        }\n        event.stop();\n        model.change(writer => {\n            const tableCellToSelect = selectedTableCells[isBackward ? selectedTableCells.length - 1 : 0];\n            model.change(writer => {\n                for (const tableCell of selectedTableCells) {\n                    model.deleteContent(writer.createSelection(tableCell, 'in'));\n                }\n            });\n            const rangeToSelect = model.schema.getNearestSelectionRange(writer.createPositionAt(tableCellToSelect, 0));\n            // Note: we ignore the case where rangeToSelect may be null because deleteContent() will always (unless someone broke it)\n            // create an empty paragraph to accommodate the selection.\n            if (selection.is('documentSelection')) {\n                writer.setSelection(rangeToSelect);\n            }\n            else {\n                selection.setTo(rangeToSelect);\n            }\n        });\n    }\n    /**\n     * This handler makes it possible to remove the content of all selected cells by starting to type.\n     * If you take a look at {@link #_defineSelectionConverter} you will find out that despite the multi-cell selection being set\n     * in the model, the view selection is collapsed in the last cell (because most browsers are unable to render multi-cell selections;\n     * yes, it's a hack).\n     *\n     * When multiple cells are selected in the model and the user starts to type, the\n     * {@link module:engine/view/document~Document#event:insertText} event carries information provided by the\n     * beforeinput DOM  event, that in turn only knows about this collapsed DOM selection in the last cell.\n     *\n     * As a result, the selected cells have no chance to be cleaned up. To fix this, this listener intercepts\n     * the event and injects the custom view selection in the data that translates correctly to the actual state\n     * of the multi-cell selection in the model.\n     *\n     * @param data Insert text event data.\n     */\n    _handleInsertTextEvent(evt, data) {\n        const editor = this.editor;\n        const selectedCells = this.getSelectedTableCells();\n        if (!selectedCells) {\n            return;\n        }\n        const view = editor.editing.view;\n        const mapper = editor.editing.mapper;\n        const viewRanges = selectedCells.map(tableCell => view.createRangeOn(mapper.toViewElement(tableCell)));\n        data.selection = view.createSelection(viewRanges);\n    }\n    /**\n     * Returns an array of table cells that should be selected based on the\n     * given anchor cell and target (focus) cell.\n     *\n     * The cells are returned in a reverse direction if the selection is backward.\n     */\n    _getCellsToSelect(anchorCell, targetCell) {\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const startLocation = tableUtils.getCellLocation(anchorCell);\n        const endLocation = tableUtils.getCellLocation(targetCell);\n        const startRow = Math.min(startLocation.row, endLocation.row);\n        const endRow = Math.max(startLocation.row, endLocation.row);\n        const startColumn = Math.min(startLocation.column, endLocation.column);\n        // Adjust the selection to include the entire row if a cell with colspan is selected.\n        // This ensures that the selection covers the full width of the colspan cell.\n        //\n        // Example:\n        // +---+---+---+---+\n        // | A | B | C | D |\n        // +---+---+---+---+\n        // | E             |\n        // +---+---+---+---+\n        //\n        // If the selection starts at `B` and ends at `E`, the entire first row should be selected.\n        //\n        // In other words, the selection will represent the following cells:\n        // \t* Without this adjustment, only `B`, `A` and `E` would be selected.\n        // \t* With this adjustment, `A`, `B`, `C`, `D`, and `E` are selected.\n        //\n        // See: https://github.com/ckeditor/ckeditor5/issues/17538\n        const endColumnExtraColspan = (parseInt(targetCell.getAttribute('colspan') || '1') - 1);\n        const endColumn = Math.max(startLocation.column, endLocation.column + endColumnExtraColspan);\n        // 2-dimensional array of the selected cells to ease flipping the order of cells for backward selections.\n        const selectionMap = new Array(endRow - startRow + 1).fill(null).map(() => []);\n        const walkerOptions = {\n            startRow,\n            endRow,\n            startColumn,\n            endColumn\n        };\n        for (const { row, cell } of new TableWalker(anchorCell.findAncestor('table'), walkerOptions)) {\n            selectionMap[row - startRow].push(cell);\n        }\n        const flipVertically = endLocation.row < startLocation.row;\n        const flipHorizontally = endLocation.column < startLocation.column;\n        if (flipVertically) {\n            selectionMap.reverse();\n        }\n        if (flipHorizontally) {\n            selectionMap.forEach(row => row.reverse());\n        }\n        return {\n            cells: selectionMap.flat(),\n            backward: flipVertically || flipHorizontally\n        };\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { ClipboardPipeline, ClipboardMarkersUtils } from 'ckeditor5/src/clipboard.js';\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport TableSelection from './tableselection.js';\nimport TableWalker from './tablewalker.js';\nimport TableUtils from './tableutils.js';\nimport { cropTableToDimensions, getHorizontallyOverlappingCells, getVerticallyOverlappingCells, removeEmptyRowsColumns, splitHorizontally, splitVertically, trimTableCellIfNeeded, adjustLastRowIndex, adjustLastColumnIndex } from './utils/structure.js';\n/**\n * This plugin adds support for copying/cutting/pasting fragments of tables.\n * It is loaded automatically by the {@link module:table/table~Table} plugin.\n */\nexport default class TableClipboard extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TableClipboard';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ClipboardMarkersUtils, ClipboardPipeline, TableSelection, TableUtils];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const viewDocument = editor.editing.view.document;\n        this.listenTo(viewDocument, 'copy', (evt, data) => this._onCopyCut(evt, data));\n        this.listenTo(viewDocument, 'cut', (evt, data) => this._onCopyCut(evt, data));\n        this._listenToContentInsertion();\n        this.decorate('_replaceTableSlotCell');\n    }\n    /**\n     * Sets up listening for events from the clipboard pipeline to properly handle\n     * table content merging during paste/drop operations.\n     *\n     * When a user is dragging and dropping a table, we want to insert the entire table into\n     * a table cell instead of merging table contents. For paste and other events,\n     * the normal table merge behavior is applied.\n     */\n    _listenToContentInsertion() {\n        const { editor } = this;\n        const clipboardPipeline = editor.plugins.get(ClipboardPipeline);\n        const tableSelection = editor.plugins.get(TableSelection);\n        let isPaste = false;\n        clipboardPipeline.on('contentInsertion', (evt, data) => {\n            isPaste = data.method === 'paste';\n        });\n        this.listenTo(editor.model, 'insertContent', (evt, [content, selectable]) => {\n            // Handles drag-and-drop of tables, where tables are inserted into selected cells rather than merged.\n            // The `isPaste` flag handles scenarios where other features (e.g., Templates) insert tables into specific cells.\n            if (isPaste || tableSelection.getSelectedTableCells() !== null) {\n                this._onInsertContent(evt, content, selectable);\n            }\n        }, { priority: 'high' });\n        clipboardPipeline.on('contentInsertion', () => {\n            isPaste = false;\n        }, { priority: 'lowest' });\n    }\n    /**\n     * Copies table content to a clipboard on \"copy\" & \"cut\" events.\n     *\n     * @param evt An object containing information about the handled event.\n     * @param data Clipboard event data.\n     */\n    _onCopyCut(evt, data) {\n        const view = this.editor.editing.view;\n        const tableSelection = this.editor.plugins.get(TableSelection);\n        const clipboardMarkersUtils = this.editor.plugins.get(ClipboardMarkersUtils);\n        if (!tableSelection.getSelectedTableCells()) {\n            return;\n        }\n        if (evt.name == 'cut' && !this.editor.model.canEditAt(this.editor.model.document.selection)) {\n            return;\n        }\n        data.preventDefault();\n        evt.stop();\n        this.editor.model.enqueueChange({ isUndoable: evt.name === 'cut' }, () => {\n            const documentFragment = clipboardMarkersUtils._copySelectedFragmentWithMarkers(evt.name, this.editor.model.document.selection, () => tableSelection.getSelectionAsFragment());\n            view.document.fire('clipboardOutput', {\n                dataTransfer: data.dataTransfer,\n                content: this.editor.data.toView(documentFragment),\n                method: evt.name\n            });\n        });\n    }\n    /**\n     * Overrides default {@link module:engine/model/model~Model#insertContent `model.insertContent()`} method to handle pasting table inside\n     * selected table fragment.\n     *\n     * Depending on selected table fragment:\n     * - If a selected table fragment is smaller than paste table it will crop pasted table to match dimensions.\n     * - If dimensions are equal it will replace selected table fragment with a pasted table contents.\n     *\n     * @param content The content to insert.\n     * @param selectable The selection into which the content should be inserted.\n     * If not provided the current model document selection will be used.\n     */\n    _onInsertContent(evt, content, selectable) {\n        if (selectable && !selectable.is('documentSelection')) {\n            return;\n        }\n        const model = this.editor.model;\n        const tableUtils = this.editor.plugins.get(TableUtils);\n        const clipboardMarkersUtils = this.editor.plugins.get(ClipboardMarkersUtils);\n        // We might need to crop table before inserting so reference might change.\n        const pastedTable = this.getTableIfOnlyTableInContent(content, model);\n        if (!pastedTable) {\n            return;\n        }\n        const selectedTableCells = tableUtils.getSelectionAffectedTableCells(model.document.selection);\n        if (!selectedTableCells.length) {\n            removeEmptyRowsColumns(pastedTable, tableUtils);\n            return;\n        }\n        // Override default model.insertContent() handling at this point.\n        evt.stop();\n        if (content.is('documentFragment')) {\n            clipboardMarkersUtils._pasteMarkersIntoTransformedElement(content.markers, writer => this._replaceSelectedCells(pastedTable, selectedTableCells, writer));\n        }\n        else {\n            this.editor.model.change(writer => {\n                this._replaceSelectedCells(pastedTable, selectedTableCells, writer);\n            });\n        }\n    }\n    /**\n     * Inserts provided `selectedTableCells` into `pastedTable`.\n     */\n    _replaceSelectedCells(pastedTable, selectedTableCells, writer) {\n        const tableUtils = this.editor.plugins.get(TableUtils);\n        const pastedDimensions = {\n            width: tableUtils.getColumns(pastedTable),\n            height: tableUtils.getRows(pastedTable)\n        };\n        // Prepare the table for pasting.\n        const selection = prepareTableForPasting(selectedTableCells, pastedDimensions, writer, tableUtils);\n        // Beyond this point we operate on a fixed content table with rectangular selection and proper last row/column values.\n        const selectionHeight = selection.lastRow - selection.firstRow + 1;\n        const selectionWidth = selection.lastColumn - selection.firstColumn + 1;\n        // Crop pasted table if:\n        // - Pasted table dimensions exceeds selection area.\n        // - Pasted table has broken layout (ie some cells sticks out by the table dimensions established by the first and last row).\n        //\n        // Note: The table dimensions are established by the width of the first row and the total number of rows.\n        // It is possible to programmatically create a table that has rows which would have cells anchored beyond first row width but\n        // such table will not be created by other editing solutions.\n        const cropDimensions = {\n            startRow: 0,\n            startColumn: 0,\n            endRow: Math.min(selectionHeight, pastedDimensions.height) - 1,\n            endColumn: Math.min(selectionWidth, pastedDimensions.width) - 1\n        };\n        pastedTable = cropTableToDimensions(pastedTable, cropDimensions, writer);\n        // Content table to which we insert a pasted table.\n        const selectedTable = selectedTableCells[0].findAncestor('table');\n        const cellsToSelect = this._replaceSelectedCellsWithPasted(pastedTable, pastedDimensions, selectedTable, selection, writer);\n        if (this.editor.plugins.get('TableSelection').isEnabled) {\n            // Selection ranges must be sorted because the first and last selection ranges are considered\n            // as anchor/focus cell ranges for multi-cell selection.\n            const selectionRanges = tableUtils.sortRanges(cellsToSelect.map(cell => writer.createRangeOn(cell)));\n            writer.setSelection(selectionRanges);\n        }\n        else {\n            // Set selection inside first cell if multi-cell selection is disabled.\n            writer.setSelection(cellsToSelect[0], 0);\n        }\n        return selectedTable;\n    }\n    /**\n     * Replaces the part of selectedTable with pastedTable.\n     */\n    _replaceSelectedCellsWithPasted(pastedTable, pastedDimensions, selectedTable, selection, writer) {\n        const { width: pastedWidth, height: pastedHeight } = pastedDimensions;\n        // Holds two-dimensional array that is addressed by [ row ][ column ] that stores cells anchored at given location.\n        const pastedTableLocationMap = createLocationMap(pastedTable, pastedWidth, pastedHeight);\n        const selectedTableMap = [...new TableWalker(selectedTable, {\n                startRow: selection.firstRow,\n                endRow: selection.lastRow,\n                startColumn: selection.firstColumn,\n                endColumn: selection.lastColumn,\n                includeAllSlots: true\n            })];\n        // Selection must be set to pasted cells (some might be removed or new created).\n        const cellsToSelect = [];\n        // Store next cell insert position.\n        let insertPosition;\n        // Content table replace cells algorithm iterates over a selected table fragment and:\n        //\n        // - Removes existing table cells at current slot (location).\n        // - Inserts cell from a pasted table for a matched slots.\n        //\n        // This ensures proper table geometry after the paste\n        for (const tableSlot of selectedTableMap) {\n            const { row, column } = tableSlot;\n            // Save the insert position for current row start.\n            if (column === selection.firstColumn) {\n                insertPosition = tableSlot.getPositionBefore();\n            }\n            // Map current table slot location to an pasted table slot location.\n            const pastedRow = row - selection.firstRow;\n            const pastedColumn = column - selection.firstColumn;\n            const pastedCell = pastedTableLocationMap[pastedRow % pastedHeight][pastedColumn % pastedWidth];\n            // Clone cell to insert (to duplicate its attributes and children).\n            // Cloning is required to support repeating pasted table content when inserting to a bigger selection.\n            const cellToInsert = pastedCell ? writer.cloneElement(pastedCell) : null;\n            // Replace the cell from the current slot with new table cell.\n            const newTableCell = this._replaceTableSlotCell(tableSlot, cellToInsert, insertPosition, writer);\n            // The cell was only removed.\n            if (!newTableCell) {\n                continue;\n            }\n            // Trim the cell if it's row/col-spans would exceed selection area.\n            trimTableCellIfNeeded(newTableCell, row, column, selection.lastRow, selection.lastColumn, writer);\n            cellsToSelect.push(newTableCell);\n            insertPosition = writer.createPositionAfter(newTableCell);\n        }\n        // If there are any headings, all the cells that overlap from heading must be splitted.\n        const headingRows = parseInt(selectedTable.getAttribute('headingRows') || '0');\n        const headingColumns = parseInt(selectedTable.getAttribute('headingColumns') || '0');\n        const areHeadingRowsIntersectingSelection = selection.firstRow < headingRows && headingRows <= selection.lastRow;\n        const areHeadingColumnsIntersectingSelection = selection.firstColumn < headingColumns && headingColumns <= selection.lastColumn;\n        if (areHeadingRowsIntersectingSelection) {\n            const columnsLimit = { first: selection.firstColumn, last: selection.lastColumn };\n            const newCells = doHorizontalSplit(selectedTable, headingRows, columnsLimit, writer, selection.firstRow);\n            cellsToSelect.push(...newCells);\n        }\n        if (areHeadingColumnsIntersectingSelection) {\n            const rowsLimit = { first: selection.firstRow, last: selection.lastRow };\n            const newCells = doVerticalSplit(selectedTable, headingColumns, rowsLimit, writer);\n            cellsToSelect.push(...newCells);\n        }\n        return cellsToSelect;\n    }\n    /**\n     * Replaces a single table slot.\n     *\n     * @returns Inserted table cell or null if slot should remain empty.\n     * @private\n     */\n    _replaceTableSlotCell(tableSlot, cellToInsert, insertPosition, writer) {\n        const { cell, isAnchor } = tableSlot;\n        // If the slot is occupied by a cell in a selected table - remove it.\n        // The slot of this cell will be either:\n        // - Replaced by a pasted table cell.\n        // - Spanned by a previously pasted table cell.\n        if (isAnchor) {\n            writer.remove(cell);\n        }\n        // There is no cell to insert (might be spanned by other cell in a pasted table) - advance to the next content table slot.\n        if (!cellToInsert) {\n            return null;\n        }\n        writer.insert(cellToInsert, insertPosition);\n        return cellToInsert;\n    }\n    /**\n     * Extracts the table for pasting into a table.\n     *\n     * @param content The content to insert.\n     * @param model The editor model.\n     */\n    getTableIfOnlyTableInContent(content, model) {\n        if (!content.is('documentFragment') && !content.is('element')) {\n            return null;\n        }\n        // Table passed directly.\n        if (content.is('element', 'table')) {\n            return content;\n        }\n        // We do not support mixed content when pasting table into table.\n        // See: https://github.com/ckeditor/ckeditor5/issues/6817.\n        if (content.childCount == 1 && content.getChild(0).is('element', 'table')) {\n            return content.getChild(0);\n        }\n        // If there are only whitespaces around a table then use that table for pasting.\n        const contentRange = model.createRangeIn(content);\n        for (const element of contentRange.getItems()) {\n            if (element.is('element', 'table')) {\n                // Stop checking if there is some content before table.\n                const rangeBefore = model.createRange(contentRange.start, model.createPositionBefore(element));\n                if (model.hasContent(rangeBefore, { ignoreWhitespaces: true })) {\n                    return null;\n                }\n                // Stop checking if there is some content after table.\n                const rangeAfter = model.createRange(model.createPositionAfter(element), contentRange.end);\n                if (model.hasContent(rangeAfter, { ignoreWhitespaces: true })) {\n                    return null;\n                }\n                // There wasn't any content neither before nor after.\n                return element;\n            }\n        }\n        return null;\n    }\n}\n/**\n * Prepares a table for pasting and returns adjusted selection dimensions.\n */\nfunction prepareTableForPasting(selectedTableCells, pastedDimensions, writer, tableUtils) {\n    const selectedTable = selectedTableCells[0].findAncestor('table');\n    const columnIndexes = tableUtils.getColumnIndexes(selectedTableCells);\n    const rowIndexes = tableUtils.getRowIndexes(selectedTableCells);\n    const selection = {\n        firstColumn: columnIndexes.first,\n        lastColumn: columnIndexes.last,\n        firstRow: rowIndexes.first,\n        lastRow: rowIndexes.last\n    };\n    // Single cell selected - expand selection to pasted table dimensions.\n    const shouldExpandSelection = selectedTableCells.length === 1;\n    if (shouldExpandSelection) {\n        selection.lastRow += pastedDimensions.height - 1;\n        selection.lastColumn += pastedDimensions.width - 1;\n        expandTableSize(selectedTable, selection.lastRow + 1, selection.lastColumn + 1, tableUtils);\n    }\n    // In case of expanding selection we do not reset the selection so in this case we will always try to fix selection\n    // like in the case of a non-rectangular area. This might be fixed by re-setting selected cells array but this shortcut is safe.\n    if (shouldExpandSelection || !tableUtils.isSelectionRectangular(selectedTableCells)) {\n        // For a non-rectangular selection (ie in which some cells sticks out from a virtual selection rectangle) we need to create\n        // a table layout that has a rectangular selection. This will split cells so the selection become rectangular.\n        // Beyond this point we will operate on fixed content table.\n        splitCellsToRectangularSelection(selectedTable, selection, writer);\n    }\n    // However a selected table fragment might be invalid if examined alone. Ie such table fragment:\n    //\n    //    +---+---+---+---+\n    //  0 | a | b | c | d |\n    //    +   +   +---+---+\n    //  1 |   | e | f | g |\n    //    +   +---+   +---+\n    //  2 |   | h |   | i | <- last row, each cell has rowspan = 2,\n    //    +   +   +   +   +    so we need to return 3, not 2\n    //  3 |   |   |   |   |\n    //    +---+---+---+---+\n    //\n    // is invalid as the cells \"h\" and \"i\" have rowspans.\n    // This case needs only adjusting the selection dimension as the rest of the algorithm operates on empty slots also.\n    else {\n        selection.lastRow = adjustLastRowIndex(selectedTable, selection);\n        selection.lastColumn = adjustLastColumnIndex(selectedTable, selection);\n    }\n    return selection;\n}\n/**\n * Expand table (in place) to expected size.\n */\nfunction expandTableSize(table, expectedHeight, expectedWidth, tableUtils) {\n    const tableWidth = tableUtils.getColumns(table);\n    const tableHeight = tableUtils.getRows(table);\n    if (expectedWidth > tableWidth) {\n        tableUtils.insertColumns(table, {\n            at: tableWidth,\n            columns: expectedWidth - tableWidth\n        });\n    }\n    if (expectedHeight > tableHeight) {\n        tableUtils.insertRows(table, {\n            at: tableHeight,\n            rows: expectedHeight - tableHeight\n        });\n    }\n}\n/**\n * Returns two-dimensional array that is addressed by [ row ][ column ] that stores cells anchored at given location.\n *\n * At given row & column location it might be one of:\n *\n * * cell - cell from pasted table anchored at this location.\n * * null - if no cell is anchored at this location.\n *\n * For instance, from a table below:\n *\n *   +----+----+----+----+\n *   | 00 | 01 | 02 | 03 |\n *   +    +----+----+----+\n *   |    | 11      | 13 |\n *   +----+         +----+\n *   | 20 |         | 23 |\n *   +----+----+----+----+\n *\n * The method will return an array (numbers represents cell element):\n *\n * ```ts\n * const map = [\n *   [ '00', '01', '02', '03' ],\n *   [ null, '11', null, '13' ],\n *   [ '20', null, null, '23' ]\n * ]\n * ```\n *\n * This allows for a quick access to table at give row & column. For instance to access table cell \"13\" from pasted table call:\n *\n * ```ts\n * const cell = map[ 1 ][ 3 ]\n * ```\n */\nfunction createLocationMap(table, width, height) {\n    // Create height x width (row x column) two-dimensional table to store cells.\n    const map = new Array(height).fill(null)\n        .map(() => new Array(width).fill(null));\n    for (const { column, row, cell } of new TableWalker(table)) {\n        map[row][column] = cell;\n    }\n    return map;\n}\n/**\n * Make selected cells rectangular by splitting the cells that stand out from a rectangular selection.\n *\n * In the table below a selection is shown with \"::\" and slots with anchor cells are named.\n *\n * +----+----+----+----+----+                    +----+----+----+----+----+\n * | 00 | 01 | 02 | 03      |                    | 00 | 01 | 02 | 03      |\n * +    +----+    +----+----+                    |    ::::::::::::::::----+\n * |    | 11 |    | 13 | 14 |                    |    ::11 |    | 13:: 14 |    <- first row\n * +----+----+    +    +----+                    +----::---|    |   ::----+\n * | 20 | 21 |    |    | 24 |   select cells:    | 20 ::21 |    |   :: 24 |\n * +----+----+    +----+----+     11 -> 33       +----::---|    |---::----+\n * | 30      |    | 33 | 34 |                    | 30 ::   |    | 33:: 34 |    <- last row\n * +         +    +----+    +                    |    ::::::::::::::::    +\n * |         |    | 43 |    |                    |         |    | 43 |    |\n * +----+----+----+----+----+                    +----+----+----+----+----+\n *                                                      ^          ^\n *                                                     first & last columns\n *\n * Will update table to:\n *\n *                       +----+----+----+----+----+\n *                       | 00 | 01 | 02 | 03      |\n *                       +    +----+----+----+----+\n *                       |    | 11 |    | 13 | 14 |\n *                       +----+----+    +    +----+\n *                       | 20 | 21 |    |    | 24 |\n *                       +----+----+    +----+----+\n *                       | 30 |    |    | 33 | 34 |\n *                       +    +----+----+----+    +\n *                       |    |    |    | 43 |    |\n *                       +----+----+----+----+----+\n *\n * In th example above:\n * - Cell \"02\" which have `rowspan = 4` must be trimmed at first and at after last row.\n * - Cell \"03\" which have `rowspan = 2` and `colspan = 2` must be trimmed at first column and after last row.\n * - Cells \"00\", \"03\" & \"30\" which cannot be cut by this algorithm as they are outside the trimmed area.\n * - Cell \"13\" cannot be cut as it is inside the trimmed area.\n */\nfunction splitCellsToRectangularSelection(table, dimensions, writer) {\n    const { firstRow, lastRow, firstColumn, lastColumn } = dimensions;\n    const rowIndexes = { first: firstRow, last: lastRow };\n    const columnIndexes = { first: firstColumn, last: lastColumn };\n    // 1. Split cells vertically in two steps as first step might create cells that needs to split again.\n    doVerticalSplit(table, firstColumn, rowIndexes, writer);\n    doVerticalSplit(table, lastColumn + 1, rowIndexes, writer);\n    // 2. Split cells horizontally in two steps as first step might create cells that needs to split again.\n    doHorizontalSplit(table, firstRow, columnIndexes, writer);\n    doHorizontalSplit(table, lastRow + 1, columnIndexes, writer, firstRow);\n}\nfunction doHorizontalSplit(table, splitRow, limitColumns, writer, startRow = 0) {\n    // If selection starts at first row then no split is needed.\n    if (splitRow < 1) {\n        return;\n    }\n    const overlappingCells = getVerticallyOverlappingCells(table, splitRow, startRow);\n    // Filter out cells that are not touching insides of the rectangular selection.\n    const cellsToSplit = overlappingCells.filter(({ column, cellWidth }) => isAffectedBySelection(column, cellWidth, limitColumns));\n    return cellsToSplit.map(({ cell }) => splitHorizontally(cell, splitRow, writer));\n}\nfunction doVerticalSplit(table, splitColumn, limitRows, writer) {\n    // If selection starts at first column then no split is needed.\n    if (splitColumn < 1) {\n        return;\n    }\n    const overlappingCells = getHorizontallyOverlappingCells(table, splitColumn);\n    // Filter out cells that are not touching insides of the rectangular selection.\n    const cellsToSplit = overlappingCells.filter(({ row, cellHeight }) => isAffectedBySelection(row, cellHeight, limitRows));\n    return cellsToSplit.map(({ cell, column }) => splitVertically(cell, column, splitColumn, writer));\n}\n/**\n * Checks if cell at given row (column) is affected by a rectangular selection defined by first/last column (row).\n *\n * The same check is used for row as for column.\n */\nfunction isAffectedBySelection(index, span, limit) {\n    const endIndex = index + span - 1;\n    const { first, last } = limit;\n    const isInsideSelection = index >= first && index <= last;\n    const overlapsSelectionFromOutside = index < first && endIndex >= first;\n    return isInsideSelection || overlapsSelectionFromOutside;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/tablekeyboard\n */\nimport TableSelection from './tableselection.js';\nimport TableWalker from './tablewalker.js';\nimport TableUtils from './tableutils.js';\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { getLocalizedArrowKeyCodeDirection } from 'ckeditor5/src/utils.js';\n/**\n * This plugin enables keyboard navigation for tables.\n * It is loaded automatically by the {@link module:table/table~Table} plugin.\n */\nexport default class TableKeyboard extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TableKeyboard';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [TableSelection, TableUtils];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const view = editor.editing.view;\n        const viewDocument = view.document;\n        const t = editor.t;\n        this.listenTo(viewDocument, 'arrowKey', (...args) => this._onArrowKey(...args), { context: 'table' });\n        this.listenTo(viewDocument, 'tab', (...args) => this._handleTabOnSelectedTable(...args), { context: 'figure' });\n        this.listenTo(viewDocument, 'tab', (...args) => this._handleTab(...args), { context: ['th', 'td'] });\n        // Add the information about the keystrokes to the accessibility database.\n        editor.accessibility.addKeystrokeInfoGroup({\n            id: 'table',\n            label: t('Keystrokes that can be used in a table cell'),\n            keystrokes: [\n                {\n                    label: t('Move the selection to the next cell'),\n                    keystroke: 'Tab'\n                },\n                {\n                    label: t('Move the selection to the previous cell'),\n                    keystroke: 'Shift+Tab'\n                },\n                {\n                    label: t('Insert a new table row (when in the last cell of a table)'),\n                    keystroke: 'Tab'\n                },\n                {\n                    label: t('Navigate through the table'),\n                    keystroke: [['arrowup'], ['arrowright'], ['arrowdown'], ['arrowleft']]\n                }\n            ]\n        });\n    }\n    /**\n     * Handles {@link module:engine/view/document~Document#event:tab tab} events for the <kbd>Tab</kbd> key executed\n     * when the table widget is selected.\n     */\n    _handleTabOnSelectedTable(bubblingEventInfo, domEventData) {\n        const editor = this.editor;\n        const selection = editor.model.document.selection;\n        const selectedElement = selection.getSelectedElement();\n        if (!selectedElement || !selectedElement.is('element', 'table')) {\n            return;\n        }\n        domEventData.preventDefault();\n        domEventData.stopPropagation();\n        bubblingEventInfo.stop();\n        editor.model.change(writer => {\n            writer.setSelection(writer.createRangeIn(selectedElement.getChild(0).getChild(0)));\n        });\n    }\n    /**\n     * Handles {@link module:engine/view/document~Document#event:tab tab} events for the <kbd>Tab</kbd> key executed\n     * inside table cells.\n     */\n    _handleTab(bubblingEventInfo, domEventData) {\n        const editor = this.editor;\n        const tableUtils = this.editor.plugins.get(TableUtils);\n        const tableSelection = this.editor.plugins.get('TableSelection');\n        const selection = editor.model.document.selection;\n        const isForward = !domEventData.shiftKey;\n        let tableCell = tableUtils.getTableCellsContainingSelection(selection)[0];\n        if (!tableCell) {\n            tableCell = tableSelection.getFocusCell();\n        }\n        if (!tableCell) {\n            return;\n        }\n        domEventData.preventDefault();\n        domEventData.stopPropagation();\n        bubblingEventInfo.stop();\n        const tableRow = tableCell.parent;\n        const table = tableRow.parent;\n        const currentRowIndex = table.getChildIndex(tableRow);\n        const currentCellIndex = tableRow.getChildIndex(tableCell);\n        const isFirstCellInRow = currentCellIndex === 0;\n        if (!isForward && isFirstCellInRow && currentRowIndex === 0) {\n            // Set the selection over the whole table if the selection was in the first table cell.\n            editor.model.change(writer => {\n                writer.setSelection(writer.createRangeOn(table));\n            });\n            return;\n        }\n        const isLastCellInRow = currentCellIndex === tableRow.childCount - 1;\n        const isLastRow = currentRowIndex === tableUtils.getRows(table) - 1;\n        if (isForward && isLastRow && isLastCellInRow) {\n            editor.execute('insertTableRowBelow');\n            // Check if the command actually added a row. If `insertTableRowBelow` execution didn't add a row (because it was disabled\n            // or it got overwritten) set the selection over the whole table to mirror the first cell case.\n            if (currentRowIndex === tableUtils.getRows(table) - 1) {\n                editor.model.change(writer => {\n                    writer.setSelection(writer.createRangeOn(table));\n                });\n                return;\n            }\n        }\n        let cellToFocus;\n        // Move to the first cell in the next row.\n        if (isForward && isLastCellInRow) {\n            const nextRow = table.getChild(currentRowIndex + 1);\n            cellToFocus = nextRow.getChild(0);\n        }\n        // Move to the last cell in the previous row.\n        else if (!isForward && isFirstCellInRow) {\n            const previousRow = table.getChild(currentRowIndex - 1);\n            cellToFocus = previousRow.getChild(previousRow.childCount - 1);\n        }\n        // Move to the next/previous cell.\n        else {\n            cellToFocus = tableRow.getChild(currentCellIndex + (isForward ? 1 : -1));\n        }\n        editor.model.change(writer => {\n            writer.setSelection(writer.createRangeIn(cellToFocus));\n        });\n    }\n    /**\n     * Handles {@link module:engine/view/document~Document#event:keydown keydown} events.\n     */\n    _onArrowKey(eventInfo, domEventData) {\n        const editor = this.editor;\n        const keyCode = domEventData.keyCode;\n        const direction = getLocalizedArrowKeyCodeDirection(keyCode, editor.locale.contentLanguageDirection);\n        const wasHandled = this._handleArrowKeys(direction, domEventData.shiftKey);\n        if (wasHandled) {\n            domEventData.preventDefault();\n            domEventData.stopPropagation();\n            eventInfo.stop();\n        }\n    }\n    /**\n     * Handles arrow keys to move the selection around the table.\n     *\n     * @param direction The direction of the arrow key.\n     * @param expandSelection If the current selection should be expanded.\n     * @returns Returns `true` if key was handled.\n     */\n    _handleArrowKeys(direction, expandSelection) {\n        const tableUtils = this.editor.plugins.get(TableUtils);\n        const tableSelection = this.editor.plugins.get('TableSelection');\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        const isForward = ['right', 'down'].includes(direction);\n        // In case one or more table cells are selected (from outside),\n        // move the selection to a cell adjacent to the selected table fragment.\n        const selectedCells = tableUtils.getSelectedTableCells(selection);\n        if (selectedCells.length) {\n            let focusCell;\n            if (expandSelection) {\n                focusCell = tableSelection.getFocusCell();\n            }\n            else {\n                focusCell = isForward ? selectedCells[selectedCells.length - 1] : selectedCells[0];\n            }\n            this._navigateFromCellInDirection(focusCell, direction, expandSelection);\n            return true;\n        }\n        // Abort if we're not in a table cell.\n        const tableCell = selection.focus.findAncestor('tableCell');\n        /* istanbul ignore if: paranoid check -- @preserve */\n        if (!tableCell) {\n            return false;\n        }\n        // When the selection is not collapsed.\n        if (!selection.isCollapsed) {\n            if (expandSelection) {\n                // Navigation is in the opposite direction than the selection direction so this is shrinking of the selection.\n                // Selection for sure will not approach cell edge.\n                //\n                // With a special case when all cell content is selected - then selection should expand to the other cell.\n                // Note: When the entire cell gets selected using CTRL+A, the selection is always forward.\n                if (selection.isBackward == isForward && !selection.containsEntireContent(tableCell)) {\n                    return false;\n                }\n            }\n            else {\n                const selectedElement = selection.getSelectedElement();\n                // It will collapse for non-object selected so it's not going to move to other cell.\n                if (!selectedElement || !model.schema.isObject(selectedElement)) {\n                    return false;\n                }\n            }\n        }\n        // Let's check if the selection is at the beginning/end of the cell.\n        if (this._isSelectionAtCellEdge(selection, tableCell, isForward)) {\n            this._navigateFromCellInDirection(tableCell, direction, expandSelection);\n            return true;\n        }\n        return false;\n    }\n    /**\n     * Returns `true` if the selection is at the boundary of a table cell according to the navigation direction.\n     *\n     * @param selection The current selection.\n     * @param tableCell The current table cell element.\n     * @param isForward The expected navigation direction.\n     */\n    _isSelectionAtCellEdge(selection, tableCell, isForward) {\n        const model = this.editor.model;\n        const schema = this.editor.model.schema;\n        const focus = isForward ? selection.getLastPosition() : selection.getFirstPosition();\n        // If the current limit element is not table cell we are for sure not at the cell edge.\n        // Also `modifySelection` will not let us out of it.\n        if (!schema.getLimitElement(focus).is('element', 'tableCell')) {\n            const boundaryPosition = model.createPositionAt(tableCell, isForward ? 'end' : 0);\n            return boundaryPosition.isTouching(focus);\n        }\n        const probe = model.createSelection(focus);\n        model.modifySelection(probe, { direction: isForward ? 'forward' : 'backward' });\n        // If there was no change in the focus position, then it's not possible to move the selection there.\n        return focus.isEqual(probe.focus);\n    }\n    /**\n     * Moves the selection from the given table cell in the specified direction.\n     *\n     * @param focusCell The table cell that is current multi-cell selection focus.\n     * @param direction Direction in which selection should move.\n     * @param expandSelection If the current selection should be expanded. Default value is false.\n     */\n    _navigateFromCellInDirection(focusCell, direction, expandSelection = false) {\n        const model = this.editor.model;\n        const table = focusCell.findAncestor('table');\n        const tableMap = [...new TableWalker(table, { includeAllSlots: true })];\n        const { row: lastRow, column: lastColumn } = tableMap[tableMap.length - 1];\n        const currentCellInfo = tableMap.find(({ cell }) => cell == focusCell);\n        let { row, column } = currentCellInfo;\n        switch (direction) {\n            case 'left':\n                column--;\n                break;\n            case 'up':\n                row--;\n                break;\n            case 'right':\n                column += currentCellInfo.cellWidth;\n                break;\n            case 'down':\n                row += currentCellInfo.cellHeight;\n                break;\n        }\n        const isOutsideVertically = row < 0 || row > lastRow;\n        const isBeforeFirstCell = column < 0 && row <= 0;\n        const isAfterLastCell = column > lastColumn && row >= lastRow;\n        // Note that if the table cell at the end of a row is row-spanned then isAfterLastCell will never be true.\n        // However, we don't know if user was navigating on the last row or not, so let's stay in the table.\n        if (isOutsideVertically || isBeforeFirstCell || isAfterLastCell) {\n            model.change(writer => {\n                writer.setSelection(writer.createRangeOn(table));\n            });\n            return;\n        }\n        if (column < 0) {\n            column = expandSelection ? 0 : lastColumn;\n            row--;\n        }\n        else if (column > lastColumn) {\n            column = expandSelection ? lastColumn : 0;\n            row++;\n        }\n        const cellToSelect = tableMap.find(cellInfo => cellInfo.row == row && cellInfo.column == column).cell;\n        const isForward = ['right', 'down'].includes(direction);\n        const tableSelection = this.editor.plugins.get('TableSelection');\n        if (expandSelection && tableSelection.isEnabled) {\n            const anchorCell = tableSelection.getAnchorCell() || focusCell;\n            tableSelection.setCellSelection(anchorCell, cellToSelect);\n        }\n        else {\n            const positionToSelect = model.createPositionAt(cellToSelect, isForward ? 0 : 'end');\n            model.change(writer => {\n                writer.setSelection(positionToSelect);\n            });\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/tablemouse/mouseeventsobserver\n */\nimport { DomEventObserver } from 'ckeditor5/src/engine.js';\n/**\n * The mouse selection event observer.\n *\n * It registers listeners for the following DOM events:\n *\n * - `'mousemove'`\n * - `'mouseleave'`\n *\n * Note that this observer is disabled by default. To enable this observer, it needs to be added to\n * {@link module:engine/view/view~View} using the {@link module:engine/view/view~View#addObserver} method.\n *\n * The observer is registered by the {@link module:table/tableselection~TableSelection} plugin.\n */\nexport default class MouseEventsObserver extends DomEventObserver {\n    domEventType = [\n        'mousemove', 'mouseleave'\n    ];\n    /**\n     * @inheritDoc\n     */\n    onDomEvent(domEvent) {\n        this.fire(domEvent.type, domEvent);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/tablemouse\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport TableSelection from './tableselection.js';\nimport MouseEventsObserver from './tablemouse/mouseeventsobserver.js';\nimport TableUtils from './tableutils.js';\n/**\n * This plugin enables a table cells' selection with the mouse.\n * It is loaded automatically by the {@link module:table/table~Table} plugin.\n */\nexport default class TableMouse extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TableMouse';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [TableSelection, TableUtils];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        // Currently the MouseObserver only handles `mousedown` and `mouseup` events.\n        // TODO move to the engine?\n        editor.editing.view.addObserver(MouseEventsObserver);\n        this._enableShiftClickSelection();\n        this._enableMouseDragSelection();\n    }\n    /**\n     * Enables making cells selection by <kbd>Shift</kbd>+click. Creates a selection from the cell which previously held\n     * the selection to the cell which was clicked. It can be the same cell, in which case it selects a single cell.\n     */\n    _enableShiftClickSelection() {\n        const editor = this.editor;\n        const tableUtils = editor.plugins.get(TableUtils);\n        let blockSelectionChange = false;\n        const tableSelection = editor.plugins.get(TableSelection);\n        this.listenTo(editor.editing.view.document, 'mousedown', (evt, domEventData) => {\n            const selection = editor.model.document.selection;\n            if (!this.isEnabled || !tableSelection.isEnabled) {\n                return;\n            }\n            if (!domEventData.domEvent.shiftKey) {\n                return;\n            }\n            const anchorCell = tableSelection.getAnchorCell() || tableUtils.getTableCellsContainingSelection(selection)[0];\n            if (!anchorCell) {\n                return;\n            }\n            const targetCell = this._getModelTableCellFromDomEvent(domEventData);\n            if (targetCell && haveSameTableParent(anchorCell, targetCell)) {\n                blockSelectionChange = true;\n                tableSelection.setCellSelection(anchorCell, targetCell);\n                domEventData.preventDefault();\n            }\n        });\n        this.listenTo(editor.editing.view.document, 'mouseup', () => {\n            blockSelectionChange = false;\n        });\n        // We need to ignore a `selectionChange` event that is fired after we render our new table cells selection.\n        // When downcasting table cells selection to the view, we put the view selection in the last selected cell\n        // in a place that may not be natively a \"correct\" location. This is – we put it directly in the `<td>` element.\n        // All browsers fire the native `selectionchange` event.\n        // However, all browsers except Safari return the selection in the exact place where we put it\n        // (even though it's visually normalized). Safari returns `<td><p>^foo` that makes our selection observer\n        // fire our `selectionChange` event (because the view selection that we set in the first step differs from the DOM selection).\n        // Since `selectionChange` is fired, we automatically update the model selection that moves it that paragraph.\n        // This breaks our dear cells selection.\n        //\n        // Theoretically this issue concerns only Safari that is the only browser that do normalize the selection.\n        // However, to avoid code branching and to have a good coverage for this event blocker, I enabled it for all browsers.\n        //\n        // Note: I'm keeping the `blockSelectionChange` state separately for shift+click and mouse drag (exact same logic)\n        // so I don't have to try to analyze whether they don't overlap in some weird cases. Probably they don't.\n        // But I have other things to do, like writing this comment.\n        this.listenTo(editor.editing.view.document, 'selectionChange', evt => {\n            if (blockSelectionChange) {\n                // @if CK_DEBUG // console.log( 'Blocked selectionChange to avoid breaking table cells selection.' );\n                evt.stop();\n            }\n        }, { priority: 'highest' });\n    }\n    /**\n     * Enables making cells selection by dragging.\n     *\n     * The selection is made only on mousemove. Mouse tracking is started on mousedown.\n     * However, the cells selection is enabled only after the mouse cursor left the anchor cell.\n     * Thanks to that normal text selection within one cell works just fine. However, you can still select\n     * just one cell by leaving the anchor cell and moving back to it.\n     */\n    _enableMouseDragSelection() {\n        const editor = this.editor;\n        let anchorCell, targetCell;\n        let beganCellSelection = false;\n        let blockSelectionChange = false;\n        const tableSelection = editor.plugins.get(TableSelection);\n        this.listenTo(editor.editing.view.document, 'mousedown', (evt, domEventData) => {\n            if (!this.isEnabled || !tableSelection.isEnabled) {\n                return;\n            }\n            // Make sure to not conflict with the shift+click listener and any other possible handler.\n            if (domEventData.domEvent.shiftKey || domEventData.domEvent.ctrlKey || domEventData.domEvent.altKey) {\n                return;\n            }\n            anchorCell = this._getModelTableCellFromDomEvent(domEventData);\n        });\n        this.listenTo(editor.editing.view.document, 'mousemove', (evt, domEventData) => {\n            if (!domEventData.domEvent.buttons) {\n                return;\n            }\n            if (!anchorCell) {\n                return;\n            }\n            const newTargetCell = this._getModelTableCellFromDomEvent(domEventData);\n            if (newTargetCell && haveSameTableParent(anchorCell, newTargetCell)) {\n                targetCell = newTargetCell;\n                // Switch to the cell selection mode after the mouse cursor left the anchor cell.\n                // Switch off only on mouseup (makes selecting a single cell possible).\n                if (!beganCellSelection && targetCell != anchorCell) {\n                    beganCellSelection = true;\n                }\n            }\n            // Yep, not making a cell selection yet. See method docs.\n            if (!beganCellSelection) {\n                return;\n            }\n            blockSelectionChange = true;\n            tableSelection.setCellSelection(anchorCell, targetCell);\n            domEventData.preventDefault();\n        });\n        this.listenTo(editor.editing.view.document, 'mouseup', () => {\n            beganCellSelection = false;\n            blockSelectionChange = false;\n            anchorCell = null;\n            targetCell = null;\n        });\n        // See the explanation in `_enableShiftClickSelection()`.\n        this.listenTo(editor.editing.view.document, 'selectionChange', evt => {\n            if (blockSelectionChange) {\n                // @if CK_DEBUG // console.log( 'Blocked selectionChange to avoid breaking table cells selection.' );\n                evt.stop();\n            }\n        }, { priority: 'highest' });\n    }\n    /**\n     * Returns the model table cell element based on the target element of the passed DOM event.\n     *\n     * @returns Returns the table cell or `undefined`.\n     */\n    _getModelTableCellFromDomEvent(domEventData) {\n        // Note: Work with positions (not element mapping) because the target element can be an attribute or other non-mapped element.\n        const viewTargetElement = domEventData.target;\n        const viewPosition = this.editor.editing.view.createPositionAt(viewTargetElement, 0);\n        const modelPosition = this.editor.editing.mapper.toModelPosition(viewPosition);\n        const modelElement = modelPosition.parent;\n        return modelElement.findAncestor('tableCell', { includeSelf: true });\n    }\n}\nfunction haveSameTableParent(cellA, cellB) {\n    return cellA.parent.parent == cellB.parent.parent;\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./table.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/table\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Widget } from 'ckeditor5/src/widget.js';\nimport TableEditing from './tableediting.js';\nimport TableUI from './tableui.js';\nimport TableSelection from './tableselection.js';\nimport TableClipboard from './tableclipboard.js';\nimport TableKeyboard from './tablekeyboard.js';\nimport TableMouse from './tablemouse.js';\nimport '../theme/table.css';\n/**\n * The table plugin.\n *\n * For a detailed overview, check the {@glink features/tables/tables Table feature documentation}.\n *\n * This is a \"glue\" plugin that loads the following table features:\n *\n * * {@link module:table/tableediting~TableEditing editing feature},\n * * {@link module:table/tableselection~TableSelection selection feature},\n * * {@link module:table/tablekeyboard~TableKeyboard keyboard navigation feature},\n * * {@link module:table/tablemouse~TableMouse mouse selection feature},\n * * {@link module:table/tableclipboard~TableClipboard clipboard feature},\n * * {@link module:table/tableui~TableUI UI feature}.\n */\nexport default class Table extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [TableEditing, TableUI, TableSelection, TableMouse, TableKeyboard, TableClipboard, Widget];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'Table';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { isWidget } from 'ckeditor5/src/widget.js';\n/**\n * Depending on the position of the selection either return the selected table or the table higher in the hierarchy.\n */\nexport function getSelectionAffectedTableWidget(selection) {\n    const selectedTable = getSelectedTableWidget(selection);\n    if (selectedTable) {\n        return selectedTable;\n    }\n    return getTableWidgetAncestor(selection);\n}\n/**\n * Returns a table widget editing view element if one is selected.\n */\nexport function getSelectedTableWidget(selection) {\n    const viewElement = selection.getSelectedElement();\n    if (viewElement && isTableWidget(viewElement)) {\n        return viewElement;\n    }\n    return null;\n}\n/**\n * Returns a table widget editing view element if one is among the selection's ancestors.\n */\nexport function getTableWidgetAncestor(selection) {\n    const selectionPosition = selection.getFirstPosition();\n    if (!selectionPosition) {\n        return null;\n    }\n    let parent = selectionPosition.parent;\n    while (parent) {\n        if (parent.is('element') && isTableWidget(parent)) {\n            return parent;\n        }\n        parent = parent.parent;\n    }\n    return null;\n}\n/**\n * Checks if a given view element is a table widget.\n */\nfunction isTableWidget(viewElement) {\n    return !!viewElement.getCustomProperty('table') && isWidget(viewElement);\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/tabletoolbar\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { WidgetToolbarRepository } from 'ckeditor5/src/widget.js';\nimport { getSelectedTableWidget, getTableWidgetAncestor } from './utils/ui/widget.js';\n/**\n * The table toolbar class. It creates toolbars for the table feature and its content (for now only for the table cell content).\n *\n * The table toolbar shows up when a table widget is selected. Its components (e.g. buttons) are created based on the\n * {@link module:table/tableconfig~TableConfig#tableToolbar `table.tableToolbar` configuration option}.\n *\n * Table content toolbar shows up when the selection is inside the content of a table. It creates its component based on the\n * {@link module:table/tableconfig~TableConfig#contentToolbar `table.contentToolbar` configuration option}.\n */\nexport default class TableToolbar extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [WidgetToolbarRepository];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TableToolbar';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    afterInit() {\n        const editor = this.editor;\n        const t = editor.t;\n        const widgetToolbarRepository = editor.plugins.get(WidgetToolbarRepository);\n        const tableContentToolbarItems = editor.config.get('table.contentToolbar');\n        const tableToolbarItems = editor.config.get('table.tableToolbar');\n        if (tableContentToolbarItems) {\n            widgetToolbarRepository.register('tableContent', {\n                ariaLabel: t('Table toolbar'),\n                items: tableContentToolbarItems,\n                getRelatedElement: getTableWidgetAncestor\n            });\n        }\n        if (tableToolbarItems) {\n            widgetToolbarRepository.register('table', {\n                ariaLabel: t('Table toolbar'),\n                items: tableToolbarItems,\n                getRelatedElement: getSelectedTableWidget\n            });\n        }\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./colorinput.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/ui/colorinputview\n */\nimport { View, InputTextView, createDropdown, FocusCycler, ViewCollection, ColorSelectorView } from 'ckeditor5/src/ui.js';\nimport { FocusTracker, KeystrokeHandler } from 'ckeditor5/src/utils.js';\nimport '../../theme/colorinput.css';\n/**\n * The color input view class. It allows the user to type in a color (hex, rgb, etc.)\n * or choose it from the configurable color palette with a preview.\n *\n * @internal\n */\nexport default class ColorInputView extends View {\n    /**\n     * A cached reference to the options passed to the constructor.\n     */\n    options;\n    /**\n     * Tracks information about the DOM focus in the view.\n     */\n    focusTracker;\n    /**\n     * Helps cycling over focusable children in the input view.\n     */\n    focusCycler;\n    /**\n     * A collection of views that can be focused in the view.\n     */\n    _focusables;\n    /**\n     * An instance of the dropdown allowing to select a color from a grid.\n     */\n    dropdownView;\n    /**\n     * An instance of the input allowing the user to type a color value.\n     */\n    inputView;\n    /**\n     * An instance of the {@link module:utils/keystrokehandler~KeystrokeHandler}.\n     */\n    keystrokes;\n    /**\n     * The flag that indicates whether the user is still typing.\n     * If set to true, it means that the text input field ({@link #inputView}) still has the focus.\n     * So, we should interrupt the user by replacing the input's value.\n     */\n    _stillTyping;\n    /**\n     * Creates an instance of the color input view.\n     *\n     * @param locale The locale instance.\n     * @param options The input options.\n     * @param options.colorDefinitions The colors to be displayed in the palette inside the input's dropdown.\n     * @param options.columns The number of columns in which the colors will be displayed.\n     * @param options.defaultColorValue If specified, the color input view will replace the \"Remove color\" button with\n     * the \"Restore default\" button. Instead of clearing the input field, the default color value will be set.\n     */\n    constructor(locale, options) {\n        super(locale);\n        this.set('value', '');\n        this.set('isReadOnly', false);\n        this.set('isFocused', false);\n        this.set('isEmpty', true);\n        this.options = options;\n        this.focusTracker = new FocusTracker();\n        this._focusables = new ViewCollection();\n        this.dropdownView = this._createDropdownView();\n        this.inputView = this._createInputTextView();\n        this.keystrokes = new KeystrokeHandler();\n        this._stillTyping = false;\n        this.focusCycler = new FocusCycler({\n            focusables: this._focusables,\n            focusTracker: this.focusTracker,\n            keystrokeHandler: this.keystrokes,\n            actions: {\n                // Navigate items backwards using the <kbd>Shift</kbd> + <kbd>Tab</kbd> keystroke.\n                focusPrevious: 'shift + tab',\n                // Navigate items forwards using the <kbd>Tab</kbd> key.\n                focusNext: 'tab'\n            }\n        });\n        this.setTemplate({\n            tag: 'div',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-input-color'\n                ]\n            },\n            children: [\n                this.dropdownView,\n                this.inputView\n            ]\n        });\n        this.on('change:value', (evt, name, inputValue) => this._setInputValue(inputValue));\n    }\n    /**\n     * @inheritDoc\n     */\n    render() {\n        super.render();\n        [this.inputView, this.dropdownView.buttonView].forEach(view => {\n            this.focusTracker.add(view.element);\n            this._focusables.add(view);\n        });\n        this.keystrokes.listenTo(this.element);\n    }\n    /**\n     * Focuses the view.\n     */\n    focus(direction) {\n        if (direction === -1) {\n            this.focusCycler.focusLast();\n        }\n        else {\n            this.focusCycler.focusFirst();\n        }\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        super.destroy();\n        this.focusTracker.destroy();\n        this.keystrokes.destroy();\n    }\n    /**\n     * Creates and configures the {@link #dropdownView}.\n     */\n    _createDropdownView() {\n        const locale = this.locale;\n        const t = locale.t;\n        const bind = this.bindTemplate;\n        const colorSelector = this._createColorSelector(locale);\n        const dropdown = createDropdown(locale);\n        const colorPreview = new View();\n        colorPreview.setTemplate({\n            tag: 'span',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-input-color__button__preview'\n                ],\n                style: {\n                    backgroundColor: bind.to('value')\n                }\n            },\n            children: [{\n                    tag: 'span',\n                    attributes: {\n                        class: [\n                            'ck',\n                            'ck-input-color__button__preview__no-color-indicator',\n                            bind.if('value', 'ck-hidden', value => value != '')\n                        ]\n                    }\n                }]\n        });\n        dropdown.buttonView.extendTemplate({\n            attributes: {\n                class: 'ck-input-color__button'\n            }\n        });\n        dropdown.buttonView.children.add(colorPreview);\n        dropdown.buttonView.label = t('Color picker');\n        dropdown.buttonView.tooltip = true;\n        dropdown.panelPosition = locale.uiLanguageDirection === 'rtl' ? 'se' : 'sw';\n        dropdown.panelView.children.add(colorSelector);\n        dropdown.bind('isEnabled').to(this, 'isReadOnly', value => !value);\n        dropdown.on('change:isOpen', (evt, name, isVisible) => {\n            if (isVisible) {\n                colorSelector.updateSelectedColors();\n                colorSelector.showColorGridsFragment();\n            }\n        });\n        return dropdown;\n    }\n    /**\n     * Creates and configures an instance of {@link module:ui/inputtext/inputtextview~InputTextView}.\n     *\n     * @returns A configured instance to be set as {@link #inputView}.\n     */\n    _createInputTextView() {\n        const locale = this.locale;\n        const inputView = new InputTextView(locale);\n        inputView.extendTemplate({\n            on: {\n                blur: inputView.bindTemplate.to('blur')\n            }\n        });\n        inputView.value = this.value;\n        inputView.bind('isReadOnly', 'hasError').to(this);\n        this.bind('isFocused', 'isEmpty').to(inputView);\n        inputView.on('input', () => {\n            const inputValue = inputView.element.value;\n            // Check if the value matches one of our defined colors' label.\n            const mappedColor = this.options.colorDefinitions.find(def => inputValue === def.label);\n            this._stillTyping = true;\n            this.value = mappedColor && mappedColor.color || inputValue;\n        });\n        inputView.on('blur', () => {\n            this._stillTyping = false;\n            this._setInputValue(inputView.element.value);\n        });\n        inputView.delegate('input').to(this);\n        return inputView;\n    }\n    /**\n     * Creates and configures the panel with \"color grid\" and \"color picker\" inside the {@link #dropdownView}.\n     */\n    _createColorSelector(locale) {\n        const t = locale.t;\n        const defaultColor = this.options.defaultColorValue || '';\n        const removeColorButtonLabel = defaultColor ? t('Restore default') : t('Remove color');\n        const colorSelector = new ColorSelectorView(locale, {\n            colors: this.options.colorDefinitions,\n            columns: this.options.columns,\n            removeButtonLabel: removeColorButtonLabel,\n            colorPickerLabel: t('Color picker'),\n            colorPickerViewConfig: this.options.colorPickerConfig === false ? false : {\n                ...this.options.colorPickerConfig,\n                hideInput: true\n            }\n        });\n        colorSelector.appendUI();\n        colorSelector.on('execute', (evt, data) => {\n            if (data.source === 'colorPickerSaveButton') {\n                this.dropdownView.isOpen = false;\n                return;\n            }\n            this.value = data.value || defaultColor;\n            // Trigger the listener that actually applies the set value.\n            this.fire('input');\n            if (data.source !== 'colorPicker') {\n                this.dropdownView.isOpen = false;\n            }\n        });\n        /**\n         * Color is saved before changes in color picker. In case \"cancel button\" is pressed\n         * this color will be applied.\n         */\n        let backupColor = this.value;\n        colorSelector.on('colorPicker:cancel', () => {\n            /**\n             * Revert color to previous value before changes in color picker.\n             */\n            this.value = backupColor;\n            this.fire('input');\n            this.dropdownView.isOpen = false;\n        });\n        colorSelector.colorGridsFragmentView.colorPickerButtonView.on('execute', () => {\n            /**\n             * Save color value before changes in color picker.\n             */\n            backupColor = this.value;\n        });\n        colorSelector.bind('selectedColor').to(this, 'value');\n        return colorSelector;\n    }\n    /**\n     * Sets {@link #inputView}'s value property to the color value or color label,\n     * if there is one and the user is not typing.\n     *\n     * Handles cases like:\n     *\n     * * Someone picks the color in the grid.\n     * * The color is set from the plugin level.\n     *\n     * @param inputValue Color value to be set.\n     */\n    _setInputValue(inputValue) {\n        if (!this._stillTyping) {\n            const normalizedInputValue = normalizeColor(inputValue);\n            // Check if the value matches one of our defined colors.\n            const mappedColor = this.options.colorDefinitions.find(def => normalizedInputValue === normalizeColor(def.color));\n            if (mappedColor) {\n                this.inputView.value = mappedColor.label;\n            }\n            else {\n                this.inputView.value = inputValue || '';\n            }\n        }\n    }\n}\n/**\n * Normalizes color value, by stripping extensive whitespace.\n * For example., transforms:\n * * `   rgb(  25 50    0 )` to `rgb(25 50 0)`,\n * * \"\\t  rgb(  25 ,  50,0 )\t\t\" to `rgb(25 50 0)`.\n *\n * @param colorString The value to be normalized.\n */\nfunction normalizeColor(colorString) {\n    return colorString\n        // Remove any whitespace right after `(` or `,`.\n        .replace(/([(,])\\s+/g, '$1')\n        // Remove any whitespace at the beginning or right before the end, `)`, `,`, or another whitespace.\n        .replace(/^\\s+|\\s+(?=[),\\s]|$)/g, '')\n        // Then, replace `,` or whitespace with a single space.\n        .replace(/,|\\s/g, ' ');\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/utils/ui/table-properties\n */\nimport { ButtonView, ViewModel } from 'ckeditor5/src/ui.js';\nimport { Collection } from 'ckeditor5/src/utils.js';\nimport { isColor, isLength, isPercentage } from 'ckeditor5/src/engine.js';\nimport ColorInputView from '../../ui/colorinputview.js';\nconst isEmpty = (val) => val === '';\n/**\n * Returns an object containing pairs of CSS border style values and their localized UI\n * labels. Used by {@link module:table/tablecellproperties/ui/tablecellpropertiesview~TableCellPropertiesView}\n * and {@link module:table/tableproperties/ui/tablepropertiesview~TablePropertiesView}.\n *\n * @param t The \"t\" function provided by the editor that is used to localize strings.\n */\nexport function getBorderStyleLabels(t) {\n    return {\n        none: t('None'),\n        solid: t('Solid'),\n        dotted: t('Dotted'),\n        dashed: t('Dashed'),\n        double: t('Double'),\n        groove: t('Groove'),\n        ridge: t('Ridge'),\n        inset: t('Inset'),\n        outset: t('Outset')\n    };\n}\n/**\n * Returns a localized error string that can be displayed next to color (background, border)\n * fields that have an invalid value.\n *\n * @param t The \"t\" function provided by the editor that is used to localize strings.\n */\nexport function getLocalizedColorErrorText(t) {\n    return t('The color is invalid. Try \"#FF0000\" or \"rgb(255,0,0)\" or \"red\".');\n}\n/**\n * Returns a localized error string that can be displayed next to length (padding, border width)\n * fields that have an invalid value.\n *\n * @param t The \"t\" function provided by the editor that is used to localize strings.\n */\nexport function getLocalizedLengthErrorText(t) {\n    return t('The value is invalid. Try \"10px\" or \"2em\" or simply \"2\".');\n}\n/**\n * Returns `true` when the passed value is an empty string or a valid CSS color expression.\n * Otherwise, `false` is returned.\n *\n * See {@link module:engine/view/styles/utils~isColor}.\n */\nexport function colorFieldValidator(value) {\n    value = value.trim().toLowerCase();\n    return isEmpty(value) || isColor(value);\n}\n/**\n * Returns `true` when the passed value is an empty string, a number without a unit or a valid CSS length expression.\n * Otherwise, `false` is returned.\n *\n * See {@link module:engine/view/styles/utils~isLength}.\n * See {@link module:engine/view/styles/utils~isPercentage}.\n */\nexport function lengthFieldValidator(value) {\n    value = value.trim();\n    return isEmpty(value) || isNumberString(value) || isLength(value) || isPercentage(value);\n}\n/**\n * Returns `true` when the passed value is an empty string, a number without a unit or a valid CSS length expression.\n * Otherwise, `false` is returned.\n *\n * See {@link module:engine/view/styles/utils~isLength}.\n */\nexport function lineWidthFieldValidator(value) {\n    value = value.trim();\n    return isEmpty(value) || isNumberString(value) || isLength(value);\n}\n/**\n * Generates item definitions for a UI dropdown that allows changing the border style of a table or a table cell.\n *\n * @param defaultStyle The default border.\n */\nexport function getBorderStyleDefinitions(view, defaultStyle) {\n    const itemDefinitions = new Collection();\n    const styleLabels = getBorderStyleLabels(view.t);\n    for (const style in styleLabels) {\n        const definition = {\n            type: 'button',\n            model: new ViewModel({\n                _borderStyleValue: style,\n                label: styleLabels[style],\n                role: 'menuitemradio',\n                withText: true\n            })\n        };\n        if (style === 'none') {\n            definition.model.bind('isOn').to(view, 'borderStyle', value => {\n                if (defaultStyle === 'none') {\n                    return !value;\n                }\n                return value === style;\n            });\n        }\n        else {\n            definition.model.bind('isOn').to(view, 'borderStyle', value => {\n                return value === style;\n            });\n        }\n        itemDefinitions.add(definition);\n    }\n    return itemDefinitions;\n}\n/**\n * A helper that fills a toolbar with buttons that:\n *\n * * have some labels,\n * * have some icons,\n * * set a certain UI view property value upon execution.\n *\n * @param nameToValue A function that maps a button name to a value. By default names are the same as values.\n */\nexport function fillToolbar(options) {\n    const { view, icons, toolbar, labels, propertyName, nameToValue, defaultValue } = options;\n    for (const name in labels) {\n        const button = new ButtonView(view.locale);\n        button.set({\n            role: 'radio',\n            isToggleable: true,\n            label: labels[name],\n            icon: icons[name],\n            tooltip: labels[name]\n        });\n        // If specified the `nameToValue()` callback, map the value based on the option's name.\n        const buttonValue = nameToValue ? nameToValue(name) : name;\n        button.bind('isOn').to(view, propertyName, value => {\n            // `value` comes from `view[ propertyName ]`.\n            let valueToCompare = value;\n            // If it's empty, and the `defaultValue` is specified, use it instead.\n            if (value === '' && defaultValue) {\n                valueToCompare = defaultValue;\n            }\n            return buttonValue === valueToCompare;\n        });\n        button.on('execute', () => {\n            // Allow toggling alignment if there is no default value specified (especially for layout tables).\n            if (!defaultValue && buttonValue && view[propertyName] === buttonValue) {\n                view[propertyName] = undefined;\n            }\n            else {\n                view[propertyName] = buttonValue;\n            }\n        });\n        toolbar.items.add(button);\n    }\n}\n/**\n * A default color palette used by various user interfaces related to tables, for instance,\n * by {@link module:table/tablecellproperties/tablecellpropertiesui~TableCellPropertiesUI} or\n * {@link module:table/tableproperties/tablepropertiesui~TablePropertiesUI}.\n *\n * The color palette follows the {@link module:table/tableconfig~TableColorConfig table color configuration format}\n * and contains the following color definitions:\n *\n * ```ts\n * const defaultColors = [\n *   {\n *     color: 'hsl(0, 0%, 0%)',\n *     label: 'Black'\n *   },\n *   {\n *     color: 'hsl(0, 0%, 30%)',\n *     label: 'Dim grey'\n *   },\n *   {\n *     color: 'hsl(0, 0%, 60%)',\n *     label: 'Grey'\n *   },\n *   {\n *     color: 'hsl(0, 0%, 90%)',\n *     label: 'Light grey'\n *   },\n *   {\n *     color: 'hsl(0, 0%, 100%)',\n *     label: 'White',\n *     hasBorder: true\n *   },\n *   {\n *     color: 'hsl(0, 75%, 60%)',\n *     label: 'Red'\n *   },\n *   {\n *     color: 'hsl(30, 75%, 60%)',\n *     label: 'Orange'\n *   },\n *   {\n *     color: 'hsl(60, 75%, 60%)',\n *     label: 'Yellow'\n *   },\n *   {\n *     color: 'hsl(90, 75%, 60%)',\n *     label: 'Light green'\n *   },\n *   {\n *     color: 'hsl(120, 75%, 60%)',\n *     label: 'Green'\n *   },\n *   {\n *     color: 'hsl(150, 75%, 60%)',\n *     label: 'Aquamarine'\n *   },\n *   {\n *     color: 'hsl(180, 75%, 60%)',\n *     label: 'Turquoise'\n *   },\n *   {\n *     color: 'hsl(210, 75%, 60%)',\n *     label: 'Light blue'\n *   },\n *   {\n *     color: 'hsl(240, 75%, 60%)',\n *     label: 'Blue'\n *   },\n *   {\n *     color: 'hsl(270, 75%, 60%)',\n *     label: 'Purple'\n *   }\n * ];\n * ```\n */\nexport const defaultColors = [\n    {\n        color: 'hsl(0, 0%, 0%)',\n        label: 'Black'\n    },\n    {\n        color: 'hsl(0, 0%, 30%)',\n        label: 'Dim grey'\n    },\n    {\n        color: 'hsl(0, 0%, 60%)',\n        label: 'Grey'\n    },\n    {\n        color: 'hsl(0, 0%, 90%)',\n        label: 'Light grey'\n    },\n    {\n        color: 'hsl(0, 0%, 100%)',\n        label: 'White',\n        hasBorder: true\n    },\n    {\n        color: 'hsl(0, 75%, 60%)',\n        label: 'Red'\n    },\n    {\n        color: 'hsl(30, 75%, 60%)',\n        label: 'Orange'\n    },\n    {\n        color: 'hsl(60, 75%, 60%)',\n        label: 'Yellow'\n    },\n    {\n        color: 'hsl(90, 75%, 60%)',\n        label: 'Light green'\n    },\n    {\n        color: 'hsl(120, 75%, 60%)',\n        label: 'Green'\n    },\n    {\n        color: 'hsl(150, 75%, 60%)',\n        label: 'Aquamarine'\n    },\n    {\n        color: 'hsl(180, 75%, 60%)',\n        label: 'Turquoise'\n    },\n    {\n        color: 'hsl(210, 75%, 60%)',\n        label: 'Light blue'\n    },\n    {\n        color: 'hsl(240, 75%, 60%)',\n        label: 'Blue'\n    },\n    {\n        color: 'hsl(270, 75%, 60%)',\n        label: 'Purple'\n    }\n];\n/**\n * Returns a creator for a color input with a label.\n *\n * For given options, it returns a function that creates an instance of a\n * {@link module:table/ui/colorinputview~ColorInputView color input} logically related to\n * a {@link module:ui/labeledfield/labeledfieldview~LabeledFieldView labeled view} in the DOM.\n *\n * The helper does the following:\n *\n * * It sets the color input `id` and `ariaDescribedById` attributes.\n * * It binds the color input `isReadOnly` to the labeled view.\n * * It binds the color input `hasError` to the labeled view.\n * * It enables a logic that cleans up the error when the user starts typing in the color input.\n *\n * Usage:\n *\n * ```ts\n * const colorInputCreator = getLabeledColorInputCreator( {\n *   colorConfig: [ ... ],\n *   columns: 3,\n * } );\n *\n * const labeledInputView = new LabeledFieldView( locale, colorInputCreator );\n * console.log( labeledInputView.view ); // A color input instance.\n * ```\n *\n * @internal\n * @param options Color input options.\n * @param options.colorConfig The configuration of the color palette displayed in the input's dropdown.\n * @param options.columns The configuration of the number of columns the color palette consists of in the input's dropdown.\n * @param options.defaultColorValue If specified, the color input view will replace the \"Remove color\" button with\n * the \"Restore default\" button. Instead of clearing the input field, the default color value will be set.\n * @param options.colorPickerConfig The configuration of the color picker. You could disable it or define your output format.\n */\nexport function getLabeledColorInputCreator(options) {\n    return (labeledFieldView, viewUid, statusUid) => {\n        const colorInputView = new ColorInputView(labeledFieldView.locale, {\n            colorDefinitions: colorConfigToColorGridDefinitions(options.colorConfig),\n            columns: options.columns,\n            defaultColorValue: options.defaultColorValue,\n            colorPickerConfig: options.colorPickerConfig\n        });\n        colorInputView.inputView.set({\n            id: viewUid,\n            ariaDescribedById: statusUid\n        });\n        colorInputView.bind('isReadOnly').to(labeledFieldView, 'isEnabled', value => !value);\n        colorInputView.bind('hasError').to(labeledFieldView, 'errorText', value => !!value);\n        colorInputView.on('input', () => {\n            // UX: Make the error text disappear and disable the error indicator as the user\n            // starts fixing the errors.\n            labeledFieldView.errorText = null;\n        });\n        labeledFieldView.bind('isEmpty', 'isFocused').to(colorInputView);\n        return colorInputView;\n    };\n}\n/**\n * A simple helper method to detect number strings.\n * I allows full number notation, so omitting 0 is not allowed:\n */\nfunction isNumberString(value) {\n    const parsedValue = parseFloat(value);\n    return !Number.isNaN(parsedValue) && value === String(parsedValue);\n}\nfunction colorConfigToColorGridDefinitions(colorConfig) {\n    return colorConfig.map(item => ({\n        color: item.model,\n        label: item.label,\n        options: {\n            hasBorder: item.hasBorder\n        }\n    }));\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./formrow.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./tableform.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./tablecellproperties.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/tablecellproperties/ui/tablecellpropertiesview\n */\nimport { addListToDropdown, ButtonView, createLabeledDropdown, createLabeledInputText, FocusCycler, FormRowView, FormHeaderView, LabeledFieldView, LabelView, submitHandler, ToolbarView, View, ViewCollection } from 'ckeditor5/src/ui.js';\nimport { KeystrokeHandler, FocusTracker } from 'ckeditor5/src/utils.js';\nimport { IconAlignBottom, IconAlignCenter, IconAlignJustify, IconAlignLeft, IconAlignMiddle, IconAlignRight, IconAlignTop, IconCancel, IconCheck } from 'ckeditor5/src/icons.js';\nimport { fillToolbar, getBorderStyleDefinitions, getBorderStyleLabels, getLabeledColorInputCreator } from '../../utils/ui/table-properties.js';\n// eslint-disable-next-line ckeditor5-rules/ckeditor-imports\nimport '@ckeditor/ckeditor5-ui/theme/components/form/form.css';\nimport '../../../theme/formrow.css';\nimport '../../../theme/tableform.css';\nimport '../../../theme/tablecellproperties.css';\n/**\n * The class representing a table cell properties form, allowing users to customize\n * certain style aspects of a table cell, for instance, border, padding, text alignment, etc..\n */\nexport default class TableCellPropertiesView extends View {\n    /**\n     * Options passed to the view. See {@link #constructor} to learn more.\n     */\n    options;\n    /**\n     * Tracks information about the DOM focus in the form.\n     */\n    focusTracker;\n    /**\n     * An instance of the {@link module:utils/keystrokehandler~KeystrokeHandler}.\n     */\n    keystrokes;\n    /**\n     * A collection of child views in the form.\n     */\n    children;\n    /**\n     * A dropdown that allows selecting the style of the table cell border.\n     */\n    borderStyleDropdown;\n    /**\n     * An input that allows specifying the width of the table cell border.\n     */\n    borderWidthInput;\n    /**\n     * An input that allows specifying the color of the table cell border.\n     */\n    borderColorInput;\n    /**\n     * An input that allows specifying the table cell background color.\n     */\n    backgroundInput;\n    /**\n     * An input that allows specifying the table cell padding.\n     */\n    paddingInput;\n    /**\n     * An input that allows specifying the table cell width.\n     */\n    widthInput;\n    /**\n     * An input that allows specifying the table cell height.\n     */\n    heightInput;\n    /**\n     * A toolbar with buttons that allow changing the horizontal text alignment in a table cell.\n     */\n    horizontalAlignmentToolbar;\n    /**\n     * A toolbar with buttons that allow changing the vertical text alignment in a table cell.\n     */\n    verticalAlignmentToolbar;\n    /**\n     * The \"Save\" button view.\n     */\n    saveButtonView;\n    /**\n     * The \"Cancel\" button view.\n     */\n    cancelButtonView;\n    /**\n     * A collection of views that can be focused in the form.\n     */\n    _focusables;\n    /**\n     * Helps cycling over {@link #_focusables} in the form.\n     */\n    _focusCycler;\n    /**\n     * @param locale The {@link module:core/editor/editor~Editor#locale} instance.\n     * @param options Additional configuration of the view.\n     * @param options.borderColors A configuration of the border color palette used by the\n     * {@link module:table/tablecellproperties/ui/tablecellpropertiesview~TableCellPropertiesView#borderColorInput}.\n     * @param options.backgroundColors A configuration of the background color palette used by the\n     * {@link module:table/tablecellproperties/ui/tablecellpropertiesview~TableCellPropertiesView#backgroundInput}.\n     * @param options.defaultTableCellProperties The default table cell properties.\n     */\n    constructor(locale, options) {\n        super(locale);\n        this.set({\n            borderStyle: '',\n            borderWidth: '',\n            borderColor: '',\n            padding: '',\n            backgroundColor: '',\n            width: '',\n            height: '',\n            horizontalAlignment: '',\n            verticalAlignment: ''\n        });\n        this.options = options;\n        const { borderStyleDropdown, borderWidthInput, borderColorInput, borderRowLabel } = this._createBorderFields();\n        const { backgroundRowLabel, backgroundInput } = this._createBackgroundFields();\n        const { widthInput, operatorLabel, heightInput, dimensionsLabel } = this._createDimensionFields();\n        const { horizontalAlignmentToolbar, verticalAlignmentToolbar, alignmentLabel } = this._createAlignmentFields();\n        this.focusTracker = new FocusTracker();\n        this.keystrokes = new KeystrokeHandler();\n        this.children = this.createCollection();\n        this.borderStyleDropdown = borderStyleDropdown;\n        this.borderWidthInput = borderWidthInput;\n        this.borderColorInput = borderColorInput;\n        this.backgroundInput = backgroundInput;\n        this.paddingInput = this._createPaddingField();\n        this.widthInput = widthInput;\n        this.heightInput = heightInput;\n        this.horizontalAlignmentToolbar = horizontalAlignmentToolbar;\n        this.verticalAlignmentToolbar = verticalAlignmentToolbar;\n        // Defer creating to make sure other fields are present and the Save button can\n        // bind its #isEnabled to their error messages so there's no way to save unless all\n        // fields are valid.\n        const { saveButtonView, cancelButtonView } = this._createActionButtons();\n        this.saveButtonView = saveButtonView;\n        this.cancelButtonView = cancelButtonView;\n        this._focusables = new ViewCollection();\n        this._focusCycler = new FocusCycler({\n            focusables: this._focusables,\n            focusTracker: this.focusTracker,\n            keystrokeHandler: this.keystrokes,\n            actions: {\n                // Navigate form fields backwards using the Shift + Tab keystroke.\n                focusPrevious: 'shift + tab',\n                // Navigate form fields forwards using the Tab key.\n                focusNext: 'tab'\n            }\n        });\n        // Form header.\n        this.children.add(new FormHeaderView(locale, {\n            label: this.t('Cell properties')\n        }));\n        // Border row.\n        this.children.add(new FormRowView(locale, {\n            labelView: borderRowLabel,\n            children: [\n                borderRowLabel,\n                borderStyleDropdown,\n                borderColorInput,\n                borderWidthInput\n            ],\n            class: 'ck-table-form__border-row'\n        }));\n        // Background.\n        this.children.add(new FormRowView(locale, {\n            labelView: backgroundRowLabel,\n            children: [\n                backgroundRowLabel,\n                backgroundInput\n            ],\n            class: 'ck-table-form__background-row'\n        }));\n        // Dimensions row and padding.\n        this.children.add(new FormRowView(locale, {\n            children: [\n                // Dimensions row.\n                new FormRowView(locale, {\n                    labelView: dimensionsLabel,\n                    children: [\n                        dimensionsLabel,\n                        widthInput,\n                        operatorLabel,\n                        heightInput\n                    ],\n                    class: 'ck-table-form__dimensions-row'\n                }),\n                // Padding row.\n                new FormRowView(locale, {\n                    children: [\n                        this.paddingInput\n                    ],\n                    class: 'ck-table-cell-properties-form__padding-row'\n                })\n            ]\n        }));\n        // Text alignment row.\n        this.children.add(new FormRowView(locale, {\n            labelView: alignmentLabel,\n            children: [\n                alignmentLabel,\n                horizontalAlignmentToolbar,\n                verticalAlignmentToolbar\n            ],\n            class: 'ck-table-cell-properties-form__alignment-row'\n        }));\n        // Action row.\n        this.children.add(new FormRowView(locale, {\n            children: [\n                this.saveButtonView,\n                this.cancelButtonView\n            ],\n            class: 'ck-table-form__action-row'\n        }));\n        this.setTemplate({\n            tag: 'form',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-form',\n                    'ck-table-form',\n                    'ck-table-cell-properties-form'\n                ],\n                // https://github.com/ckeditor/ckeditor5-link/issues/90\n                tabindex: '-1'\n            },\n            children: this.children\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    render() {\n        super.render();\n        // Enable the \"submit\" event for this view. It can be triggered by the #saveButtonView\n        // which is of the \"submit\" DOM \"type\".\n        submitHandler({\n            view: this\n        });\n        // Maintain continuous focus cycling over views that have focusable children and focus cyclers themselves.\n        [this.borderColorInput, this.backgroundInput].forEach(view => {\n            this._focusCycler.chain(view.fieldView.focusCycler);\n        });\n        [\n            this.borderStyleDropdown,\n            this.borderColorInput,\n            this.borderWidthInput,\n            this.backgroundInput,\n            this.widthInput,\n            this.heightInput,\n            this.paddingInput,\n            this.horizontalAlignmentToolbar,\n            this.verticalAlignmentToolbar,\n            this.saveButtonView,\n            this.cancelButtonView\n        ].forEach(view => {\n            // Register the view as focusable.\n            this._focusables.add(view);\n            // Register the view in the focus tracker.\n            this.focusTracker.add(view.element);\n        });\n        // Mainly for closing using \"Esc\" and navigation using \"Tab\".\n        this.keystrokes.listenTo(this.element);\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        super.destroy();\n        this.focusTracker.destroy();\n        this.keystrokes.destroy();\n    }\n    /**\n     * Focuses the fist focusable field in the form.\n     */\n    focus() {\n        this._focusCycler.focusFirst();\n    }\n    /**\n     * Creates the following form fields:\n     *\n     * * {@link #borderStyleDropdown},\n     * * {@link #borderWidthInput},\n     * * {@link #borderColorInput}.\n     */\n    _createBorderFields() {\n        const defaultTableCellProperties = this.options.defaultTableCellProperties;\n        const defaultBorder = {\n            style: defaultTableCellProperties.borderStyle,\n            width: defaultTableCellProperties.borderWidth,\n            color: defaultTableCellProperties.borderColor\n        };\n        const colorInputCreator = getLabeledColorInputCreator({\n            colorConfig: this.options.borderColors,\n            columns: 5,\n            defaultColorValue: defaultBorder.color,\n            colorPickerConfig: this.options.colorPickerConfig\n        });\n        const locale = this.locale;\n        const t = this.t;\n        const accessibleLabel = t('Style');\n        // -- Group label ---------------------------------------------\n        const borderRowLabel = new LabelView(locale);\n        borderRowLabel.text = t('Border');\n        // -- Style ---------------------------------------------------\n        const styleLabels = getBorderStyleLabels(t);\n        const borderStyleDropdown = new LabeledFieldView(locale, createLabeledDropdown);\n        borderStyleDropdown.set({\n            label: accessibleLabel,\n            class: 'ck-table-form__border-style'\n        });\n        borderStyleDropdown.fieldView.buttonView.set({\n            ariaLabel: accessibleLabel,\n            ariaLabelledBy: undefined,\n            isOn: false,\n            withText: true,\n            tooltip: accessibleLabel\n        });\n        borderStyleDropdown.fieldView.buttonView.bind('label').to(this, 'borderStyle', value => {\n            return styleLabels[value ? value : 'none'];\n        });\n        borderStyleDropdown.fieldView.on('execute', evt => {\n            this.borderStyle = evt.source._borderStyleValue;\n        });\n        borderStyleDropdown.bind('isEmpty').to(this, 'borderStyle', value => !value);\n        addListToDropdown(borderStyleDropdown.fieldView, getBorderStyleDefinitions(this, defaultBorder.style), {\n            role: 'menu',\n            ariaLabel: accessibleLabel\n        });\n        // -- Width ---------------------------------------------------\n        const borderWidthInput = new LabeledFieldView(locale, createLabeledInputText);\n        borderWidthInput.set({\n            label: t('Width'),\n            class: 'ck-table-form__border-width'\n        });\n        borderWidthInput.fieldView.bind('value').to(this, 'borderWidth');\n        borderWidthInput.bind('isEnabled').to(this, 'borderStyle', isBorderStyleSet);\n        borderWidthInput.fieldView.on('input', () => {\n            this.borderWidth = borderWidthInput.fieldView.element.value;\n        });\n        // -- Color ---------------------------------------------------\n        const borderColorInput = new LabeledFieldView(locale, colorInputCreator);\n        borderColorInput.set({\n            label: t('Color'),\n            class: 'ck-table-form__border-color'\n        });\n        borderColorInput.fieldView.bind('value').to(this, 'borderColor');\n        borderColorInput.bind('isEnabled').to(this, 'borderStyle', isBorderStyleSet);\n        borderColorInput.fieldView.on('input', () => {\n            this.borderColor = borderColorInput.fieldView.value;\n        });\n        // Reset the border color and width fields depending on the `border-style` value.\n        this.on('change:borderStyle', (evt, name, newValue, oldValue) => {\n            // When removing the border (`border-style:none`), clear the remaining `border-*` properties.\n            // See: https://github.com/ckeditor/ckeditor5/issues/6227.\n            if (!isBorderStyleSet(newValue)) {\n                this.borderColor = '';\n                this.borderWidth = '';\n            }\n            // When setting the `border-style` from `none`, set the default `border-color` and `border-width` properties.\n            if (!isBorderStyleSet(oldValue)) {\n                this.borderColor = defaultBorder.color;\n                this.borderWidth = defaultBorder.width;\n            }\n        });\n        return {\n            borderRowLabel,\n            borderStyleDropdown,\n            borderColorInput,\n            borderWidthInput\n        };\n    }\n    /**\n     * Creates the following form fields:\n     *\n     * * {@link #backgroundInput}.\n     */\n    _createBackgroundFields() {\n        const locale = this.locale;\n        const t = this.t;\n        // -- Group label ---------------------------------------------\n        const backgroundRowLabel = new LabelView(locale);\n        backgroundRowLabel.text = t('Background');\n        // -- Background color input -----------------------------------\n        const colorInputCreator = getLabeledColorInputCreator({\n            colorConfig: this.options.backgroundColors,\n            columns: 5,\n            defaultColorValue: this.options.defaultTableCellProperties.backgroundColor,\n            colorPickerConfig: this.options.colorPickerConfig\n        });\n        const backgroundInput = new LabeledFieldView(locale, colorInputCreator);\n        backgroundInput.set({\n            label: t('Color'),\n            class: 'ck-table-cell-properties-form__background'\n        });\n        backgroundInput.fieldView.bind('value').to(this, 'backgroundColor');\n        backgroundInput.fieldView.on('input', () => {\n            this.backgroundColor = backgroundInput.fieldView.value;\n        });\n        return {\n            backgroundRowLabel,\n            backgroundInput\n        };\n    }\n    /**\n     * Creates the following form fields:\n     *\n     * * {@link #widthInput}.\n     * * {@link #heightInput}.\n     */\n    _createDimensionFields() {\n        const locale = this.locale;\n        const t = this.t;\n        // -- Label ---------------------------------------------------\n        const dimensionsLabel = new LabelView(locale);\n        dimensionsLabel.text = t('Dimensions');\n        // -- Width ---------------------------------------------------\n        const widthInput = new LabeledFieldView(locale, createLabeledInputText);\n        widthInput.set({\n            label: t('Width'),\n            class: 'ck-table-form__dimensions-row__width'\n        });\n        widthInput.fieldView.bind('value').to(this, 'width');\n        widthInput.fieldView.on('input', () => {\n            this.width = widthInput.fieldView.element.value;\n        });\n        // -- Operator ---------------------------------------------------\n        const operatorLabel = new View(locale);\n        operatorLabel.setTemplate({\n            tag: 'span',\n            attributes: {\n                class: [\n                    'ck-table-form__dimension-operator'\n                ]\n            },\n            children: [\n                { text: '×' }\n            ]\n        });\n        // -- Height ---------------------------------------------------\n        const heightInput = new LabeledFieldView(locale, createLabeledInputText);\n        heightInput.set({\n            label: t('Height'),\n            class: 'ck-table-form__dimensions-row__height'\n        });\n        heightInput.fieldView.bind('value').to(this, 'height');\n        heightInput.fieldView.on('input', () => {\n            this.height = heightInput.fieldView.element.value;\n        });\n        return {\n            dimensionsLabel,\n            widthInput,\n            operatorLabel,\n            heightInput\n        };\n    }\n    /**\n     * Creates the following form fields:\n     *\n     * * {@link #paddingInput}.\n     */\n    _createPaddingField() {\n        const locale = this.locale;\n        const t = this.t;\n        const paddingInput = new LabeledFieldView(locale, createLabeledInputText);\n        paddingInput.set({\n            label: t('Padding'),\n            class: 'ck-table-cell-properties-form__padding'\n        });\n        paddingInput.fieldView.bind('value').to(this, 'padding');\n        paddingInput.fieldView.on('input', () => {\n            this.padding = paddingInput.fieldView.element.value;\n        });\n        return paddingInput;\n    }\n    /**\n     * Creates the following form fields:\n     *\n     * * {@link #horizontalAlignmentToolbar},\n     * * {@link #verticalAlignmentToolbar}.\n     */\n    _createAlignmentFields() {\n        const locale = this.locale;\n        const t = this.t;\n        const alignmentLabel = new LabelView(locale);\n        const ALIGNMENT_ICONS = {\n            left: IconAlignLeft,\n            center: IconAlignCenter,\n            right: IconAlignRight,\n            justify: IconAlignJustify,\n            top: IconAlignTop,\n            middle: IconAlignMiddle,\n            bottom: IconAlignBottom\n        };\n        alignmentLabel.text = t('Table cell text alignment');\n        // -- Horizontal ---------------------------------------------------\n        const horizontalAlignmentToolbar = new ToolbarView(locale);\n        const isContentRTL = locale.contentLanguageDirection === 'rtl';\n        horizontalAlignmentToolbar.set({\n            isCompact: true,\n            role: 'radiogroup',\n            ariaLabel: t('Horizontal text alignment toolbar')\n        });\n        fillToolbar({\n            view: this,\n            icons: ALIGNMENT_ICONS,\n            toolbar: horizontalAlignmentToolbar,\n            labels: this._horizontalAlignmentLabels,\n            propertyName: 'horizontalAlignment',\n            nameToValue: name => {\n                // For the RTL content, we want to swap the buttons \"align to the left\" and \"align to the right\".\n                if (isContentRTL) {\n                    if (name === 'left') {\n                        return 'right';\n                    }\n                    else if (name === 'right') {\n                        return 'left';\n                    }\n                }\n                return name;\n            },\n            defaultValue: this.options.defaultTableCellProperties.horizontalAlignment\n        });\n        // -- Vertical -----------------------------------------------------\n        const verticalAlignmentToolbar = new ToolbarView(locale);\n        verticalAlignmentToolbar.set({\n            isCompact: true,\n            role: 'radiogroup',\n            ariaLabel: t('Vertical text alignment toolbar')\n        });\n        fillToolbar({\n            view: this,\n            icons: ALIGNMENT_ICONS,\n            toolbar: verticalAlignmentToolbar,\n            labels: this._verticalAlignmentLabels,\n            propertyName: 'verticalAlignment',\n            defaultValue: this.options.defaultTableCellProperties.verticalAlignment\n        });\n        return {\n            horizontalAlignmentToolbar,\n            verticalAlignmentToolbar,\n            alignmentLabel\n        };\n    }\n    /**\n     * Creates the following form controls:\n     *\n     * * {@link #saveButtonView},\n     * * {@link #cancelButtonView}.\n     */\n    _createActionButtons() {\n        const locale = this.locale;\n        const t = this.t;\n        const saveButtonView = new ButtonView(locale);\n        const cancelButtonView = new ButtonView(locale);\n        const fieldsThatShouldValidateToSave = [\n            this.borderWidthInput,\n            this.borderColorInput,\n            this.backgroundInput,\n            this.paddingInput\n        ];\n        saveButtonView.set({\n            label: t('Save'),\n            icon: IconCheck,\n            class: 'ck-button-save',\n            type: 'submit',\n            withText: true\n        });\n        saveButtonView.bind('isEnabled').toMany(fieldsThatShouldValidateToSave, 'errorText', (...errorTexts) => {\n            return errorTexts.every(errorText => !errorText);\n        });\n        cancelButtonView.set({\n            label: t('Cancel'),\n            icon: IconCancel,\n            class: 'ck-button-cancel',\n            withText: true\n        });\n        cancelButtonView.delegate('execute').to(this, 'cancel');\n        return {\n            saveButtonView, cancelButtonView\n        };\n    }\n    /**\n     * Provides localized labels for {@link #horizontalAlignmentToolbar} buttons.\n     */\n    get _horizontalAlignmentLabels() {\n        const locale = this.locale;\n        const t = this.t;\n        const left = t('Align cell text to the left');\n        const center = t('Align cell text to the center');\n        const right = t('Align cell text to the right');\n        const justify = t('Justify cell text');\n        // Returns object with a proper order of labels.\n        if (locale.uiLanguageDirection === 'rtl') {\n            return { right, center, left, justify };\n        }\n        else {\n            return { left, center, right, justify };\n        }\n    }\n    /**\n     * Provides localized labels for {@link #verticalAlignmentToolbar} buttons.\n     */\n    get _verticalAlignmentLabels() {\n        const t = this.t;\n        return {\n            top: t('Align cell text to the top'),\n            middle: t('Align cell text to the middle'),\n            bottom: t('Align cell text to the bottom')\n        };\n    }\n}\nfunction isBorderStyleSet(value) {\n    return value !== 'none';\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/utils/ui/contextualballoon\n */\nimport { Rect } from 'ckeditor5/src/utils.js';\nimport { BalloonPanelView } from 'ckeditor5/src/ui.js';\nimport { getSelectionAffectedTableWidget, getTableWidgetAncestor } from './widget.js';\nimport { getSelectionAffectedTable } from '../common.js';\nconst BALLOON_POSITIONS = /* #__PURE__ */ (() => [\n    BalloonPanelView.defaultPositions.northArrowSouth,\n    BalloonPanelView.defaultPositions.northArrowSouthWest,\n    BalloonPanelView.defaultPositions.northArrowSouthEast,\n    BalloonPanelView.defaultPositions.southArrowNorth,\n    BalloonPanelView.defaultPositions.southArrowNorthWest,\n    BalloonPanelView.defaultPositions.southArrowNorthEast,\n    BalloonPanelView.defaultPositions.viewportStickyNorth\n])();\n/**\n * A helper utility that positions the\n * {@link module:ui/panel/balloon/contextualballoon~ContextualBalloon contextual balloon} instance\n * with respect to the table in the editor content, if one is selected.\n *\n * @param editor The editor instance.\n * @param target Either \"cell\" or \"table\". Determines the target the balloon will be attached to.\n */\nexport function repositionContextualBalloon(editor, target) {\n    const balloon = editor.plugins.get('ContextualBalloon');\n    const selection = editor.editing.view.document.selection;\n    let position;\n    if (target === 'cell') {\n        if (getTableWidgetAncestor(selection)) {\n            position = getBalloonCellPositionData(editor);\n        }\n    }\n    else if (getSelectionAffectedTableWidget(selection)) {\n        position = getBalloonTablePositionData(editor);\n    }\n    if (position) {\n        balloon.updatePosition(position);\n    }\n}\n/**\n * Returns the positioning options that control the geometry of the\n * {@link module:ui/panel/balloon/contextualballoon~ContextualBalloon contextual balloon} with respect\n * to the selected table in the editor content.\n *\n * @param editor The editor instance.\n */\nexport function getBalloonTablePositionData(editor) {\n    const selection = editor.model.document.selection;\n    const modelTable = getSelectionAffectedTable(selection);\n    const viewTable = editor.editing.mapper.toViewElement(modelTable);\n    return {\n        target: editor.editing.view.domConverter.mapViewToDom(viewTable),\n        positions: BALLOON_POSITIONS\n    };\n}\n/**\n * Returns the positioning options that control the geometry of the\n * {@link module:ui/panel/balloon/contextualballoon~ContextualBalloon contextual balloon} with respect\n * to the selected table cell in the editor content.\n *\n * @param editor The editor instance.\n */\nexport function getBalloonCellPositionData(editor) {\n    const mapper = editor.editing.mapper;\n    const domConverter = editor.editing.view.domConverter;\n    const selection = editor.model.document.selection;\n    if (selection.rangeCount > 1) {\n        return {\n            target: () => createBoundingRect(selection.getRanges(), editor),\n            positions: BALLOON_POSITIONS\n        };\n    }\n    const modelTableCell = getTableCellAtPosition(selection.getFirstPosition());\n    const viewTableCell = mapper.toViewElement(modelTableCell);\n    return {\n        target: domConverter.mapViewToDom(viewTableCell),\n        positions: BALLOON_POSITIONS\n    };\n}\n/**\n * Returns the first selected table cell from a multi-cell or in-cell selection.\n *\n * @param position Document position.\n */\nfunction getTableCellAtPosition(position) {\n    const isTableCellSelected = position.nodeAfter && position.nodeAfter.is('element', 'tableCell');\n    return isTableCellSelected ? position.nodeAfter : position.findAncestor('tableCell');\n}\n/**\n * Returns bounding rectangle for given model ranges.\n *\n * @param ranges Model ranges that the bounding rect should be returned for.\n * @param editor The editor instance.\n */\nfunction createBoundingRect(ranges, editor) {\n    const mapper = editor.editing.mapper;\n    const domConverter = editor.editing.view.domConverter;\n    const rects = Array.from(ranges).map(range => {\n        const modelTableCell = getTableCellAtPosition(range.start);\n        const viewTableCell = mapper.toViewElement(modelTableCell);\n        return new Rect(domConverter.mapViewToDom(viewTableCell));\n    });\n    return Rect.getBoundingRect(rects);\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { isObject } from 'es-toolkit/compat';\n/**\n * Returns a string if all four values of box sides are equal.\n *\n * If a string is passed, it is treated as a single value (pass-through).\n *\n * ```ts\n * // Returns 'foo':\n * getSingleValue( { top: 'foo', right: 'foo', bottom: 'foo', left: 'foo' } );\n * getSingleValue( 'foo' );\n *\n * // Returns undefined:\n * getSingleValue( { top: 'foo', right: 'foo', bottom: 'bar', left: 'foo' } );\n * getSingleValue( { top: 'foo', right: 'foo' } );\n * ```\n */\nexport function getSingleValue(objectOrString) {\n    if (!objectOrString || !isObject(objectOrString)) {\n        return objectOrString;\n    }\n    const { top, right, bottom, left } = objectOrString;\n    if (top == right && right == bottom && bottom == left) {\n        return top;\n    }\n}\n/**\n * Adds a unit to a value if the value is a number or a string representing a number.\n *\n * **Note**: It does nothing to non-numeric values.\n *\n * ```ts\n * getSingleValue( 25, 'px' ); // '25px'\n * getSingleValue( 25, 'em' ); // '25em'\n * getSingleValue( '25em', 'px' ); // '25em'\n * getSingleValue( 'foo', 'px' ); // 'foo'\n * ```\n *\n * @param defaultUnit A default unit added to a numeric value.\n */\nexport function addDefaultUnitToNumericValue(value, defaultUnit) {\n    const numericValue = parseFloat(value);\n    if (Number.isNaN(numericValue)) {\n        return value;\n    }\n    if (String(numericValue) !== String(value)) {\n        return value;\n    }\n    return `${numericValue}${defaultUnit}`;\n}\n/**\n * Returns the normalized configuration.\n *\n * @param config The configuration to normalize.\n * @param options Options used to determine which properties should be added.\n */\nexport function getNormalizedDefaultProperties(config, options = {}) {\n    const normalizedConfig = {\n        borderStyle: 'none',\n        borderWidth: '',\n        borderColor: '',\n        backgroundColor: '',\n        width: '',\n        height: '',\n        ...config\n    };\n    if (options.includeAlignmentProperty && !normalizedConfig.alignment) {\n        normalizedConfig.alignment = 'center';\n    }\n    if (options.includePaddingProperty && !normalizedConfig.padding) {\n        normalizedConfig.padding = '';\n    }\n    if (options.includeVerticalAlignmentProperty && !normalizedConfig.verticalAlignment) {\n        normalizedConfig.verticalAlignment = 'middle';\n    }\n    if (options.includeHorizontalAlignmentProperty && !normalizedConfig.horizontalAlignment) {\n        normalizedConfig.horizontalAlignment = options.isRightToLeftContent ? 'right' : 'left';\n    }\n    return normalizedConfig;\n}\n/**\n * Returns the normalized default table properties.\n *\n * @param config The configuration to normalize.\n * @param options Options used to determine which properties should be added.\n */\nexport function getNormalizedDefaultTableProperties(config, options) {\n    return getNormalizedDefaultProperties({\n        // It adds support for border none in the table element, keep it in sync with the content styles\n        // See more: https://github.com/ckeditor/ckeditor5/issues/6841#issuecomment-1959195608\n        borderStyle: 'double',\n        borderColor: 'hsl(0, 0%, 70%)',\n        borderWidth: '1px',\n        ...config\n    }, options);\n}\n/**\n * Returns the normalized default cell properties.\n *\n * @param config The configuration to normalize.\n * @param options Options used to determine which properties should be added.\n */\nexport function getNormalizedDefaultCellProperties(config, options) {\n    return getNormalizedDefaultProperties({\n        // It adds support for border none in the table element, keep it in sync with the content styles\n        // See more: https://github.com/ckeditor/ckeditor5/issues/6841#issuecomment-1959195608\n        borderStyle: 'solid',\n        borderColor: 'hsl(0, 0%, 75%)',\n        borderWidth: '1px',\n        ...config\n    }, options);\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/tablecellproperties/tablecellpropertiesui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { IconTableCellProperties } from 'ckeditor5/src/icons.js';\nimport { ButtonView, clickOutsideHandler, ContextualBalloon, getLocalizedColorOptions, normalizeColorOptions } from 'ckeditor5/src/ui.js';\nimport TableCellPropertiesView from './ui/tablecellpropertiesview.js';\nimport { colorFieldValidator, getLocalizedColorErrorText, getLocalizedLengthErrorText, defaultColors, lengthFieldValidator, lineWidthFieldValidator } from '../utils/ui/table-properties.js';\nimport { debounce } from 'es-toolkit/compat';\nimport { getSelectionAffectedTableWidget, getTableWidgetAncestor } from '../utils/ui/widget.js';\nimport { getBalloonCellPositionData, repositionContextualBalloon } from '../utils/ui/contextualballoon.js';\nimport { getNormalizedDefaultCellProperties, getNormalizedDefaultProperties } from '../utils/table-properties.js';\nconst ERROR_TEXT_TIMEOUT = 500;\n// Map of view properties and related commands.\nconst propertyToCommandMap = {\n    borderStyle: 'tableCellBorderStyle',\n    borderColor: 'tableCellBorderColor',\n    borderWidth: 'tableCellBorderWidth',\n    height: 'tableCellHeight',\n    width: 'tableCellWidth',\n    padding: 'tableCellPadding',\n    backgroundColor: 'tableCellBackgroundColor',\n    horizontalAlignment: 'tableCellHorizontalAlignment',\n    verticalAlignment: 'tableCellVerticalAlignment'\n};\n/**\n * The table cell properties UI plugin. It introduces the `'tableCellProperties'` button\n * that opens a form allowing to specify the visual styling of a table cell.\n *\n * It uses the {@link module:ui/panel/balloon/contextualballoon~ContextualBalloon contextual balloon plugin}.\n */\nexport default class TableCellPropertiesUI extends Plugin {\n    /**\n     * The default table cell properties.\n     */\n    _defaultContentTableCellProperties;\n    /**\n     * The default layout table cell properties.\n     */\n    _defaultLayoutTableCellProperties;\n    /**\n     * The contextual balloon plugin instance.\n     */\n    _balloon;\n    /**\n     * The cell properties form view displayed inside the balloon.\n     */\n    view;\n    /**\n     * The cell properties form view displayed inside the balloon (content table).\n     */\n    _viewWithContentTableDefaults;\n    /**\n     * The cell properties form view displayed inside the balloon (layout table).\n     */\n    _viewWithLayoutTableDefaults;\n    /**\n     * The batch used to undo all changes made by the form (which are live, as the user types)\n     * when \"Cancel\" was pressed. Each time the view is shown, a new batch is created.\n     */\n    _undoStepBatch;\n    /**\n     * Flag used to indicate whether view is ready to execute update commands\n     * (it finished loading initial data).\n     */\n    _isReady;\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ContextualBalloon];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TableCellPropertiesUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        editor.config.define('table.tableCellProperties', {\n            borderColors: defaultColors,\n            backgroundColors: defaultColors\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = editor.t;\n        this._defaultContentTableCellProperties = getNormalizedDefaultCellProperties(editor.config.get('table.tableCellProperties.defaultProperties'), {\n            includeVerticalAlignmentProperty: true,\n            includeHorizontalAlignmentProperty: true,\n            includePaddingProperty: true,\n            isRightToLeftContent: editor.locale.contentLanguageDirection === 'rtl'\n        });\n        this._defaultLayoutTableCellProperties = getNormalizedDefaultProperties(undefined, {\n            includeVerticalAlignmentProperty: true,\n            includeHorizontalAlignmentProperty: true,\n            isRightToLeftContent: editor.locale.contentLanguageDirection === 'rtl'\n        });\n        this._balloon = editor.plugins.get(ContextualBalloon);\n        this.view = null;\n        this._isReady = false;\n        editor.ui.componentFactory.add('tableCellProperties', locale => {\n            const view = new ButtonView(locale);\n            view.set({\n                label: t('Cell properties'),\n                icon: IconTableCellProperties,\n                tooltip: true\n            });\n            this.listenTo(view, 'execute', () => this._showView());\n            const commands = Object.values(propertyToCommandMap)\n                .map(commandName => editor.commands.get(commandName));\n            view.bind('isEnabled').toMany(commands, 'isEnabled', (...areEnabled) => (areEnabled.some(isCommandEnabled => isCommandEnabled)));\n            return view;\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        super.destroy();\n        // Destroy created UI components as they are not automatically destroyed.\n        // See https://github.com/ckeditor/ckeditor5/issues/1341.\n        if (this.view) {\n            this.view.destroy();\n        }\n    }\n    /**\n     * Creates the {@link module:table/tablecellproperties/ui/tablecellpropertiesview~TableCellPropertiesView} instance.\n     *\n     * @returns The cell properties form view instance.\n     */\n    _createPropertiesView(defaultTableCellProperties) {\n        const editor = this.editor;\n        const config = editor.config.get('table.tableCellProperties');\n        const borderColorsConfig = normalizeColorOptions(config.borderColors);\n        const localizedBorderColors = getLocalizedColorOptions(editor.locale, borderColorsConfig);\n        const backgroundColorsConfig = normalizeColorOptions(config.backgroundColors);\n        const localizedBackgroundColors = getLocalizedColorOptions(editor.locale, backgroundColorsConfig);\n        const hasColorPicker = config.colorPicker !== false;\n        const view = new TableCellPropertiesView(editor.locale, {\n            borderColors: localizedBorderColors,\n            backgroundColors: localizedBackgroundColors,\n            defaultTableCellProperties,\n            colorPickerConfig: hasColorPicker ? (config.colorPicker || {}) : false\n        });\n        const t = editor.t;\n        // Render the view so its #element is available for the clickOutsideHandler.\n        view.render();\n        this.listenTo(view, 'submit', () => {\n            this._hideView();\n        });\n        this.listenTo(view, 'cancel', () => {\n            // https://github.com/ckeditor/ckeditor5/issues/6180\n            if (this._undoStepBatch.operations.length) {\n                editor.execute('undo', this._undoStepBatch);\n            }\n            this._hideView();\n        });\n        // Close the balloon on Esc key press.\n        view.keystrokes.set('Esc', (data, cancel) => {\n            this._hideView();\n            cancel();\n        });\n        // Close on click outside of balloon panel element.\n        clickOutsideHandler({\n            emitter: view,\n            activator: () => this._isViewInBalloon,\n            contextElements: [this._balloon.view.element],\n            callback: () => this._hideView()\n        });\n        const colorErrorText = getLocalizedColorErrorText(t);\n        const lengthErrorText = getLocalizedLengthErrorText(t);\n        // Create the \"UI -> editor data\" binding.\n        // These listeners update the editor data (via table commands) when any observable\n        // property of the view has changed. They also validate the value and display errors in the UI\n        // when necessary. This makes the view live, which means the changes are\n        // visible in the editing as soon as the user types or changes fields' values.\n        view.on('change:borderStyle', this._getPropertyChangeCallback('tableCellBorderStyle'));\n        view.on('change:borderColor', this._getValidatedPropertyChangeCallback({\n            viewField: view.borderColorInput,\n            commandName: 'tableCellBorderColor',\n            errorText: colorErrorText,\n            validator: colorFieldValidator\n        }));\n        view.on('change:borderWidth', this._getValidatedPropertyChangeCallback({\n            viewField: view.borderWidthInput,\n            commandName: 'tableCellBorderWidth',\n            errorText: lengthErrorText,\n            validator: lineWidthFieldValidator\n        }));\n        view.on('change:padding', this._getValidatedPropertyChangeCallback({\n            viewField: view.paddingInput,\n            commandName: 'tableCellPadding',\n            errorText: lengthErrorText,\n            validator: lengthFieldValidator\n        }));\n        view.on('change:width', this._getValidatedPropertyChangeCallback({\n            viewField: view.widthInput,\n            commandName: 'tableCellWidth',\n            errorText: lengthErrorText,\n            validator: lengthFieldValidator\n        }));\n        view.on('change:height', this._getValidatedPropertyChangeCallback({\n            viewField: view.heightInput,\n            commandName: 'tableCellHeight',\n            errorText: lengthErrorText,\n            validator: lengthFieldValidator\n        }));\n        view.on('change:backgroundColor', this._getValidatedPropertyChangeCallback({\n            viewField: view.backgroundInput,\n            commandName: 'tableCellBackgroundColor',\n            errorText: colorErrorText,\n            validator: colorFieldValidator\n        }));\n        view.on('change:horizontalAlignment', this._getPropertyChangeCallback('tableCellHorizontalAlignment'));\n        view.on('change:verticalAlignment', this._getPropertyChangeCallback('tableCellVerticalAlignment'));\n        return view;\n    }\n    /**\n     * In this method the \"editor data -> UI\" binding is happening.\n     *\n     * When executed, this method obtains selected cell property values from various table commands\n     * and passes them to the {@link #view}.\n     *\n     * This way, the UI stays up–to–date with the editor data.\n     */\n    _fillViewFormFromCommandValues() {\n        const commands = this.editor.commands;\n        const borderStyleCommand = commands.get('tableCellBorderStyle');\n        Object.entries(propertyToCommandMap)\n            .map(([property, commandName]) => {\n            const propertyKey = property;\n            const defaultValue = this.view === this._viewWithContentTableDefaults ?\n                this._defaultContentTableCellProperties[propertyKey] || '' :\n                this._defaultLayoutTableCellProperties[propertyKey] || '';\n            return [\n                property,\n                commands.get(commandName).value || defaultValue\n            ];\n        })\n            .forEach(([property, value]) => {\n            // Do not set the `border-color` and `border-width` fields if `border-style:none`.\n            if ((property === 'borderColor' || property === 'borderWidth') && borderStyleCommand.value === 'none') {\n                return;\n            }\n            this.view.set(property, value);\n        });\n        this._isReady = true;\n    }\n    /**\n     * Shows the {@link #view} in the {@link #_balloon}.\n     *\n     * **Note**: Each time a view is shown, a new {@link #_undoStepBatch} is created. It contains\n     * all changes made to the document when the view is visible, allowing a single undo step\n     * for all of them.\n     */\n    _showView() {\n        const editor = this.editor;\n        const viewTable = getSelectionAffectedTableWidget(editor.editing.view.document.selection);\n        const modelTable = viewTable && editor.editing.mapper.toModelElement(viewTable);\n        const useDefaults = !modelTable || modelTable.getAttribute('tableType') !== 'layout';\n        if (useDefaults && !this._viewWithContentTableDefaults) {\n            this._viewWithContentTableDefaults = this._createPropertiesView(this._defaultContentTableCellProperties);\n        }\n        else if (!useDefaults && !this._viewWithLayoutTableDefaults) {\n            this._viewWithLayoutTableDefaults = this._createPropertiesView(this._defaultLayoutTableCellProperties);\n        }\n        this.view = useDefaults ? this._viewWithContentTableDefaults : this._viewWithLayoutTableDefaults;\n        this.listenTo(editor.ui, 'update', () => {\n            this._updateView();\n        });\n        // Update the view with the model values.\n        this._fillViewFormFromCommandValues();\n        this._balloon.add({\n            view: this.view,\n            position: getBalloonCellPositionData(editor)\n        });\n        // Create a new batch. Clicking \"Cancel\" will undo this batch.\n        this._undoStepBatch = editor.model.createBatch();\n        // Basic a11y.\n        this.view.focus();\n    }\n    /**\n     * Removes the {@link #view} from the {@link #_balloon}.\n     */\n    _hideView() {\n        const editor = this.editor;\n        this.stopListening(editor.ui, 'update');\n        this._isReady = false;\n        // Blur any input element before removing it from DOM to prevent issues in some browsers.\n        // See https://github.com/ckeditor/ckeditor5/issues/1501.\n        this.view.saveButtonView.focus();\n        this._balloon.remove(this.view);\n        // Make sure the focus is not lost in the process by putting it directly\n        // into the editing view.\n        this.editor.editing.view.focus();\n    }\n    /**\n     * Repositions the {@link #_balloon} or hides the {@link #view} if a table cell is no longer selected.\n     */\n    _updateView() {\n        const editor = this.editor;\n        const viewDocument = editor.editing.view.document;\n        if (!getTableWidgetAncestor(viewDocument.selection)) {\n            this._hideView();\n        }\n        else if (this._isViewVisible) {\n            repositionContextualBalloon(editor, 'cell');\n        }\n    }\n    /**\n     * Returns `true` when the {@link #view} is visible in the {@link #_balloon}.\n     */\n    get _isViewVisible() {\n        return !!this.view && this._balloon.visibleView === this.view;\n    }\n    /**\n     * Returns `true` when the {@link #view} is in the {@link #_balloon}.\n     */\n    get _isViewInBalloon() {\n        return !!this.view && this._balloon.hasView(this.view);\n    }\n    /**\n     * Creates a callback that when executed upon the {@link #view view's} property change\n     * executes a related editor command with the new property value.\n     *\n     * @param defaultValue The default value of the command.\n     */\n    _getPropertyChangeCallback(commandName) {\n        return (evt, propertyName, newValue) => {\n            if (!this._isReady) {\n                return;\n            }\n            this.editor.execute(commandName, {\n                value: newValue,\n                batch: this._undoStepBatch\n            });\n        };\n    }\n    /**\n     * Creates a callback that when executed upon the {@link #view view's} property change:\n     * * Executes a related editor command with the new property value if the value is valid,\n     * * Or sets the error text next to the invalid field, if the value did not pass the validation.\n     */\n    _getValidatedPropertyChangeCallback(options) {\n        const { commandName, viewField, validator, errorText } = options;\n        const setErrorTextDebounced = debounce(() => {\n            viewField.errorText = errorText;\n        }, ERROR_TEXT_TIMEOUT);\n        return (evt, propertyName, newValue) => {\n            setErrorTextDebounced.cancel();\n            // Do not execute the command on initial call (opening the table properties view).\n            if (!this._isReady) {\n                return;\n            }\n            if (validator(newValue)) {\n                this.editor.execute(commandName, {\n                    value: newValue,\n                    batch: this._undoStepBatch\n                });\n                viewField.errorText = null;\n            }\n            else {\n                setErrorTextDebounced();\n            }\n        };\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/tablecellproperties/commands/tablecellpropertycommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { getSelectionAffectedTable } from '../../utils/common.js';\n/**\n * The table cell attribute command.\n *\n * The command is a base command for other table cell property commands.\n */\nexport default class TableCellPropertyCommand extends Command {\n    /**\n     * The attribute that will be set by the command.\n     */\n    attributeName;\n    /**\n     * The default value for the attribute.\n     *\n     * @readonly\n     */\n    _defaultValue;\n    /**\n     * The default value for the attribute for the content table.\n     */\n    _defaultContentTableValue;\n    /**\n     * The default value for the attribute for the layout table.\n     */\n    _defaultLayoutTableValue;\n    /**\n     * Creates a new `TableCellPropertyCommand` instance.\n     *\n     * @param editor An editor in which this command will be used.\n     * @param attributeName Table cell attribute name.\n     * @param defaultValue The default value of the attribute.\n     */\n    constructor(editor, attributeName, defaultValue) {\n        super(editor);\n        this.attributeName = attributeName;\n        this._defaultContentTableValue = defaultValue;\n        // Hardcoded defaults for layout table.\n        switch (attributeName) {\n            case 'tableCellBorderStyle':\n                this._defaultLayoutTableValue = 'none';\n                break;\n            case 'tableCellHorizontalAlignment':\n                this._defaultLayoutTableValue = 'left';\n                break;\n            case 'tableCellVerticalAlignment':\n                this._defaultLayoutTableValue = 'middle';\n                break;\n            default:\n                this._defaultLayoutTableValue = undefined;\n        }\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const editor = this.editor;\n        const selection = editor.model.document.selection;\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const selectedTableCells = tableUtils.getSelectionAffectedTableCells(selection);\n        const table = getSelectionAffectedTable(selection);\n        this._defaultValue = !table || table.getAttribute('tableType') !== 'layout' ?\n            this._defaultContentTableValue :\n            this._defaultLayoutTableValue;\n        this.isEnabled = !!selectedTableCells.length;\n        this.value = this._getSingleValue(selectedTableCells);\n    }\n    /**\n     * Executes the command.\n     *\n     * @fires execute\n     * @param options.value If set, the command will set the attribute on selected table cells.\n     * If it is not set, the command will remove the attribute from the selected table cells.\n     * @param options.batch Pass the model batch instance to the command to aggregate changes,\n     * for example to allow a single undo step for multiple executions.\n     */\n    execute(options = {}) {\n        const { value, batch } = options;\n        const model = this.editor.model;\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const tableCells = tableUtils.getSelectionAffectedTableCells(model.document.selection);\n        const valueToSet = this._getValueToSet(value);\n        model.enqueueChange(batch, writer => {\n            if (valueToSet) {\n                tableCells.forEach(tableCell => writer.setAttribute(this.attributeName, valueToSet, tableCell));\n            }\n            else {\n                tableCells.forEach(tableCell => writer.removeAttribute(this.attributeName, tableCell));\n            }\n        });\n    }\n    /**\n     * Returns the attribute value for a table cell.\n     */\n    _getAttribute(tableCell) {\n        if (!tableCell) {\n            return;\n        }\n        const value = tableCell.getAttribute(this.attributeName);\n        if (value === this._defaultValue) {\n            return;\n        }\n        return value;\n    }\n    /**\n     * Returns the proper model value. It can be used to add a default unit to numeric values.\n     */\n    _getValueToSet(value) {\n        if (value === this._defaultValue) {\n            return;\n        }\n        return value;\n    }\n    /**\n     * Returns a single value for all selected table cells. If the value is the same for all cells,\n     * it will be returned (`undefined` otherwise).\n     */\n    _getSingleValue(tableCells) {\n        const firstCellValue = this._getAttribute(tableCells[0]);\n        const everyCellHasAttribute = tableCells.every(tableCells => this._getAttribute(tableCells) === firstCellValue);\n        return everyCellHasAttribute ? firstCellValue : undefined;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport TableCellPropertyCommand from '../../tablecellproperties/commands/tablecellpropertycommand.js';\nimport { addDefaultUnitToNumericValue } from '../../utils/table-properties.js';\n/**\n * The table cell width command.\n *\n * The command is registered by the {@link module:table/tablecellwidth/tablecellwidthediting~TableCellWidthEditing} as\n * the `'tableCellWidth'` editor command.\n *\n * To change the width of selected cells, execute the command:\n *\n * ```ts\n * editor.execute( 'tableCellWidth', {\n *   value: '50px'\n * } );\n * ```\n *\n * **Note**: This command adds a default `'px'` unit to numeric values. Executing:\n *\n * ```ts\n * editor.execute( 'tableCellWidth', {\n *   value: '50'\n * } );\n * ```\n *\n * will set the `width` attribute to `'50px'` in the model.\n */\nexport default class TableCellWidthCommand extends TableCellPropertyCommand {\n    /**\n     * Creates a new `TableCellWidthCommand` instance.\n     *\n     * @param editor An editor in which this command will be used.\n     * @param defaultValue The default value of the attribute.\n     */\n    constructor(editor, defaultValue) {\n        super(editor, 'tableCellWidth', defaultValue);\n    }\n    /**\n     * @inheritDoc\n     */\n    _getValueToSet(value) {\n        value = addDefaultUnitToNumericValue(value, 'px');\n        if (value === this._defaultValue) {\n            return;\n        }\n        return value;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/tablecellwidth/tablecellwidthediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport TableEditing from './../tableediting.js';\nimport TableCellWidthCommand from './commands/tablecellwidthcommand.js';\nimport { getNormalizedDefaultCellProperties } from '../utils/table-properties.js';\nimport { enableProperty } from '../utils/common.js';\n/**\n * The table cell width editing feature.\n *\n * Introduces `tableCellWidth` table cell model attribute alongside with its converters\n * and a command.\n */\nexport default class TableCellWidthEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TableCellWidthEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [TableEditing];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const defaultTableCellProperties = getNormalizedDefaultCellProperties(editor.config.get('table.tableCellProperties.defaultProperties'));\n        enableProperty(editor.model.schema, editor.conversion, {\n            modelAttribute: 'tableCellWidth',\n            styleName: 'width',\n            defaultValue: defaultTableCellProperties.width\n        });\n        editor.commands.add('tableCellWidth', new TableCellWidthCommand(editor, defaultTableCellProperties.width));\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport TableCellPropertyCommand from './tablecellpropertycommand.js';\nimport { addDefaultUnitToNumericValue, getSingleValue } from '../../utils/table-properties.js';\n/**\n * The table cell padding command.\n *\n * The command is registered by the {@link module:table/tablecellproperties/tablecellpropertiesediting~TableCellPropertiesEditing} as\n * the `'tableCellPadding'` editor command.\n *\n * To change the padding of selected cells, execute the command:\n *\n * ```ts\n * editor.execute( 'tableCellPadding', {\n *   value: '5px'\n * } );\n * ```\n *\n * **Note**: This command adds the default `'px'` unit to numeric values. Executing:\n *\n * ```ts\n * editor.execute( 'tableCellPadding', {\n *   value: '5'\n * } );\n * ```\n *\n * will set the `padding` attribute to `'5px'` in the model.\n */\nexport default class TableCellPaddingCommand extends TableCellPropertyCommand {\n    /**\n     * Creates a new `TableCellPaddingCommand` instance.\n     *\n     * @param editor An editor in which this command will be used.\n     * @param defaultValue The default value of the attribute.\n     */\n    constructor(editor, defaultValue) {\n        super(editor, 'tableCellPadding', defaultValue);\n    }\n    /**\n     * @inheritDoc\n     */\n    _getAttribute(tableCell) {\n        if (!tableCell) {\n            return;\n        }\n        const value = getSingleValue(tableCell.getAttribute(this.attributeName));\n        if (value === this._defaultValue) {\n            return;\n        }\n        return value;\n    }\n    /**\n     * @inheritDoc\n     */\n    _getValueToSet(value) {\n        const newValue = addDefaultUnitToNumericValue(value, 'px');\n        if (newValue === this._defaultValue) {\n            return;\n        }\n        return newValue;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport TableCellPropertyCommand from './tablecellpropertycommand.js';\nimport { addDefaultUnitToNumericValue } from '../../utils/table-properties.js';\n/**\n * The table cell height command.\n *\n * The command is registered by the {@link module:table/tablecellproperties/tablecellpropertiesediting~TableCellPropertiesEditing} as\n * the `'tableCellHeight'` editor command.\n *\n * To change the height of selected cells, execute the command:\n *\n * ```ts\n * editor.execute( 'tableCellHeight', {\n *   value: '50px'\n * } );\n * ```\n *\n * **Note**: This command adds the default `'px'` unit to numeric values. Executing:\n *\n * ```ts\n * editor.execute( 'tableCellHeight', {\n *   value: '50'\n * } );\n * ```\n *\n * will set the `height` attribute to `'50px'` in the model.\n */\nexport default class TableCellHeightCommand extends TableCellPropertyCommand {\n    /**\n     * Creates a new `TableCellHeightCommand` instance.\n     *\n     * @param editor An editor in which this command will be used.\n     * @param defaultValue The default value of the attribute.\n     */\n    constructor(editor, defaultValue) {\n        super(editor, 'tableCellHeight', defaultValue);\n    }\n    /**\n     * @inheritDoc\n     */\n    _getValueToSet(value) {\n        const newValue = addDefaultUnitToNumericValue(value, 'px');\n        if (newValue === this._defaultValue) {\n            return;\n        }\n        return newValue;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport TableCellPropertyCommand from './tablecellpropertycommand.js';\n/**\n * The table cell background color command.\n *\n * The command is registered by the {@link module:table/tablecellproperties/tablecellpropertiesediting~TableCellPropertiesEditing} as\n * the `'tableCellBackgroundColor'` editor command.\n *\n * To change the background color of selected cells, execute the command:\n *\n * ```ts\n * editor.execute( 'tableCellBackgroundColor', {\n *   value: '#f00'\n * } );\n * ```\n */\nexport default class TableCellBackgroundColorCommand extends TableCellPropertyCommand {\n    /**\n     * Creates a new `TableCellBackgroundColorCommand` instance.\n     *\n     * @param editor An editor in which this command will be used.\n     * @param defaultValue The default value of the attribute.\n     */\n    constructor(editor, defaultValue) {\n        super(editor, 'tableCellBackgroundColor', defaultValue);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport TableCellPropertyCommand from './tablecellpropertycommand.js';\n/**\n * The table cell vertical alignment command.\n *\n * The command is registered by the {@link module:table/tablecellproperties/tablecellpropertiesediting~TableCellPropertiesEditing} as\n * the `'tableCellVerticalAlignment'` editor command.\n *\n * To change the vertical text alignment of selected cells, execute the command:\n *\n * ```ts\n * editor.execute( 'tableCellVerticalAlignment', {\n *   value: 'top'\n * } );\n * ```\n *\n * The following values, corresponding to the\n * [`vertical-align` CSS attribute](https://developer.mozilla.org/en-US/docs/Web/CSS/vertical-align), are allowed:\n *\n * * `'top'`\n * * `'bottom'`\n *\n * The `'middle'` value is the default one so there is no need to set it.\n */\nexport default class TableCellVerticalAlignmentCommand extends TableCellPropertyCommand {\n    /**\n     * Creates a new `TableCellVerticalAlignmentCommand` instance.\n     *\n     * @param editor An editor in which this command will be used.\n     * @param defaultValue The default value for the \"alignment\" attribute.\n     */\n    constructor(editor, defaultValue) {\n        super(editor, 'tableCellVerticalAlignment', defaultValue);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport TableCellPropertyCommand from './tablecellpropertycommand.js';\n/**\n * The table cell horizontal alignment command.\n *\n * The command is registered by the {@link module:table/tablecellproperties/tablecellpropertiesediting~TableCellPropertiesEditing} as\n * the `'tableCellHorizontalAlignment'` editor command.\n *\n * To change the horizontal text alignment of selected cells, execute the command:\n *\n * ```ts\n * editor.execute( 'tableCellHorizontalAlignment', {\n *  value: 'right'\n * } );\n * ```\n */\nexport default class TableCellHorizontalAlignmentCommand extends TableCellPropertyCommand {\n    /**\n     * Creates a new `TableCellHorizontalAlignmentCommand` instance.\n     *\n     * @param editor An editor in which this command will be used.\n     * @param defaultValue The default value for the \"alignment\" attribute.\n     */\n    constructor(editor, defaultValue) {\n        super(editor, 'tableCellHorizontalAlignment', defaultValue);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport TableCellPropertyCommand from './tablecellpropertycommand.js';\nimport { getSingleValue } from '../../utils/table-properties.js';\n/**\n * The table cell border style command.\n *\n * The command is registered by the {@link module:table/tablecellproperties/tablecellpropertiesediting~TableCellPropertiesEditing} as\n * the `'tableCellBorderStyle'` editor command.\n *\n * To change the border style of selected cells, execute the command:\n *\n * ```ts\n * editor.execute( 'tableCellBorderStyle', {\n *   value: 'dashed'\n * } );\n * ```\n */\nexport default class TableCellBorderStyleCommand extends TableCellPropertyCommand {\n    /**\n     * Creates a new `TableCellBorderStyleCommand` instance.\n     *\n     * @param editor An editor in which this command will be used.\n     * @param defaultValue The default value of the attribute.\n     */\n    constructor(editor, defaultValue) {\n        super(editor, 'tableCellBorderStyle', defaultValue);\n    }\n    /**\n     * @inheritDoc\n     */\n    _getAttribute(tableCell) {\n        if (!tableCell) {\n            return;\n        }\n        const value = getSingleValue(tableCell.getAttribute(this.attributeName));\n        if (value === this._defaultValue) {\n            return;\n        }\n        return value;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport TableCellPropertyCommand from './tablecellpropertycommand.js';\nimport { getSingleValue } from '../../utils/table-properties.js';\n/**\n * The table cell border color command.\n *\n * The command is registered by the {@link module:table/tablecellproperties/tablecellpropertiesediting~TableCellPropertiesEditing} as\n * the `'tableCellBorderColor'` editor command.\n *\n * To change the border color of selected cells, execute the command:\n *\n * ```ts\n * editor.execute( 'tableCellBorderColor', {\n *   value: '#f00'\n * } );\n * ```\n */\nexport default class TableCellBorderColorCommand extends TableCellPropertyCommand {\n    /**\n     * Creates a new `TableCellBorderColorCommand` instance.\n     *\n     * @param editor An editor in which this command will be used.\n     * @param defaultValue The default value of the attribute.\n     */\n    constructor(editor, defaultValue) {\n        super(editor, 'tableCellBorderColor', defaultValue);\n    }\n    /**\n     * @inheritDoc\n     */\n    _getAttribute(tableCell) {\n        if (!tableCell) {\n            return;\n        }\n        const value = getSingleValue(tableCell.getAttribute(this.attributeName));\n        if (value === this._defaultValue) {\n            return;\n        }\n        return value;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport TableCellPropertyCommand from './tablecellpropertycommand.js';\nimport { addDefaultUnitToNumericValue, getSingleValue } from '../../utils/table-properties.js';\n/**\n * The table cell border width command.\n *\n * The command is registered by the {@link module:table/tablecellproperties/tablecellpropertiesediting~TableCellPropertiesEditing} as\n * the `'tableCellBorderWidth'` editor command.\n *\n * To change the border width of selected cells, execute the command:\n *\n * ```ts\n * editor.execute( 'tableCellBorderWidth', {\n *   value: '5px'\n * } );\n * ```\n *\n * **Note**: This command adds the default `'px'` unit to numeric values. Executing:\n *\n * ```ts\n * editor.execute( 'tableCellBorderWidth', {\n *   value: '5'\n * } );\n * ```\n *\n * will set the `borderWidth` attribute to `'5px'` in the model.\n */\nexport default class TableCellBorderWidthCommand extends TableCellPropertyCommand {\n    /**\n     * Creates a new `TableCellBorderWidthCommand` instance.\n     *\n     * @param editor An editor in which this command will be used.\n     * @param defaultValue The default value of the attribute.\n     */\n    constructor(editor, defaultValue) {\n        super(editor, 'tableCellBorderWidth', defaultValue);\n    }\n    /**\n     * @inheritDoc\n     */\n    _getAttribute(tableCell) {\n        if (!tableCell) {\n            return;\n        }\n        const value = getSingleValue(tableCell.getAttribute(this.attributeName));\n        if (value === this._defaultValue) {\n            return;\n        }\n        return value;\n    }\n    /**\n     * @inheritDoc\n     */\n    _getValueToSet(value) {\n        const newValue = addDefaultUnitToNumericValue(value, 'px');\n        if (newValue === this._defaultValue) {\n            return;\n        }\n        return newValue;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/tablecellproperties/tablecellpropertiesediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { addBorderRules, addPaddingRules, addBackgroundRules } from 'ckeditor5/src/engine.js';\nimport { downcastAttributeToStyle, getDefaultValueAdjusted, upcastBorderStyles } from '../converters/tableproperties.js';\nimport TableEditing from './../tableediting.js';\nimport TableCellWidthEditing from '../tablecellwidth/tablecellwidthediting.js';\nimport TableCellPaddingCommand from './commands/tablecellpaddingcommand.js';\nimport TableCellHeightCommand from './commands/tablecellheightcommand.js';\nimport TableCellBackgroundColorCommand from './commands/tablecellbackgroundcolorcommand.js';\nimport TableCellVerticalAlignmentCommand from './commands/tablecellverticalalignmentcommand.js';\nimport TableCellHorizontalAlignmentCommand from './commands/tablecellhorizontalalignmentcommand.js';\nimport TableCellBorderStyleCommand from './commands/tablecellborderstylecommand.js';\nimport TableCellBorderColorCommand from './commands/tablecellbordercolorcommand.js';\nimport TableCellBorderWidthCommand from './commands/tablecellborderwidthcommand.js';\nimport { getNormalizedDefaultCellProperties } from '../utils/table-properties.js';\nimport { enableProperty } from '../utils/common.js';\nconst VALIGN_VALUES_REG_EXP = /^(top|middle|bottom)$/;\nconst ALIGN_VALUES_REG_EXP = /^(left|center|right|justify)$/;\n/**\n * The table cell properties editing feature.\n *\n * Introduces table cell model attributes and their conversion:\n *\n * - border: `tableCellBorderStyle`, `tableCellBorderColor` and `tableCellBorderWidth`\n * - background color: `tableCellBackgroundColor`\n * - cell padding: `tableCellPadding`\n * - horizontal and vertical alignment: `tableCellHorizontalAlignment`, `tableCellVerticalAlignment`\n * - cell width and height: `tableCellWidth`, `tableCellHeight`\n *\n * It also registers commands used to manipulate the above attributes:\n *\n * - border: the `'tableCellBorderStyle'`, `'tableCellBorderColor'` and `'tableCellBorderWidth'` commands\n * - background color: the `'tableCellBackgroundColor'` command\n * - cell padding: the `'tableCellPadding'` command\n * - horizontal and vertical alignment: the `'tableCellHorizontalAlignment'` and `'tableCellVerticalAlignment'` commands\n * - width and height: the `'tableCellWidth'` and `'tableCellHeight'` commands\n */\nexport default class TableCellPropertiesEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TableCellPropertiesEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [TableEditing, TableCellWidthEditing];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const schema = editor.model.schema;\n        const conversion = editor.conversion;\n        editor.config.define('table.tableCellProperties.defaultProperties', {});\n        const defaultTableCellProperties = getNormalizedDefaultCellProperties(editor.config.get('table.tableCellProperties.defaultProperties'), {\n            includeVerticalAlignmentProperty: true,\n            includeHorizontalAlignmentProperty: true,\n            includePaddingProperty: true,\n            isRightToLeftContent: editor.locale.contentLanguageDirection === 'rtl'\n        });\n        editor.data.addStyleProcessorRules(addBorderRules);\n        enableBorderProperties(schema, conversion, {\n            color: defaultTableCellProperties.borderColor,\n            style: defaultTableCellProperties.borderStyle,\n            width: defaultTableCellProperties.borderWidth\n        });\n        editor.commands.add('tableCellBorderStyle', new TableCellBorderStyleCommand(editor, defaultTableCellProperties.borderStyle));\n        editor.commands.add('tableCellBorderColor', new TableCellBorderColorCommand(editor, defaultTableCellProperties.borderColor));\n        editor.commands.add('tableCellBorderWidth', new TableCellBorderWidthCommand(editor, defaultTableCellProperties.borderWidth));\n        enableProperty(schema, conversion, {\n            modelAttribute: 'tableCellHeight',\n            styleName: 'height',\n            defaultValue: defaultTableCellProperties.height\n        });\n        editor.commands.add('tableCellHeight', new TableCellHeightCommand(editor, defaultTableCellProperties.height));\n        editor.data.addStyleProcessorRules(addPaddingRules);\n        enableProperty(schema, conversion, {\n            modelAttribute: 'tableCellPadding',\n            styleName: 'padding',\n            reduceBoxSides: true,\n            defaultValue: defaultTableCellProperties.padding\n        });\n        editor.commands.add('tableCellPadding', new TableCellPaddingCommand(editor, defaultTableCellProperties.padding));\n        editor.data.addStyleProcessorRules(addBackgroundRules);\n        enableProperty(schema, conversion, {\n            modelAttribute: 'tableCellBackgroundColor',\n            styleName: 'background-color',\n            defaultValue: defaultTableCellProperties.backgroundColor\n        });\n        editor.commands.add('tableCellBackgroundColor', new TableCellBackgroundColorCommand(editor, defaultTableCellProperties.backgroundColor));\n        enableHorizontalAlignmentProperty(schema, conversion, defaultTableCellProperties.horizontalAlignment);\n        editor.commands.add('tableCellHorizontalAlignment', new TableCellHorizontalAlignmentCommand(editor, defaultTableCellProperties.horizontalAlignment));\n        enableVerticalAlignmentProperty(schema, conversion, defaultTableCellProperties.verticalAlignment);\n        editor.commands.add('tableCellVerticalAlignment', new TableCellVerticalAlignmentCommand(editor, defaultTableCellProperties.verticalAlignment));\n    }\n}\n/**\n * Enables the `'tableCellBorderStyle'`, `'tableCellBorderColor'` and `'tableCellBorderWidth'` attributes for table cells.\n *\n * @param defaultBorder The default border values.\n * @param defaultBorder.color The default `tableCellBorderColor` value.\n * @param defaultBorder.style The default `tableCellBorderStyle` value.\n * @param defaultBorder.width The default `tableCellBorderWidth` value.\n */\nfunction enableBorderProperties(schema, conversion, defaultBorder) {\n    const modelAttributes = {\n        width: 'tableCellBorderWidth',\n        color: 'tableCellBorderColor',\n        style: 'tableCellBorderStyle'\n    };\n    schema.extend('tableCell', {\n        allowAttributes: Object.values(modelAttributes)\n    });\n    upcastBorderStyles(conversion, 'td', modelAttributes, defaultBorder);\n    upcastBorderStyles(conversion, 'th', modelAttributes, defaultBorder);\n    downcastAttributeToStyle(conversion, { modelElement: 'tableCell', modelAttribute: modelAttributes.style, styleName: 'border-style' });\n    downcastAttributeToStyle(conversion, { modelElement: 'tableCell', modelAttribute: modelAttributes.color, styleName: 'border-color' });\n    downcastAttributeToStyle(conversion, { modelElement: 'tableCell', modelAttribute: modelAttributes.width, styleName: 'border-width' });\n}\n/**\n * Enables the `'tableCellHorizontalAlignment'` attribute for table cells.\n *\n * @param defaultValue The default horizontal alignment value.\n */\nfunction enableHorizontalAlignmentProperty(schema, conversion, defaultValue) {\n    schema.extend('tableCell', {\n        allowAttributes: ['tableCellHorizontalAlignment']\n    });\n    conversion.for('downcast')\n        .attributeToAttribute({\n        model: {\n            name: 'tableCell',\n            key: 'tableCellHorizontalAlignment'\n        },\n        view: alignment => ({\n            key: 'style',\n            value: {\n                'text-align': alignment\n            }\n        })\n    });\n    conversion.for('upcast')\n        // Support for the `text-align:*;` CSS definition for the table cell alignment.\n        .attributeToAttribute({\n        view: {\n            name: /^(td|th)$/,\n            styles: {\n                'text-align': ALIGN_VALUES_REG_EXP\n            }\n        },\n        model: {\n            key: 'tableCellHorizontalAlignment',\n            value: (viewElement, conversionApi, data) => {\n                const localDefaultValue = getDefaultValueAdjusted(defaultValue, 'left', data);\n                const align = viewElement.getStyle('text-align');\n                return align === localDefaultValue ? null : align;\n            }\n        }\n    })\n        // Support for the `align` attribute as the backward compatibility while pasting from other sources.\n        .attributeToAttribute({\n        view: {\n            name: /^(td|th)$/,\n            attributes: {\n                align: ALIGN_VALUES_REG_EXP\n            }\n        },\n        model: {\n            key: 'tableCellHorizontalAlignment',\n            value: (viewElement, conversionApi, data) => {\n                const localDefaultValue = getDefaultValueAdjusted(defaultValue, 'left', data);\n                const align = viewElement.getAttribute('align');\n                return align === localDefaultValue ? null : align;\n            }\n        }\n    });\n}\n/**\n * Enables the `'verticalAlignment'` attribute for table cells.\n *\n * @param defaultValue The default vertical alignment value.\n */\nfunction enableVerticalAlignmentProperty(schema, conversion, defaultValue) {\n    schema.extend('tableCell', {\n        allowAttributes: ['tableCellVerticalAlignment']\n    });\n    conversion.for('downcast')\n        .attributeToAttribute({\n        model: {\n            name: 'tableCell',\n            key: 'tableCellVerticalAlignment'\n        },\n        view: alignment => ({\n            key: 'style',\n            value: {\n                'vertical-align': alignment\n            }\n        })\n    });\n    conversion.for('upcast')\n        // Support for the `vertical-align:*;` CSS definition for the table cell alignment.\n        .attributeToAttribute({\n        view: {\n            name: /^(td|th)$/,\n            styles: {\n                'vertical-align': VALIGN_VALUES_REG_EXP\n            }\n        },\n        model: {\n            key: 'tableCellVerticalAlignment',\n            value: (viewElement, conversionApi, data) => {\n                const localDefaultValue = getDefaultValueAdjusted(defaultValue, 'middle', data);\n                const align = viewElement.getStyle('vertical-align');\n                return align === localDefaultValue ? null : align;\n            }\n        }\n    })\n        // Support for the `align` attribute as the backward compatibility while pasting from other sources.\n        .attributeToAttribute({\n        view: {\n            name: /^(td|th)$/,\n            attributes: {\n                valign: VALIGN_VALUES_REG_EXP\n            }\n        },\n        model: {\n            key: 'tableCellVerticalAlignment',\n            value: (viewElement, conversionApi, data) => {\n                const localDefaultValue = getDefaultValueAdjusted(defaultValue, 'middle', data);\n                const valign = viewElement.getAttribute('valign');\n                return valign === localDefaultValue ? null : valign;\n            }\n        }\n    });\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/tablecellproperties\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport TableCellPropertiesUI from './tablecellproperties/tablecellpropertiesui.js';\nimport TableCellPropertiesEditing from './tablecellproperties/tablecellpropertiesediting.js';\n/**\n * The table cell properties feature. Enables support for setting properties of table cells (size, border, background, etc.).\n *\n * Read more in the {@glink features/tables/tables-styling Table and cell styling tools} section.\n * See also the {@link module:table/tableproperties~TableProperties} plugin.\n *\n * This is a \"glue\" plugin that loads the\n * {@link module:table/tablecellproperties/tablecellpropertiesediting~TableCellPropertiesEditing table cell properties editing feature} and\n * the {@link module:table/tablecellproperties/tablecellpropertiesui~TableCellPropertiesUI table cell properties UI feature}.\n */\nexport default class TableCellProperties extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TableCellProperties';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [TableCellPropertiesEditing, TableCellPropertiesUI];\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { normalizeColumnWidths } from './utils.js';\n/**\n * Command used by the {@link module:table/tablecolumnresize~TableColumnResize Table column resize feature} that\n * updates the width of the whole table as well as its individual columns.\n */\nexport default class TableWidthsCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        // The command is always enabled as it doesn't care about the actual selection - table can be resized\n        // even if the selection is elsewhere.\n        this.isEnabled = true;\n    }\n    /**\n     * Updated the `tableWidth` attribute of the table and the `columnWidth` attribute of the columns of that table.\n     */\n    execute(options = {}) {\n        const { model, plugins } = this.editor;\n        let { table = model.document.selection.getSelectedElement(), columnWidths, tableWidth } = options;\n        if (columnWidths) {\n            // For backwards compatibility, columnWidths might be an array or a string of comma-separated values.\n            columnWidths = Array.isArray(columnWidths) ?\n                columnWidths :\n                columnWidths.split(',');\n        }\n        model.change(writer => {\n            if (tableWidth) {\n                writer.setAttribute('tableWidth', tableWidth, table);\n            }\n            else {\n                writer.removeAttribute('tableWidth', table);\n            }\n            const tableColumnGroup = plugins\n                .get('TableColumnResizeEditing')\n                .getColumnGroupElement(table);\n            if (!columnWidths && !tableColumnGroup) {\n                return;\n            }\n            if (!columnWidths) {\n                return writer.remove(tableColumnGroup);\n            }\n            const widths = normalizeColumnWidths(columnWidths);\n            if (!tableColumnGroup) {\n                const colGroupElement = writer.createElement('tableColumnGroup');\n                widths.forEach(columnWidth => writer.appendElement('tableColumn', { columnWidth }, colGroupElement));\n                writer.append(colGroupElement, table);\n            }\n            else {\n                Array\n                    .from(tableColumnGroup.getChildren())\n                    .forEach((column, index) => writer.setAttribute('columnWidth', widths[index], column));\n            }\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/tablecolumnresize/tablecolumnresizeediting\n */\nimport { throttle, isEqual } from 'es-toolkit/compat';\nimport { global, DomEmitterMixin, Rect, toUnit } from 'ckeditor5/src/utils.js';\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport MouseEventsObserver from '../../src/tablemouse/mouseeventsobserver.js';\nimport TableEditing from '../tableediting.js';\nimport TableUtils from '../tableutils.js';\nimport TableWalker from '../tablewalker.js';\nimport TableWidthsCommand from './tablewidthscommand.js';\nimport { downcastTableResizedClass, upcastColgroupElement } from './converters.js';\nimport { clamp, createFilledArray, sumArray, getColumnEdgesIndexes, getChangedResizedTables, getColumnMinWidthAsPercentage, getElementWidthInPixels, getTableWidthInPixels, normalizeColumnWidths, toPrecision, getDomCellOuterWidth, updateColumnElements, getColumnGroupElement, getTableColumnElements, getTableColumnsWidths } from './utils.js';\nimport { COLUMN_MIN_WIDTH_IN_PIXELS, COLUMN_RESIZE_DISTANCE_THRESHOLD } from './constants.js';\nconst toPx = /* #__PURE__ */ toUnit('px');\n/**\n * The table column resize editing plugin.\n */\nexport default class TableColumnResizeEditing extends Plugin {\n    /**\n     * A flag indicating if the column resizing is in progress.\n     */\n    _isResizingActive;\n    /**\n     * A temporary storage for the required data needed to correctly calculate the widths of the resized columns. This storage is\n     * initialized when column resizing begins, and is purged upon completion.\n     */\n    _resizingData;\n    /**\n     * DOM emitter.\n     */\n    _domEmitter;\n    /**\n     * A local reference to the {@link module:table/tableutils~TableUtils} plugin.\n     */\n    _tableUtilsPlugin;\n    /**\n     * Starting mouse position data used to add a threshold to the resizing process.\n     */\n    _initialMouseEventData = null;\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [TableEditing, TableUtils];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TableColumnResizeEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        this._isResizingActive = false;\n        this.set('_isResizingAllowed', true);\n        this._resizingData = null;\n        this._domEmitter = new (DomEmitterMixin())();\n        this._tableUtilsPlugin = editor.plugins.get('TableUtils');\n        this.on('change:_isResizingAllowed', (evt, name, value) => {\n            // Toggling the `ck-column-resize_disabled` class shows and hides the resizers through CSS.\n            const classAction = value ? 'removeClass' : 'addClass';\n            editor.editing.view.change(writer => {\n                for (const root of editor.editing.view.document.roots) {\n                    writer[classAction]('ck-column-resize_disabled', editor.editing.view.document.getRoot(root.rootName));\n                }\n            });\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        this._extendSchema();\n        this._registerPostFixer();\n        this._registerConverters();\n        this._registerResizingListeners();\n        this._registerResizerInserter();\n        const editor = this.editor;\n        const columnResizePlugin = editor.plugins.get('TableColumnResize');\n        const tableEditing = editor.plugins.get('TableEditing');\n        tableEditing.registerAdditionalSlot({\n            filter: element => element.is('element', 'tableColumnGroup'),\n            positionOffset: 0\n        });\n        const tableWidthsCommand = new TableWidthsCommand(editor);\n        // For backwards compatibility we have two commands that perform exactly the same operation.\n        editor.commands.add('resizeTableWidth', tableWidthsCommand);\n        editor.commands.add('resizeColumnWidths', tableWidthsCommand);\n        // Currently the states of column resize and table resize (which is actually the last column resize) features\n        // are bound together. They can be separated in the future by adding distinct listeners and applying\n        // different CSS classes (e.g. `ck-column-resize_disabled` and `ck-table-resize_disabled`) to the editor root.\n        // See #12148 for the details.\n        this.bind('_isResizingAllowed').to(editor, 'isReadOnly', columnResizePlugin, 'isEnabled', tableWidthsCommand, 'isEnabled', (isEditorReadOnly, isPluginEnabled, isTableWidthsCommandCommandEnabled) => !isEditorReadOnly && isPluginEnabled && isTableWidthsCommandCommandEnabled);\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        this._domEmitter.stopListening();\n        super.destroy();\n    }\n    /**\n     * Returns a 'tableColumnGroup' element from the 'table'.\n     *\n     * @param element A 'table' or 'tableColumnGroup' element.\n     * @returns A 'tableColumnGroup' element.\n     */\n    getColumnGroupElement(element) {\n        return getColumnGroupElement(element);\n    }\n    /**\n     * Returns an array of 'tableColumn' elements.\n     *\n     * @param element A 'table' or 'tableColumnGroup' element.\n     * @returns An array of 'tableColumn' elements.\n     */\n    getTableColumnElements(element) {\n        return getTableColumnElements(element);\n    }\n    /**\n     * Returns an array of table column widths.\n     *\n     * @param element A 'table' or 'tableColumnGroup' element.\n     * @returns An array of table column widths.\n     */\n    getTableColumnsWidths(element) {\n        return getTableColumnsWidths(element);\n    }\n    /**\n     * Registers new attributes for a table model element.\n     */\n    _extendSchema() {\n        this.editor.model.schema.extend('table', {\n            allowAttributes: ['tableWidth']\n        });\n        this.editor.model.schema.register('tableColumnGroup', {\n            allowIn: 'table',\n            isLimit: true\n        });\n        this.editor.model.schema.register('tableColumn', {\n            allowIn: 'tableColumnGroup',\n            allowAttributes: ['columnWidth', 'colSpan'],\n            isLimit: true\n        });\n    }\n    /**\n     * Registers table column resize post-fixer.\n     *\n     * It checks if the change from the differ concerns a table-related element or attribute. For detected changes it:\n     *  * Adjusts the `columnWidths` attribute to guarantee that the sum of the widths from all columns is 100%.\n     *  * Checks if the `columnWidths` attribute gets updated accordingly after columns have been added or removed.\n     */\n    _registerPostFixer() {\n        const editor = this.editor;\n        const model = editor.model;\n        model.document.registerPostFixer(writer => {\n            let changed = false;\n            for (const table of getChangedResizedTables(model)) {\n                const tableColumnGroup = this.getColumnGroupElement(table);\n                const columns = this.getTableColumnElements(tableColumnGroup);\n                const columnWidths = this.getTableColumnsWidths(tableColumnGroup);\n                // Adjust the `columnWidths` attribute to guarantee that the sum of the widths from all columns is 100%.\n                let normalizedWidths = normalizeColumnWidths(columnWidths);\n                // If the number of columns has changed, then we need to adjust the widths of the affected columns.\n                normalizedWidths = adjustColumnWidths(normalizedWidths, table, this);\n                if (isEqual(columnWidths, normalizedWidths)) {\n                    continue;\n                }\n                updateColumnElements(columns, tableColumnGroup, normalizedWidths, writer);\n                changed = true;\n            }\n            return changed;\n        });\n        /**\n         * Adjusts if necessary the `columnWidths` in case if the number of column has changed.\n         *\n         * @param columnWidths Note: this array **may be modified** by the function.\n         * @param table Table to be checked.\n         */\n        function adjustColumnWidths(columnWidths, table, plugin) {\n            const newTableColumnsCount = plugin._tableUtilsPlugin.getColumns(table);\n            const columnsCountDelta = newTableColumnsCount - columnWidths.length;\n            if (columnsCountDelta === 0) {\n                return columnWidths;\n            }\n            const widths = columnWidths.map(width => Number(width.replace('%', '')));\n            // Collect all cells that are affected by the change.\n            const cellSet = getAffectedCells(plugin.editor.model.document.differ, table);\n            for (const cell of cellSet) {\n                const currentColumnsDelta = newTableColumnsCount - widths.length;\n                if (currentColumnsDelta === 0) {\n                    continue;\n                }\n                // If the column count in the table changed, adjust the widths of the affected columns.\n                const hasMoreColumns = currentColumnsDelta > 0;\n                const currentColumnIndex = plugin._tableUtilsPlugin.getCellLocation(cell).column;\n                if (hasMoreColumns) {\n                    const columnMinWidthAsPercentage = getColumnMinWidthAsPercentage(table, plugin.editor);\n                    const columnWidthsToInsert = createFilledArray(currentColumnsDelta, columnMinWidthAsPercentage);\n                    widths.splice(currentColumnIndex, 0, ...columnWidthsToInsert);\n                }\n                else {\n                    // Moves the widths of the removed columns to the preceding one.\n                    // Other editors either reduce the width of the whole table or adjust the widths\n                    // proportionally, so change of this behavior can be considered in the future.\n                    const removedColumnWidths = widths.splice(currentColumnIndex, Math.abs(currentColumnsDelta));\n                    widths[currentColumnIndex] += sumArray(removedColumnWidths);\n                }\n            }\n            return widths.map(width => width + '%');\n        }\n        /**\n         * Returns a set of cells that have been changed in a given table.\n         */\n        function getAffectedCells(differ, table) {\n            const cellSet = new Set();\n            for (const change of differ.getChanges()) {\n                if (change.type == 'insert' &&\n                    change.position.nodeAfter &&\n                    change.position.nodeAfter.name == 'tableCell' &&\n                    change.position.nodeAfter.getAncestors().includes(table)) {\n                    cellSet.add(change.position.nodeAfter);\n                }\n                else if (change.type == 'remove') {\n                    // If the first cell was removed, use the node after the change position instead.\n                    const referenceNode = (change.position.nodeBefore || change.position.nodeAfter);\n                    if (referenceNode.name == 'tableCell' && referenceNode.getAncestors().includes(table)) {\n                        cellSet.add(referenceNode);\n                    }\n                }\n            }\n            return cellSet;\n        }\n    }\n    /**\n     * Registers table column resize converters.\n     */\n    _registerConverters() {\n        const editor = this.editor;\n        const conversion = editor.conversion;\n        // Table width style\n        conversion.for('upcast').attributeToAttribute({\n            view: {\n                name: /^(figure|table)$/,\n                styles: {\n                    width: /[\\s\\S]+/\n                }\n            },\n            model: {\n                name: 'table',\n                key: 'tableWidth',\n                value: (viewElement) => viewElement.getStyle('width')\n            }\n        });\n        conversion.for('downcast').attributeToAttribute({\n            model: {\n                name: 'table',\n                key: 'tableWidth'\n            },\n            view: (width) => ({\n                name: 'figure',\n                key: 'style',\n                value: {\n                    width\n                }\n            })\n        });\n        conversion.elementToElement({ model: 'tableColumnGroup', view: 'colgroup' });\n        conversion.elementToElement({ model: 'tableColumn', view: 'col' });\n        conversion.for('downcast').add(downcastTableResizedClass());\n        conversion.for('upcast').add(upcastColgroupElement(this._tableUtilsPlugin));\n        conversion.for('upcast').attributeToAttribute({\n            view: {\n                name: 'col',\n                styles: {\n                    width: /.*/\n                }\n            },\n            model: {\n                key: 'columnWidth',\n                value: (viewElement) => {\n                    const viewColWidth = viewElement.getStyle('width');\n                    // 'pt' is the default unit for table column width pasted from MS Office.\n                    // See https://github.com/ckeditor/ckeditor5/issues/14521#issuecomment-1662102889 for more details.\n                    if (!viewColWidth || (!viewColWidth.endsWith('%') && !viewColWidth.endsWith('pt'))) {\n                        return 'auto';\n                    }\n                    return viewColWidth;\n                }\n            }\n        });\n        // The `col[span]` attribute is present in tables pasted from MS Excel. We use it to set the temporary `colSpan` model attribute,\n        // which is consumed during the `colgroup` element upcast.\n        // See https://github.com/ckeditor/ckeditor5/issues/14521#issuecomment-1662102889 for more details.\n        conversion.for('upcast').attributeToAttribute({\n            view: {\n                name: 'col',\n                key: 'span'\n            },\n            model: 'colSpan'\n        });\n        conversion.for('downcast').attributeToAttribute({\n            model: {\n                name: 'tableColumn',\n                key: 'columnWidth'\n            },\n            view: width => ({ key: 'style', value: { width } })\n        });\n    }\n    /**\n     * Registers listeners to handle resizing process.\n     */\n    _registerResizingListeners() {\n        const editingView = this.editor.editing.view;\n        editingView.addObserver(MouseEventsObserver);\n        editingView.document.on('mouseover', this._onMouseOverHandler.bind(this), { priority: 'high' });\n        editingView.document.on('mousedown', this._onMouseDownHandler.bind(this), { priority: 'high' });\n        editingView.document.on('mouseout', this._onMouseOutHandler.bind(this), { priority: 'high' });\n        this._domEmitter.listenTo(global.window.document, 'mousemove', throttle(this._onMouseMoveHandler.bind(this), 50));\n        this._domEmitter.listenTo(global.window.document, 'mouseup', this._onMouseUpHandler.bind(this));\n    }\n    /**\n     * Calculate and set `top` and `bottom` styles to the column resizer element to fit the height of the table.\n     *\n     * @param viewResizer The column resizer element.\n     */\n    _recalculateResizerElement(viewResizer) {\n        const editor = this.editor;\n        const domConverter = editor.editing.view.domConverter;\n        // Get DOM target figure ancestor element.\n        const domTable = domConverter.mapViewToDom(viewResizer.findAncestor('table'));\n        // Get DOM table cell element.\n        const domCell = domConverter.mapViewToDom(viewResizer.findAncestor(item => ['td', 'th'].includes(item.name)));\n        const rectTable = new Rect(domTable);\n        const rectCell = new Rect(domCell);\n        // Calculate the top, and bottom positions of the column resizer element.\n        const targetTopPosition = toPx(Number((rectTable.top - rectCell.top).toFixed(4)));\n        const targetBottomPosition = toPx(Number((rectCell.bottom - rectTable.bottom).toFixed(4)));\n        // Set `top` and `bottom` styles to the column resizer element.\n        editor.editing.view.change(viewWriter => {\n            viewWriter.setStyle('top', targetTopPosition, viewResizer);\n            viewWriter.setStyle('bottom', targetBottomPosition, viewResizer);\n        });\n    }\n    /**\n     * Remove `top` and `bottom` styles of the column resizer element.\n     *\n     * @param viewResizer The column resizer element.\n     */\n    _resetResizerStyles(viewResizer) {\n        this.editor.editing.view.change(viewWriter => {\n            viewWriter.removeStyle('top', viewResizer);\n            viewWriter.removeStyle('bottom', viewResizer);\n        });\n    }\n    /**\n     * Handles the `mouseover` event on column resizer element.\n     * Recalculates the `top` and `bottom` styles of the column resizer element to fit the height of the table.\n     *\n     * @param eventInfo An object containing information about the fired event.\n     * @param domEventData The data related to the DOM event.\n     */\n    _onMouseOverHandler(eventInfo, domEventData) {\n        const target = domEventData.target;\n        if (!target.hasClass('ck-table-column-resizer')) {\n            return;\n        }\n        if (!this._isResizingAllowed) {\n            return;\n        }\n        this._recalculateResizerElement(target);\n    }\n    /**\n     * Handles the `mouseout` event on column resizer element.\n     * When resizing is not active, it resets the `top` and `bottom` styles of the column resizer element.\n     *\n     * @param eventInfo An object containing information about the fired event.\n     * @param domEventData The data related to the DOM event.\n     */\n    _onMouseOutHandler(eventInfo, domEventData) {\n        const target = domEventData.target;\n        if (!target.hasClass('ck-table-column-resizer')) {\n            return;\n        }\n        if (!this._isResizingAllowed) {\n            return;\n        }\n        if (this._isResizingActive) {\n            return;\n        }\n        this._resetResizerStyles(target);\n    }\n    /**\n     * Handles the `mousedown` event on column resizer element:\n     *  * calculates the initial column pixel widths,\n     *  * inserts the `<colgroup>` element if it is not present in the `<table>`,\n     *  * puts the necessary data in the temporary storage,\n     *  * applies the attributes to the `<table>` view element.\n     *\n     * @param eventInfo An object containing information about the fired event.\n     * @param domEventData The data related to the DOM event.\n     */\n    _onMouseDownHandler(eventInfo, domEventData) {\n        const target = domEventData.target;\n        if (!target.hasClass('ck-table-column-resizer')) {\n            return;\n        }\n        if (!this._isResizingAllowed) {\n            return;\n        }\n        const editor = this.editor;\n        const modelTable = editor.editing.mapper.toModelElement(target.findAncestor('figure'));\n        // Do not resize if table model is in non-editable place.\n        if (!editor.model.canEditAt(modelTable)) {\n            return;\n        }\n        domEventData.preventDefault();\n        eventInfo.stop();\n        this._initialMouseEventData = domEventData;\n    }\n    /**\n     * Starts the resizing process after the threshold is reached.\n     */\n    _startResizingAfterThreshold() {\n        const domEventData = this._initialMouseEventData;\n        const { target } = domEventData;\n        const modelTable = this.editor.editing.mapper.toModelElement(target.findAncestor('figure'));\n        const viewTable = target.findAncestor('table');\n        // Calculate the initial column widths in pixels.\n        const columnWidthsInPx = _calculateDomColumnWidths(modelTable, this._tableUtilsPlugin, this.editor);\n        // Insert colgroup for the table that is resized for the first time.\n        if (!Array.from(viewTable.getChildren()).find(viewCol => viewCol.is('element', 'colgroup'))) {\n            this.editor.editing.view.change(viewWriter => {\n                _insertColgroupElement(viewWriter, columnWidthsInPx, viewTable);\n            });\n        }\n        this._isResizingActive = true;\n        this._resizingData = this._getResizingData(domEventData, columnWidthsInPx);\n        // At this point we change only the editor view - we don't want other users to see our changes yet,\n        // so we can't apply them in the model.\n        this.editor.editing.view.change(writer => _applyResizingAttributesToTable(writer, viewTable, this._resizingData));\n        /**\n         * Calculates the DOM columns' widths. It is done by taking the width of the widest cell\n         * from each table column (we rely on the  {@link module:table/tablewalker~TableWalker}\n         * to determine which column the cell belongs to).\n         *\n         * @param modelTable A table which columns should be measured.\n         * @param tableUtils The Table Utils plugin instance.\n         * @param editor The editor instance.\n         * @returns Columns' widths expressed in pixels (without unit).\n         */\n        function _calculateDomColumnWidths(modelTable, tableUtilsPlugin, editor) {\n            const columnWidthsInPx = Array(tableUtilsPlugin.getColumns(modelTable));\n            const tableWalker = new TableWalker(modelTable);\n            for (const cellSlot of tableWalker) {\n                const viewCell = editor.editing.mapper.toViewElement(cellSlot.cell);\n                const domCell = editor.editing.view.domConverter.mapViewToDom(viewCell);\n                const domCellWidth = getDomCellOuterWidth(domCell);\n                if (!columnWidthsInPx[cellSlot.column] || domCellWidth < columnWidthsInPx[cellSlot.column]) {\n                    columnWidthsInPx[cellSlot.column] = toPrecision(domCellWidth);\n                }\n            }\n            return columnWidthsInPx;\n        }\n        /**\n         * Creates a `<colgroup>` element with `<col>`s and inserts it into a given view table.\n         *\n         * @param viewWriter A writer instance.\n         * @param columnWidthsInPx Column widths.\n         * @param viewTable A table view element.\n         */\n        function _insertColgroupElement(viewWriter, columnWidthsInPx, viewTable) {\n            const colgroup = viewWriter.createContainerElement('colgroup');\n            for (let i = 0; i < columnWidthsInPx.length; i++) {\n                const viewColElement = viewWriter.createEmptyElement('col');\n                const columnWidthInPc = `${toPrecision(columnWidthsInPx[i] / sumArray(columnWidthsInPx) * 100)}%`;\n                viewWriter.setStyle('width', columnWidthInPc, viewColElement);\n                viewWriter.insert(viewWriter.createPositionAt(colgroup, 'end'), viewColElement);\n            }\n            viewWriter.insert(viewWriter.createPositionAt(viewTable, 0), colgroup);\n        }\n        /**\n         * Applies the style and classes to the view table as the resizing begun.\n         *\n         * @param viewWriter A writer instance.\n         * @param viewTable A table containing the clicked resizer.\n         * @param resizingData Data related to the resizing.\n         */\n        function _applyResizingAttributesToTable(viewWriter, viewTable, resizingData) {\n            const figureInitialPcWidth = resizingData.widths.viewFigureWidth / resizingData.widths.viewFigureParentWidth;\n            viewWriter.addClass('ck-table-resized', viewTable);\n            viewWriter.addClass('ck-table-column-resizer__active', resizingData.elements.viewResizer);\n            viewWriter.setStyle('width', `${toPrecision(figureInitialPcWidth * 100)}%`, viewTable.findAncestor('figure'));\n        }\n    }\n    /**\n     * Handles the `mousemove` event.\n     *  * If resizing process is not in progress, it does nothing.\n     *  * If resizing is active but not allowed, it stops the resizing process instantly calling the `mousedown` event handler.\n     *  * Otherwise it dynamically updates the widths of the resized columns.\n     *\n     * @param eventInfo An object containing information about the fired event.\n     * @param mouseEventData The native DOM event.\n     */\n    _onMouseMoveHandler(eventInfo, mouseEventData) {\n        if (this._initialMouseEventData) {\n            const mouseEvent = this._initialMouseEventData.domEvent;\n            const distanceX = Math.abs(mouseEventData.clientX - mouseEvent.clientX);\n            if (distanceX >= COLUMN_RESIZE_DISTANCE_THRESHOLD) {\n                this._startResizingAfterThreshold();\n                this._initialMouseEventData = null;\n            }\n            else {\n                return;\n            }\n        }\n        if (!this._isResizingActive) {\n            return;\n        }\n        if (!this._isResizingAllowed) {\n            this._onMouseUpHandler();\n            return;\n        }\n        const { columnPosition, flags: { isRightEdge, isTableCentered, isLtrContent }, elements: { viewFigure, viewLeftColumn, viewRightColumn, viewResizer }, widths: { viewFigureParentWidth, tableWidth, leftColumnWidth, rightColumnWidth } } = this._resizingData;\n        const dxLowerBound = -leftColumnWidth + COLUMN_MIN_WIDTH_IN_PIXELS;\n        const dxUpperBound = isRightEdge ?\n            viewFigureParentWidth - tableWidth :\n            rightColumnWidth - COLUMN_MIN_WIDTH_IN_PIXELS;\n        // The multiplier is needed for calculating the proper movement offset:\n        // - it should negate the sign if content language direction is right-to-left,\n        // - it should double the offset if the table edge is resized and table is centered.\n        const multiplier = (isLtrContent ? 1 : -1) * (isRightEdge && isTableCentered ? 2 : 1);\n        const dx = clamp((mouseEventData.clientX - columnPosition) * multiplier, Math.min(dxLowerBound, 0), Math.max(dxUpperBound, 0));\n        if (dx === 0) {\n            return;\n        }\n        this.editor.editing.view.change(writer => {\n            const leftColumnWidthAsPercentage = toPrecision((leftColumnWidth + dx) * 100 / tableWidth);\n            writer.setStyle('width', `${leftColumnWidthAsPercentage}%`, viewLeftColumn);\n            if (isRightEdge) {\n                const tableWidthAsPercentage = toPrecision((tableWidth + dx) * 100 / viewFigureParentWidth);\n                writer.setStyle('width', `${tableWidthAsPercentage}%`, viewFigure);\n            }\n            else {\n                const rightColumnWidthAsPercentage = toPrecision((rightColumnWidth - dx) * 100 / tableWidth);\n                writer.setStyle('width', `${rightColumnWidthAsPercentage}%`, viewRightColumn);\n            }\n        });\n        this._recalculateResizerElement(viewResizer);\n    }\n    /**\n     * Handles the `mouseup` event.\n     *  * If resizing process is not in progress, it does nothing.\n     *  * If resizing is active but not allowed, it cancels the resizing process restoring the original widths.\n     *  * Otherwise it propagates the changes from view to the model by executing the adequate commands.\n     */\n    _onMouseUpHandler() {\n        this._initialMouseEventData = null;\n        if (!this._isResizingActive) {\n            return;\n        }\n        const { viewResizer, modelTable, viewFigure, viewColgroup } = this._resizingData.elements;\n        const editor = this.editor;\n        const editingView = editor.editing.view;\n        const tableColumnGroup = this.getColumnGroupElement(modelTable);\n        const viewColumns = Array\n            .from(viewColgroup.getChildren())\n            .filter((column) => column.is('view:element'));\n        const columnWidthsAttributeOld = tableColumnGroup ?\n            this.getTableColumnsWidths(tableColumnGroup) :\n            null;\n        const columnWidthsAttributeNew = viewColumns.map(column => column.getStyle('width'));\n        const isColumnWidthsAttributeChanged = !isEqual(columnWidthsAttributeOld, columnWidthsAttributeNew);\n        const tableWidthAttributeOld = modelTable.getAttribute('tableWidth');\n        const tableWidthAttributeNew = viewFigure.getStyle('width');\n        const isTableWidthAttributeChanged = tableWidthAttributeOld !== tableWidthAttributeNew;\n        if (isColumnWidthsAttributeChanged || isTableWidthAttributeChanged) {\n            if (this._isResizingAllowed) {\n                editor.execute('resizeTableWidth', {\n                    table: modelTable,\n                    tableWidth: `${toPrecision(tableWidthAttributeNew)}%`,\n                    columnWidths: columnWidthsAttributeNew\n                });\n            }\n            else {\n                // In read-only mode revert all changes in the editing view. The model is not touched so it does not need to be restored.\n                // This case can occur if the read-only mode kicks in during the resizing process.\n                editingView.change(writer => {\n                    // If table had resized columns before, restore the previous column widths.\n                    // Otherwise clean up the view from the temporary column resizing markup.\n                    if (columnWidthsAttributeOld) {\n                        for (const viewCol of viewColumns) {\n                            writer.setStyle('width', columnWidthsAttributeOld.shift(), viewCol);\n                        }\n                    }\n                    else {\n                        writer.remove(viewColgroup);\n                    }\n                    if (isTableWidthAttributeChanged) {\n                        // If the whole table was already resized before, restore the previous table width.\n                        // Otherwise clean up the view from the temporary table resizing markup.\n                        if (tableWidthAttributeOld) {\n                            writer.setStyle('width', tableWidthAttributeOld, viewFigure);\n                        }\n                        else {\n                            writer.removeStyle('width', viewFigure);\n                        }\n                    }\n                    // If a table and its columns weren't resized before,\n                    // prune the remaining common resizing markup.\n                    if (!columnWidthsAttributeOld && !tableWidthAttributeOld) {\n                        writer.removeClass('ck-table-resized', [...viewFigure.getChildren()].find(element => element.name === 'table'));\n                    }\n                });\n            }\n        }\n        editingView.change(writer => {\n            writer.removeClass('ck-table-column-resizer__active', viewResizer);\n        });\n        const element = editingView.domConverter.mapViewToDom(viewResizer);\n        if (!element.matches(':hover')) {\n            this._resetResizerStyles(viewResizer);\n        }\n        this._isResizingActive = false;\n        this._resizingData = null;\n    }\n    /**\n     * Retrieves and returns required data needed for the resizing process.\n     *\n     * @param domEventData The data of the `mousedown` event.\n     * @param columnWidths The current widths of the columns.\n     * @returns The data needed for the resizing process.\n     */\n    _getResizingData(domEventData, columnWidths) {\n        const editor = this.editor;\n        const columnPosition = domEventData.domEvent.clientX;\n        const viewResizer = domEventData.target;\n        const viewLeftCell = viewResizer.findAncestor('td') || viewResizer.findAncestor('th');\n        const modelLeftCell = editor.editing.mapper.toModelElement(viewLeftCell);\n        const modelTable = modelLeftCell.findAncestor('table');\n        const leftColumnIndex = getColumnEdgesIndexes(modelLeftCell, this._tableUtilsPlugin).rightEdge;\n        const lastColumnIndex = this._tableUtilsPlugin.getColumns(modelTable) - 1;\n        const isRightEdge = leftColumnIndex === lastColumnIndex;\n        const isTableCentered = !modelTable.hasAttribute('tableAlignment');\n        const isLtrContent = editor.locale.contentLanguageDirection !== 'rtl';\n        const viewTable = viewLeftCell.findAncestor('table');\n        const viewFigure = viewTable.findAncestor('figure');\n        const viewColgroup = [...viewTable.getChildren()]\n            .find(viewCol => viewCol.is('element', 'colgroup'));\n        const viewLeftColumn = viewColgroup.getChild(leftColumnIndex);\n        const viewRightColumn = isRightEdge ? undefined : viewColgroup.getChild(leftColumnIndex + 1);\n        const viewFigureParentWidth = getElementWidthInPixels(editor.editing.view.domConverter.mapViewToDom(viewFigure.parent));\n        const viewFigureWidth = getElementWidthInPixels(editor.editing.view.domConverter.mapViewToDom(viewFigure));\n        const tableWidth = getTableWidthInPixels(modelTable, editor);\n        const leftColumnWidth = columnWidths[leftColumnIndex];\n        const rightColumnWidth = isRightEdge ? undefined : columnWidths[leftColumnIndex + 1];\n        return {\n            columnPosition,\n            flags: {\n                isRightEdge,\n                isTableCentered,\n                isLtrContent\n            },\n            elements: {\n                viewResizer,\n                modelTable,\n                viewFigure,\n                viewColgroup,\n                viewLeftColumn,\n                viewRightColumn\n            },\n            widths: {\n                viewFigureParentWidth,\n                viewFigureWidth,\n                tableWidth,\n                leftColumnWidth,\n                rightColumnWidth\n            }\n        };\n    }\n    /**\n     * Registers a listener ensuring that each resizable cell have a resizer handle.\n     */\n    _registerResizerInserter() {\n        this.editor.conversion.for('editingDowncast').add(dispatcher => {\n            dispatcher.on('insert:tableCell', (evt, data, conversionApi) => {\n                const modelElement = data.item;\n                const viewElement = conversionApi.mapper.toViewElement(modelElement);\n                const viewWriter = conversionApi.writer;\n                viewWriter.insert(viewWriter.createPositionAt(viewElement, 'end'), viewWriter.createUIElement('div', { class: 'ck-table-column-resizer' }));\n            }, { priority: 'lowest' });\n        });\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./tablecolumnresize.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./tablelayout.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { getSelectionAffectedTable } from '../../utils/common.js';\n/**\n * The table cell attribute command.\n *\n * This command is a base command for other table property commands.\n */\nexport default class TablePropertyCommand extends Command {\n    /**\n     * The attribute that will be set by the command.\n     */\n    attributeName;\n    /**\n     * The default value for the attribute.\n     *\n     * @readonly\n     */\n    _defaultValue;\n    /**\n     * The default value for the attribute for the content table.\n     */\n    _defaultContentTableValue;\n    /**\n     * The default value for the attribute for the layout table.\n     */\n    _defaultLayoutTableValue;\n    /**\n     * Creates a new `TablePropertyCommand` instance.\n     *\n     * @param editor An editor in which this command will be used.\n     * @param attributeName Table cell attribute name.\n     * @param defaultValue The default value of the attribute.\n     */\n    constructor(editor, attributeName, defaultValue) {\n        super(editor);\n        this.attributeName = attributeName;\n        this._defaultContentTableValue = defaultValue;\n        this._defaultLayoutTableValue = attributeName === 'tableBorderStyle' ? 'none' : undefined;\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const editor = this.editor;\n        const selection = editor.model.document.selection;\n        const table = getSelectionAffectedTable(selection);\n        this._defaultValue = !table || table.getAttribute('tableType') !== 'layout' ?\n            this._defaultContentTableValue :\n            this._defaultLayoutTableValue;\n        this.isEnabled = !!table;\n        this.value = this._getValue(table);\n    }\n    /**\n     * Executes the command.\n     *\n     * @fires execute\n     * @param options.value If set, the command will set the attribute on the selected table.\n     * If not set, the command will remove the attribute from the selected table.\n     * @param options.batch Pass the model batch instance to the command to aggregate changes,\n     * for example, to allow a single undo step for multiple executions.\n     */\n    execute(options = {}) {\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        const { value, batch } = options;\n        const table = getSelectionAffectedTable(selection);\n        const valueToSet = this._getValueToSet(value);\n        model.enqueueChange(batch, writer => {\n            if (valueToSet) {\n                writer.setAttribute(this.attributeName, valueToSet, table);\n            }\n            else {\n                writer.removeAttribute(this.attributeName, table);\n            }\n        });\n    }\n    /**\n     * Returns the attribute value for a table.\n     */\n    _getValue(table) {\n        if (!table) {\n            return;\n        }\n        const value = table.getAttribute(this.attributeName);\n        if (value === this._defaultValue) {\n            return;\n        }\n        return value;\n    }\n    /**\n     * Returns the proper model value. It can be used to add a default unit to numeric values.\n     */\n    _getValueToSet(value) {\n        if (value === this._defaultValue) {\n            return;\n        }\n        return value;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport TablePropertyCommand from './tablepropertycommand.js';\n/**\n * The table background color command.\n *\n * The command is registered by the {@link module:table/tableproperties/tablepropertiesediting~TablePropertiesEditing} as\n * the `'tableBackgroundColor'` editor command.\n *\n * To change the background color of the selected table, execute the command:\n *\n * ```ts\n * editor.execute( 'tableBackgroundColor', {\n *   value: '#f00'\n * } );\n * ```\n */\nexport default class TableBackgroundColorCommand extends TablePropertyCommand {\n    /**\n     * Creates a new `TableBackgroundColorCommand` instance.\n     *\n     * @param editor An editor in which this command will be used.\n     * @param defaultValue The default value of the attribute.\n     */\n    constructor(editor, defaultValue) {\n        super(editor, 'tableBackgroundColor', defaultValue);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport TablePropertyCommand from './tablepropertycommand.js';\nimport { getSingleValue } from '../../utils/table-properties.js';\n/**\n * The table border color command.\n *\n * The command is registered by the {@link module:table/tableproperties/tablepropertiesediting~TablePropertiesEditing} as\n * the `'tableBorderColor'` editor command.\n *\n * To change the border color of the selected table, execute the command:\n *\n * ```ts\n * editor.execute( 'tableBorderColor', {\n *   value: '#f00'\n * } );\n * ```\n */\nexport default class TableBorderColorCommand extends TablePropertyCommand {\n    /**\n     * Creates a new `TableBorderColorCommand` instance.\n     *\n     * @param editor An editor in which this command will be used.\n     * @param defaultValue The default value of the attribute.\n     */\n    constructor(editor, defaultValue) {\n        super(editor, 'tableBorderColor', defaultValue);\n    }\n    /**\n     * @inheritDoc\n     */\n    _getValue(table) {\n        if (!table) {\n            return;\n        }\n        const value = getSingleValue(table.getAttribute(this.attributeName));\n        if (value === this._defaultValue) {\n            return;\n        }\n        return value;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport TablePropertyCommand from './tablepropertycommand.js';\nimport { getSingleValue } from '../../utils/table-properties.js';\n/**\n * The table style border command.\n *\n * The command is registered by the {@link module:table/tableproperties/tablepropertiesediting~TablePropertiesEditing} as\n * the `'tableBorderStyle'` editor command.\n *\n * To change the border style of the selected table, execute the command:\n *\n * ```ts\n * editor.execute( 'tableBorderStyle', {\n *   value: 'dashed'\n * } );\n * ```\n */\nexport default class TableBorderStyleCommand extends TablePropertyCommand {\n    /**\n     * Creates a new `TableBorderStyleCommand` instance.\n     *\n     * @param editor An editor in which this command will be used.\n     * @param defaultValue The default value of the attribute.\n     */\n    constructor(editor, defaultValue) {\n        super(editor, 'tableBorderStyle', defaultValue);\n    }\n    /**\n     * @inheritDoc\n     */\n    _getValue(table) {\n        if (!table) {\n            return;\n        }\n        const value = getSingleValue(table.getAttribute(this.attributeName));\n        if (value === this._defaultValue) {\n            return;\n        }\n        return value;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport TablePropertyCommand from './tablepropertycommand.js';\nimport { addDefaultUnitToNumericValue, getSingleValue } from '../../utils/table-properties.js';\n/**\n * The table width border command.\n *\n * The command is registered by the {@link module:table/tableproperties/tablepropertiesediting~TablePropertiesEditing} as\n * the `'tableBorderWidth'` editor command.\n *\n * To change the border width of the selected table, execute the command:\n *\n * ```ts\n * editor.execute( 'tableBorderWidth', {\n *   value: '5px'\n * } );\n * ```\n *\n * **Note**: This command adds the default `'px'` unit to numeric values. Executing:\n *\n * ```ts\n * editor.execute( 'tableBorderWidth', {\n *   value: '5'\n * } );\n * ```\n *\n * will set the `borderWidth` attribute to `'5px'` in the model.\n */\nexport default class TableBorderWidthCommand extends TablePropertyCommand {\n    /**\n     * Creates a new `TableBorderWidthCommand` instance.\n     *\n     * @param editor An editor in which this command will be used.\n     * @param defaultValue The default value of the attribute.\n     */\n    constructor(editor, defaultValue) {\n        super(editor, 'tableBorderWidth', defaultValue);\n    }\n    /**\n     * @inheritDoc\n     */\n    _getValue(table) {\n        if (!table) {\n            return;\n        }\n        const value = getSingleValue(table.getAttribute(this.attributeName));\n        if (value === this._defaultValue) {\n            return;\n        }\n        return value;\n    }\n    /**\n     * @inheritDoc\n     */\n    _getValueToSet(value) {\n        const newValue = addDefaultUnitToNumericValue(value, 'px');\n        if (newValue === this._defaultValue) {\n            return;\n        }\n        return newValue;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/tableproperties/commands/tablewidthcommand\n */\nimport TablePropertyCommand from './tablepropertycommand.js';\nimport { addDefaultUnitToNumericValue } from '../../utils/table-properties.js';\n/**\n * The table width command.\n *\n * The command is registered by the {@link module:table/tableproperties/tablepropertiesediting~TablePropertiesEditing} as\n * the `'tableWidth'` editor command.\n *\n * To change the width of the selected table, execute the command:\n *\n * ```ts\n * editor.execute( 'tableWidth', {\n *   value: '400px'\n * } );\n * ```\n *\n * **Note**: This command adds the default `'px'` unit to numeric values. Executing:\n *\n * ```ts\n * editor.execute( 'tableWidth', {\n *   value: '50'\n * } );\n * ```\n *\n * will set the `width` attribute to `'50px'` in the model.\n */\nexport default class TableWidthCommand extends TablePropertyCommand {\n    /**\n     * Creates a new `TableWidthCommand` instance.\n     *\n     * @param editor An editor in which this command will be used.\n     * @param defaultValue The default value of the attribute.\n     */\n    constructor(editor, defaultValue) {\n        super(editor, 'tableWidth', defaultValue);\n    }\n    /**\n     * @inheritDoc\n     */\n    _getValueToSet(value) {\n        value = addDefaultUnitToNumericValue(value, 'px');\n        if (value === this._defaultValue) {\n            return;\n        }\n        return value;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/tableproperties/commands/tableheightcommand\n */\nimport TablePropertyCommand from './tablepropertycommand.js';\nimport { addDefaultUnitToNumericValue } from '../../utils/table-properties.js';\n/**\n * The table height command.\n *\n * The command is registered by the {@link module:table/tableproperties/tablepropertiesediting~TablePropertiesEditing} as\n * the `'tableHeight'` editor command.\n *\n * To change the height of the selected table, execute the command:\n *\n * ```ts\n * editor.execute( 'tableHeight', {\n *   value: '500px'\n * } );\n * ```\n *\n * **Note**: This command adds the default `'px'` unit to numeric values. Executing:\n *\n * ```ts\n * editor.execute( 'tableHeight', {\n *   value: '50'\n * } );\n * ```\n *\n * will set the `height` attribute to `'50px'` in the model.\n */\nexport default class TableHeightCommand extends TablePropertyCommand {\n    /**\n     * Creates a new `TableHeightCommand` instance.\n     *\n     * @param editor An editor in which this command will be used.\n     * @param defaultValue The default value of the attribute.\n     */\n    constructor(editor, defaultValue) {\n        super(editor, 'tableHeight', defaultValue);\n    }\n    /**\n     * @inheritDoc\n     */\n    _getValueToSet(value) {\n        value = addDefaultUnitToNumericValue(value, 'px');\n        if (value === this._defaultValue) {\n            return;\n        }\n        return value;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport TablePropertyCommand from './tablepropertycommand.js';\n/**\n * The table alignment command.\n *\n * The command is registered by the {@link module:table/tableproperties/tablepropertiesediting~TablePropertiesEditing} as\n * the `'tableAlignment'` editor command.\n *\n * To change the alignment of the selected table, execute the command:\n *\n * ```ts\n * editor.execute( 'tableAlignment', {\n *   value: 'right'\n * } );\n * ```\n */\nexport default class TableAlignmentCommand extends TablePropertyCommand {\n    /**\n     * Creates a new `TableAlignmentCommand` instance.\n     *\n     * @param editor An editor in which this command will be used.\n     * @param defaultValue The default value for the \"alignment\" attribute.\n     */\n    constructor(editor, defaultValue) {\n        super(editor, 'tableAlignment', defaultValue);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/tableproperties/tablepropertiesediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { addBackgroundRules, addBorderRules } from 'ckeditor5/src/engine.js';\nimport TableEditing from '../tableediting.js';\nimport { downcastAttributeToStyle, downcastTableAttribute, getDefaultValueAdjusted, upcastBorderStyles, upcastStyleToAttribute } from '../converters/tableproperties.js';\nimport TableBackgroundColorCommand from './commands/tablebackgroundcolorcommand.js';\nimport TableBorderColorCommand from './commands/tablebordercolorcommand.js';\nimport TableBorderStyleCommand from './commands/tableborderstylecommand.js';\nimport TableBorderWidthCommand from './commands/tableborderwidthcommand.js';\nimport TableWidthCommand from './commands/tablewidthcommand.js';\nimport TableHeightCommand from './commands/tableheightcommand.js';\nimport TableAlignmentCommand from './commands/tablealignmentcommand.js';\nimport { getNormalizedDefaultTableProperties } from '../utils/table-properties.js';\nconst ALIGN_VALUES_REG_EXP = /^(left|center|right)$/;\nconst FLOAT_VALUES_REG_EXP = /^(left|none|right)$/;\n/**\n * The table properties editing feature.\n *\n * Introduces table's model attributes and their conversion:\n *\n * - border: `tableBorderStyle`, `tableBorderColor` and `tableBorderWidth`\n * - background color: `tableBackgroundColor`\n * - horizontal alignment: `tableAlignment`\n * - width & height: `tableWidth` & `tableHeight`\n *\n * It also registers commands used to manipulate the above attributes:\n *\n * - border: `'tableBorderStyle'`, `'tableBorderColor'` and `'tableBorderWidth'` commands\n * - background color: `'tableBackgroundColor'`\n * - horizontal alignment: `'tableAlignment'`\n * - width & height: `'tableWidth'` & `'tableHeight'`\n */\nexport default class TablePropertiesEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TablePropertiesEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [TableEditing];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const schema = editor.model.schema;\n        const conversion = editor.conversion;\n        editor.config.define('table.tableProperties.defaultProperties', {});\n        const defaultTableProperties = getNormalizedDefaultTableProperties(editor.config.get('table.tableProperties.defaultProperties'), {\n            includeAlignmentProperty: true\n        });\n        editor.data.addStyleProcessorRules(addBorderRules);\n        enableBorderProperties(schema, conversion, {\n            color: defaultTableProperties.borderColor,\n            style: defaultTableProperties.borderStyle,\n            width: defaultTableProperties.borderWidth\n        });\n        editor.commands.add('tableBorderColor', new TableBorderColorCommand(editor, defaultTableProperties.borderColor));\n        editor.commands.add('tableBorderStyle', new TableBorderStyleCommand(editor, defaultTableProperties.borderStyle));\n        editor.commands.add('tableBorderWidth', new TableBorderWidthCommand(editor, defaultTableProperties.borderWidth));\n        enableAlignmentProperty(schema, conversion, defaultTableProperties.alignment);\n        editor.commands.add('tableAlignment', new TableAlignmentCommand(editor, defaultTableProperties.alignment));\n        enableTableToFigureProperty(schema, conversion, {\n            modelAttribute: 'tableWidth',\n            styleName: 'width',\n            defaultValue: defaultTableProperties.width\n        });\n        editor.commands.add('tableWidth', new TableWidthCommand(editor, defaultTableProperties.width));\n        enableTableToFigureProperty(schema, conversion, {\n            modelAttribute: 'tableHeight',\n            styleName: 'height',\n            defaultValue: defaultTableProperties.height\n        });\n        editor.commands.add('tableHeight', new TableHeightCommand(editor, defaultTableProperties.height));\n        editor.data.addStyleProcessorRules(addBackgroundRules);\n        enableProperty(schema, conversion, {\n            modelAttribute: 'tableBackgroundColor',\n            styleName: 'background-color',\n            defaultValue: defaultTableProperties.backgroundColor\n        });\n        editor.commands.add('tableBackgroundColor', new TableBackgroundColorCommand(editor, defaultTableProperties.backgroundColor));\n    }\n}\n/**\n * Enables `tableBorderStyle'`, `tableBorderColor'` and `tableBorderWidth'` attributes for table.\n *\n * @param defaultBorder The default border values.\n * @param defaultBorder.color The default `tableBorderColor` value.\n * @param defaultBorder.style The default `tableBorderStyle` value.\n * @param defaultBorder.width The default `tableBorderWidth` value.\n */\nfunction enableBorderProperties(schema, conversion, defaultBorder) {\n    const modelAttributes = {\n        width: 'tableBorderWidth',\n        color: 'tableBorderColor',\n        style: 'tableBorderStyle'\n    };\n    schema.extend('table', {\n        allowAttributes: Object.values(modelAttributes)\n    });\n    upcastBorderStyles(conversion, 'table', modelAttributes, defaultBorder);\n    downcastTableAttribute(conversion, { modelAttribute: modelAttributes.color, styleName: 'border-color' });\n    downcastTableAttribute(conversion, { modelAttribute: modelAttributes.style, styleName: 'border-style' });\n    downcastTableAttribute(conversion, { modelAttribute: modelAttributes.width, styleName: 'border-width' });\n}\n/**\n * Enables the `'alignment'` attribute for table.\n *\n * @param defaultValue The default alignment value.\n */\nfunction enableAlignmentProperty(schema, conversion, defaultValue) {\n    schema.extend('table', {\n        allowAttributes: ['tableAlignment']\n    });\n    conversion.for('downcast')\n        .attributeToAttribute({\n        model: {\n            name: 'table',\n            key: 'tableAlignment',\n            values: ['left', 'center', 'right']\n        },\n        view: {\n            left: {\n                key: 'style',\n                value: {\n                    float: 'left'\n                }\n            },\n            right: {\n                key: 'style',\n                value: {\n                    float: 'right'\n                }\n            },\n            center: (alignment, conversionApi, data) => {\n                const value = data.item.getAttribute('tableType') !== 'layout' ? {\n                    // Model: `alignment:center` => CSS: `float:none`.\n                    float: 'none'\n                } : {\n                    'margin-left': 'auto',\n                    'margin-right': 'auto'\n                };\n                return {\n                    key: 'style',\n                    value\n                };\n            }\n        },\n        converterPriority: 'high'\n    });\n    conversion.for('upcast')\n        // Support for the `float:*;` CSS definition for the table alignment.\n        .attributeToAttribute({\n        view: {\n            name: /^(table|figure)$/,\n            styles: {\n                float: FLOAT_VALUES_REG_EXP\n            }\n        },\n        model: {\n            key: 'tableAlignment',\n            value: (viewElement, conversionApi, data) => {\n                const localDefaultValue = getDefaultValueAdjusted(defaultValue, '', data);\n                let align = viewElement.getStyle('float');\n                // CSS: `float:none` => Model: `alignment:center`.\n                if (align === 'none') {\n                    align = 'center';\n                }\n                return align === localDefaultValue ? null : align;\n            }\n        }\n    })\n        // Support for the `margin-left:auto; margin-right:auto;` CSS definition for the table alignment.\n        .attributeToAttribute({\n        view: {\n            name: /^(table|figure)$/,\n            styles: {\n                'margin-left': 'auto',\n                'margin-right': 'auto'\n            }\n        },\n        model: {\n            key: 'tableAlignment',\n            value: (viewElement, conversionApi, data) => {\n                const localDefaultValue = getDefaultValueAdjusted(defaultValue, '', data);\n                const align = 'center';\n                return align === localDefaultValue ? null : align;\n            }\n        }\n    })\n        // Support for the `align` attribute as the backward compatibility while pasting from other sources.\n        .attributeToAttribute({\n        view: {\n            attributes: {\n                align: ALIGN_VALUES_REG_EXP\n            }\n        },\n        model: {\n            name: 'table',\n            key: 'tableAlignment',\n            value: (viewElement, conversionApi, data) => {\n                const localDefaultValue = getDefaultValueAdjusted(defaultValue, '', data);\n                const align = viewElement.getAttribute('align');\n                return align === localDefaultValue ? null : align;\n            }\n        }\n    });\n}\n/**\n * Enables conversion for an attribute for simple view-model mappings.\n *\n * @param options.defaultValue The default value for the specified `modelAttribute`.\n */\nfunction enableProperty(schema, conversion, options) {\n    const { modelAttribute } = options;\n    schema.extend('table', {\n        allowAttributes: [modelAttribute]\n    });\n    upcastStyleToAttribute(conversion, { viewElement: 'table', ...options });\n    downcastTableAttribute(conversion, options);\n}\n/**\n * Enables conversion for an attribute for simple view (figure) to model (table) mappings.\n */\nfunction enableTableToFigureProperty(schema, conversion, options) {\n    const { modelAttribute } = options;\n    schema.extend('table', {\n        allowAttributes: [modelAttribute]\n    });\n    upcastStyleToAttribute(conversion, {\n        viewElement: /^(table|figure)$/,\n        shouldUpcast: (element) => !(element.name == 'table' && element.parent.name == 'figure'),\n        ...options\n    });\n    downcastAttributeToStyle(conversion, { modelElement: 'table', ...options });\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./tableproperties.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/tableproperties/ui/tablepropertiesview\n */\nimport { addListToDropdown, ButtonView, createLabeledDropdown, createLabeledInputText, FocusCycler, FormRowView, FormHeaderView, LabeledFieldView, LabelView, submitHandler, ToolbarView, View, ViewCollection } from 'ckeditor5/src/ui.js';\nimport { FocusTracker, KeystrokeHandler } from 'ckeditor5/src/utils.js';\nimport { IconCancel, IconCheck, IconObjectCenter, IconObjectInlineLeft, IconObjectInlineRight } from 'ckeditor5/src/icons.js';\nimport { fillToolbar, getBorderStyleDefinitions, getBorderStyleLabels, getLabeledColorInputCreator } from '../../utils/ui/table-properties.js';\n// eslint-disable-next-line ckeditor5-rules/ckeditor-imports\nimport '@ckeditor/ckeditor5-ui/theme/components/form/form.css';\nimport '../../../theme/formrow.css';\nimport '../../../theme/tableform.css';\nimport '../../../theme/tableproperties.css';\n/**\n * The class representing a table properties form, allowing users to customize\n * certain style aspects of a table, for instance, border, background color, alignment, etc..\n */\nexport default class TablePropertiesView extends View {\n    /**\n     * Options passed to the view. See {@link #constructor} to learn more.\n     */\n    options;\n    /**\n     * Tracks information about the DOM focus in the form.\n     */\n    focusTracker;\n    /**\n     * An instance of the {@link module:utils/keystrokehandler~KeystrokeHandler}.\n     */\n    keystrokes;\n    /**\n     * A collection of child views in the form.\n     */\n    children;\n    /**\n     * A dropdown that allows selecting the style of the table border.\n     */\n    borderStyleDropdown;\n    /**\n     * An input that allows specifying the width of the table border.\n     */\n    borderWidthInput;\n    /**\n     * An input that allows specifying the color of the table border.\n     */\n    borderColorInput;\n    /**\n     * An input that allows specifying the table background color.\n     */\n    backgroundInput;\n    /**\n     * An input that allows specifying the table width.\n     */\n    widthInput;\n    /**\n     * An input that allows specifying the table height.\n     */\n    heightInput;\n    /**\n     * A toolbar with buttons that allow changing the alignment of an entire table.\n     */\n    alignmentToolbar;\n    /**\n     * The \"Save\" button view.\n     */\n    saveButtonView;\n    /**\n     * The \"Cancel\" button view.\n     */\n    cancelButtonView;\n    /**\n     * A collection of views that can be focused in the form.\n     */\n    _focusables;\n    /**\n     * Helps cycling over {@link #_focusables} in the form.\n     */\n    _focusCycler;\n    /**\n     * @param locale The {@link module:core/editor/editor~Editor#locale} instance.\n     * @param options Additional configuration of the view.\n     */\n    constructor(locale, options) {\n        super(locale);\n        this.set({\n            borderStyle: '',\n            borderWidth: '',\n            borderColor: '',\n            backgroundColor: '',\n            width: '',\n            height: '',\n            alignment: ''\n        });\n        this.options = options;\n        const { borderStyleDropdown, borderWidthInput, borderColorInput, borderRowLabel } = this._createBorderFields();\n        const { backgroundRowLabel, backgroundInput } = this._createBackgroundFields();\n        const { widthInput, operatorLabel, heightInput, dimensionsLabel } = this._createDimensionFields();\n        const { alignmentToolbar, alignmentLabel } = this._createAlignmentFields();\n        this.focusTracker = new FocusTracker();\n        this.keystrokes = new KeystrokeHandler();\n        this.children = this.createCollection();\n        this.borderStyleDropdown = borderStyleDropdown;\n        this.borderWidthInput = borderWidthInput;\n        this.borderColorInput = borderColorInput;\n        this.backgroundInput = backgroundInput;\n        this.widthInput = widthInput;\n        this.heightInput = heightInput;\n        this.alignmentToolbar = alignmentToolbar;\n        // Defer creating to make sure other fields are present and the Save button can\n        // bind its #isEnabled to their error messages so there's no way to save unless all\n        // fields are valid.\n        const { saveButtonView, cancelButtonView } = this._createActionButtons();\n        this.saveButtonView = saveButtonView;\n        this.cancelButtonView = cancelButtonView;\n        this._focusables = new ViewCollection();\n        this._focusCycler = new FocusCycler({\n            focusables: this._focusables,\n            focusTracker: this.focusTracker,\n            keystrokeHandler: this.keystrokes,\n            actions: {\n                // Navigate form fields backwards using the Shift + Tab keystroke.\n                focusPrevious: 'shift + tab',\n                // Navigate form fields forwards using the Tab key.\n                focusNext: 'tab'\n            }\n        });\n        // Form header.\n        this.children.add(new FormHeaderView(locale, {\n            label: this.t('Table properties')\n        }));\n        // Border row.\n        this.children.add(new FormRowView(locale, {\n            labelView: borderRowLabel,\n            children: [\n                borderRowLabel,\n                borderStyleDropdown,\n                borderColorInput,\n                borderWidthInput\n            ],\n            class: 'ck-table-form__border-row'\n        }));\n        // Background row.\n        this.children.add(new FormRowView(locale, {\n            labelView: backgroundRowLabel,\n            children: [\n                backgroundRowLabel,\n                backgroundInput\n            ],\n            class: 'ck-table-form__background-row'\n        }));\n        this.children.add(new FormRowView(locale, {\n            children: [\n                // Dimensions row.\n                new FormRowView(locale, {\n                    labelView: dimensionsLabel,\n                    children: [\n                        dimensionsLabel,\n                        widthInput,\n                        operatorLabel,\n                        heightInput\n                    ],\n                    class: 'ck-table-form__dimensions-row'\n                }),\n                // Alignment row.\n                new FormRowView(locale, {\n                    labelView: alignmentLabel,\n                    children: [\n                        alignmentLabel,\n                        alignmentToolbar\n                    ],\n                    class: 'ck-table-properties-form__alignment-row'\n                })\n            ]\n        }));\n        // Action row.\n        this.children.add(new FormRowView(locale, {\n            children: [\n                this.saveButtonView,\n                this.cancelButtonView\n            ],\n            class: 'ck-table-form__action-row'\n        }));\n        this.setTemplate({\n            tag: 'form',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-form',\n                    'ck-table-form',\n                    'ck-table-properties-form'\n                ],\n                // https://github.com/ckeditor/ckeditor5-link/issues/90\n                tabindex: '-1'\n            },\n            children: this.children\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    render() {\n        super.render();\n        // Enable the \"submit\" event for this view. It can be triggered by the #saveButtonView\n        // which is of the \"submit\" DOM \"type\".\n        submitHandler({\n            view: this\n        });\n        // Maintain continuous focus cycling over views that have focusable children and focus cyclers themselves.\n        [this.borderColorInput, this.backgroundInput].forEach(view => {\n            this._focusCycler.chain(view.fieldView.focusCycler);\n        });\n        [\n            this.borderStyleDropdown,\n            this.borderColorInput,\n            this.borderWidthInput,\n            this.backgroundInput,\n            this.widthInput,\n            this.heightInput,\n            this.alignmentToolbar,\n            this.saveButtonView,\n            this.cancelButtonView\n        ].forEach(view => {\n            // Register the view as focusable.\n            this._focusables.add(view);\n            // Register the view in the focus tracker.\n            this.focusTracker.add(view.element);\n        });\n        // Mainly for closing using \"Esc\" and navigation using \"Tab\".\n        this.keystrokes.listenTo(this.element);\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        super.destroy();\n        this.focusTracker.destroy();\n        this.keystrokes.destroy();\n    }\n    /**\n     * Focuses the fist focusable field in the form.\n     */\n    focus() {\n        this._focusCycler.focusFirst();\n    }\n    /**\n     * Creates the following form fields:\n     *\n     * * {@link #borderStyleDropdown},\n     * * {@link #borderWidthInput},\n     * * {@link #borderColorInput}.\n     */\n    _createBorderFields() {\n        const defaultTableProperties = this.options.defaultTableProperties;\n        const defaultBorder = {\n            style: defaultTableProperties.borderStyle,\n            width: defaultTableProperties.borderWidth,\n            color: defaultTableProperties.borderColor\n        };\n        const colorInputCreator = getLabeledColorInputCreator({\n            colorConfig: this.options.borderColors,\n            columns: 5,\n            defaultColorValue: defaultBorder.color,\n            colorPickerConfig: this.options.colorPickerConfig\n        });\n        const locale = this.locale;\n        const t = this.t;\n        const accessibleLabel = t('Style');\n        // -- Group label ---------------------------------------------\n        const borderRowLabel = new LabelView(locale);\n        borderRowLabel.text = t('Border');\n        // -- Style ---------------------------------------------------\n        const styleLabels = getBorderStyleLabels(t);\n        const borderStyleDropdown = new LabeledFieldView(locale, createLabeledDropdown);\n        borderStyleDropdown.set({\n            label: accessibleLabel,\n            class: 'ck-table-form__border-style'\n        });\n        borderStyleDropdown.fieldView.buttonView.set({\n            ariaLabel: accessibleLabel,\n            ariaLabelledBy: undefined,\n            isOn: false,\n            withText: true,\n            tooltip: accessibleLabel\n        });\n        borderStyleDropdown.fieldView.buttonView.bind('label').to(this, 'borderStyle', value => {\n            return styleLabels[value ? value : 'none'];\n        });\n        borderStyleDropdown.fieldView.on('execute', evt => {\n            this.borderStyle = evt.source._borderStyleValue;\n        });\n        borderStyleDropdown.bind('isEmpty').to(this, 'borderStyle', value => !value);\n        addListToDropdown(borderStyleDropdown.fieldView, getBorderStyleDefinitions(this, defaultBorder.style), {\n            role: 'menu',\n            ariaLabel: accessibleLabel\n        });\n        // -- Width ---------------------------------------------------\n        const borderWidthInput = new LabeledFieldView(locale, createLabeledInputText);\n        borderWidthInput.set({\n            label: t('Width'),\n            class: 'ck-table-form__border-width'\n        });\n        borderWidthInput.fieldView.bind('value').to(this, 'borderWidth');\n        borderWidthInput.bind('isEnabled').to(this, 'borderStyle', isBorderStyleSet);\n        borderWidthInput.fieldView.on('input', () => {\n            this.borderWidth = borderWidthInput.fieldView.element.value;\n        });\n        // -- Color ---------------------------------------------------\n        const borderColorInput = new LabeledFieldView(locale, colorInputCreator);\n        borderColorInput.set({\n            label: t('Color'),\n            class: 'ck-table-form__border-color'\n        });\n        borderColorInput.fieldView.bind('value').to(this, 'borderColor');\n        borderColorInput.bind('isEnabled').to(this, 'borderStyle', isBorderStyleSet);\n        borderColorInput.fieldView.on('input', () => {\n            this.borderColor = borderColorInput.fieldView.value;\n        });\n        // Reset the border color and width fields depending on the `border-style` value.\n        this.on('change:borderStyle', (evt, name, newValue, oldValue) => {\n            // When removing the border (`border-style:none`), clear the remaining `border-*` properties.\n            // See: https://github.com/ckeditor/ckeditor5/issues/6227.\n            if (!isBorderStyleSet(newValue)) {\n                this.borderColor = '';\n                this.borderWidth = '';\n            }\n            // When setting the `border-style` from `none`, set the default `border-color` and `border-width` properties.\n            if (!isBorderStyleSet(oldValue)) {\n                this.borderColor = defaultBorder.color;\n                this.borderWidth = defaultBorder.width;\n            }\n        });\n        return {\n            borderRowLabel,\n            borderStyleDropdown,\n            borderColorInput,\n            borderWidthInput\n        };\n    }\n    /**\n     * Creates the following form fields:\n     *\n     * * {@link #backgroundInput}.\n     */\n    _createBackgroundFields() {\n        const locale = this.locale;\n        const t = this.t;\n        // -- Group label ---------------------------------------------\n        const backgroundRowLabel = new LabelView(locale);\n        backgroundRowLabel.text = t('Background');\n        // -- Background color input -----------------------------------\n        const backgroundInputCreator = getLabeledColorInputCreator({\n            colorConfig: this.options.backgroundColors,\n            columns: 5,\n            defaultColorValue: this.options.defaultTableProperties.backgroundColor,\n            colorPickerConfig: this.options.colorPickerConfig\n        });\n        const backgroundInput = new LabeledFieldView(locale, backgroundInputCreator);\n        backgroundInput.set({\n            label: t('Color'),\n            class: 'ck-table-properties-form__background'\n        });\n        backgroundInput.fieldView.bind('value').to(this, 'backgroundColor');\n        backgroundInput.fieldView.on('input', () => {\n            this.backgroundColor = backgroundInput.fieldView.value;\n        });\n        return {\n            backgroundRowLabel,\n            backgroundInput\n        };\n    }\n    /**\n     * Creates the following form fields:\n     *\n     * * {@link #widthInput},\n     * * {@link #heightInput}.\n     */\n    _createDimensionFields() {\n        const locale = this.locale;\n        const t = this.t;\n        // -- Label ---------------------------------------------------\n        const dimensionsLabel = new LabelView(locale);\n        dimensionsLabel.text = t('Dimensions');\n        // -- Width ---------------------------------------------------\n        const widthInput = new LabeledFieldView(locale, createLabeledInputText);\n        widthInput.set({\n            label: t('Width'),\n            class: 'ck-table-form__dimensions-row__width'\n        });\n        widthInput.fieldView.bind('value').to(this, 'width');\n        widthInput.fieldView.on('input', () => {\n            this.width = widthInput.fieldView.element.value;\n        });\n        // -- Operator ---------------------------------------------------\n        const operatorLabel = new View(locale);\n        operatorLabel.setTemplate({\n            tag: 'span',\n            attributes: {\n                class: [\n                    'ck-table-form__dimension-operator'\n                ]\n            },\n            children: [\n                { text: '×' }\n            ]\n        });\n        // -- Height ---------------------------------------------------\n        const heightInput = new LabeledFieldView(locale, createLabeledInputText);\n        heightInput.set({\n            label: t('Height'),\n            class: 'ck-table-form__dimensions-row__height'\n        });\n        heightInput.fieldView.bind('value').to(this, 'height');\n        heightInput.fieldView.on('input', () => {\n            this.height = heightInput.fieldView.element.value;\n        });\n        return {\n            dimensionsLabel,\n            widthInput,\n            operatorLabel,\n            heightInput\n        };\n    }\n    /**\n     * Creates the following form fields:\n     *\n     * * {@link #alignmentToolbar}.\n     */\n    _createAlignmentFields() {\n        const locale = this.locale;\n        const t = this.t;\n        // -- Label ---------------------------------------------------\n        const alignmentLabel = new LabelView(locale);\n        alignmentLabel.text = t('Alignment');\n        // -- Toolbar ---------------------------------------------------\n        const alignmentToolbar = new ToolbarView(locale);\n        alignmentToolbar.set({\n            role: 'radiogroup',\n            isCompact: true,\n            ariaLabel: t('Table alignment toolbar')\n        });\n        fillToolbar({\n            view: this,\n            icons: {\n                left: IconObjectInlineLeft,\n                center: IconObjectCenter,\n                right: IconObjectInlineRight\n            },\n            toolbar: alignmentToolbar,\n            labels: this._alignmentLabels,\n            propertyName: 'alignment',\n            defaultValue: this.options.defaultTableProperties.alignment\n        });\n        return {\n            alignmentLabel,\n            alignmentToolbar\n        };\n    }\n    /**\n     * Creates the following form controls:\n     *\n     * * {@link #saveButtonView},\n     * * {@link #cancelButtonView}.\n     */\n    _createActionButtons() {\n        const locale = this.locale;\n        const t = this.t;\n        const saveButtonView = new ButtonView(locale);\n        const cancelButtonView = new ButtonView(locale);\n        const fieldsThatShouldValidateToSave = [\n            this.borderWidthInput,\n            this.borderColorInput,\n            this.backgroundInput,\n            this.widthInput,\n            this.heightInput\n        ];\n        saveButtonView.set({\n            label: t('Save'),\n            icon: IconCheck,\n            class: 'ck-button-save',\n            type: 'submit',\n            withText: true\n        });\n        saveButtonView.bind('isEnabled').toMany(fieldsThatShouldValidateToSave, 'errorText', (...errorTexts) => {\n            return errorTexts.every(errorText => !errorText);\n        });\n        cancelButtonView.set({\n            label: t('Cancel'),\n            icon: IconCancel,\n            class: 'ck-button-cancel',\n            withText: true\n        });\n        cancelButtonView.delegate('execute').to(this, 'cancel');\n        return {\n            saveButtonView, cancelButtonView\n        };\n    }\n    /**\n     * Provides localized labels for {@link #alignmentToolbar} buttons.\n     */\n    get _alignmentLabels() {\n        const locale = this.locale;\n        const t = this.t;\n        const left = t('Align table to the left');\n        const center = t('Center table');\n        const right = t('Align table to the right');\n        // Returns object with a proper order of labels.\n        if (locale.uiLanguageDirection === 'rtl') {\n            return { right, center, left };\n        }\n        else {\n            return { left, center, right };\n        }\n    }\n}\nfunction isBorderStyleSet(value) {\n    return value !== 'none';\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/tableproperties/tablepropertiesui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { IconTableProperties } from 'ckeditor5/src/icons.js';\nimport { ButtonView, ContextualBalloon, clickOutsideHandler, getLocalizedColorOptions, normalizeColorOptions } from 'ckeditor5/src/ui.js';\nimport { debounce } from 'es-toolkit/compat';\nimport TablePropertiesView from './ui/tablepropertiesview.js';\nimport { colorFieldValidator, getLocalizedColorErrorText, getLocalizedLengthErrorText, lengthFieldValidator, lineWidthFieldValidator, defaultColors } from '../utils/ui/table-properties.js';\nimport { getSelectionAffectedTableWidget } from '../utils/ui/widget.js';\nimport { getBalloonTablePositionData, repositionContextualBalloon } from '../utils/ui/contextualballoon.js';\nimport { getNormalizedDefaultProperties, getNormalizedDefaultTableProperties } from '../utils/table-properties.js';\nconst ERROR_TEXT_TIMEOUT = 500;\n// Map of view properties and related commands.\nconst propertyToCommandMap = {\n    borderStyle: 'tableBorderStyle',\n    borderColor: 'tableBorderColor',\n    borderWidth: 'tableBorderWidth',\n    backgroundColor: 'tableBackgroundColor',\n    width: 'tableWidth',\n    height: 'tableHeight',\n    alignment: 'tableAlignment'\n};\n/**\n * The table properties UI plugin. It introduces the `'tableProperties'` button\n * that opens a form allowing to specify visual styling of an entire table.\n *\n * It uses the {@link module:ui/panel/balloon/contextualballoon~ContextualBalloon contextual balloon plugin}.\n */\nexport default class TablePropertiesUI extends Plugin {\n    /**\n     * The default table properties.\n     */\n    _defaultContentTableProperties;\n    /**\n     * The default layout table properties.\n     */\n    _defaultLayoutTableProperties;\n    /**\n     * The contextual balloon plugin instance.\n     */\n    _balloon;\n    /**\n     * The properties form view displayed inside the balloon.\n     */\n    view = null;\n    /**\n     * The properties form view displayed inside the balloon (content table).\n     */\n    _viewWithContentTableDefaults = null;\n    /**\n     * The properties form view displayed inside the balloon (layout table).\n     */\n    _viewWithLayoutTableDefaults = null;\n    /**\n     * The batch used to undo all changes made by the form (which are live, as the user types)\n     * when \"Cancel\" was pressed. Each time the view is shown, a new batch is created.\n     */\n    _undoStepBatch;\n    /**\n     * Flag used to indicate whether view is ready to execute update commands\n     * (it finished loading initial data).\n     */\n    _isReady;\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ContextualBalloon];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TablePropertiesUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        editor.config.define('table.tableProperties', {\n            borderColors: defaultColors,\n            backgroundColors: defaultColors\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        this._defaultContentTableProperties = getNormalizedDefaultTableProperties(editor.config.get('table.tableProperties.defaultProperties'), {\n            includeAlignmentProperty: true\n        });\n        this._defaultLayoutTableProperties = getNormalizedDefaultProperties();\n        this._balloon = editor.plugins.get(ContextualBalloon);\n        editor.ui.componentFactory.add('tableProperties', () => this._createTablePropertiesButton());\n    }\n    /**\n     * Creates the table properties button.\n     *\n     * @internal\n     */\n    _createTablePropertiesButton() {\n        const editor = this.editor;\n        const t = editor.t;\n        const view = new ButtonView(editor.locale);\n        view.set({\n            label: t('Table properties'),\n            icon: IconTableProperties,\n            tooltip: true\n        });\n        this.listenTo(view, 'execute', () => this._showView());\n        const commands = Object.values(propertyToCommandMap)\n            .map(commandName => editor.commands.get(commandName));\n        view.bind('isEnabled').toMany(commands, 'isEnabled', (...areEnabled) => (areEnabled.some(isCommandEnabled => isCommandEnabled)));\n        return view;\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        super.destroy();\n        // Destroy created UI components as they are not automatically destroyed.\n        // See https://github.com/ckeditor/ckeditor5/issues/1341.\n        if (this.view) {\n            this.view.destroy();\n        }\n    }\n    /**\n     * Creates the {@link module:table/tableproperties/ui/tablepropertiesview~TablePropertiesView} instance.\n     *\n     * @returns The table properties form view instance.\n     */\n    _createPropertiesView(defaultTableProperties) {\n        const editor = this.editor;\n        const config = editor.config.get('table.tableProperties');\n        const borderColorsConfig = normalizeColorOptions(config.borderColors);\n        const localizedBorderColors = getLocalizedColorOptions(editor.locale, borderColorsConfig);\n        const backgroundColorsConfig = normalizeColorOptions(config.backgroundColors);\n        const localizedBackgroundColors = getLocalizedColorOptions(editor.locale, backgroundColorsConfig);\n        const hasColorPicker = config.colorPicker !== false;\n        const view = new TablePropertiesView(editor.locale, {\n            borderColors: localizedBorderColors,\n            backgroundColors: localizedBackgroundColors,\n            defaultTableProperties,\n            colorPickerConfig: hasColorPicker ? (config.colorPicker || {}) : false\n        });\n        const t = editor.t;\n        // Render the view so its #element is available for the clickOutsideHandler.\n        view.render();\n        this.listenTo(view, 'submit', () => {\n            this._hideView();\n        });\n        this.listenTo(view, 'cancel', () => {\n            // https://github.com/ckeditor/ckeditor5/issues/6180\n            if (this._undoStepBatch.operations.length) {\n                editor.execute('undo', this._undoStepBatch);\n            }\n            this._hideView();\n        });\n        // Close the balloon on Esc key press.\n        view.keystrokes.set('Esc', (data, cancel) => {\n            this._hideView();\n            cancel();\n        });\n        // Close on click outside of balloon panel element.\n        clickOutsideHandler({\n            emitter: view,\n            activator: () => this._isViewInBalloon,\n            contextElements: [this._balloon.view.element],\n            callback: () => this._hideView()\n        });\n        const colorErrorText = getLocalizedColorErrorText(t);\n        const lengthErrorText = getLocalizedLengthErrorText(t);\n        // Create the \"UI -> editor data\" binding.\n        // These listeners update the editor data (via table commands) when any observable\n        // property of the view has changed. They also validate the value and display errors in the UI\n        // when necessary. This makes the view live, which means the changes are\n        // visible in the editing as soon as the user types or changes fields' values.\n        view.on('change:borderStyle', this._getPropertyChangeCallback('tableBorderStyle'));\n        view.on('change:borderColor', this._getValidatedPropertyChangeCallback({\n            viewField: view.borderColorInput,\n            commandName: 'tableBorderColor',\n            errorText: colorErrorText,\n            validator: colorFieldValidator\n        }));\n        view.on('change:borderWidth', this._getValidatedPropertyChangeCallback({\n            viewField: view.borderWidthInput,\n            commandName: 'tableBorderWidth',\n            errorText: lengthErrorText,\n            validator: lineWidthFieldValidator\n        }));\n        view.on('change:backgroundColor', this._getValidatedPropertyChangeCallback({\n            viewField: view.backgroundInput,\n            commandName: 'tableBackgroundColor',\n            errorText: colorErrorText,\n            validator: colorFieldValidator\n        }));\n        view.on('change:width', this._getValidatedPropertyChangeCallback({\n            viewField: view.widthInput,\n            commandName: 'tableWidth',\n            errorText: lengthErrorText,\n            validator: lengthFieldValidator\n        }));\n        view.on('change:height', this._getValidatedPropertyChangeCallback({\n            viewField: view.heightInput,\n            commandName: 'tableHeight',\n            errorText: lengthErrorText,\n            validator: lengthFieldValidator\n        }));\n        view.on('change:alignment', this._getPropertyChangeCallback('tableAlignment'));\n        return view;\n    }\n    /**\n     * In this method the \"editor data -> UI\" binding is happening.\n     *\n     * When executed, this method obtains selected table property values from various table commands\n     * and passes them to the {@link #view}.\n     *\n     * This way, the UI stays up–to–date with the editor data.\n     */\n    _fillViewFormFromCommandValues() {\n        const commands = this.editor.commands;\n        const borderStyleCommand = commands.get('tableBorderStyle');\n        Object.entries(propertyToCommandMap)\n            .map(([property, commandName]) => {\n            const propertyKey = property;\n            const defaultValue = this.view === this._viewWithContentTableDefaults ?\n                this._defaultContentTableProperties[propertyKey] || '' :\n                this._defaultLayoutTableProperties[propertyKey] || '';\n            return [propertyKey, (commands.get(commandName).value || defaultValue)];\n        })\n            .forEach(([property, value]) => {\n            // Do not set the `border-color` and `border-width` fields if `border-style:none`.\n            if ((property === 'borderColor' || property === 'borderWidth') && borderStyleCommand.value === 'none') {\n                return;\n            }\n            this.view.set(property, value);\n        });\n        this._isReady = true;\n    }\n    /**\n     * Shows the {@link #view} in the {@link #_balloon}.\n     *\n     * **Note**: Each time a view is shown, the new {@link #_undoStepBatch} is created that contains\n     * all changes made to the document when the view is visible, allowing a single undo step\n     * for all of them.\n     */\n    _showView() {\n        const editor = this.editor;\n        const viewTable = getSelectionAffectedTableWidget(editor.editing.view.document.selection);\n        const modelTable = viewTable && editor.editing.mapper.toModelElement(viewTable);\n        const useDefaults = !modelTable || modelTable.getAttribute('tableType') !== 'layout';\n        if (useDefaults && !this._viewWithContentTableDefaults) {\n            this._viewWithContentTableDefaults = this._createPropertiesView(this._defaultContentTableProperties);\n        }\n        else if (!useDefaults && !this._viewWithLayoutTableDefaults) {\n            this._viewWithLayoutTableDefaults = this._createPropertiesView(this._defaultLayoutTableProperties);\n        }\n        this.view = useDefaults ? this._viewWithContentTableDefaults : this._viewWithLayoutTableDefaults;\n        this.listenTo(editor.ui, 'update', () => {\n            this._updateView();\n        });\n        // Update the view with the model values.\n        this._fillViewFormFromCommandValues();\n        this._balloon.add({\n            view: this.view,\n            position: getBalloonTablePositionData(editor)\n        });\n        // Create a new batch. Clicking \"Cancel\" will undo this batch.\n        this._undoStepBatch = editor.model.createBatch();\n        // Basic a11y.\n        this.view.focus();\n    }\n    /**\n     * Removes the {@link #view} from the {@link #_balloon}.\n     */\n    _hideView() {\n        const editor = this.editor;\n        this.stopListening(editor.ui, 'update');\n        this._isReady = false;\n        // Blur any input element before removing it from DOM to prevent issues in some browsers.\n        // See https://github.com/ckeditor/ckeditor5/issues/1501.\n        this.view.saveButtonView.focus();\n        this._balloon.remove(this.view);\n        // Make sure the focus is not lost in the process by putting it directly\n        // into the editing view.\n        this.editor.editing.view.focus();\n    }\n    /**\n     * Repositions the {@link #_balloon} or hides the {@link #view} if a table is no longer selected.\n     */\n    _updateView() {\n        const editor = this.editor;\n        const viewDocument = editor.editing.view.document;\n        if (!getSelectionAffectedTableWidget(viewDocument.selection)) {\n            this._hideView();\n        }\n        else if (this._isViewVisible) {\n            repositionContextualBalloon(editor, 'table');\n        }\n    }\n    /**\n     * Returns `true` when the {@link #view} is the visible in the {@link #_balloon}.\n     */\n    get _isViewVisible() {\n        return !!this.view && this._balloon.visibleView === this.view;\n    }\n    /**\n     * Returns `true` when the {@link #view} is in the {@link #_balloon}.\n     */\n    get _isViewInBalloon() {\n        return !!this.view && this._balloon.hasView(this.view);\n    }\n    /**\n     * Creates a callback that when executed upon {@link #view view's} property change\n     * executes a related editor command with the new property value.\n     *\n     * If new value will be set to the default value, the command will not be executed.\n     *\n     * @param commandName The command that will be executed.\n     */\n    _getPropertyChangeCallback(commandName) {\n        return (evt, propertyName, newValue) => {\n            // Do not execute the command on initial call (opening the table properties view).\n            if (!this._isReady) {\n                return;\n            }\n            this.editor.execute(commandName, {\n                value: newValue,\n                batch: this._undoStepBatch\n            });\n        };\n    }\n    /**\n     * Creates a callback that when executed upon {@link #view view's} property change:\n     * * executes a related editor command with the new property value if the value is valid,\n     * * or sets the error text next to the invalid field, if the value did not pass the validation.\n     */\n    _getValidatedPropertyChangeCallback(options) {\n        const { commandName, viewField, validator, errorText } = options;\n        const setErrorTextDebounced = debounce(() => {\n            viewField.errorText = errorText;\n        }, ERROR_TEXT_TIMEOUT);\n        return (evt, propertyName, newValue) => {\n            setErrorTextDebounced.cancel();\n            // Do not execute the command on initial call (opening the table properties view).\n            if (!this._isReady) {\n                return;\n            }\n            if (validator(newValue)) {\n                this.editor.execute(commandName, {\n                    value: newValue,\n                    batch: this._undoStepBatch\n                });\n                viewField.errorText = null;\n            }\n            else {\n                setErrorTextDebounced();\n            }\n        };\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/tableproperties\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport TablePropertiesEditing from './tableproperties/tablepropertiesediting.js';\nimport TablePropertiesUI from './tableproperties/tablepropertiesui.js';\n/**\n * The table properties feature. Enables support for setting properties of tables (size, border, background, etc.).\n *\n * Read more in the {@glink features/tables/tables-styling Table and cell styling tools} section.\n * See also the {@link module:table/tablecellproperties~TableCellProperties} plugin.\n *\n * This is a \"glue\" plugin that loads the\n * {@link module:table/tableproperties/tablepropertiesediting~TablePropertiesEditing table properties editing feature} and\n * the {@link module:table/tableproperties/tablepropertiesui~TablePropertiesUI table properties UI feature}.\n */\nexport default class TableProperties extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TableProperties';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [TablePropertiesEditing, TablePropertiesUI];\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { getSelectionAffectedTable } from '../utils/common.js';\n/**\n * Checks if the provided model element is a `table`.\n *\n * @param modelElement Element to check if it is a table.\n */\nexport function isTable(modelElement) {\n    return !!modelElement && modelElement.is('element', 'table');\n}\n/**\n * Returns the caption model element from a given table element. Returns `null` if no caption is found.\n *\n * @param tableModelElement Table element in which we will try to find a caption element.\n */\nexport function getCaptionFromTableModelElement(tableModelElement) {\n    for (const node of tableModelElement.getChildren()) {\n        if (node.is('element', 'caption')) {\n            return node;\n        }\n    }\n    return null;\n}\n/**\n * Returns the caption model element for a model selection. Returns `null` if the selection has no caption element ancestor.\n *\n * @param selection The selection checked for caption presence.\n */\nexport function getCaptionFromModelSelection(selection) {\n    const tableElement = getSelectionAffectedTable(selection);\n    if (!tableElement) {\n        return null;\n    }\n    return getCaptionFromTableModelElement(tableElement);\n}\n/**\n * {@link module:engine/view/matcher~Matcher} pattern. Checks if a given element is a caption.\n *\n * There are two possible forms of the valid caption:\n *  - A `<figcaption>` element inside a `<figure class=\"table\">` element.\n *  - A `<caption>` inside a <table>.\n *\n * @returns Returns the object accepted by {@link module:engine/view/matcher~Matcher} or `null` if the element cannot be matched.\n */\nexport function matchTableCaptionViewElement(element) {\n    const parent = element.parent;\n    if (element.name == 'figcaption' && parent && parent.is('element', 'figure') && parent.hasClass('table')) {\n        return { name: true };\n    }\n    if (element.name == 'caption' && parent && parent.is('element', 'table')) {\n        return { name: true };\n    }\n    return null;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n* @module table/tablecaption/toggletablecaptioncommand\n*/\nimport { Command } from 'ckeditor5/src/core.js';\nimport { getCaptionFromTableModelElement } from './utils.js';\nimport { getSelectionAffectedTable } from '../utils/common.js';\n/**\n * The toggle table caption command.\n *\n * This command is registered by {@link module:table/tablecaption/tablecaptionediting~TableCaptionEditing} as the\n * `'toggleTableCaption'` editor command.\n *\n * Executing this command:\n *\n * * either adds or removes the table caption of a selected table (depending on whether the caption is present or not),\n * * removes the table caption if the selection is anchored in one.\n *\n * ```ts\n * // Toggle the presence of the caption.\n * editor.execute( 'toggleTableCaption' );\n * ```\n *\n * **Note**: You can move the selection to the caption right away as it shows up upon executing this command by using\n * the `focusCaptionOnShow` option:\n *\n * ```ts\n * editor.execute( 'toggleTableCaption', { focusCaptionOnShow: true } );\n * ```\n */\nexport default class ToggleTableCaptionCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const editor = this.editor;\n        const tableElement = getSelectionAffectedTable(editor.model.document.selection);\n        this.isEnabled = !!tableElement && editor.model.schema.checkChild(tableElement, 'caption');\n        if (!this.isEnabled) {\n            this.value = false;\n        }\n        else {\n            this.value = !!getCaptionFromTableModelElement(tableElement);\n        }\n    }\n    /**\n     * Executes the command.\n     *\n     * ```ts\n     * editor.execute( 'toggleTableCaption' );\n     * ```\n     *\n     * @param options Options for the executed command.\n     * @param options.focusCaptionOnShow When true and the caption shows up, the selection will be moved into it straight away.\n     * @fires execute\n     */\n    execute({ focusCaptionOnShow = false } = {}) {\n        this.editor.model.change(writer => {\n            if (this.value) {\n                this._hideTableCaption(writer);\n            }\n            else {\n                this._showTableCaption(writer, focusCaptionOnShow);\n            }\n        });\n    }\n    /**\n     * Shows the table caption. Also:\n     *\n     * * it attempts to restore the caption content from the `TableCaptionEditing` caption registry,\n     * * it moves the selection to the caption right away, it the `focusCaptionOnShow` option was set.\n     *\n     * @param focusCaptionOnShow Default focus behavior when showing the caption.\n     */\n    _showTableCaption(writer, focusCaptionOnShow) {\n        const model = this.editor.model;\n        const tableElement = getSelectionAffectedTable(model.document.selection);\n        const tableCaptionEditing = this.editor.plugins.get('TableCaptionEditing');\n        const savedCaptionElement = tableCaptionEditing._getSavedCaption(tableElement);\n        // Try restoring the caption from the TableCaptionEditing plugin storage.\n        const newCaptionElement = savedCaptionElement || writer.createElement('caption');\n        model.insertContent(newCaptionElement, tableElement, 'end');\n        if (focusCaptionOnShow) {\n            writer.setSelection(newCaptionElement, 'in');\n        }\n    }\n    /**\n     * Hides the caption of a selected table (or an table caption the selection is anchored to).\n     *\n     * The content of the caption is stored in the `TableCaptionEditing` caption registry to make this\n     * a reversible action.\n     */\n    _hideTableCaption(writer) {\n        const model = this.editor.model;\n        const tableElement = getSelectionAffectedTable(model.document.selection);\n        const tableCaptionEditing = this.editor.plugins.get('TableCaptionEditing');\n        const captionElement = getCaptionFromTableModelElement(tableElement);\n        // Store the caption content so it can be restored quickly if the user changes their mind.\n        tableCaptionEditing._saveCaption(tableElement, captionElement);\n        model.deleteContent(writer.createSelection(captionElement, 'on'));\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/tablecaption/tablecaptionediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Element, enablePlaceholder } from 'ckeditor5/src/engine.js';\nimport { toWidgetEditable } from 'ckeditor5/src/widget.js';\nimport injectTableCaptionPostFixer from '../converters/table-caption-post-fixer.js';\nimport ToggleTableCaptionCommand from './toggletablecaptioncommand.js';\nimport { isTable, matchTableCaptionViewElement } from './utils.js';\n/**\n * The table caption editing plugin.\n */\nexport default class TableCaptionEditing extends Plugin {\n    /**\n     * A map that keeps saved JSONified table captions and table model elements they are\n     * associated with.\n     *\n     * To learn more about this system, see {@link #_saveCaption}.\n     */\n    _savedCaptionsMap;\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TableCaptionEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        this._savedCaptionsMap = new WeakMap();\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const schema = editor.model.schema;\n        const view = editor.editing.view;\n        const t = editor.t;\n        if (!schema.isRegistered('caption')) {\n            schema.register('caption', {\n                allowIn: 'table',\n                allowContentOf: '$block',\n                isLimit: true\n            });\n        }\n        else {\n            schema.extend('caption', {\n                allowIn: 'table'\n            });\n        }\n        editor.commands.add('toggleTableCaption', new ToggleTableCaptionCommand(this.editor));\n        // View -> model converter for the data pipeline.\n        editor.conversion.for('upcast').elementToElement({\n            view: matchTableCaptionViewElement,\n            model: 'caption'\n        });\n        // Model -> view converter for the data pipeline.\n        editor.conversion.for('dataDowncast').elementToElement({\n            model: 'caption',\n            view: (modelElement, { writer }) => {\n                if (!isTable(modelElement.parent)) {\n                    return null;\n                }\n                return writer.createContainerElement('figcaption');\n            }\n        });\n        // Model -> view converter for the editing pipeline.\n        editor.conversion.for('editingDowncast').elementToElement({\n            model: 'caption',\n            view: (modelElement, { writer }) => {\n                if (!isTable(modelElement.parent)) {\n                    return null;\n                }\n                const figcaptionElement = writer.createEditableElement('figcaption');\n                writer.setCustomProperty('tableCaption', true, figcaptionElement);\n                figcaptionElement.placeholder = t('Enter table caption');\n                enablePlaceholder({\n                    view,\n                    element: figcaptionElement,\n                    keepOnFocus: true\n                });\n                return toWidgetEditable(figcaptionElement, writer);\n            }\n        });\n        injectTableCaptionPostFixer(editor.model);\n    }\n    /**\n     * Returns the saved {@link module:engine/model/element~Element#toJSON JSONified} caption\n     * of a table model element.\n     *\n     * See {@link #_saveCaption}.\n     *\n     * @internal\n     * @param tableModelElement The model element the caption should be returned for.\n     * @returns The model caption element or `null` if there is none.\n     */\n    _getSavedCaption(tableModelElement) {\n        const jsonObject = this._savedCaptionsMap.get(tableModelElement);\n        return jsonObject ? Element.fromJSON(jsonObject) : null;\n    }\n    /**\n     * Saves a {@link module:engine/model/element~Element#toJSON JSONified} caption for\n     * a table element to allow restoring it in the future.\n     *\n     * A caption is saved every time it gets hidden. The\n     * user should be able to restore it on demand.\n     *\n     * **Note**: The caption cannot be stored in the table model element attribute because,\n     * for instance, when the model state propagates to collaborators, the attribute would get\n     * lost (mainly because it does not convert to anything when the caption is hidden) and\n     * the states of collaborators' models would de-synchronize causing numerous issues.\n     *\n     * See {@link #_getSavedCaption}.\n     *\n     * @internal\n     * @param tableModelElement The model element the caption is saved for.\n     * @param caption The caption model element to be saved.\n     */\n    _saveCaption(tableModelElement, caption) {\n        this._savedCaptionsMap.set(tableModelElement, caption.toJSON());\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * Injects a table caption post-fixer into the model.\n *\n * The role of the table caption post-fixer is to ensure that the table with caption have the correct structure\n * after a {@link module:engine/model/model~Model#change `change()`} block was executed.\n *\n * The correct structure means that:\n *\n * * If there are many caption model element, they are merged into one model.\n * * A final, merged caption model is placed at the end of the table.\n */\nexport default function injectTableCaptionPostFixer(model) {\n    model.document.registerPostFixer(writer => tableCaptionPostFixer(writer, model));\n}\n/**\n * The table caption post-fixer.\n */\nfunction tableCaptionPostFixer(writer, model) {\n    const changes = model.document.differ.getChanges();\n    let wasFixed = false;\n    for (const entry of changes) {\n        if (entry.type != 'insert') {\n            continue;\n        }\n        const positionParent = entry.position.parent;\n        if (positionParent.is('element', 'table') || entry.name == 'table') {\n            const table = (entry.name == 'table' ? entry.position.nodeAfter : positionParent);\n            const captionsToMerge = Array.from(table.getChildren())\n                .filter((child) => child.is('element', 'caption'));\n            const firstCaption = captionsToMerge.shift();\n            if (!firstCaption) {\n                continue;\n            }\n            // Move all the contents of the captions to the first one.\n            for (const caption of captionsToMerge) {\n                writer.move(writer.createRangeIn(caption), firstCaption, 'end');\n                writer.remove(caption);\n            }\n            // Make sure the final caption is at the end of the table.\n            if (firstCaption.nextSibling) {\n                writer.move(writer.createRangeOn(firstCaption), table, 'end');\n                wasFixed = true;\n            }\n            // Do we merged captions and/or moved the single caption to the end of the table?\n            wasFixed = !!captionsToMerge.length || wasFixed;\n        }\n    }\n    return wasFixed;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n* @module table/tablecaption/tablecaptionui\n*/\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { ButtonView } from 'ckeditor5/src/ui.js';\nimport { IconCaption } from 'ckeditor5/src/icons.js';\nimport { getCaptionFromModelSelection } from './utils.js';\n/**\n  * The table caption UI plugin. It introduces the `'toggleTableCaption'` UI button.\n  */\nexport default class TableCaptionUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TableCaptionUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const editingView = editor.editing.view;\n        const t = editor.t;\n        editor.ui.componentFactory.add('toggleTableCaption', locale => {\n            const command = editor.commands.get('toggleTableCaption');\n            const view = new ButtonView(locale);\n            view.set({\n                icon: IconCaption,\n                tooltip: true,\n                isToggleable: true\n            });\n            view.bind('isOn', 'isEnabled').to(command, 'value', 'isEnabled');\n            view.bind('label').to(command, 'value', value => value ? t('Toggle caption off') : t('Toggle caption on'));\n            this.listenTo(view, 'execute', () => {\n                editor.execute('toggleTableCaption', { focusCaptionOnShow: true });\n                // Scroll to the selection and highlight the caption if the caption showed up.\n                if (command.value) {\n                    const modelCaptionElement = getCaptionFromModelSelection(editor.model.document.selection);\n                    const figcaptionElement = editor.editing.mapper.toViewElement(modelCaptionElement);\n                    if (!figcaptionElement) {\n                        return;\n                    }\n                    editingView.scrollToTheSelection();\n                    editingView.change(writer => {\n                        writer.addClass('table__caption_highlighted', figcaptionElement);\n                    });\n                }\n                editor.editing.view.focus();\n            });\n            return view;\n        });\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./tablecaption.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module table/tablecaption\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport TableCaptionEditing from './tablecaption/tablecaptionediting.js';\nimport TableCaptionUI from './tablecaption/tablecaptionui.js';\nimport '../theme/tablecaption.css';\n/**\n * The table caption plugin.\n */\nexport default class TableCaption extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TableCaption';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [TableCaptionEditing, TableCaptionUI];\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * Returns a plain text representation of an element and its children.\n *\n * @returns Plain text representing the model's data.\n */\nexport function modelElementToPlainText(item) {\n    if (item.is('$text') || item.is('$textProxy')) {\n        return item.data;\n    }\n    const element = item;\n    let text = '';\n    let prev = null;\n    for (const child of element.getChildren()) {\n        const childText = modelElementToPlainText(child);\n        // If last block was finish, start from new line.\n        if (prev && prev.is('element')) {\n            text += '\\n';\n        }\n        text += childText;\n        prev = child;\n    }\n    return text;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Template, View } from 'ckeditor5/src/ui.js';\nimport { env } from 'ckeditor5/src/utils.js';\nimport { modelElementToPlainText } from './utils.js';\nimport { throttle, isElement } from 'es-toolkit/compat';\n/**\n * The word count plugin.\n *\n * This plugin calculates all words and characters in all {@link module:engine/model/text~Text text nodes} available in the model.\n * It also provides an HTML element that updates its state whenever the editor content is changed.\n *\n * The model's data is first converted to plain text using {@link module:word-count/utils~modelElementToPlainText}.\n * The number of words and characters in your text are determined based on the created plain text. Please keep in mind\n * that every block in the editor is separated with a newline character, which is included in the calculation.\n *\n * Here are some examples of how the word and character calculations are made:\n *\n * ```html\n * <paragraph>foo</paragraph>\n * <paragraph>bar</paragraph>\n * // Words: 2, Characters: 7\n *\n * <paragraph><$text bold=\"true\">foo</$text>bar</paragraph>\n * // Words: 1, Characters: 6\n *\n * <paragraph>*&^%)</paragraph>\n * // Words: 0, Characters: 5\n *\n * <paragraph>foo(bar)</paragraph>\n * //Words: 1, Characters: 8\n *\n * <paragraph>12345</paragraph>\n * // Words: 1, Characters: 5\n * ```\n */\nexport default class WordCount extends Plugin {\n    /**\n     * The configuration of this plugin.\n     */\n    _config;\n    /**\n     * The reference to a {@link module:ui/view~View view object} that contains the self-updating HTML container.\n     */\n    _outputView;\n    /**\n     * A regular expression used to recognize words in the editor's content.\n     */\n    _wordsMatchRegExp;\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        this.set('characters', 0);\n        this.set('words', 0);\n        // Don't wait for the #update event to set the value of the properties but obtain it right away.\n        // This way, accessing the properties directly returns precise numbers, e.g. for validation, etc.\n        // If not accessed directly, the properties will be refreshed upon #update anyway.\n        Object.defineProperties(this, {\n            characters: {\n                get() {\n                    return (this.characters = this._getCharacters(this._getText()));\n                }\n            },\n            words: {\n                get() {\n                    return (this.words = this._getWords(this._getText()));\n                }\n            }\n        });\n        this.set('_wordsLabel', undefined);\n        this.set('_charactersLabel', undefined);\n        this._config = editor.config.get('wordCount') || {};\n        this._outputView = undefined;\n        this._wordsMatchRegExp = env.features.isRegExpUnicodePropertySupported ?\n            // Usage of regular expression literal cause error during build (ckeditor/ckeditor5-dev#534).\n            // Groups:\n            // {L} - Any kind of letter from any language.\n            // {N} - Any kind of numeric character in any script.\n            new RegExp('([\\\\p{L}\\\\p{N}]+\\\\S?)+', 'gu') :\n            /([a-zA-Z0-9À-ž]+\\S?)+/gu;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'WordCount';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        editor.model.document.on('change:data', throttle(this._refreshStats.bind(this), 250));\n        if (typeof this._config.onUpdate == 'function') {\n            this.on('update', (evt, data) => {\n                this._config.onUpdate(data);\n            });\n        }\n        if (isElement(this._config.container)) {\n            this._config.container.appendChild(this.wordCountContainer);\n        }\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        if (this._outputView) {\n            this._outputView.element.remove();\n            this._outputView.destroy();\n        }\n        super.destroy();\n    }\n    /**\n     * Creates a self-updating HTML element. Repeated executions return the same element.\n     * The returned element has the following HTML structure:\n     *\n     * ```html\n     * <div class=\"ck ck-word-count\">\n     * \t<div class=\"ck-word-count__words\">Words: 4</div>\n     * \t<div class=\"ck-word-count__characters\">Characters: 28</div>\n     * </div>\n     * ```\n     */\n    get wordCountContainer() {\n        const editor = this.editor;\n        const t = editor.t;\n        const displayWords = editor.config.get('wordCount.displayWords');\n        const displayCharacters = editor.config.get('wordCount.displayCharacters');\n        const bind = Template.bind(this, this);\n        const children = [];\n        if (!this._outputView) {\n            this._outputView = new View();\n            if (displayWords || displayWords === undefined) {\n                this.bind('_wordsLabel').to(this, 'words', words => {\n                    return t('Words: %0', words);\n                });\n                children.push({\n                    tag: 'div',\n                    children: [\n                        {\n                            text: [bind.to('_wordsLabel')]\n                        }\n                    ],\n                    attributes: {\n                        class: 'ck-word-count__words'\n                    }\n                });\n            }\n            if (displayCharacters || displayCharacters === undefined) {\n                this.bind('_charactersLabel').to(this, 'characters', words => {\n                    return t('Characters: %0', words);\n                });\n                children.push({\n                    tag: 'div',\n                    children: [\n                        {\n                            text: [bind.to('_charactersLabel')]\n                        }\n                    ],\n                    attributes: {\n                        class: 'ck-word-count__characters'\n                    }\n                });\n            }\n            this._outputView.setTemplate({\n                tag: 'div',\n                attributes: {\n                    class: [\n                        'ck',\n                        'ck-word-count'\n                    ]\n                },\n                children\n            });\n            this._outputView.render();\n        }\n        return this._outputView.element;\n    }\n    _getText() {\n        let txt = '';\n        for (const root of this.editor.model.document.getRoots()) {\n            if (txt !== '') {\n                // Add a delimiter, so words from each root are treated independently.\n                txt += '\\n';\n            }\n            txt += modelElementToPlainText(root);\n        }\n        return txt;\n    }\n    /**\n     * Determines the number of characters in the current editor's model.\n     */\n    _getCharacters(txt) {\n        return txt.replace(/\\n/g, '').length;\n    }\n    /**\n     * Determines the number of words in the current editor's model.\n     */\n    _getWords(txt) {\n        const detectedWords = txt.match(this._wordsMatchRegExp) || [];\n        return detectedWords.length;\n    }\n    /**\n     * Determines the number of words and characters in the current editor's model and assigns it to {@link #characters} and {@link #words}.\n     * It also fires the {@link #event:update}.\n     *\n     * @fires update\n     */\n    _refreshStats() {\n        const txt = this._getText();\n        const words = this.words = this._getWords(txt);\n        const characters = this.characters = this._getCharacters(txt);\n        this.fire('update', {\n            words,\n            characters\n        });\n    }\n}\n","import { debounce } from './debounce.mjs';\n\nfunction throttle(func, throttleMs = 0, options = {}) {\n    if (typeof options !== 'object') {\n        options = {};\n    }\n    const { leading = true, trailing = true, signal } = options;\n    return debounce(func, throttleMs, {\n        leading,\n        trailing,\n        signal,\n        maxWait: throttleMs,\n    });\n}\n\nexport { throttle };\n","/**\n * @link https://craftcms.com/\n * @copyright Copyright (c) Pixel & Tonic, Inc.\n * @license GPL-3.0-or-later\n */\n\nimport {IconImage} from 'ckeditor5/src/icons';\nimport {ButtonView} from 'ckeditor5/src/ui';\nimport {ImageInsertUI} from '@ckeditor/ckeditor5-image';\n\nexport default class CraftImageInsertUI extends ImageInsertUI {\n  static get pluginName() {\n    return 'CraftImageInsertUI';\n  }\n\n  init() {\n    // Make sure there are linked volumes\n    if (!this._assetSources) {\n      console.warn(\n        'Omitting the \"image\" CKEditor toolbar button, because there aren’t any permitted volumes.',\n      );\n      return;\n    }\n\n    // Register `insertImage` dropdown and add `imageInsert` dropdown as an alias for consistency with ImageInsertUI\n    const componentFactory = this.editor.ui.componentFactory;\n    const componentCreator = (locale) => {\n      return this._createToolbarImageButton(locale);\n    };\n    componentFactory.add('insertImage', componentCreator);\n    componentFactory.add('imageInsert', componentCreator);\n  }\n\n  get _assetSources() {\n    return this.editor.config.get('assetSources');\n  }\n\n  _createToolbarImageButton(locale) {\n    const editor = this.editor;\n    const t = editor.t;\n    const button = new ButtonView(locale);\n    button.isEnabled = true;\n    button.label = t('Insert image');\n    button.icon = IconImage;\n    button.tooltip = true;\n    const insertImageCommand = editor.commands.get('insertImage');\n    button.bind('isEnabled').to(insertImageCommand);\n    this.listenTo(button, 'execute', () => this._showImageSelectModal());\n    return button;\n  }\n\n  _showImageSelectModal() {\n    const sources = this._assetSources;\n    const editor = this.editor;\n    const config = editor.config;\n    const criteria = Object.assign({}, config.get('assetSelectionCriteria'), {\n      kind: 'image',\n    });\n\n    Craft.createElementSelectorModal('craft\\\\elements\\\\Asset', {\n      storageKey: `ckeditor:${this.pluginName}:'craft\\\\elements\\\\Asset'`,\n      sources,\n      criteria,\n      defaultSiteId: config.get('elementSiteId'),\n      transforms: config.get('transforms'),\n      multiSelect: true,\n      autoFocusSearchBox: false,\n      onSelect: (assets, transform) => {\n        this._processAssetUrls(assets, transform).then(() => {\n          editor.editing.view.focus();\n        });\n      },\n      onHide: () => {\n        editor.editing.view.focus();\n      },\n      closeOtherModals: false,\n    });\n  }\n\n  _processAssetUrls(assets, transform) {\n    return new Promise((resolve) => {\n      if (!assets.length) {\n        resolve();\n        return;\n      }\n\n      const editor = this.editor;\n      const defaultTransform = editor.config.get('defaultTransform');\n      const queue = new Craft.Queue();\n      const urls = [];\n\n      queue.on('afterRun', () => {\n        editor.execute('insertImage', {source: urls});\n        resolve();\n      });\n\n      for (const asset of assets) {\n        queue.push(\n          () =>\n            new Promise((resolve) => {\n              const hasTransform = this._isTransformUrl(asset.url);\n              // Do we need to apply the default transform?\n              if (!hasTransform && defaultTransform) {\n                this._getTransformUrl(asset.id, defaultTransform, (url) => {\n                  urls.push(url);\n                  // editor.execute('insertImage', {source: url});\n                  resolve();\n                });\n              } else {\n                const url = this._buildAssetUrl(\n                  asset.id,\n                  asset.url,\n                  hasTransform ? transform : defaultTransform,\n                );\n                urls.push(url);\n                // editor.execute('insertImage', {source: url});\n                resolve();\n              }\n            }),\n        );\n      }\n    });\n  }\n\n  _buildAssetUrl(assetId, assetUrl, transform) {\n    return `${assetUrl}#asset:${assetId}:${\n      transform ? 'transform:' + transform : 'url'\n    }`;\n  }\n\n  _removeTransformFromUrl(url) {\n    return url.replace(/(^|\\/)(_[^\\/]+\\/)([^\\/]+)$/, '$1$3');\n  }\n\n  _isTransformUrl(url) {\n    return /(^|\\/)_[^\\/]+\\/[^\\/]+$/.test(url);\n  }\n\n  _getTransformUrl(assetId, handle, callback) {\n    Craft.sendActionRequest('POST', 'ckeditor/ckeditor/image-url', {\n      data: {\n        assetId: assetId,\n        transform: handle,\n      },\n    })\n      .then(({data}) => {\n        callback(this._buildAssetUrl(assetId, data.url, handle));\n      })\n      .catch(() => {\n        alert('There was an error generating the transform URL.');\n      });\n  }\n\n  _getAssetUrlComponents(url) {\n    const matches = url.match(\n      /(.*)#asset:(\\d+):(url|transform):?([a-zA-Z][a-zA-Z0-9_]*)?/,\n    );\n    return matches\n      ? {\n          url: matches[1],\n          assetId: matches[2],\n          transform: matches[3] !== 'url' ? matches[4] : null,\n        }\n      : null;\n  }\n}\n","/**\n * @link https://craftcms.com/\n * @copyright Copyright (c) Pixel & Tonic, Inc.\n * @license GPL-3.0-or-later\n */\n\nimport {Plugin} from 'ckeditor5/src/core';\nimport {Collection} from 'ckeditor5/src/utils';\nimport {\n  ViewModel,\n  ContextualBalloon,\n  SplitButtonView,\n  createDropdown,\n  addListToDropdown,\n} from 'ckeditor5/src/ui';\nimport linkIcon from '@ckeditor/ckeditor5-icons/theme/icons/link.svg';\nimport {LinkUI} from '@ckeditor/ckeditor5-link';\nimport {LINK_KEYSTROKE} from '@ckeditor/ckeditor5-link/src/utils';\nimport {Range} from 'ckeditor5/src/engine';\nexport default class CraftLinkUI extends Plugin {\n  static get requires() {\n    return [LinkUI];\n  }\n\n  static get pluginName() {\n    return 'CraftLinkUI';\n  }\n\n  constructor() {\n    super(...arguments);\n    this.siteDropdownView = null;\n    this.siteDropdownItemModels = null;\n    this.localizedRefHandleRE = null;\n    this.editor.config.define('linkOptions', []);\n  }\n\n  init() {\n    const editor = this.editor;\n    this._linkUI = editor.plugins.get(LinkUI);\n    this._balloon = editor.plugins.get(ContextualBalloon);\n    this._createToolbarLinkButton();\n\n    if (Craft.isMultiSite) {\n      this._modifyFormViewTemplate();\n      const refHandlesPattern =\n        CKEditor5.craftcms.localizedRefHandles.join('|');\n      this.localizedRefHandleRE = new RegExp(\n        `(#(?:${refHandlesPattern}):\\\\d+)(?:@(\\\\d+))?`,\n      );\n    }\n  }\n\n  _createToolbarLinkButton() {\n    const editor = this.editor;\n    const linkOptions = editor.config.get('linkOptions');\n    if (!linkOptions || !linkOptions.length) {\n      this._linkUI._createToolbarLinkButton();\n      return;\n    }\n    const linkCommand = editor.commands.get('link');\n    const t = editor.t;\n    editor.ui.componentFactory.add('link', (locale) => {\n      const dropdownView = createDropdown(locale, SplitButtonView);\n      const splitButtonView = dropdownView.buttonView;\n      splitButtonView.isEnabled = true;\n      splitButtonView.label = t('Link');\n      splitButtonView.icon = linkIcon;\n      splitButtonView.keystroke = LINK_KEYSTROKE;\n      splitButtonView.tooltip = true;\n      splitButtonView.isToggleable = true;\n      this.listenTo(splitButtonView, 'execute', () =>\n        this._linkUI._showUI(true),\n      );\n      dropdownView.on('execute', (evt) => {\n        if (evt.source.linkOption) {\n          const linkOption = evt.source.linkOption;\n          this._showElementSelectorModal(linkOption);\n        } else {\n          this._linkUI._showUI(true);\n        }\n      });\n      dropdownView.class = 'ck-code-block-dropdown';\n      dropdownView.bind('isEnabled').to(linkCommand, 'isEnabled');\n      splitButtonView.bind('isOn').to(linkCommand, 'value', (value) => !!value);\n      addListToDropdown(dropdownView, () =>\n        this._getLinkListItemDefinitions(linkOptions),\n      );\n      return dropdownView;\n    });\n  }\n\n  _getLinkListItemDefinitions(linkOptions) {\n    const itemDefinitions = new Collection();\n\n    for (const option of linkOptions) {\n      itemDefinitions.add({\n        type: 'button',\n        model: new ViewModel({\n          label: option.label,\n          linkOption: option,\n          withText: true,\n        }),\n      });\n    }\n\n    itemDefinitions.add({\n      type: 'button',\n      model: new ViewModel({\n        label: Craft.t('ckeditor', 'Insert link'),\n        withText: true,\n      }),\n    });\n\n    return itemDefinitions;\n  }\n\n  _showElementSelectorModal(linkOption) {\n    const editor = this.editor;\n    const model = editor.model;\n    const selection = model.document.selection;\n    const isCollapsed = selection.isCollapsed;\n    const range = selection.getFirstRange();\n\n    const onCancel = () => {\n      editor.editing.view.focus();\n      if (!isCollapsed && range) {\n        // Restore the previous range\n        model.change((writer) => {\n          writer.setSelection(range);\n        });\n      }\n      this._linkUI._hideFakeVisualSelection();\n    };\n\n    // When there's no link under the selection, go straight to the editing UI.\n    if (!this._linkUI._getSelectedLinkElement()) {\n      // Show visual selection on a text without a link when the contextual balloon is displayed.\n      // See https://github.com/ckeditor/ckeditor5/issues/4721.\n      this._linkUI._showFakeVisualSelection();\n    }\n\n    Craft.createElementSelectorModal(linkOption.elementType, {\n      storageKey: `ckeditor:${this.pluginName}:${linkOption.elementType}`,\n      sources: linkOption.sources,\n      criteria: linkOption.criteria,\n      defaultSiteId: editor.config.get('elementSiteId'),\n      autoFocusSearchBox: false,\n      onSelect: (elements) => {\n        if (elements.length) {\n          const element = elements[0];\n          const url = `${element.url}#${linkOption.refHandle}:${element.id}@${element.siteId}`;\n          editor.editing.view.focus();\n          if (!isCollapsed && range) {\n            // Restore the previous range\n            model.change((writer) => {\n              writer.setSelection(range);\n            });\n            const linkCommand = editor.commands.get('link');\n            linkCommand.execute(url);\n          } else {\n            model.change((writer) => {\n              writer.insertText(\n                element.label,\n                {\n                  linkHref: url,\n                },\n                selection.getFirstPosition(),\n              );\n              if (range instanceof Range) {\n                try {\n                  const newRange = range.clone();\n                  newRange.end.path[1] += element.label.length;\n                  writer.setSelection(newRange);\n                } catch (e) {}\n              }\n            });\n          }\n\n          this._linkUI._hideFakeVisualSelection();\n          setTimeout(() => {\n            editor.editing.view.focus();\n            this._linkUI._showUI(true);\n          }, 100);\n        } else {\n          onCancel();\n        }\n      },\n      onCancel: () => {\n        onCancel();\n      },\n      closeOtherModals: false,\n    });\n  }\n\n  _modifyFormViewTemplate() {\n    // ensure the form view template has been defined\n    if (!this._linkUI.formView) {\n      this._linkUI._createViews();\n    }\n\n    const {formView} = this._linkUI;\n    const {urlInputView} = formView;\n    const {fieldView} = urlInputView;\n\n    // ensure the form view is vertical\n    formView.template.attributes.class.push(\n      'ck-link-form_layout-vertical',\n      'ck-vertical-form',\n    );\n\n    this.siteDropdownView = createDropdown(formView.locale);\n    this.siteDropdownView.buttonView.set({\n      label: '',\n      withText: true,\n      isVisible: false,\n    });\n\n    this.siteDropdownItemModels = Object.fromEntries(\n      Craft.sites.map((site) => [\n        site.id,\n        new ViewModel({\n          label: site.name,\n          siteId: site.id,\n          withText: true,\n        }),\n      ]),\n    );\n\n    this.siteDropdownItemModels.current = new ViewModel({\n      label: Craft.t('ckeditor', 'Link to the current site'),\n      siteId: null,\n      withText: true,\n    });\n\n    addListToDropdown(\n      this.siteDropdownView,\n      new Collection([\n        ...Craft.sites.map((site) => ({\n          type: 'button',\n          model: this.siteDropdownItemModels[site.id],\n        })),\n        {\n          type: 'button',\n          model: this.siteDropdownItemModels.current,\n        },\n      ]),\n    );\n\n    this.siteDropdownView.on('execute', (evt) => {\n      const match = this._urlInputRefMatch();\n      if (!match) {\n        console.warn(\n          `No reference tag hash present in URL: ${this._urlInputValue()}`,\n        );\n        return;\n      }\n      const {siteId} = evt.source;\n      let ref = match[1];\n      if (siteId) {\n        ref += `@${siteId}`;\n      }\n      const newUrl = this._urlInputValue().replace(match[0], ref);\n      fieldView.set('value', newUrl);\n    });\n\n    const {children} = formView;\n    const urlInputIdx = children.getIndex(urlInputView);\n    children.add(this.siteDropdownView, urlInputIdx + 1);\n\n    // would be better if the dropdown could be added after the URL input\n    // but not currently possible since the rest of the inputs get added via LinkFormView::render()\n    formView._focusables.add(this.siteDropdownView);\n    formView.focusTracker.add(this.siteDropdownView.element);\n\n    this.listenTo(fieldView, 'change:value', () => {\n      this._toggleSiteDropdownView();\n    });\n    this.listenTo(fieldView, 'input', () => {\n      this._toggleSiteDropdownView();\n    });\n  }\n\n  _urlInputValue() {\n    return this._linkUI.formView.urlInputView.fieldView.element.value;\n  }\n\n  _urlInputRefMatch() {\n    return this._urlInputValue().match(this.localizedRefHandleRE);\n  }\n\n  _toggleSiteDropdownView() {\n    const match = this._urlInputRefMatch();\n    if (match) {\n      this.siteDropdownView.buttonView.set('isVisible', true);\n      let siteId = match[2] ? parseInt(match[2], 10) : null;\n      if (\n        siteId &&\n        typeof this.siteDropdownItemModels[siteId] === 'undefined'\n      ) {\n        siteId = null;\n      }\n      this._selectSiteDropdownItem(siteId);\n    } else {\n      this.siteDropdownView.buttonView.set('isVisible', false);\n    }\n  }\n\n  _selectSiteDropdownItem(siteId) {\n    const itemModel = this.siteDropdownItemModels[siteId ?? 'current'];\n\n    // update the button label\n    const label = siteId\n      ? Craft.t('ckeditor', 'Site: {name}', {name: itemModel.label})\n      : itemModel.label;\n    this.siteDropdownView.buttonView.set('label', label);\n\n    // update the item states\n    Object.values(this.siteDropdownItemModels).forEach((model) => {\n      model.set('isOn', model === itemModel);\n    });\n  }\n}\n","export default \"<svg viewBox=\\\"0 0 20 20\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z\\\"/></svg>\";","/**\n * @link https://craftcms.com/\n * @copyright Copyright (c) Pixel & Tonic, Inc.\n * @license GPL-3.0-or-later\n */\n\nimport {Command} from 'ckeditor5/src/core';\n\n/**\n * The transform image command.\n */\nexport default class TransformImageCommand extends Command {\n  refresh() {\n    const element = this._element();\n    const srcInfo = this._srcInfo(element);\n    this.isEnabled = !!srcInfo;\n    if (!srcInfo) {\n      this.value = null;\n    } else {\n      this.value = {\n        transform: srcInfo.transform,\n      };\n    }\n  }\n\n  _element() {\n    const editor = this.editor;\n    const imageUtils = editor.plugins.get('ImageUtils');\n    return imageUtils.getClosestSelectedImageElement(\n      editor.model.document.selection,\n    );\n  }\n\n  _srcInfo(element) {\n    if (!element || !element.hasAttribute('src')) {\n      return null;\n    }\n\n    const src = element.getAttribute('src');\n    const match = src.match(\n      /#asset:(\\d+)(?::transform:([a-zA-Z][a-zA-Z0-9_]*))?/,\n    );\n    if (!match) {\n      return null;\n    }\n\n    return {\n      src,\n      assetId: match[1],\n      transform: match[2],\n    };\n  }\n\n  /**\n   * Executes the command.\n   *\n   * ```js\n   * // Applies the `thumb` transform\n   * editor.execute( 'transformImage', { transform: 'thumb' } );\n   *\n   * // Removes the transform\n   * editor.execute( 'transformImage', { transform: null } );\n   * ```\n   *\n   * @param options\n   * @param options.transform The new transform for the image.\n   * @fires execute\n   */\n  execute(options) {\n    const editor = this.editor;\n    const model = editor.model;\n    const element = this._element();\n    const srcInfo = this._srcInfo(element);\n\n    this.value = {\n      transform: options.transform,\n    };\n\n    if (srcInfo) {\n      const hash =\n        `#asset:${srcInfo.assetId}` +\n        (options.transform ? `:transform:${options.transform}` : '');\n\n      // update the src hash immediately, so the transform is applied even if the real URL doesn’t load successfully\n      model.change((writer) => {\n        const src = srcInfo.src.replace(/#.*/, '') + hash;\n        writer.setAttribute('src', src, element);\n      });\n\n      // load the real URL and then update the src again\n      Craft.sendActionRequest('post', 'ckeditor/ckeditor/image-url', {\n        data: {\n          assetId: srcInfo.assetId,\n          transform: options.transform,\n        },\n      }).then(({data}) => {\n        model.change((writer) => {\n          const src = data.url + hash;\n          writer.setAttribute('src', src, element);\n\n          // update image width and height to match the transformed size;\n          // ckeditor insists on keeping those around:\n          // https://ckeditor.com/docs/ckeditor5/latest/features/images/images-overview.html#image-width-and-height-attributes\n          if (data.width) {\n            writer.setAttribute('width', data.width, element);\n          }\n          if (data.height) {\n            writer.setAttribute('height', data.height, element);\n          }\n        });\n      });\n    }\n  }\n}\n","/**\n * @link https://craftcms.com/\n * @copyright Copyright (c) Pixel & Tonic, Inc.\n * @license GPL-3.0-or-later\n */\n\nimport {Plugin} from 'ckeditor5/src/core';\nimport ImageUtils from '@ckeditor/ckeditor5-image/src/imageutils';\nimport TransformImageCommand from './transformimagecommand';\n\nexport default class ImageTransformEditing extends Plugin {\n  static get requires() {\n    return [ImageUtils];\n  }\n\n  static get pluginName() {\n    return 'ImageTransformEditing';\n  }\n\n  constructor(editor) {\n    super(editor);\n    editor.config.define('transforms', []);\n  }\n\n  init() {\n    const editor = this.editor;\n    const transformImageCommand = new TransformImageCommand(editor);\n    editor.commands.add('transformImage', transformImageCommand);\n  }\n}\n","/**\n * @link https://craftcms.com/\n * @copyright Copyright (c) Pixel & Tonic, Inc.\n * @license GPL-3.0-or-later\n */\n\nimport {Plugin} from 'ckeditor5/src/core';\nimport {IconObjectSizeMedium} from 'ckeditor5/src/icons';\nimport {\n  DropdownButtonView,\n  ViewModel,\n  createDropdown,\n  addListToDropdown,\n} from 'ckeditor5/src/ui';\nimport {Collection} from 'ckeditor5/src/utils';\nimport ImageTransformEditing from './imagetransformediting';\n\nconst RESIZE_ICON = IconObjectSizeMedium;\n\nexport default class ImageTransformUI extends Plugin {\n  static get requires() {\n    return [ImageTransformEditing];\n  }\n\n  static get pluginName() {\n    return 'ImageTransformUI';\n  }\n\n  init() {\n    const editor = this.editor;\n    const transforms = editor.config.get('transforms');\n    const command = editor.commands.get('transformImage');\n    this.bind('isEnabled').to(command);\n    this._registerImageTransformDropdown(transforms);\n  }\n\n  /**\n   * A helper function that creates a dropdown component for the plugin containing all the transform options defined in\n   * the editor configuration.\n   *\n   * @param transforms An array of the available image transforms.\n   */\n  _registerImageTransformDropdown(transforms) {\n    const editor = this.editor;\n    const t = editor.t;\n    const originalSizeOption = {\n      name: 'transformImage:original',\n      value: null,\n    };\n    const options = [\n      originalSizeOption,\n      ...transforms.map((transform) => ({\n        label: transform.name,\n        name: `transformImage:${transform.handle}`,\n        value: transform.handle,\n      })),\n    ];\n    const componentCreator = (locale) => {\n      const command = editor.commands.get('transformImage');\n      const dropdownView = createDropdown(locale, DropdownButtonView);\n      const dropdownButton = dropdownView.buttonView;\n      dropdownButton.set({\n        tooltip: t('Resize image'),\n        commandValue: null,\n        icon: RESIZE_ICON,\n        isToggleable: true,\n        label: this._getOptionLabelValue(originalSizeOption),\n        withText: true,\n        class: 'ck-resize-image-button',\n      });\n      dropdownButton.bind('label').to(command, 'value', (commandValue) => {\n        if (!commandValue || !commandValue.transform) {\n          return this._getOptionLabelValue(originalSizeOption);\n        }\n        const transform = transforms.find(\n          (t) => t.handle === commandValue.transform,\n        );\n        if (transform) {\n          return transform.name;\n        }\n        return commandValue.transform;\n      });\n      dropdownView.bind('isEnabled').to(this);\n      addListToDropdown(\n        dropdownView,\n        () => this._getTransformDropdownListItemDefinitions(options, command),\n        {\n          ariaLabel: t('Image resize list'),\n        },\n      );\n      // Execute command when an item from the dropdown is selected.\n      this.listenTo(dropdownView, 'execute', (evt) => {\n        editor.execute(evt.source.commandName, {\n          transform: evt.source.commandValue,\n        });\n        editor.editing.view.focus();\n      });\n      return dropdownView;\n    };\n    editor.ui.componentFactory.add('transformImage', componentCreator);\n  }\n\n  /**\n   * A helper function for creating an option label value string.\n   *\n   * @param option A transform option object.\n   * @returns The option label.\n   */\n  _getOptionLabelValue(option) {\n    return option.label || option.value || this.editor.t('Original');\n  }\n\n  /**\n   * A helper function that parses the transform options and returns list item definitions ready for use in the dropdown.\n   *\n   * @param options The transform options.\n   * @param command The transform image command.\n   * @returns Dropdown item definitions.\n   */\n  _getTransformDropdownListItemDefinitions(options, command) {\n    const itemDefinitions = new Collection();\n    options.map((option) => {\n      const definition = {\n        type: 'button',\n        model: new ViewModel({\n          commandName: 'transformImage',\n          commandValue: option.value,\n          label: this._getOptionLabelValue(option),\n          withText: true,\n          icon: null,\n        }),\n      };\n      definition.model\n        .bind('isOn')\n        .to(command, 'value', getIsOnButtonCallback(option.value));\n      itemDefinitions.add(definition);\n    });\n    return itemDefinitions;\n  }\n}\n\n/**\n * A helper function for setting the `isOn` state of buttons in value bindings.\n */\nfunction getIsOnButtonCallback(value) {\n  return (commandValue) => {\n    const objectCommandValue = commandValue;\n    if (value === null && objectCommandValue === value) {\n      return true;\n    }\n    return (\n      objectCommandValue !== null && objectCommandValue.transform === value\n    );\n  };\n}\n","/**\n * @link https://craftcms.com/\n * @copyright Copyright (c) Pixel & Tonic, Inc.\n * @license GPL-3.0-or-later\n */\n\nimport {Plugin} from 'ckeditor5/src/core';\nimport ImageTransformEditing from './imagetransform/imagetransformediting';\nimport ImageTransformUI from './imagetransform/imagetransformui';\n\nexport default class ImageTransform extends Plugin {\n  static get requires() {\n    return [ImageTransformEditing, ImageTransformUI];\n  }\n\n  static get pluginName() {\n    return 'ImageTransform';\n  }\n}\n","/**\n * @link https://craftcms.com/\n * @copyright Copyright (c) Pixel & Tonic, Inc.\n * @license GPL-3.0-or-later\n */\n\nimport {Command} from 'ckeditor5/src/core';\n\n/**\n * The transform image command.\n */\nexport default class ImageEditorCommand extends Command {\n  refresh() {\n    const element = this._element();\n    const srcInfo = this._srcInfo(element);\n    this.isEnabled = !!srcInfo;\n\n    // if the command is still enabled - check permissions too\n    if (this.isEnabled) {\n      let data = {\n        assetId: srcInfo.assetId,\n      };\n\n      Craft.sendActionRequest('POST', 'ckeditor/ckeditor/image-permissions', {\n        data,\n      }).then((response) => {\n        if (response.data.editable === false) {\n          this.isEnabled = false;\n        }\n      });\n    }\n  }\n\n  /**\n   * Returns the selected image element.\n   */\n  _element() {\n    const editor = this.editor;\n    const imageUtils = editor.plugins.get('ImageUtils');\n    return imageUtils.getClosestSelectedImageElement(\n      editor.model.document.selection,\n    );\n  }\n\n  /**\n   * Checks if element has a src attribute and at least an asset id.\n   * Returns null if not and array containing src, baseSrc, asset id and transform (if used).\n   *\n   * @param element\n   * @returns {{transform: *, src: *, assetId: *, baseSrc: *}|null}\n   * @private\n   */\n  _srcInfo(element) {\n    if (!element || !element.hasAttribute('src')) {\n      return null;\n    }\n\n    const src = element.getAttribute('src');\n    const match = src.match(\n      /(.*)#asset:(\\d+)(?::transform:([a-zA-Z][a-zA-Z0-9_]*))?/,\n    );\n    if (!match) {\n      return null;\n    }\n\n    return {\n      src,\n      baseSrc: match[1],\n      assetId: match[2],\n      transform: match[3],\n    };\n  }\n\n  /**\n   * Executes the command.\n   *\n   * @fires execute\n   */\n  execute() {\n    const editor = this.editor;\n    const model = editor.model;\n    const element = this._element();\n    const srcInfo = this._srcInfo(element);\n\n    if (srcInfo) {\n      let settings = {\n        allowSavingAsNew: false, // todo: we might want to change that, but currently we're doing the same functionality as in Redactor\n        onSave: (data) => {\n          this._reloadImage(srcInfo.assetId, data);\n        },\n        allowDegreeFractions: Craft.isImagick,\n      };\n\n      new Craft.AssetImageEditor(srcInfo.assetId, settings);\n    }\n  }\n\n  /**\n   * Reloads the matching images after save was triggered from the Image Editor.\n   *\n   * @param data\n   */\n  _reloadImage(assetId, data) {\n    let editor = this.editor;\n    let model = editor.model;\n\n    // get all images that are Craft Assets\n    let images = this._getAllImageAssets();\n\n    // go through them all and get the ones with matching asset id\n    images.forEach((image) => {\n      // if it's the image we just edited\n      if (image.srcInfo.assetId == assetId) {\n        // if it doesn't have a transform\n        if (!image.srcInfo.transform) {\n          // get new src\n          let newSrc =\n            image.srcInfo.baseSrc +\n            '?' +\n            new Date().getTime() +\n            '#asset:' +\n            image.srcInfo.assetId;\n\n          // and replace\n          model.change((writer) => {\n            writer.setAttribute('src', newSrc, image.element);\n          });\n        } else {\n          let data = {\n            assetId: image.srcInfo.assetId,\n            handle: image.srcInfo.transform,\n          };\n\n          // get the new url\n          Craft.sendActionRequest('POST', 'assets/generate-transform', {\n            data,\n          }).then((response) => {\n            // get new src\n            let newSrc =\n              response.data.url +\n              '?' +\n              new Date().getTime() +\n              '#asset:' +\n              image.srcInfo.assetId +\n              ':transform:' +\n              image.srcInfo.transform;\n\n            // and replace\n            model.change((writer) => {\n              writer.setAttribute('src', newSrc, image.element);\n            });\n          });\n        }\n      }\n    });\n  }\n\n  /**\n   * Returns all images present in the editor that are Craft Assets.\n   *\n   * @returns {*[]}\n   * @private\n   */\n  _getAllImageAssets() {\n    const editor = this.editor;\n    const model = editor.model;\n    const range = model.createRangeIn(model.document.getRoot());\n\n    let images = [];\n    for (const value of range.getWalker({ignoreElementEnd: true})) {\n      if (value.item.is('element') && value.item.name === 'imageBlock') {\n        let srcInfo = this._srcInfo(value.item);\n        if (srcInfo) {\n          images.push({\n            element: value.item,\n            srcInfo: srcInfo,\n          });\n        }\n      }\n    }\n\n    return images;\n  }\n}\n","/**\n * @link https://craftcms.com/\n * @copyright Copyright (c) Pixel & Tonic, Inc.\n * @license GPL-3.0-or-later\n */\n\nimport {Plugin} from 'ckeditor5/src/core';\nimport ImageUtils from '@ckeditor/ckeditor5-image/src/imageutils';\nimport ImageEditorCommand from './imageeditorcommand';\n\nexport default class ImageEditorEditing extends Plugin {\n  static get requires() {\n    return [ImageUtils];\n  }\n\n  static get pluginName() {\n    return 'ImageEditorEditing';\n  }\n\n  init() {\n    const editor = this.editor;\n    const imageEditorCommand = new ImageEditorCommand(editor);\n    editor.commands.add('imageEditor', imageEditorCommand);\n  }\n}\n","/**\n * @link https://craftcms.com/\n * @copyright Copyright (c) Pixel & Tonic, Inc.\n * @license GPL-3.0-or-later\n */\n\nimport {Plugin, icons} from 'ckeditor5/src/core';\nimport {ButtonView} from 'ckeditor5/src/ui';\nimport ImageEditorEditing from './imageeditorediting';\n\nexport default class ImageEditorUI extends Plugin {\n  static get requires() {\n    return [ImageEditorEditing];\n  }\n\n  static get pluginName() {\n    return 'ImageEditorUI';\n  }\n\n  init() {\n    const editor = this.editor;\n    const command = editor.commands.get('imageEditor');\n    this.bind('isEnabled').to(command);\n    this._registerImageEditorButton();\n  }\n\n  /**\n   * A helper function that creates a button component for the plugin that triggers launch of the Image Editor.\n   */\n  _registerImageEditorButton() {\n    const editor = this.editor;\n    const t = editor.t;\n    const command = editor.commands.get('imageEditor');\n\n    const componentCreator = () => {\n      const buttonView = new ButtonView();\n\n      buttonView.set({\n        label: t('Edit Image'),\n        withText: true,\n      });\n\n      buttonView.bind('isEnabled').to(command);\n\n      // Execute command when a button is clicked.\n      this.listenTo(buttonView, 'execute', (evt) => {\n        editor.execute('imageEditor');\n        editor.editing.view.focus();\n      });\n\n      return buttonView;\n    };\n\n    editor.ui.componentFactory.add('imageEditor', componentCreator);\n  }\n}\n","/**\n * @link https://craftcms.com/\n * @copyright Copyright (c) Pixel & Tonic, Inc.\n * @license GPL-3.0-or-later\n */\n\nimport {Plugin} from 'ckeditor5/src/core';\nimport ImageEditorEditing from './imageeditor/imageeditorediting';\nimport ImageEditorUI from './imageeditor/imageeditorui';\n\nexport default class ImageEditor extends Plugin {\n  static get requires() {\n    return [ImageEditorEditing, ImageEditorUI];\n  }\n\n  static get pluginName() {\n    return 'ImageEditor';\n  }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module language/utils\n */\nimport { getLanguageDirection } from 'ckeditor5/src/utils.js';\n/**\n * Returns the language attribute value in a human-readable text format:\n *\n * ```\n * <languageCode>:<textDirection>\n * ```\n *\n * * `languageCode` - The language code used for the `lang` attribute in the [ISO 639-1](https://en.wikipedia.org/wiki/ISO_639-1) format.\n * * `textDirection` - One of the following values: `rtl` or `ltr`, indicating the reading direction of the language.\n *\n * See the {@link module:core/editor/editorconfig~LanguageConfig#textPartLanguage text part language configuration}\n * for more information about language properties.\n *\n * If the `textDirection` argument is omitted, it will be automatically detected based on `languageCode`.\n *\n * @param languageCode The language code in the ISO 639-1 format.\n * @param textDirection The language text direction. Automatically detected if omitted.\n */\nexport function stringifyLanguageAttribute(languageCode, textDirection) {\n    textDirection = textDirection || getLanguageDirection(languageCode);\n    return `${languageCode}:${textDirection}`;\n}\n/**\n * Retrieves language properties converted to attribute value by the\n * {@link module:language/utils~stringifyLanguageAttribute stringifyLanguageAttribute} function.\n *\n * @param str The attribute value.\n * @returns The object with properties:\n * * languageCode - The language code in the ISO 639 format.\n * * textDirection - The language text direction.\n */\nexport function parseLanguageAttribute(str) {\n    const [languageCode, textDirection] = str.split(':');\n    return { languageCode, textDirection };\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { stringifyLanguageAttribute } from './utils.js';\n/**\n * The text part language command plugin.\n */\nexport default class TextPartLanguageCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const model = this.editor.model;\n        const doc = model.document;\n        this.value = this._getValueFromFirstAllowedNode();\n        this.isEnabled = model.schema.checkAttributeInSelection(doc.selection, 'language');\n    }\n    /**\n     * Executes the command. Applies the attribute to the selection or removes it from the selection.\n     *\n     * If `languageCode` is set to `false` or a `null` value, it will remove attributes. Otherwise, it will set\n     * the attribute in the `{@link #value value}` format.\n     *\n     * The execution result differs, depending on the {@link module:engine/model/document~Document#selection}:\n     *\n     * * If the selection is on a range, the command applies the attribute to all nodes in that range\n     * (if they are allowed to have this attribute by the {@link module:engine/model/schema~Schema schema}).\n     * * If the selection is collapsed in a non-empty node, the command applies the attribute to the\n     * {@link module:engine/model/document~Document#selection} itself (note that typed characters copy attributes from the selection).\n     * * If the selection is collapsed in an empty node, the command applies the attribute to the parent node of the selection (note\n     * that the selection inherits all attributes from a node if it is in an empty node).\n     *\n     * @fires execute\n     * @param options Command options.\n     * @param options.languageCode The language code to be applied to the model.\n     * @param options.textDirection The language text direction.\n     */\n    execute({ languageCode, textDirection } = {}) {\n        const model = this.editor.model;\n        const doc = model.document;\n        const selection = doc.selection;\n        const value = languageCode ? stringifyLanguageAttribute(languageCode, textDirection) : false;\n        model.change(writer => {\n            if (selection.isCollapsed) {\n                if (value) {\n                    writer.setSelectionAttribute('language', value);\n                }\n                else {\n                    writer.removeSelectionAttribute('language');\n                }\n            }\n            else {\n                const ranges = model.schema.getValidRanges(selection.getRanges(), 'language');\n                for (const range of ranges) {\n                    if (value) {\n                        writer.setAttribute('language', value, range);\n                    }\n                    else {\n                        writer.removeAttribute('language', range);\n                    }\n                }\n            }\n        });\n    }\n    /**\n     * Returns the attribute value of the first node in the selection that allows the attribute.\n     * For a collapsed selection it returns the selection attribute.\n     *\n     * @returns The attribute value.\n     */\n    _getValueFromFirstAllowedNode() {\n        const model = this.editor.model;\n        const schema = model.schema;\n        const selection = model.document.selection;\n        if (selection.isCollapsed) {\n            return selection.getAttribute('language') || false;\n        }\n        for (const range of selection.getRanges()) {\n            for (const item of range.getItems()) {\n                if (schema.checkAttribute(item, 'language')) {\n                    return item.getAttribute('language') || false;\n                }\n            }\n        }\n        return false;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport TextPartLanguageCommand from './textpartlanguagecommand.js';\nimport { stringifyLanguageAttribute, parseLanguageAttribute } from './utils.js';\n/**\n * The text part language editing.\n *\n * Introduces the `'textPartLanguage'` command and the `'language'` model element attribute.\n */\nexport default class TextPartLanguageEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TextPartLanguageEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        // Text part language options are only used to ensure that the feature works by default.\n        // In the real usage it should be reconfigured by a developer. We are not providing\n        // translations for `title` properties on purpose, as it's only an example configuration.\n        editor.config.define('language', {\n            textPartLanguage: [\n                { title: 'Arabic', languageCode: 'ar' },\n                { title: 'French', languageCode: 'fr' },\n                { title: 'Spanish', languageCode: 'es' }\n            ]\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        editor.model.schema.extend('$text', { allowAttributes: 'language' });\n        editor.model.schema.setAttributeProperties('language', {\n            copyOnEnter: true\n        });\n        this._defineConverters();\n        editor.commands.add('textPartLanguage', new TextPartLanguageCommand(editor));\n    }\n    /**\n     * @private\n     */\n    _defineConverters() {\n        const conversion = this.editor.conversion;\n        conversion.for('upcast').elementToAttribute({\n            model: {\n                key: 'language',\n                value: (viewElement) => {\n                    const languageCode = viewElement.getAttribute('lang');\n                    const textDirection = viewElement.getAttribute('dir');\n                    return stringifyLanguageAttribute(languageCode, textDirection);\n                }\n            },\n            view: {\n                name: 'span',\n                attributes: { lang: /[\\s\\S]+/ }\n            }\n        });\n        conversion.for('downcast').attributeToElement({\n            model: 'language',\n            view: (attributeValue, { writer }, data) => {\n                if (!attributeValue) {\n                    return;\n                }\n                if (!data.item.is('$textProxy') && !data.item.is('documentSelection')) {\n                    return;\n                }\n                const { languageCode, textDirection } = parseLanguageAttribute(attributeValue);\n                return writer.createAttributeElement('span', {\n                    lang: languageCode,\n                    dir: textDirection\n                });\n            }\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module language/textpartlanguageui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { addListToDropdown, createDropdown, ListSeparatorView, MenuBarMenuView, MenuBarMenuListView, MenuBarMenuListItemView, MenuBarMenuListItemButtonView, ViewModel } from 'ckeditor5/src/ui.js';\nimport { Collection } from 'ckeditor5/src/utils.js';\nimport { stringifyLanguageAttribute } from './utils.js';\n/**\n * The text part language UI plugin.\n *\n * It introduces the `'language'` dropdown.\n */\nexport default class TextPartLanguageUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TextPartLanguageUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = editor.t;\n        const defaultTitle = t('Choose language');\n        const accessibleLabel = t('Language');\n        // Register UI component.\n        editor.ui.componentFactory.add('textPartLanguage', locale => {\n            const { definitions, titles } = this._getItemMetadata();\n            const languageCommand = editor.commands.get('textPartLanguage');\n            const dropdownView = createDropdown(locale);\n            addListToDropdown(dropdownView, definitions, {\n                ariaLabel: accessibleLabel,\n                role: 'menu'\n            });\n            dropdownView.buttonView.set({\n                ariaLabel: accessibleLabel,\n                ariaLabelledBy: undefined,\n                isOn: false,\n                withText: true,\n                tooltip: accessibleLabel\n            });\n            dropdownView.extendTemplate({\n                attributes: {\n                    class: [\n                        'ck-text-fragment-language-dropdown'\n                    ]\n                }\n            });\n            dropdownView.bind('isEnabled').to(languageCommand, 'isEnabled');\n            dropdownView.buttonView.bind('label').to(languageCommand, 'value', value => {\n                return (value && titles[value]) || defaultTitle;\n            });\n            dropdownView.buttonView.bind('ariaLabel').to(languageCommand, 'value', value => {\n                const selectedLanguageTitle = value && titles[value];\n                if (!selectedLanguageTitle) {\n                    return accessibleLabel;\n                }\n                return `${selectedLanguageTitle}, ${accessibleLabel}`;\n            });\n            // Execute command when an item from the dropdown is selected.\n            this.listenTo(dropdownView, 'execute', evt => {\n                languageCommand.execute({\n                    languageCode: evt.source.languageCode,\n                    textDirection: evt.source.textDirection\n                });\n                editor.editing.view.focus();\n            });\n            return dropdownView;\n        });\n        // Register menu bar UI component.\n        editor.ui.componentFactory.add('menuBar:textPartLanguage', locale => {\n            const { definitions } = this._getItemMetadata();\n            const languageCommand = editor.commands.get('textPartLanguage');\n            const menuView = new MenuBarMenuView(locale);\n            menuView.buttonView.set({\n                label: accessibleLabel\n            });\n            const listView = new MenuBarMenuListView(locale);\n            listView.set({\n                ariaLabel: t('Language'),\n                role: 'menu'\n            });\n            for (const definition of definitions) {\n                if (definition.type != 'button') {\n                    listView.items.add(new ListSeparatorView(locale));\n                    continue;\n                }\n                const listItemView = new MenuBarMenuListItemView(locale, menuView);\n                const buttonView = new MenuBarMenuListItemButtonView(locale);\n                buttonView.set({\n                    role: 'menuitemradio',\n                    isToggleable: true\n                });\n                buttonView.bind(...Object.keys(definition.model)).to(definition.model);\n                buttonView.delegate('execute').to(menuView);\n                listItemView.children.add(buttonView);\n                listView.items.add(listItemView);\n            }\n            menuView.bind('isEnabled').to(languageCommand, 'isEnabled');\n            menuView.panelView.children.add(listView);\n            menuView.on('execute', evt => {\n                languageCommand.execute({\n                    languageCode: evt.source.languageCode,\n                    textDirection: evt.source.textDirection\n                });\n                editor.editing.view.focus();\n            });\n            return menuView;\n        });\n    }\n    /**\n     * Returns metadata for dropdown and menu items.\n     */\n    _getItemMetadata() {\n        const editor = this.editor;\n        const itemDefinitions = new Collection();\n        const titles = {};\n        const languageCommand = editor.commands.get('textPartLanguage');\n        const options = editor.config.get('language.textPartLanguage');\n        const t = editor.locale.t;\n        const removeTitle = t('Remove language');\n        // Item definition with false `languageCode` will behave as remove lang button.\n        itemDefinitions.add({\n            type: 'button',\n            model: new ViewModel({\n                label: removeTitle,\n                languageCode: false,\n                withText: true\n            })\n        });\n        itemDefinitions.add({\n            type: 'separator'\n        });\n        for (const option of options) {\n            const def = {\n                type: 'button',\n                model: new ViewModel({\n                    label: option.title,\n                    languageCode: option.languageCode,\n                    role: 'menuitemradio',\n                    textDirection: option.textDirection,\n                    withText: true\n                })\n            };\n            const language = stringifyLanguageAttribute(option.languageCode, option.textDirection);\n            def.model.bind('isOn').to(languageCommand, 'value', value => value === language);\n            itemDefinitions.add(def);\n            titles[language] = option.title;\n        }\n        return {\n            definitions: itemDefinitions,\n            titles\n        };\n    }\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n/**\n * @module language/textpartlanguage\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport TextPartLanguageEditing from './textpartlanguageediting.js';\nimport TextPartLanguageUI from './textpartlanguageui.js';\n/**\n * The text part language feature.\n *\n * This feature allows setting a language of the document's text part to support\n * [WCAG 3.1.2 Language of Parts](https://www.w3.org/TR/UNDERSTANDING-WCAG20/meaning-other-lang-id.html) specification.\n *\n * To change the editor's UI language, refer to the {@glink getting-started/setup/ui-language Setting the UI language} guide.\n *\n * For more information about this feature, check the {@glink api/language package page} as well as the {@glink features/language\n * Text part language} feature guide.\n *\n * This is a \"glue\" plugin which loads the\n * {@link module:language/textpartlanguageediting~TextPartLanguageEditing text part language editing feature}\n * and the {@link module:language/textpartlanguageui~TextPartLanguageUI text part language UI feature}.\n */\nexport default class TextPartLanguage extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [TextPartLanguageEditing, TextPartLanguageUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TextPartLanguage';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @link https://craftcms.com/\n * @copyright Copyright (c) Pixel & Tonic, Inc.\n * @license GPL-3.0-or-later\n */\n\nimport './ckeditor5-craftcms.css';\nimport {Alignment} from '@ckeditor/ckeditor5-alignment';\nimport {\n  AutoImage,\n  Image,\n  ImageCaption,\n  ImageStyle,\n  ImageToolbar,\n} from '@ckeditor/ckeditor5-image';\nimport {Autoformat} from '@ckeditor/ckeditor5-autoformat';\nimport {BlockQuote} from '@ckeditor/ckeditor5-block-quote';\nimport {\n  Bold,\n  Code,\n  Italic,\n  Strikethrough,\n  Subscript,\n  Superscript,\n  Underline,\n} from '@ckeditor/ckeditor5-basic-styles';\nimport {ClassicEditor} from '@ckeditor/ckeditor5-editor-classic';\nimport {CodeBlock} from '@ckeditor/ckeditor5-code-block';\nimport {Essentials} from '@ckeditor/ckeditor5-essentials';\nimport {FindAndReplace} from '@ckeditor/ckeditor5-find-and-replace';\nimport {Font} from '@ckeditor/ckeditor5-font';\nimport {\n  GeneralHtmlSupport,\n  HtmlComment,\n} from '@ckeditor/ckeditor5-html-support';\nimport {Heading} from '@ckeditor/ckeditor5-heading';\nimport {HorizontalLine} from '@ckeditor/ckeditor5-horizontal-line';\nimport {HtmlEmbed} from '@ckeditor/ckeditor5-html-embed';\nimport {Indent, IndentBlock} from '@ckeditor/ckeditor5-indent';\nimport {LinkEditing, AutoLink, LinkImage} from '@ckeditor/ckeditor5-link';\nimport {List, ListProperties, TodoList} from '@ckeditor/ckeditor5-list';\nimport {MediaEmbed, MediaEmbedToolbar} from '@ckeditor/ckeditor5-media-embed';\nimport {PageBreak} from '@ckeditor/ckeditor5-page-break';\nimport {PasteFromOffice} from '@ckeditor/ckeditor5-paste-from-office';\nimport {RemoveFormat} from '@ckeditor/ckeditor5-remove-format';\nimport {SourceEditing} from '@ckeditor/ckeditor5-source-editing';\nimport {Style} from '@ckeditor/ckeditor5-style';\nimport {\n  Table,\n  TableCaption,\n  TableCellProperties,\n  TableProperties,\n  TableToolbar,\n  TableUI,\n} from '@ckeditor/ckeditor5-table';\nimport {WordCount} from '@ckeditor/ckeditor5-word-count';\nimport {default as CraftImageInsertUI} from './image/imageinsert/imageinsertui';\nimport {default as CraftLinkUI} from './link/linkui';\nimport ImageTransform from './image/imagetransform';\nimport ImageEditor from './image/imageeditor';\nimport {TextPartLanguage} from '@ckeditor/ckeditor5-language';\n//import {Anchor} from '@northernco/ckeditor5-anchor-drupal';\n\nconst allPlugins = [\n  CKEditor5.paragraph.Paragraph,\n  CKEditor5.selectAll.SelectAll,\n  Alignment,\n  //  Anchor,\n  AutoImage,\n  AutoLink,\n  Autoformat,\n  BlockQuote,\n  Bold,\n  Code,\n  CodeBlock,\n  List,\n  ListProperties,\n  Essentials,\n  FindAndReplace,\n  Font,\n  GeneralHtmlSupport,\n  Heading,\n  HorizontalLine,\n  HtmlComment,\n  HtmlEmbed,\n  Image,\n  ImageCaption,\n  ImageStyle,\n  ImageToolbar,\n  Indent,\n  IndentBlock,\n  Italic,\n  LinkEditing,\n  LinkImage,\n  MediaEmbed,\n  MediaEmbedToolbar,\n  PageBreak,\n  PasteFromOffice,\n  RemoveFormat,\n  SourceEditing,\n  Strikethrough,\n  Style,\n  Subscript,\n  Superscript,\n  Table,\n  TableCaption,\n  TableCellProperties,\n  TableProperties,\n  TableToolbar,\n  TableUI,\n  TextPartLanguage,\n  TodoList,\n  Underline,\n  WordCount,\n  CraftImageInsertUI,\n  ImageTransform,\n  ImageEditor,\n  CraftLinkUI,\n];\n\nconst normalizeToolbarItem = (group) => {\n  if (!$.isArray(group)) {\n    group = [group];\n  }\n  return group.map((item) => {\n    if (typeof item === 'string') {\n      item = {button: item};\n    }\n    return item;\n  });\n};\n\nconst normalizeToolbarItems = (items) =>\n  items.map((group) => normalizeToolbarItem(group));\n\nexport const toolbarItems = normalizeToolbarItems([\n  {button: 'heading', configOption: 'heading'},\n  {button: 'style', configOption: 'style'},\n  {button: 'alignment', configOption: 'alignment'},\n  'bold',\n  'italic',\n  'underline',\n  'strikethrough',\n  'subscript',\n  'superscript',\n  'code',\n  'link',\n  //  'anchor',\n  'textPartLanguage',\n  {button: 'fontSize', configOption: 'fontSize'},\n  'fontFamily',\n  'fontColor',\n  'fontBackgroundColor',\n  'insertImage',\n  'mediaEmbed',\n  'htmlEmbed',\n  'blockQuote',\n  'insertTable',\n  'codeBlock',\n  'bulletedList',\n  'numberedList',\n  'todoList',\n  ['outdent', 'indent'],\n  'horizontalLine',\n  'pageBreak',\n  'removeFormat',\n  'selectAll',\n  'findAndReplace',\n  ['undo', 'redo'],\n  'sourceEditing',\n]);\n\nconst pluginButtonMap = [\n  {plugins: ['Alignment'], buttons: ['alignment']},\n  //  {plugins: ['Anchor'], buttons: ['anchor']},\n  {\n    plugins: [\n      'AutoImage',\n      'CraftImageInsertUI',\n      'Image',\n      'ImageCaption',\n      'ImageStyle',\n      'ImageToolbar',\n      'ImageTransform',\n      'ImageEditor',\n      'LinkImage',\n    ],\n    buttons: ['insertImage'],\n  },\n  {\n    plugins: ['AutoLink', 'CraftLinkUI', 'LinkEditing', 'LinkImage'],\n    buttons: ['link'],\n  },\n  {plugins: ['BlockQuote'], buttons: ['blockQuote']},\n  {plugins: ['Bold'], buttons: ['bold']},\n  {plugins: ['Code'], buttons: ['code']},\n  {plugins: ['CodeBlock'], buttons: ['codeBlock']},\n  {\n    plugins: ['List', 'ListProperties'],\n    buttons: ['bulletedList', 'numberedList'],\n  },\n  {\n    plugins: ['Font'],\n    buttons: ['fontSize', 'fontFamily', 'fontColor', 'fontBackgroundColor'],\n  },\n  {plugins: ['FindAndReplace'], buttons: ['findAndReplace']},\n  {plugins: ['Heading'], buttons: ['heading']},\n  {plugins: ['HorizontalLine'], buttons: ['horizontalLine']},\n  {plugins: ['HtmlEmbed'], buttons: ['htmlEmbed']},\n  {\n    plugins: ['Indent', 'IndentBlock'],\n    buttons: ['outdent', 'indent'],\n  },\n  {plugins: ['Italic'], buttons: ['italic']},\n  {\n    plugins: ['MediaEmbed', 'MediaEmbedToolbar'],\n    buttons: ['mediaEmbed'],\n  },\n  {plugins: ['PageBreak'], buttons: ['pageBreak']},\n  {plugins: ['RemoveFormat'], buttons: ['removeFormat']},\n  {plugins: ['SourceEditing'], buttons: ['sourceEditing']},\n  {plugins: ['Strikethrough'], buttons: ['strikethrough']},\n  {plugins: ['Style'], buttons: ['style']},\n  {plugins: ['Subscript'], buttons: ['subscript']},\n  {plugins: ['Superscript'], buttons: ['superscript']},\n  {\n    plugins: [\n      'Table',\n      'TableCaption',\n      'TableCellProperties',\n      'TableProperties',\n      'TableToolbar',\n      'TableUI',\n    ],\n    buttons: ['insertTable'],\n  },\n  {plugins: ['TextPartLanguage'], buttons: ['textPartLanguage']},\n  {plugins: ['TodoList'], buttons: ['todoList']},\n  {plugins: ['Underline'], buttons: ['underline']},\n];\n\nconst findPlugin = (pluginName) => {\n  for (const [k, v] of Object.entries(CKEditor5)) {\n    if (typeof v === 'object') {\n      for (const [k2, v2] of Object.entries(v)) {\n        if (typeof v2 === 'function' && v2.pluginName === pluginName) {\n          return v2;\n        }\n      }\n    }\n  }\n};\n\nexport const registerPackage = (pkg) => {\n  if (pkg.pluginNames) {\n    pkg.pluginNames.forEach((pluginName) => {\n      const plugin = findPlugin(pluginName);\n      if (!plugin) {\n        console.warn(\n          `No plugin named ${pluginName} found in window.CKEditor5.`,\n        );\n        return;\n      }\n      allPlugins.push(plugin);\n    });\n  }\n\n  if (pkg.toolbarItems) {\n    pkg.toolbarItems = normalizeToolbarItems(pkg.toolbarItems);\n    toolbarItems.push(...pkg.toolbarItems);\n  }\n\n  if (\n    pkg.pluginNames &&\n    pkg.pluginNames.length &&\n    pkg.toolbarItems &&\n    pkg.toolbarItems.length\n  ) {\n    pluginButtonMap.push({\n      plugins: pkg.pluginNames,\n      buttons: pkg.toolbarItems\n        .flat()\n        .map((item) => item.button)\n        .flat(),\n    });\n  }\n};\n\nconst trackChangesInSourceMode = function (editor) {\n  const sourceEditing = editor.plugins.get(SourceEditing);\n  const $editorElement = $(editor.ui.view.element);\n  const $sourceElement = $(editor.sourceElement);\n  const ns = `ckeditor${Math.floor(Math.random() * 1000000000)}`;\n  const events = [\n    'keypress',\n    'keyup',\n    'change',\n    'focus',\n    'blur',\n    'click',\n    'mousedown',\n    'mouseup',\n  ]\n    .map((type) => `${type}.${ns}`)\n    .join(' ');\n\n  sourceEditing.on('change:isSourceEditingMode', () => {\n    const $sourceEditingContainer = $editorElement.find(\n      '.ck-source-editing-area',\n    );\n\n    if (sourceEditing.isSourceEditingMode) {\n      let content = $sourceEditingContainer.attr('data-value');\n      $sourceEditingContainer.on(events, () => {\n        if (\n          content !== (content = $sourceEditingContainer.attr('data-value'))\n        ) {\n          $sourceElement.val(content);\n        }\n      });\n    } else {\n      $sourceEditingContainer.off(`.${ns}`);\n    }\n  });\n};\n\nconst headingShortcuts = function (editor, config) {\n  if (config.heading !== undefined) {\n    var headingOptions = config.heading.options;\n\n    if (headingOptions.find((x) => x.view === 'h1') !== undefined) {\n      editor.keystrokes.set('Ctrl+Alt+1', () =>\n        editor.execute('heading', {value: 'heading1'}),\n      );\n    }\n\n    if (headingOptions.find((x) => x.view === 'h2') !== undefined) {\n      editor.keystrokes.set('Ctrl+Alt+2', () =>\n        editor.execute('heading', {value: 'heading2'}),\n      );\n    }\n\n    if (headingOptions.find((x) => x.view === 'h3') !== undefined) {\n      editor.keystrokes.set('Ctrl+Alt+3', () =>\n        editor.execute('heading', {value: 'heading3'}),\n      );\n    }\n\n    if (headingOptions.find((x) => x.view === 'h4') !== undefined) {\n      editor.keystrokes.set('Ctrl+Alt+4', () =>\n        editor.execute('heading', {value: 'heading4'}),\n      );\n    }\n\n    if (headingOptions.find((x) => x.view === 'h5') !== undefined) {\n      editor.keystrokes.set('Ctrl+Alt+5', () =>\n        editor.execute('heading', {value: 'heading5'}),\n      );\n    }\n\n    if (headingOptions.find((x) => x.view === 'h6') !== undefined) {\n      editor.keystrokes.set('Ctrl+Alt+6', () =>\n        editor.execute('heading', {value: 'heading6'}),\n      );\n    }\n\n    if (headingOptions.find((x) => x.model === 'paragraph') !== undefined) {\n      editor.keystrokes.set('Ctrl+Alt+p', 'paragraph');\n    }\n  }\n};\n\nexport const pluginNames = () => allPlugins.map((p) => p.pluginName);\n\nexport const create = async function (element, config) {\n  let plugins = allPlugins;\n  const removePlugins = [];\n\n  if (config.toolbar) {\n    // Remove any plugins that aren't included in the toolbar\n    removePlugins.push(\n      ...pluginButtonMap\n        .filter(\n          ({buttons}) =>\n            !config.toolbar.items.some((button) => buttons.includes(button)),\n        )\n        .map(({plugins}) => plugins)\n        .flat(),\n    );\n  }\n\n  // remove ImageTransform if there aren't any image transforms\n  if (!config.transforms || !config.transforms.length) {\n    removePlugins.push('ImageTransform');\n  }\n\n  // remove MediaEmbedToolbar for now\n  // see: https://github.com/ckeditor/ckeditor5-react/issues/267\n  // and: https://github.com/ckeditor/ckeditor5/issues/9824\n  // for more info\n  removePlugins.push('MediaEmbedToolbar');\n\n  if (removePlugins.length) {\n    plugins = plugins.filter((p) => !removePlugins.includes(p.pluginName));\n  }\n\n  if (typeof element === 'string') {\n    element = document.querySelector(`#${element}`);\n  }\n\n  config.licenseKey = 'GPL';\n\n  const editor = await ClassicEditor.create(\n    element,\n    Object.assign({plugins}, config),\n  );\n\n  // accessibility: https://github.com/craftcms/ckeditor/issues/74\n  editor.editing.view.change((writer) => {\n    const viewEditableRoot = editor.editing.view.document.getRoot();\n\n    // adjust aria-label\n    if (\n      typeof config.accessibleFieldName != 'undefined' &&\n      config.accessibleFieldName.length\n    ) {\n      let ariaLabel = viewEditableRoot.getAttribute('aria-label');\n      writer.setAttribute(\n        'aria-label',\n        config.accessibleFieldName + ', ' + ariaLabel,\n        viewEditableRoot,\n      );\n    }\n\n    // adjust aria-describedby\n    if (typeof config.describedBy != 'undefined' && config.describedBy.length) {\n      writer.setAttribute(\n        'aria-describedby',\n        config.describedBy,\n        viewEditableRoot,\n      );\n    }\n  });\n\n  // Update the source element before the initial form value has been recorded,\n  // in case the value needs to be normalized\n  editor.updateSourceElement();\n\n  // Keep the source element updated with changes\n  editor.model.document.on('change:data', () => {\n    editor.updateSourceElement();\n  });\n\n  // Track changes in the source mode\n  if (plugins.includes(SourceEditing)) {\n    trackChangesInSourceMode(editor, SourceEditing);\n  }\n\n  // shortcuts for headings & paragraph\n  if (plugins.includes(Heading)) {\n    headingShortcuts(editor, config);\n  }\n\n  return editor;\n};\n"],"names":["___CSS_LOADER_EXPORT___","push","module","id","exports","cssWithMappingToString","list","toString","this","map","item","content","concat","join","i","modules","mediaQuery","dedupe","alreadyImportedModules","length","_i","__webpack_require__","_arrayLikeToArray","arr","len","arr2","Array","_item","isArray","_arrayWithHoles","Symbol","iterator","_s","_e","_arr","_n","_d","call","next","done","value","err","_iterableToArrayLimit","o","minLen","n","Object","prototype","slice","constructor","name","from","test","_unsupportedIterableToArray","TypeError","_nonIterableRest","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","sourceURLs","sources","source","sourceRoot","read","buffer","offset","isLE","mLen","nBytes","e","m","eLen","eMax","eBias","nBits","d","s","NaN","Infinity","Math","pow","write","c","rt","abs","isNaN","floor","log","LN2","listToStyles","parentId","styles","newStyles","part","css","media","sourceMap","parts","hasDocument","document","DEBUG","Error","stylesInDom","head","getElementsByTagName","singletonElement","singletonCounter","isProduction","noop","options","ssrIdKey","isOldIE","navigator","userAgent","toLowerCase","addStylesClient","_isProduction","_options","addStylesToDom","newList","mayRemove","domStyle","refs","j","addStyle","createStyleElement","styleElement","createElement","type","appendChild","obj","update","remove","querySelector","parentNode","removeChild","styleIndex","applyToSingletonTag","bind","applyToTag","newObj","textStore","replaceText","index","replacement","filter","Boolean","styleSheet","cssText","cssNode","createTextNode","childNodes","insertBefore","setAttribute","ssrId","firstChild","ieee754","customInspectSymbol","Buffer","K_MAX_LENGTH","createBuffer","RangeError","buf","Uint8Array","setPrototypeOf","arg","encodingOrOffset","allocUnsafe","string","encoding","isEncoding","byteLength","actual","fromString","ArrayBuffer","isView","arrayView","isInstance","copy","fromArrayBuffer","byteOffset","fromArrayLike","fromArrayView","SharedArrayBuffer","valueOf","b","isBuffer","checked","undefined","numberIsNaN","fromObject","toPrimitive","assertSize","size","array","mustMatch","arguments","loweredCase","utf8ToBytes","base64ToBytes","slowToString","start","end","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","val","dir","arrayIndexOf","indexOf","lastIndexOf","indexSize","arrLength","valLength","String","readUInt16BE","foundIndex","found","hexWrite","Number","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","str","byteArray","charCodeAt","asciiToBytes","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","fromByteArray","min","res","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","apply","decodeCodePointsArray","TYPED_ARRAY_SUPPORT","proto","foo","typedArraySupport","console","error","defineProperty","enumerable","get","poolSize","alloc","fill","allocUnsafeSlow","_isBuffer","compare","a","x","y","pos","set","swap16","swap32","swap64","toLocaleString","equals","inspect","max","replace","trim","target","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","ret","out","hexSliceLookupTable","bytes","checkOffset","ext","checkInt","wrtBigUInt64LE","checkIntBI","BigInt","wrtBigUInt64BE","checkIEEE754","writeFloat","littleEndian","noAssert","writeDouble","newBuf","subarray","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readBigUInt64LE","defineBigIntMethod","validateNumber","first","last","boundsError","readBigUInt64BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readBigInt64LE","readBigInt64BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeBigUInt64LE","writeBigUInt64BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeBigInt64LE","writeBigInt64BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","code","errors","E","sym","getMessage","Base","super","writable","configurable","stack","message","addNumericalSeparator","range","ERR_OUT_OF_RANGE","checkBounds","ERR_INVALID_ARG_TYPE","ERR_BUFFER_OUT_OF_BOUNDS","input","msg","received","isInteger","INVALID_BASE64_RE","leadSurrogate","toByteArray","split","base64clean","src","dst","alphabet","table","i16","fn","BufferBigIntNotDefined","memo","getTarget","styleTarget","window","HTMLIFrameElement","contentDocument","getIndexByIdentifier","identifier","result","modulesToDom","idCountMap","identifiers","base","count","references","updater","insertStyleElement","style","attributes","nonce","keys","forEach","key","insert","removeAttribute","singleton","removeStyleElement","all","atob","lastIdentifiers","newLastIdentifiers","_index","splice","b64","lens","getLens","validLen","placeHoldersLen","tmp","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","maxChunkLength","len2","encodeChunk","lookup","num","output","__esModule","default","locals","add","CKEditor5","dll","__webpack_module_cache__","moduleId","cachedModule","__webpack_modules__","getter","definition","prop","hasOwnProperty","r","toStringTag","nc","supportedOptions","isSupported","option","isDefault","alignment","locale","contentLanguageDirection","normalizeAlignmentOptions","configuredOptions","normalizedOptions","isNameValid","logWarning","classNameCount","className","CKEditorError","allOptions","succeedingOptions","some","ALIGNMENT","AlignmentCommand","Command","refresh","editor","firstBlock","model","selection","getSelectedBlocks","isEnabled","_canBeAligned","hasAttribute","getAttribute","execute","doc","change","writer","blocks","block","currentAlignment","removeAlignmentFromSelection","setAlignmentOnSelection","schema","checkAttribute","AlignmentEditing","Plugin","pluginName","isOfficialPlugin","config","define","init","optionsToConvert","shouldUseClasses","extend","allowAttributes","setAttributeProperties","isFormatting","conversion","attributeToAttribute","view","values","buildClassDefinition","for","buildDowncastInlineDefinition","upcastInlineDefinitions","definitions","buildUpcastInlineDefinitions","upcastCompatibilityDefinitions","buildUpcastCompatibilityDefinitions","commands","iconsMap","Map","IconAlignLeft","IconAlignRight","IconAlignCenter","IconAlignJustify","AlignmentUI","localizedOptionTitles","t","_addButton","_addToolbarDropdown","_addMenuBarMenu","ui","componentFactory","_createButton","buttonAttrs","command","buttonView","ButtonView","label","icon","tooltip","isToggleable","to","listenTo","editing","focus","dropdownView","createDropdown","tooltipPosition","uiLanguageDirection","addToolbarToDropdown","enableActiveItemFocusOnDropdownOpen","isVertical","ariaLabel","extendTemplate","class","defaultIcon","menuView","MenuBarMenuView","listView","MenuBarMenuListView","role","listItemView","MenuBarMenuListItemView","MenuBarMenuListItemButtonView","delegate","on","children","items","panelView","Alignment","requires","createBlockImageViewElement","createContainerElement","createEmptyElement","createSlot","getImgViewElementMatcher","matchImageType","imageUtils","plugins","areBothImagePluginsLoaded","has","element","isInlineImageView","getStyle","findAncestor","isBlockImageView","getPositiveMatchPattern","pattern","determineImageTypeForInsertionAtSelection","isObject","isEmpty","getSizeValueIfInPx","endsWith","widthAndHeightStylesAreBothSet","viewElement","widthStyle","heightStyle","IMAGE_WIDGETS_CLASSES_MATCH_REGEXP","_domEmitter","DomEmitterMixin","isImage","modelElement","isInlineImage","isBlockImage","is","hasClass","insertImage","selectable","imageType","determinedImageType","determineImageTypeForInsertion","fromEntries","getAttributes","attributeName","setImageSizes","imageElement","insertObject","setSelection","findOptimalPosition","parent","setImageNaturalSizeAttributes","img","global","Image","enqueueChange","batch","naturalWidth","naturalHeight","stopListening","getClosestSelectedImageWidget","selectionPosition","getFirstPosition","getSelectedElement","isImageWidget","getClosestSelectedImageElement","selectedElement","getImageWidgetFromImageView","imageView","classes","isImageAllowed","findOptimalInsertionRange","getInsertImageParent","checkChild","isImageAllowedInParent","getAncestors","every","ancestor","isNotInsideImage","toImageWidget","setCustomProperty","toWidget","altText","findViewImgElement","getCustomProperty","isWidget","figureView","editingView","createRangeIn","destroy","configImageInsertType","IMAGE_URL_REGEXP","RegExp","AutoImage","Clipboard","Undo","Delete","_timeoutId","_positionToInsert","modelDocument","clipboardPipeline","firstRange","getFirstRange","leftLivePosition","LivePosition","fromPosition","stickiness","rightLivePosition","once","_embedImageBetweenPositions","detach","priority","clearTimeout","leftPosition","rightPosition","urlRange","LiveRange","walker","getWalker","ignoreElementEnd","selectionAttributes","node","match","setTimeout","insertionPosition","root","rootName","toPosition","requestUndoOnBackspace","ImageTextAlternativeCommand","newValue","ImageTextAlternativeEditing","TextAlternativeFormView","View","focusTracker","keystrokes","labeledInput","backButtonView","saveButtonView","_focusables","_focusCycler","FocusTracker","KeystrokeHandler","_createBackButton","_createSaveButton","_createLabeledInputView","createCollection","_createHeaderView","FormRowView","ViewCollection","cancel","fire","FocusCycler","focusables","keystrokeHandler","actions","focusPrevious","focusNext","setTemplate","tag","tabindex","render","submitHandler","v","backButton","IconPreviousArrow","saveButton","withText","header","FormHeaderView","LabeledFieldView","createLabeledInputText","defaultPositions","BalloonPanelView","domConverter","mapViewToDom","positions","northArrowSouth","northArrowSouthWest","northArrowSouthEast","southArrowNorth","southArrowNorthWest","southArrowNorthEast","viewportStickyNorth","ImageTextAlternativeUI","_balloon","_form","ContextualBalloon","IconTextAlternative","_showForm","_createForm","viewDocument","CssTransitionDisablerMixin","fieldView","_hideForm","_isVisible","balloon","position","updatePosition","repositionContextualBalloon","clickOutsideHandler","emitter","activator","contextElements","callback","disableCssTransitions","_isInBalloon","select","enableCssTransitions","focusEditable","isFocused","visibleView","hasView","ImageTextAlternative","downcastSrcsetAttribute","converter","evt","conversionApi","consumable","consume","mapper","toViewElement","attributeNewValue","dispatcher","downcastImageAttribute","attributeKey","viewWriter","Observer","observe","domRoot","event","domEvent","domElement","checkShouldIgnoreEventFromTarget","tagName","_fireEvents","useCapture","stopObserving","InsertImageCommand","sourceDefinitions","toArray","sourceDefinition","createPositionAfter","breakBlock","ReplaceImageSourceCommand","decorate","image","cleanupImage","addObserver","insertImageCommand","replaceImageSourceCommand","ImageSizeAttributes","afterInit","_registerSchema","_registerConverters","viewElementName","attachDowncastConverter","modelAttributeName","viewAttributeName","setRatioForInlineImage","isEditingDowncast","width","height","hasSizes","isResized","setStyle","ImageTypeCommand","_modelElementName","modelElementName","oldElement","uploadId","markers","marker","getRange","containsItem","newElement","createSelection","newElementRange","createRangeOn","markerRange","getJoined","updateMarker","ImagePlaceholder","_setupSchema","_setupConversion","_setupLoadListener","isRegistered","addClass","removeClass","removeStyle","imgViewElement","mapDomToView","toModelElement","isUndoable","ImageBlockEditing","ClipboardPipeline","register","inheritAllFrom","_setupClipboardIntegration","elementToStructure","elementToElement","viewImage","viewItem","conversionResult","convertItem","modelCursor","modelImage","modelRange","getItems","convertChildren","updateConversionResult","revert","upcastImageFigure","docFragmentChildren","getChildren","targetRanges","toModelRange","UpcastWriter","blockViewImages","inlineViewImage","createDocumentFragment","method","ImageInsertFormView","integrations","CollapsibleView","addMany","stopPropagation","focusFirst","_integrations","isImageSelected","componentCreator","_createToolbarComponent","_createMenuBarComponent","registerIntegration","observable","buttonViewCreator","formViewCreator","menuBarButtonViewCreator","requiresForm","override","_prepareIntegrations","dropdownButton","firstIntegration","actionButton","SplitButtonView","observables","toMany","integrationViews","flatMap","imageInsertFormView","resultView","IconImage","integrationView","ImageBlock","Widget","ImageInlineEditing","disallowIn","createInlineImageViewElement","inlineViewImages","blockViewImage","childCount","attribute","getChild","ImageInline","ImageCaptionUtils","getCaptionFromImageModelElement","imageModelElement","getCaptionFromModelSelection","captionElement","matchImageCaptionViewElement","ToggleImageCaptionCommand","imageCaptionUtils","ancestorCaptionElement","focusCaptionOnShow","_hideImageCaption","_showImageCaption","imageCaptionEditing","selectedImage","savedCaption","_getSavedCaption","newCaptionElement","append","_saveCaption","ImageCaptionEditing","_savedCaptionsMap","WeakMap","allowIn","allowContentOf","isLimit","_setupImageTypeCommandsIntegration","_registerCaptionReconversion","figcaptionElement","createEditableElement","placeholder","enablePlaceholder","keepOnFocus","imageAlt","toWidgetEditable","imageTypeInlineCommand","imageTypeBlockCommand","handleImageTypeChange","return","oldCaptionElement","savedOldElementCaption","jsonObject","Element","fromJSON","caption","changes","differ","getChanges","nodeAfter","reconvertItem","ImageCaptionUI","IconCaption","modelCaptionElement","scrollToTheSelection","ImageCaption","ImageStyleCommand","_defaultStyles","_styles","imageBlock","imageInline","modelElements","requestedStyle","shouldConvertImageType","DEFAULT_OPTIONS","inline","title","IconObjectInline","alignLeft","IconObjectInlineLeft","alignBlockLeft","IconObjectLeft","alignCenter","IconObjectCenter","alignRight","IconObjectInlineRight","alignBlockRight","IconObjectRight","side","DEFAULT_ICONS","full","IconObjectFullWidth","left","right","center","inlineLeft","inlineRight","DEFAULT_DROPDOWN_DEFINITIONS","defaultItem","warnInvalidStyle","info","normalizeStyles","configuredStyles","arrangement","normalizeDefinition","extendedStyle","extendStyle","isBlockPluginLoaded","isInlinePluginLoaded","supportedElements","elementName","missingPlugins","isValidOption","getDefaultStylesConfiguration","getDefaultDropdownDefinitions","pluginCollection","getStyleDefinitionByName","ImageStyleEditing","normalizedStyles","utils","_setupPostFixer","modelToViewConverter","newStyle","oldStyle","attributeOldValue","viewToModelConverter","nonDefaultStyles","modelImageElement","viewToModelStyleAttribute","downcastDispatcher","upcastDispatcher","stylesMap","registerPostFixer","changed","imageStyle","imageStyleDefinition","identity","ImageStyleUI","localizedDefaultStylesTitles","toolbarConfig","definedStyles","translateStyles","styleConfig","definedDropdowns","dropdownConfig","_createDropdown","factory","defaultButton","buttonViews","itemName","find","getUIComponentName","buttonName","button","create","dropdown","splitButtonView","splitButtonViewArrow","arrowView","getDropdownButtonTitle","unbind","areOn","findIndex","isOn","isOpen","areEnabled","buttonConfig","_executeCommand","titles","dropdownTitle","buttonTitle","ImageStyle","ImageToolbar","WidgetToolbarRepository","widgetToolbarRepository","getRelatedElement","blockAutoformatEditing","plugin","callbackOrCommand","getRanges","isCollapsed","isUndo","isLocal","entry","blockToFormat","firstNode","firstNodeRange","containsRange","isEqual","exec","createPositionAt","selectionRange","blockRange","inlineAutoformatEditing","testRegexpOrCallback","formatCallback","regExp","testCallback","text","format","leftDel","rightDel","delStart","delEnd","reduce","rangeText","createRange","getTextAfterCode","testOutput","rangesToFormat","testOutputToRanges","rangesToRemove","reverse","arrays","getShiftedBy","Autoformat","_addListAutoformats","_addBasicStylesAutoformats","_addHeadingAutoformats","_addBlockQuoteAutoformats","_addCodeBlockAutoformats","_addHorizontalLineAutoformats","accessibility","addKeystrokeInfos","keystroke","boldCallback","getCallbackFunctionForInlineAutoformat","italicCallback","codeCallback","strikethroughCallback","modelName","level","usePreviousLanguageChoice","validRanges","getValidRanges","removeSelectionAttribute","BlockQuoteCommand","_getValue","_checkEnabled","forceValue","blocksToQuote","findQuote","checkCanBeQuoted","_applyQuote","_removeQuote","getRangesOfBlockGroups","groupRange","isAtStart","isAtEnd","unwrap","positionBefore","createPositionBefore","move","positionAfter","quotesToMerge","quote","wrap","currentQuote","nextQuote","nextSibling","merge","elementOrPosition","startPosition","ranges","nextBlock","isBQAllowed","isBlockAllowedInBQ","BlockQuoteEditing","Enter","child","blockQuoteCommand","getLastPosition","preventDefault","stop","context","direction","positionParent","previousSibling","BlockQuoteUI","ButtonClass","IconQuote","BlockQuote","AttributeCommand","_getValueFromFirstAllowedNode","checkAttributeInSelection","setSelectionAttribute","BOLD","BoldEditing","copyOnEnter","attributeToElement","upcastAlso","fontWeight","getButtonCreator","commandName","BoldUI","createButton","IconBold","Bold","CODE","CodeEditing","TwoStepCaretMovement","registerAttribute","inlineHighlight","CodeUI","IconCode","Code","ITALIC","ItalicEditing","ItalicUI","IconItalic","Italic","STRIKETHROUGH","StrikethroughEditing","StrikethroughUI","IconStrikethrough","Strikethrough","SUBSCRIPT","SubscriptEditing","SubscriptUI","IconSubscript","Subscript","SUPERSCRIPT","SuperscriptEditing","SuperscriptUI","IconSuperscript","Superscript","UNDERLINE","UnderlineEditing","UnderlineUI","IconUnderline","Underline","ClassicEditorUI","EditorUI","_toolbarConfig","_elementReplacer","normalizeToolbarConfig","ElementReplacer","_handleScrollToTheSelectionWithStickyPanel","replacementElement","editable","editingRoot","getRoot","editableElement","setEditableElement","attachDomRoot","_initPlaceholder","_initToolbar","menuBarView","initMenuBar","_initDialogPluginIntegration","_initContextualBalloonIntegration","restore","getDomRoot","detachDomRoot","stickyPanel","limiterElement","top","toolbar","fillFromConfig","addToolbar","sourceElement","placeholderText","isDirectHost","contextualBalloon","isSticky","stickyPanelHeight","Rect","limiter","viewportOffsetConfig","newTopViewportOffset","updateBalloonPosition","originalArgs","viewportOffset","scrollViewportOnPanelGettingSticky","dialogPlugin","dialogView","wasMoved","isModal","stickyPanelContentRect","contentPanelElement","bottom","DialogView","defaultOffset","ClassicEditorUIView","BoxedEditorUIView","StickyPanelView","ToolbarView","shouldGroupWhenFull","shouldToolbarGroupWhenFull","useMenuBar","MenuBarView","InlineEditableUIView","main","isObjectLike","isPlainObject","object","getPrototypeOf","getOwnPropertyDescriptor","isElement","nodeType","ClassicEditor","ElementApiMixin","Editor","editorName","sourceElementOrData","initialData","getDataFromElement","getInitialData","createRoot","menuBarConfig","isVisible","attachToForm","updateSourceElement","Promise","resolve","initPlugins","then","getNormalizedAndLocalizedLanguageDefinitions","languageDefs","def","language","getPropertyAssociation","association","shift","getLeadingWhiteSpaces","textNode","getIndentOutdentPositions","anchor","startOffset","isModelSelectionInCodeBlock","canBeCodeBlock","getCodeBlockAriaAnnouncement","languagesToLabels","codeBlockLanguage","getTextNodeAtLineStart","nodeBefore","nodeAtStart","CodeBlockCommand","_lastLanguage","firstLanguageInConfig","lastLanguage","defaultLanguage","getLanguage","_applyCodeBlock","_removeCodeBlock","allowedBlocks","rename","removeDisallowedAttributes","currentBlock","appendElement","codeBlocks","elementAfter","IndentCodeBlockCommand","_indentSequence","indentSequenceTextElement","createText","insertContent","OutdentCodeBlockCommand","getLastOutdentableSequenceRange","deleteContent","sequence","nodeAtPosition","leadingWhiteSpaces","lastIndexOfSequence","modelToViewCodeBlockInsertion","useLabels","languagesToClasses","targetViewPosition","toViewPosition","preAttributes","spellcheck","codeAttributes","pre","bindElements","DEFAULT_ELEMENT","CodeBlockEditing","ShiftEnter","languages","indentSequence","normalizedLanguagesDefs","shiftKey","allowWhere","allowChildren","disallowChildren","allowAttributesOf","isBlock","addAttributeCheck","getItem","getAttributeProperties","modelToDataViewSoftBreakInsertion","classesToLanguages","defaultLanguageName","viewCodeElement","viewPreElement","codeBlock","viewChildClasses","getClassNames","safeInsert","dataViewToModelCodeBlockInsertion","textLines","lastLine","offsetSize","softBreak","preElement","preChildren","childCodeElement","insertionRange","dataTransfer","getData","fragment","nodes","line","lineIndex","rawSnippetTextToViewDocumentFragment","contentRange","hasSameParentAs","docFragment","containsEntireContent","newDocumentFragment","indent","outdent","registerChildCommand","isSoftEnter","modelDoc","lastSelectionPosition","isSoftBreakNode","newBlock","leaveBlockStartOnEnter","isSoft","emptyLineRangeToRemoveOnEnter","isEmptyishTextNode","leaveBlockEndOnEnter","insertText","breakLineOnEnter","_initAriaAnnouncements","lastFocusedCodeBlock","focusParent","ariaLiveAnnouncer","announce","CodeBlockUI","normalizedLanguageDefs","itemDefinitions","_getLanguageListItemDefinitions","accessibleLabel","IconCodeBlock","_codeBlockLanguage","addListToDropdown","Collection","languageDef","ViewModel","CodeBlock","Essentials","AccessibilityHelp","SelectAll","Typing","FindAndReplaceFormView","_findInputView","_replaceInputView","_findButtonView","_findPrevButtonView","_findNextButtonView","_advancedOptionsCollapsibleView","_matchCaseSwitchView","_wholeWordsOnlySwitchView","_replaceButtonView","_replaceAllButtonView","_inputsDivView","_actionButtonsDivView","_focusTracker","_keystrokes","focusCycler","matchCount","isDirty","_createInputField","_createInputsDiv","_createMatchCaseSwitch","_createWholeWordsOnlySwitch","_createAdvancedOptionsCollapsible","_createActionButtonsDiv","_initFocusCycling","_initKeystrokeHandling","focusLast","reset","errorText","_textToFind","_textToReplace","inputsDivView","findPrevious","findNext","_injectFindResultsCounter","resultsFound","_onFindButtonExecute","searchText","matchCase","_matchCase","wholeWords","_wholeWordsOnly","bindTemplate","resultsCounterView","highlightOffset","if","updateFindInputPadding","inputElement","counterWidth","paddingPropertyName","template","collapsible","actionsDivView","replaceAll","matchCaseSwitchButton","SwitchButtonView","wholeWordsOnlySwitchButton","stopPropagationAndPreventDefault","_areCommandsEnabled","FindAndReplaceUI","Dialog","formView","isUiUsingDropdown","findCommand","_createDialogButtonForToolbar","cancelEvent","DropdownView","dropdownButtonView","_createDialogButtonForMenuBar","_createFormView","_setupFormView","IconFindReplace","dialog","hide","_showDialog","show","DialogViewPosition","EDITOR_TOP_SIDE","onShow","onHide","editingState","state","results","findNextCommand","findPreviousCommand","replaceCommand","replaceAllCommand","FindCommand","_state","affectsData","callbackOrText","findAndReplaceUtils","findCallback","callbackSearchText","args","findByTextCallback","oldCallback","getRootNames","currentResults","updateFindResultFromRange","clear","highlightedResult","lastSearchCallback","matchWholeWords","FindAndReplaceState","ObservableMixin","eventInfo","removed","highlightedResultRemoved","removedResult","removeMarker","nextHighlightedIndex","refreshHighlightOffset","oldMatchId","oldMarker","highlightedOffset","sortSearchResultsByMarkerPositions","sortMapping","before","same","after","different","getStart","sort","compareWith","ReplaceCommandBase","_isEnabledBasedOnSelection","_replace","replacementText","canEditAt","textAttributes","ReplaceCommand","oldHighlightOffset","sortedResults","ReplaceAllCommand","newText","textToReplace","searchResult","FindNextCommand","currentIndex","getIndex","nextIndex","FindPreviousCommand","previousIndex","FindAndReplaceUtils","startResults","foundItems","rangeToText","foundItem","resultId","uid","addMarker","usingOperation","resultsList","markerToInsert","isBefore","findInsertIndex","markerItem","resultsMarker","resultRange","checkIfResultAlreadyOnList","shallow","searchTerm","flags","regExpQuery","escapeRegExp","nonLetterGroup","matchAll","regexpMatchToFindResult","matchResult","lastGroupIndex","func","debounceMs","signal","leading","trailing","maxWait","edges","pendingAt","_debounced","pendingThis","pendingArgs","invoke","timeoutId","schedule","cancelTimer","debounced","aborted","isFirstCall","flush","addEventListener","debounce","Date","now","FindAndReplaceEditing","_defineConverters","_defineCommands","oldValue","newMatchId","debouncedScrollListener","viewRange","toViewRange","scrollViewportToShowTarget","viewRangeToDom","isSearchActive","_onDocumentChange","findAttributes","_isSearchActive","markerToHighlight","markerName","changedNodes","Set","removedMarkers","changedMarkers","getChangedMarkers","isInline","getMarkersAtPosition","markerAtChange","newRange","getMarkersIntersectingRange","changedSearchResults","nodeToCheck","changedNodeSearchResults","markerToCheck","FindAndReplace","findAndReplaceEditing","FontCommand","updateAttribute","FONT_SIZE","FONT_FAMILY","FONT_COLOR","FONT_BACKGROUND_COLOR","buildDefinition","modelAttributeKey","renderUpcastAttribute","styleAttr","renderDowncastElement","modelAttributeValue","createAttributeElement","FontFamilyCommand","normalizeOptions","getOptionDefinition","fontDefinition","fontNames","firstFontName","cssFontNames","normalizeFontNameForCSS","generateFontPreset","fontName","FontFamilyEditing","supportAllValues","_prepareAnyValueConverters","_prepareCompatibilityConverter","attributeValue","elementToAttribute","FontFamilyUI","_getLocalizedOptions","listOptions","commandParam","_prepareListOptions","IconFontFamily","FontFamily","FontSizeCommand","attachPriority","preset","namedPresets","findPreset","numberValue","parseFloat","isNumericalDefinition","generatePixelPreset","tiny","small","big","huge","styleFontSize","FontSizeEditing","presets","isLength","isPercentage","isRelative","maxSize","clampedSize","FontSizeUI","IconFontSize","localizedTitles","Default","Tiny","Small","Big","Huge","assign","FontSize","normalizeSizeOptions","FontColorCommand","FontColorEditing","colors","color","hasBorder","columns","ColorUI","componentName","dropdownLabel","componentConfig","colorsConfig","normalizeColorOptions","localizedColors","getLocalizedColorOptions","documentColorsCount","documentColors","hasColorPicker","colorPicker","dropdownContentRendered","colorSelectorView","removeButtonLabel","colorPickerLabel","documentColorsLabel","colorPickerViewConfig","ColorSelectorView","addColorSelectorToDropdown","_undoStepBatch","createBatch","operations","appendUI","updateDocumentColors","updateSelectedColors","showColorGridsFragment","focusChildOnDropdownOpen","colorGridsFragmentView","staticColorsGrid","contentRendered","FontColorUI","IconFontColor","FontColor","FontBackgroundColorCommand","FontBackgroundColorEditing","addStyleProcessorRules","addBackgroundRules","FontBackgroundColorUI","IconFontBackground","FontBackgroundColor","Font","getSymbols","getOwnPropertySymbols","symbol","propertyIsEnumerable","getTag","regexpTag","stringTag","numberTag","booleanTag","argumentsTag","symbolTag","dateTag","mapTag","setTag","arrayTag","arrayBufferTag","objectTag","dataViewTag","uint8ArrayTag","uint8ClampedArrayTag","uint16ArrayTag","uint32ArrayTag","int8ArrayTag","int16ArrayTag","int32ArrayTag","float32ArrayTag","float64ArrayTag","isPrimitive","isTypedArray","DataView","cloneDeepWithImpl","valueToClone","keyToClone","objectToClone","cloneValue","cloned","hasOwn","getTime","lastIndex","copyProperties","File","Blob","cause","isCloneableObject","descriptor","cloneDeep","cloneDeepWith","CASE_SPLIT_PATTERN","updateViewAttributes","oldViewAttributes","newViewAttributes","viewAttributes","entries","removeViewAttributes","setViewAttributes","modifyGhsAttribute","ghsAttributeName","subject","kind","getHtmlAttributeName","words$1","words","normalizeForCase","word","toUpperCase","startCase","viewToModelObjectConverter","htmlContent","toObjectWidgetConverter","viewName","widgetLabel","createObjectView","viewContainer","createRawElement","setContentOf","emptyInlineModelElementToViewConverter","asWidget","getFillerOffset","attributeToViewInlineConverter","viewToModelBlockAttributeConverter","dataFilter","processViewAttributes","modelToViewBlockAttributeConverter","modelSchema","paragraphLikeModel","appliesToBlock","coupledAttribute","attributeProperties","isArguments","mergeWith","otherArgs","mergeWithDeep","Constructor","newRegExp","newError","lastModified","newObject","clone","sourceKeys","sourceValue","targetValue","targetKeys","Reflect","ownKeys","targetKey","merged","DataSchema","_definitions","registerBlockElement","registerInlineElement","extendBlockElement","_extendDefinition","extendInlineElement","getDefinitionsForView","includeReferences","_getMatchingViewDefinitions","reference","_getReferences","getDefinitionsForModel","testViewName","inheritProperties","property","referenceName","currentDefinitions","currentDefinition","idx","DataFilter","_dataSchema","_allowedAttributes","_disallowedAttributes","_allowedElements","_disallowedElements","_dataInitialized","_coupledAttributes","Matcher","_registerElementsAfterInit","_registerElementHandlers","_registerCoupledAttributesPostFixer","_registerAssociatedHtmlAttributesPostFixer","loadAllowedConfig","rules","splitRules","allowElement","loadDisallowedConfig","disallowElement","disallowAttributes","loadAllowedEmptyElementsConfig","allowEmptyElement","_addAllowedElement","allowEmpty","matchAndConsumeAttributes","getReducedStyles","prepareGHSAttribute","relatedDefinition","_fireRegisterEvent","priorities","highest","_registerObjectElement","_registerBlockElement","_registerInlineElement","coupledAttributes","_getCoupledAttributesMap","attributeKeys","removeAttributes","coupledAttributeKeys","coupledAttributeKey","attr","startsWith","attributeNames","registerRawContentMatcher","converterPriority","low","getSplitParts","setAttributeOnItem","attributesToAdd","mergeViewElementAttributes","viewToAttributeInlineConverter","copyFromObject","htmlProcessor","registerInlineObjectMatcher","getAttributeKeys","matcher","matches","stylesProcessor","token","sortedRelatedStyles","getRelatedStyles","relatedStyle","attributesObject","isValidAttributeName","StylesMap","styleValue","getStylesEntries","splitPattern","CodeBlockElementSupport","preserveElementAttributes","viewToModelCodeBlockAttributeConverter","DualContentModelElementSupport","blockDefinition","paragraphLikeModelDefinition","_hasBlockContent","_addAttributeConversion","blockElements","HeadingElementSupport","registerHeadingElements","dataSchema","headerModels","getDescendantElement","containerElement","ImageElementSupport","viewFigureElement","viewToModelFigureAttributeConverter","viewImageElement","viewToModelImageAttributeConverter","addBlockAttributeConversion","viewLink","viewToModelLinkImageAttributeConverter","MediaEmbedElementSupport","mediaElementName","viewToModelFigureAttributesConverter","upcastMedia","viewToModelMediaAttributesConverter","addAttributeConversionDispatcherHandler","modelToViewMediaAttributeConverter","ScriptElementSupport","isContent","STYLE_ATTRIBUTES_TO_PROPAGATE","TableElementSupport","tableUtils","viewTableElement","childNode","viewToModelTableAttributeConverter","oldAttributes","splitAttributesForFigureAndTable","newAttributes","tableAttributes","figureAttributes","wasFixed","hasTHeadAttributes","hasTBodyAttributes","getRows","createHeadingRowsPostFixer","StyleElementSupport","isEqualWithImpl","aParent","bParent","areValuesEqual","areObjectsEqual","aTag","bTag","other","aStack","bStack","aValues","bValues","aValue","bValue","aKeys","bKeys","propKey","aProp","delete","isEqualWith","ListElementSupport","listEditing","listUtils","viewElements","registerDowncastStrategy","scope","setAttributeOnDowncast","viewToModelListAttributeConverter","listNodes","previousNodeInList","getAttributeFromListType","listType","isNumberedListType","indentList","changedBlocks","HorizontalLineElementSupport","CustomElementSupport","unsafeElements","preLikeElements","preElements","isValidElementName","htmlElementName","htmlAttributes","documentFragment","domFragment","viewToDom","htmlWriter","getHtml","GeneralHtmlSupport","getGhsAttributeNameForElement","inlineDefinition","addModelHtmlClass","getItemsToUpdateGhsAttribute","removeModelHtmlClass","setModelHtmlAttributes","attributesMap","removeModelHtmlAttributes","setModelHtmlStyles","removeModelHtmlStyles","properties","getValidRangesForSelectable","HtmlComment","loadedCommentsContent","processor","skipComments","elementToMarker","commentContent","markerToElement","comment","createUIElement","oldRange","oldRoot","newRoot","commentMarker","getMarkersGroup","removeHtmlComment","limitElement","getLimitElement","firstPosition","lastPosition","affectedCommentIDs","isTouching","getHtmlCommentsInRange","skipBoundaries","commentMarkerID","createHtmlComment","commentID","getHtmlCommentData","getRoots","includeBoundaries","isAfter","isCommentMarkerInRange","HtmlDataProcessor","HeadingCommand","heading","checkCanBecomeHeading","defaultModelElement","HeadingEditing","Paragraph","_addDefaultH1Conversion","enterCommand","HeadingUI","defaultTitle","headingCommand","paragraphCommand","commandValue","ariaLabelledBy","paragraph","whichModel","Heading","HorizontalLineCommand","getInsertHorizontalLineParent","isHorizontalLineAllowedInParent","horizontalElement","HorizontalLineEditing","viewWrapper","toHorizontalLineWidget","HorizontalLineUI","IconHorizontalLine","HorizontalLine","HtmlEmbedCommand","selectedRawHtmlElement","getSelectedRawHtmlModelWidget","getInsertHtmlEmbedParent","isHtmlEmbedAllowedInParent","htmlEmbedElement","HtmlEmbedEditing","_widgetButtonViewReferences","showPreviews","sanitizeHtml","rawHtml","html","hasChanged","widgetButtonViewReferences","htmlEmbedConfig","renderContent","props","textContent","domDocument","ownerDocument","domTextarea","isEditable","textareaProps","isDisabled","textareaPlaceholder","createDomTextarea","previewContainerProps","sanitizedOutput","getRawHtmlValue","domPreviewPlaceholder","domPreviewContent","domDocumentFragment","createContextualFragment","createPreviewContainer","buttonsWrapperProps","onEditClick","onSaveClick","onCancelClick","prepend","domButtonsWrapper","createUIButton","cancelButtonView","editButtonView","createDomButtonsWrapper","disabled","isConnected","innerHTML","domContentWrapper","viewContentWrapper","rawHtmlApi","makeEditable","save","hasSelectionHandle","onClick","IconPencil","IconCheck","IconCancel","HtmlEmbedUI","IconHtml","HtmlEmbed","IndentEditing","MultiCommand","IndentUI","localizedIndentIcon","IconIndent","IconOutdent","localizedOutdentIcon","_defineButton","Indent","IndentBlockCommand","_indentBehavior","indentBehavior","_isIndentationChangeAllowed","checkEnabled","blocksToChange","_getBlocksToChange","currentIndent","nextIndent","getNextIndent","isForward","isListItemBlock","IndentUsingOffset","unit","indentAttributeValue","currentOffset","offsetToSet","IndentUsingClasses","indexStep","DEFAULT_ELEMENTS","IndentBlock","configuration","_setupConversionUsingClasses","addMarginRules","_setupConversionUsingOffset","indentCommand","outdentCommand","marginProperty","AutomaticDecorators","getDispatcher","viewSelection","getDispatcherForLinkedImage","viewFigure","linkInImage","toMap","ATTRIBUTE_WHITESPACES","EMAIL_REG_EXP","PROTOCOL_REG_EXP","DEFAULT_LINK_PROTOCOLS","LINK_KEYSTROKE","createLinkElement","href","linkElement","ensureSafeUrl","url","allowedProtocols","urlString","protocolsList","customRegexp","isSafeUrl","isLinkableElement","addLinkProtocolIfApplicable","link","defaultProtocol","protocol","isProtocolNeeded","linkHasProtocol","extractTextFromLinkRange","LinkCommand","manualDecorators","automaticDecorators","restoreManualDecoratorStates","manualDecorator","_getDecoratorStateFromModel","manualDecoratorIds","displayedText","truthyManualDecorators","falsyManualDecorators","updateLinkAttributes","itemOrRange","updateLinkTextIfNeeded","linkHref","linkText","oldText","diff","counter","equal","actualSlice","expectedSlice","action","expected","findChanges","insertsLength","updatedOffset","subRange","getLinkPartTextNode","formattingAttributes","newTextNode","collapseSelectionAtLinkEnd","linkRange","_handleForwardMovement","findAttributeRange","newLinkRange","selectionRanges","allowedRanges","rangesToUpdate","_isRangeToUpdate","stickyPseudoRanges","pseudoRange","decoratorName","allowedRange","UnlinkCommand","linkCommand","rangesToUnlink","ManualDecorator","defaultValue","_createPattern","DECORATOR_AUTOMATIC","EXTERNAL_LINKS_REGEXP","_linkOpeners","Input","allowCreatingEmptyLinks","addTargetToExternalLinks","linkDecorators","decorators","localizedDecoratorsLabels","decorator","getLocalizedDecorators","retArray","substring","upperFirst","normalizeDecorators","_enableAutomaticDecorators","mode","_enableManualDecorators","_enableLinkOpen","_enableSelectionAttributesFixer","_enableClipboardIntegration","_registerLinkOpener","linkOpener","automaticDecoratorDefinitions","rel","manualDecoratorDefinitions","decoratorDefinition","manualDecoratorValue","handleLinkOpening","opener","open","env","isMac","metaKey","ctrlKey","clickedElement","domTarget","closest","keyCode","keyCodes","enter","altKey","linkAttributes","removeLinkAttributesFromSelection","getDefinition","newLink","LinkPreviewButtonView","click","LinkFormView","displayedTextInputView","urlInputView","providersListChildren","_validators","validators","_createDisplayedTextInput","_createUrlInput","_createFormChildren","_createProvidersListView","isValid","resetFormStatus","validator","providersListView","ListView","bindTo","using","ListItemView","inputMode","LinkProviderItemsView","listChildren","emptyListInformation","_createListView","_createEmptyLinksListItemView","hasItems","propName","LinkPropertiesView","LinkButtonView","_createArrowView","IconView","VISUAL_SELECTION_MARKER_NAME","toolbarView","linkProviderItemsView","propertiesView","_linksProviders","ClickObserver","_registerComponents","_registerEditingOpeners","_enableBalloonActivators","markerElement","registerLinksListProvider","provider","insertIndex","existing","order","_createViews","_createToolbarView","_createPropertiesView","_enableUserBalloonInteractions","toolbarItems","_hideUI","_addFormView","isContextual","beforeFocus","_getSelectedLinkElement","_isToolbarVisible","_showUI","afterBlur","form","parsedUrl","_getDecoratorSwitchesState","selectedLinkableText","_closeFormView","_createLinksListProviderButton","_createLinkProviderListView","getListItems","_removeLinksProviderView","_createLinkProviderItemsView","emptyListPlaceholder","_removePropertiesView","decoratorValue","accumulator","_getLinkProviderLinkByHref","navigate","setHref","selectedLinksProviderLink","unlinkCommand","IconUnlink","IconSettings","_addPropertiesView","linkProvider","linksButton","_showLinksProviderView","IconLink","keyEvtData","_isUIVisible","_isUIInPanel","_addToolbarView","_isToolbarInPanel","_getBalloonPositionData","balloonClassName","_isFormInPanel","_getSelectedLinkableText","_arePropertiesInPanel","_addLinkProviderItemsView","_removeFormView","_isLinksListInPanel","updateFocus","_hideFakeVisualSelection","forceVisible","showStack","_showFakeVisualSelection","_startUpdatingUI","prevSelectedLink","prevSelectionParent","getSelectionParent","selectedLink","selectionParent","_isPropertiesVisible","_isFormVisible","markerViewElements","markerNameToElements","markerViewElementsArray","targetLink","findLinkElementAncestor","getTrimmed","startLink","endLink","viewLinkRange","getLastMatchingPosition","boundaries","isLinkElement","URL_REG_EXP","_enableTypingHandling","_enableEnterHandling","_enableShiftEnterHandling","_enablePasteLinking","_expandLinkRange","_selectEntireLinks","selectedRange","selStart","selEnd","updatedSelection","rangeCount","watcher","TextWatcher","mappedText","isSingleSpaceAtTheEnd","getUrlAtTextEnd","removedTrailingCharacters","isTyping","linkEnd","linkStart","_applyAutoLink","rangeToCheck","_checkAndApplyAutoLinkOnRange","shiftEnterCommand","getLastTextLine","fullUrl","isLinkAllowedOnRange","linkIsAlreadySet","_persistAutoLink","deletePlugin","LinkImageEditing","isImageInlinePluginLoaded","imageInLink","blockImageView","upcastLink","viewImgOrPicture","downcastImageLink","downcastImageLinkManualDecorator","upcastImageLinkManualDecorator","LinkImageUI","_isSelectedLinkedImage","_createToolbarLinkImageButton","selectedModelElement","LinkImage","ListWalker","_startElement","_referenceIndent","_isForward","_includeSelf","_sameAttributes","_sameIndent","_lowerIndent","_higherIndent","startElement","includeSelf","sameAttributes","sameIndent","lowerIndent","higherIndent","nestedItems","SiblingListBlocksIterator","_getStartNode","_node","_previousNodesByIndent","_previous","_previousNodeIndent","nodeIndent","previousNodeIndent","previous","ListBlocksIterable","_listHead","listHead","ListItemUid","getAllListItemBlocks","listItem","getListItemBlocks","backwardBlocks","forwardBlocks","isFirstBlockOfListItem","listBlock","isLastBlockOfListItem","expandListBlocksToCompleteItems","withNested","allBlocks","itemBlock","sortBlocks","expandListBlocksToCompleteList","splitListItemBefore","mergeListItemBefore","parentBlock","setAttributes","indentBlocks","expand","indentBy","blockIndent","removeListAttributes","isSingleListItem","firstItemId","getSelectedBlockObject","canBecomeSimpleListItem","mergeListItemIfNotLast","pop","ListIndentCommand","_direction","indentDirection","getSelectedListBlocks","visited","referenceIndent","parentBlocks","mergedBlocks","mergedBlock","outdentBlocksWithMerge","previousItemBlock","_fireAfterExecute","siblingItem","firstNonListBlockIndex","ListCommand","_listWalkerOptions","multiLevel","selectedBlockObject","turnOff","lastBlock","itemBlocks","POSITIVE_INFINITY","newIndent","outdentFollowingItems","additionalAttributes","listIndent","listItemId","ListMergeCommand","shouldMergeOnBlocksContentLevel","firstElement","lastElement","_getMergeSubjectElements","firstIndent","lastIndent","lastElementId","nestedLastElementBlocks","sel","doNotResetEntireContent","lastElementAfterDelete","siblingNode","isFirstBlock","ListSplitCommand","_getStartBlock","ListUtils","isListView","isListItemView","createListElement","getViewElementIdForListType","getViewElementNameForListType","createListItemElement","findAndAddListHeadToMap","itemToListHead","previousNode","listItemDowncastConverter","strategies","dataPipeline","consumer","events","createAttributesConsumer","findMappedViewElement","removeCustomMarkerElements","attributeElement","parentElement","unwrapListItemBlock","strategy","canInjectMarkerIntoElement","createWrapperElement","canWrapElement","wrapper","insertCustomMarkerElements","listItemIndent","currentListItem","listItemViewElement","listViewElement","wrapListItemBlock","bogusParagraphCreator","shouldUseBogusParagraph","markersToRemove","collectMarkersToRemove","viewWalker","LIST_BASE_ATTRIBUTES","ListEditing","_downcastStrategies","multiBlock","conflictPlugin","copyOnReplace","_setupDeleteIntegration","_setupEnterIntegration","_setupTabIntegration","_setupAccessibilityIntegration","_setupModelPostFixing","getListAttributeNames","mergeBackwardCommand","mergeForwardCommand","isLastBlock","splitCommand","getIndent","firstItemListType","keepEmptyElement","viewStart","modelEnd","viewEnd","isPhantom","modelToViewPositionMapper","modelPosition","positionAfterLastMarker","skip","previousPosition","viewPosition","itemsToRefresh","changedItems","doesItemBlockRequiresRefresh","collectListItemsToRefresh","itemIndent","doesItemWrappingRequiresRefresh","useBogus","isListItemElement","isListElement","eventName","modelAttributes","reconvertItemsOnDataChange","applied","innerItem","seenIds","modelChangePostFixer","maxIndent","prevIndent","fixBy","fixListIndents","fixListItemIds","refItem","refType","refIndent","firstElementIndent","indentDiff","isListItem","createModelIndentPasteFixer","allContentChildren","lastItem","allChildren","addKeystrokeInfoGroup","createUIComponents","IconNumberedList","IconBulletedList","List","ListStartCommand","startIndex","LIST_STYLE_TO_LIST_TYPE","LIST_STYLE_TO_TYPE_ATTRIBUTE","TYPE_ATTRIBUTE_TO_LIST_STYLE","LIST_STYLE_TYPES","listStyle","typeAttribute","getAllSupportedStyleTypes","getListTypeFromListStyleType","listStyleType","getListStyleTypeFromTypeAttribute","getTypeAttributeFromListStyleType","ListStyleCommand","defaultType","_supportedTypes","supportedTypes","_tryToConvertItemsToList","isStyleTypeSupported","numberedList","bulletedList","ListReversedCommand","reversed","listPropertiesUpcastConverter","viewConsumables","appliesToListItem","getAttributeOnUpcast","ListPropertiesUtils","getNormalizedConfig","getNormalizedStylesConfig","normalizedConfig","listTypes","useAttribute","listStyleTypes","DEFAULT_LIST_TYPE","ListPropertiesEditing","enabledProperties","addCommand","styleType","hasValidAttribute","listParent","normalizeListStyle","listReversed","listStart","startAttributeValue","createAttributeStrategies","ListPropertiesView","stylesView","additionalPropertiesCollapsibleView","startIndexFieldView","reversedSwitchButtonView","styleButtonViews","styleGridAriaLabel","elementCssClasses","_createStylesView","_addNumberedListPropertyViews","addKeyboardHandlingForGrid","gridItems","numberOfColumns","getComputedStyle","getPropertyValue","styleButtons","numberedPropertyViews","_createStartIndexField","_createReversedSwitchButton","createLabeledInputNumber","step","valueAsNumber","checkValidity","reversedButtonView","propertiesConfig","stylesListTypes","styleDefinitions","IconListStyleDisc","IconListStyleCircle","IconListStyleSquare","buttonLabel","getDropdownViewCreator","parentCommandName","buttonIcon","getMenuBarStylesMenuCreator","IconListStyleDecimal","IconListStyleDecimalLeadingZero","IconListStyleLowerRoman","IconListStyleUpperRoman","IconListStyleLowerLatin","IconListStyleUpperLatin","parentCommand","mainButtonView","listPropertiesView","listStyleCommand","styleButtonCreator","getStyleButtonCreator","configuredListStylesTypes","filteredDefinitions","allowedTypes","getStyleTypeSupportChecker","listStartCommand","listReversedCommand","isReversed","createListPropertiesView","listCommand","styleDefinition","ListProperties","CheckTodoListCommand","selectedElements","_getSelectedItems","elements","TodoCheckboxChangeObserver","DomEventObserver","domEventType","onDomEvent","viewTarget","ITEM_TOGGLE_KEYSTROKE","parseKeystroke","TodoListEditing","modelItem","groupedItems","acc","elementUpcastConsumingConverter","matcherResult","attributeUpcastConsumingConverter","isDescriptionBlock","contenteditable","isFirstTodoModelParagraphBlock","isFirstTodoModelItemBlock","hasViewItemMarker","previousHasAttribute","nodeHasAttribute","getCode","viewPositionAfter","toModelPosition","_handleCheckmarkChange","domEventData","getLocalizedArrowKeyCodeDirection","getNearestSelectionRange","newRangeParent","jumpOverCheckmarkOnSideArrowKeyPress","viewParent","isStartOfListItem","isStartOfListLabel","isLabelElement","isInInputWrapper","previousSelectionRanges","lastElementIsTodoList","isTodoListItemElement","currentElementIsTodoList","matcherPattern","listAttributeNames","hasOnlyListAttributes","IconTodoList","TodoList","modelToViewUrlAttributeConverter","registry","figure","mediaContentElement","mediaViewElement","getMediaViewElement","getSelectedMediaViewWidget","isMediaWidget","createMediaFigureElement","getSelectedMediaModelWidget","insertMedia","mediaElement","MediaEmbedCommand","selectedMedia","isMediaSelected","isAllowedInParent","MediaRegistry","providerDefinitions","providers","extraProviders","removedProviders","removeProviders","hasMedia","_getMedia","getViewElement","Media","previewRenderer","subPattern","_getUrlMatches","rawUrl","_locale","_match","_previewRenderer","_getValidUrl","renderForEditingView","renderMediaPreview","mediaHtml","_getPreviewHtml","_getPlaceholderHtml","IconMediaPlaceholder","viewBox","Template","outerHTML","MediaEmbedEditing","time","toMediaWidget","viewMedia","URL_REGEXP","AutoMediaEmbed","_embedMediaBetweenPositions","mediaRegistry","MediaFormView","_urlInputViewInfoDefault","_urlInputViewInfoTip","infoText","inputField","mediaURLInputValue","MediaEmbedUI","_formView","_createDialogButton","IconMedia","_handleSubmitForm","actionButtons","onExecute","MediaEmbed","MediaEmbedToolbar","PageBreakCommand","getInsertPageBreakParent","isPageBreakAllowedInParent","pageBreakElement","PageBreakEditing","viewLabelElement","innerText","toPageBreakWidget","hasPageBreakBefore","hasPageBreakAfter","viewSpan","PageBreakUI","IconPageBreak","PageBreak","isPx","toPx","toFixed","isListContinuation","currentItem","detectListStyle","listLikeItem","stylesString","listStyleRegexp","listStyleTypeRegex","listStartIndexRegex","legalStyleListRegex","multiLevelNumberFormatTypeRegex","legalStyleListMatch","multiLevelNumberFormatMatch","islegalStyleList","listStyleMatch","listStyleTypeMatch","bulletedStyle","listMarkerElement","textNodeOrElement","findListMarkerNode","listMarker","_data","findBulletedListStyle","listStartIndexMatch","mapListStyleDefinition","isLegalStyleList","createNewEmptyList","hasMultiLevelListPlugin","getListItemData","idMatch","orderMatch","indentMatch","removeBulletElement","bulletMatcher","getMarginLeftNormalized","numericValue","convertCssLengthToPx","msWordMatch1","msWordMatch2","MSWordNormalizer","isActive","htmlString","body","_parsedData","elementsToChange","getChildIndex","insertChild","transformBookmarks","itemLikeElements","foundMargins","marginLeft","hasStyle","itemData","findAllItemLikeElements","encounteredLists","itemLikeElement","originalListId","listElement","parentListItems","listItemElements","stackItem","listItems","transformListItemLikeElementsIntoLists","rtfData","upcastWriter","shapesIds","shapeElementsMatcher","el","prevSiblingName","exceptionIds","isElementAShape","hasElementGfxdataAttribute","isPreviousSiblingAShapeType","isElementIdInExceptionsArray","findAllShapesIds","imageElementsMatcher","imgs","shapes","shape","removeAllImgElementsRepresentingShapes","shapeIds","containsMatchingImg","attrs","findSrc","alt","insertMissingImgs","removeAllShapeElements","images","findAllImageElementsWithLocalSource","imageElements","imagesHexSources","newSrc","hexString","hex","char","replaceImagesFileSourceWithInlineRepresentation","regexPictureHeader","regexPicture","extractImageDataFromRtf","replaceImagesSourceWithBase64","elementsToUnwrap","styleName","getStyleNames","itemParent","childIndex","removeMSAttributes","findSibling","inlineObjectElements","isBlockViewElement","googleDocsMatch","GoogleDocsNormalizer","removeBoldWrapper","unwrapElement","unwrapParagraphInListItem","ViewDocument","DomConverter","renderingMode","elementsToReplace","nextSiblingIsBlock","transformBlockBrsToParagraphs","googleSheetsMatch","GoogleSheetsNormalizer","removeGoogleSheetsTag","removeXmlns","removeInvalidTableWidth","removeStyleBlock","normalizeSafariSpaceSpans","fullMatch","spaces","PasteFromOffice","normalizers","_isTransformedWithPasteFromOffice","activeNormalizer","normalizer","domParser","DOMParser","normalizedHtml","normalizeSpacing","bodyCloseTag","bodyCloseIndex","htmlCloseIndex","cleanContentAfterBody","htmlDocument","parseFromString","querySelectorAll","htmlElement","innerTextLength","normalizeSpacerunSpans","bodyString","bodyView","domToView","documentToView","stylesObject","styleTags","sheet","cssRules","extractStyles","parseHtml","REMOVE_FORMAT","RemoveFormatUI","IconRemoveFormat","RemoveFormatCommand","_getFormattingItems","_getFormattingAttributes","itemRange","itemHasRemovableFormatting","curRange","RemoveFormatEditing","RemoveFormat","indentLine","indentCount","indentChar","repeat","COMMAND_FORCE_DISABLE_ID","SourceEditing","PendingActions","_replacedRoots","_dataFromRoots","_checkCompatibility","IconSource","_isAllowedToHandleSourceEditingMode","isSourceEditingMode","_hideVisibleDialog","_showSourceEditing","_disableCommands","_hideSourceEditing","_enableCommands","_handleReadOnlyMode","isReadOnly","updateEditorData","domSourceEditingElementWrapper","oldData","newData","dataset","batchType","suppressErrorInCollaboration","allowCollaboration","warn","domRootElement","domRoots","isHtml","elementsToFormat","isVoid","elementNamesToFormat","lines","isPreformattedLine","isPreviousLinePreFormatted","isPreformattedBlockLine","isNonVoidOpeningTag","isClosingTag","formatHtml","domSourceEditingElementTextarea","rows","setSelectionRange","viewRoot","_hideDocumentOutline","_refreshAnnotationsVisibility","_focusSourceEditing","_showDocumentOutline","display","refreshVisibility","textarea","forceDisabled","clearForceDisabled","readOnly","hasExternalElement","isEditorReadOnly","hasAnyPendingActions","StyleGridButtonView","previewView","_createPreview","previewTemplate","StyleGridView","gridTileView","activeStyles","enabledStyles","StyleGroupView","gridView","labelView","LabelView","StylePanelView","blockStylesGroupView","inlineStylesGroupView","NON_PREVIEWABLE_ELEMENT_NAMES","StyleUtils","_htmlSupport","normalizeConfig","normalizedDefinitions","ghsAttributes","ghsDefinition","ghsBlockDefinition","getStylePreview","isStyleEnabledForBlock","isStyleActiveForBlock","ghsAttributeValue","hasAllClasses","getAffectedBlocks","isStyleEnabledForInlineSelection","isStyleActiveForInlineSelection","getAffectedInlineSelectable","configureGHSDataFilter","ghsDataFilter","normalizedStyleDefinitionToMatcherPattern","StyleUI","styleUtils","normalizedStyleDefinitions","styleCommand","StyleCommand","_styleDefinitions","_styleUtils","ancestorBlocks","parentFirst","htmlSupport","allDefinitions","activeDefinitions","shouldAddStyle","selectables","isBlockStyleDefinition","_findAffectedBlocks","getBlocksFromSelection","getDefinitionExclusiveClasses","selectedBlocks","selectedBlock","affectedBlocks","affectedBlock","ListStyleSupport","_listUtils","_isStyleEnabledForBlock","_isStyleActiveForBlock","_getAffectedBlocks","templateDefinition","_getStylePreview","TableStyleSupport","_tableUtils","_isApplicable","location","getCellLocation","headingRows","headingColumns","isHeadingCell","row","column","LinkStyleSupport","_isStyleEnabled","_isStyleActive","_getAffectedSelectable","expandedRange","expandAttributePosition","joinedRange","normalizeRanges","lookBack","referenceNode","findAttributeRangeBound","StyleEditing","Style","upcastStyleToAttribute","modelAttribute","reduceBoxSides","shouldUpcast","localDefaultValue","getDefaultValueAdjusted","normalized","getNormalizedStyle","reduceBoxSidesValue","upcastBorderStyles","defaultBorder","stylesToConsume","tableElement","localDefaultBorder","normalizedBorder","reducedBorder","downcastAttributeToStyle","downcastTableAttribute","layoutTableDefault","sides","topSideStyle","updateNumericAttribute","insertPosition","tableCell","insertElement","isHeadingColumnCell","enableProperty","ensureParagraphInTableCell","scanRowForHeadingColumns","tr","th","TableWalker","_table","_startRow","_endRow","_startColumn","_endColumn","_includeAllSlots","_skipRows","_row","_rowIndex","_column","_cellIndex","_spannedCells","_nextCellAtColumn","_jumpedToStartRow","startRow","endRow","startColumn","endColumn","includeAllSlots","_canJumpToStartRow","_jumpToNonSpannedRowClosestToStartRow","_isOverEndRow","_isOverEndColumn","_advanceToNextRow","outValue","spanData","_getSpanned","_shouldSkipSlot","_formatOutValue","cell","colspan","rowspan","_recordSpans","skipRow","anchorRow","anchorColumn","TableSlot","rowIsMarkedAsSkipped","rowIsBeforeStartRow","columnIsBeforeStartColumn","columnIsAfterEndColumn","rowMap","rowToUpdate","columnToUpdate","_markSpannedCell","firstRowLength","_getRowLength","rowIndex","cols","cellAnchorRow","cellAnchorColumn","tableWalker","isAnchor","cellWidth","cellHeight","getPositionBefore","downcastTable","figureElement","positionOffset","additionalSlots","toTableWidget","downcastCell","tableRow","tableSlot","cellElementName","withAriaRole","convertParagraphInTableCell","isSingleParagraphWithoutAttributes","hasAnyAttribute","InsertTableCommand","validParent","defaultRows","defaultColumns","createTable","getNodeByPath","InsertRowCommand","isAnyCellSelected","getSelectionAffectedTableCells","insertAbove","affectedTableCells","rowIndexes","getRowIndexes","insertRows","at","copyStructureFromAbove","InsertColumnCommand","columnIndexes","getColumnIndexes","insertColumns","SplitCellCommand","selectedCells","splitCellHorizontally","splitCellVertically","cropTableToDimensions","sourceTable","cropDimensions","croppedTable","sourceTableType","cropHeight","tableMap","sourceRow","sourceColumn","rowInCroppedTable","tableCellCopy","cloneElement","trimTableCellIfNeeded","addHeadingsToCroppedTable","getVerticallyOverlappingCells","overlapRow","cells","slotInfo","splitHorizontally","splitRow","newRowspan","newCellAttributes","newCellRowSpan","columnIndex","newCell","getHorizontallyOverlappingCells","overlapColumn","cellsToSplit","splitVertically","splitColumn","newColspan","newCellColSpan","cellRow","cellColumn","limitRow","limitColumn","removeEmptyColumns","getColumns","columnsMap","emptyColumns","cellsCount","emptyColumn","removeColumns","removeEmptyRows","emptyRows","tableRowCount","emptyRow","removeRows","removeEmptyRowsColumns","adjustLastRowIndex","dimensions","lastRowMap","firstColumn","lastColumn","lastRow","rowspanAdjustment","adjustLastColumnIndex","lastColumnMap","firstRow","colspanAdjustment","MergeCellCommand","isHorizontal","cellToMerge","_getMergeableCell","getTableCellsContainingSelection","isMergeNext","cellToExpand","cellToRemove","removedTableCellRow","mergeTableCells","spanAttribute","cellSpan","cellToMergeSpan","horizontalCell","hasHeadingColumns","cellOnLeft","cellOnRight","leftCellColumn","rightCellColumn","leftCellSpan","isCellOnLeftInHeadingColumn","isCellOnRightInHeadingColumn","getHorizontalCell","currentCellRowSpan","rowOfCellToMerge","mergeColumn","cellToMergeData","getVerticalCell","span","firstTableChild","RemoveRowCommand","firstCell","lastRowIndex","selectedRowIndexes","areAllRowsSelected","referenceCells","removedRowIndexes","columnIndexToFocus","rowsToRemove","cellToFocus","removedRowIndex","columnToFocus","getCellToFocus","RemoveColumnCommand","tableColumnCount","lastCell","returnValue","getBoundaryCells","removedColumnIndexes","columnsToRemove","SetHeaderRowCommand","_isInHeading","headingRowsToSet","currentHeadingRows","overlappingCells","SetHeaderColumnCommand","headingColumnsToSet","getTableColumnElements","columnGroupElement","getColumnGroupElement","TableUtils","createEmptyRows","insertAt","rowsToInsert","isCopyStructure","copyStructureFrom","walkerEndRow","tableIterator","rowColSpansMap","lastCellRow","isReferenceRow","cellIndex","columnsToInsert","tableColumns","createCells","rowCount","indexesObject","cellsToMove","cellsToTrim","lastRowOfCell","rowSpanToSet","getCellsToMoveAndTrimOnRemoveRow","targetRowIndex","tableRowMap","previousCell","cellToMove","targetPosition","moveCellsToRow","updateHeadingRows","headingsRemoved","adjustHeadingColumns","removedColumnIndex","adjacentColumn","removedColumnWidth","adjacentColumnWidth","numberOfCells","newCellsSpan","updatedSpan","breakSpanEvenly","newCellsAttributes","cellsToInsert","splitCellColumn","cellsToUpdate","splitCellRow","distanceFromLastCellSpan","isOnSameColumn","rowspanToSet","createTableWalker","getSelectedTableCells","sortRanges","getContainedElement","cellWithSelection","tableCells","indexes","_getFirstLastIndexesObject","isSelectionRectangular","selectedTableCells","_areCellInTheSameTableSection","areaOfSelectedCells","areaOfValidSelection","rowsIndexes","getBiggestRectangleArea","compareRangeOrder","allIndexesSorted","indexA","indexB","_areIndexesInSameSection","headingSectionSize","tableCellToInsert","rangeA","rangeB","posA","posB","MergeCellsCommand","firstTableCell","mergeWidth","mergeHeight","maxWidthOffset","maxHeightOffset","getMaxOffset","firstCellRow","firstCellColumn","getMergeDimensions","cellBeingMerged","targetCell","currentMaxOffset","which","dimensionValue","SelectRowCommand","rangesToSelect","SelectColumnCommand","startLocation","endLocation","cellInfo","fixTableCellsRowspan","maxRows","rowLimit","findCellsToTrim","fixTableRowsSizes","childrenLengths","lengths","getChildrenLengths","rowsLengths","tableSize","maxColumns","prev","current","isTableAttributeEntry","fixTable","fixTableRow","fixTableCellContent","textNodes","checkTableCellChange","shouldRefresh","TableEditing","_additionalSlots","isSelectable","viewTable","figureChild","getViewTableFromFigure","modelTable","headRows","bodyRows","firstTheadElement","tableChild","trs","maxPrevColumns","trColumns","headingCols","scanTable","upcastCellSpan","analyzedTables","tableLayoutPostFixer","injectTableLayoutPostFixer","tableCellContentsPostFixer","injectTableCellParagraphPostFixer","isRowChange","expectedElementName","tableHeadingsRefreshHandler","cellsToCheck","paragraphsToRefresh","tableCellRefreshHandler","registerAdditionalSlot","slotHandler","_createGridCollection","mousedown","domEvt","focusedElement","_highlightGridBoxes","boxView","_createGridButton","boxes","TableUI","isContentLtr","insertTableView","IconTable","bindIsOn","_prepareDropdown","IconTableColumn","IconTableRow","_prepareMergeSplitButtonDropdown","IconTableMergeCell","_fillDropdownWithListOptions","mergeCommandName","mergeCommand","addListOption","TableSelection","_handleDeleteContent","_handleInsertTextEvent","_defineSelectionConverter","_enablePluginDisabling","getSelectionAsFragment","adjustedLastRow","adjustedLastColumn","setCellSelection","anchorCell","cellsToSelect","_getCellsToSelect","backward","getFocusCell","getAnchorCell","highlighted","previouslyHighlighted","clearHighlightedTableCells","lastViewCell","isBackward","tableCellToSelect","rangeToSelect","setTo","viewRanges","endColumnExtraColspan","selectionMap","walkerOptions","flipVertically","flipHorizontally","flat","TableClipboard","ClipboardMarkersUtils","_onCopyCut","_listenToContentInsertion","tableSelection","isPaste","_onInsertContent","clipboardMarkersUtils","_copySelectedFragmentWithMarkers","toView","pastedTable","getTableIfOnlyTableInContent","_pasteMarkersIntoTransformedElement","_replaceSelectedCells","pastedDimensions","selectedTable","shouldExpandSelection","expectedHeight","expectedWidth","tableWidth","tableHeight","expandTableSize","doVerticalSplit","doHorizontalSplit","splitCellsToRectangularSelection","prepareTableForPasting","selectionHeight","selectionWidth","_replaceSelectedCellsWithPasted","pastedWidth","pastedHeight","pastedTableLocationMap","createLocationMap","selectedTableMap","pastedRow","pastedColumn","pastedCell","cellToInsert","newTableCell","_replaceTableSlotCell","areHeadingRowsIntersectingSelection","areHeadingColumnsIntersectingSelection","newCells","rangeBefore","hasContent","ignoreWhitespaces","rangeAfter","limitColumns","isAffectedBySelection","limitRows","endIndex","TableKeyboard","_onArrowKey","_handleTabOnSelectedTable","_handleTab","bubblingEventInfo","currentRowIndex","currentCellIndex","isFirstCellInRow","isLastCellInRow","isLastRow","nextRow","previousRow","_handleArrowKeys","expandSelection","focusCell","_navigateFromCellInDirection","_isSelectionAtCellEdge","probe","modifySelection","currentCellInfo","cellToSelect","positionToSelect","MouseEventsObserver","TableMouse","_enableShiftClickSelection","_enableMouseDragSelection","blockSelectionChange","_getModelTableCellFromDomEvent","haveSameTableParent","beganCellSelection","buttons","newTargetCell","viewTargetElement","cellA","cellB","getSelectionAffectedTableWidget","getSelectedTableWidget","getTableWidgetAncestor","isTableWidget","TableToolbar","tableContentToolbarItems","tableToolbarItems","ColorInputView","inputView","_stillTyping","_createDropdownView","_createInputTextView","inputValue","_setInputValue","colorSelector","_createColorSelector","colorPreview","backgroundColor","panelPosition","InputTextView","blur","mappedColor","colorDefinitions","defaultColor","defaultColorValue","removeColorButtonLabel","colorPickerConfig","hideInput","backupColor","colorPickerButtonView","normalizedInputValue","normalizeColor","colorString","getBorderStyleLabels","none","solid","dotted","dashed","double","groove","ridge","inset","outset","getLocalizedColorErrorText","getLocalizedLengthErrorText","colorFieldValidator","isColor","lengthFieldValidator","isNumberString","lineWidthFieldValidator","getBorderStyleDefinitions","defaultStyle","styleLabels","_borderStyleValue","fillToolbar","icons","labels","propertyName","nameToValue","buttonValue","valueToCompare","defaultColors","getLabeledColorInputCreator","labeledFieldView","viewUid","statusUid","colorInputView","colorConfig","ariaDescribedById","parsedValue","TableCellPropertiesView","borderStyleDropdown","borderWidthInput","borderColorInput","backgroundInput","paddingInput","widthInput","heightInput","horizontalAlignmentToolbar","verticalAlignmentToolbar","borderStyle","borderWidth","borderColor","padding","horizontalAlignment","verticalAlignment","borderRowLabel","_createBorderFields","backgroundRowLabel","_createBackgroundFields","operatorLabel","dimensionsLabel","_createDimensionFields","alignmentLabel","_createAlignmentFields","_createPaddingField","_createActionButtons","chain","defaultTableCellProperties","colorInputCreator","borderColors","createLabeledDropdown","isBorderStyleSet","backgroundColors","ALIGNMENT_ICONS","justify","IconAlignTop","middle","IconAlignMiddle","IconAlignBottom","isContentRTL","isCompact","_horizontalAlignmentLabels","_verticalAlignmentLabels","fieldsThatShouldValidateToSave","errorTexts","BALLOON_POSITIONS","getBalloonCellPositionData","getBalloonTablePositionData","rects","modelTableCell","getTableCellAtPosition","viewTableCell","getBoundingRect","createBoundingRect","getSingleValue","objectOrString","addDefaultUnitToNumericValue","defaultUnit","getNormalizedDefaultProperties","includeAlignmentProperty","includePaddingProperty","includeVerticalAlignmentProperty","includeHorizontalAlignmentProperty","isRightToLeftContent","getNormalizedDefaultTableProperties","getNormalizedDefaultCellProperties","propertyToCommandMap","TableCellPropertiesUI","_defaultContentTableCellProperties","_defaultLayoutTableCellProperties","_viewWithContentTableDefaults","_viewWithLayoutTableDefaults","_isReady","IconTableCellProperties","_showView","isCommandEnabled","borderColorsConfig","localizedBorderColors","backgroundColorsConfig","localizedBackgroundColors","_hideView","_isViewInBalloon","colorErrorText","lengthErrorText","_getPropertyChangeCallback","_getValidatedPropertyChangeCallback","viewField","_fillViewFormFromCommandValues","borderStyleCommand","propertyKey","useDefaults","_updateView","_isViewVisible","setErrorTextDebounced","TableCellPropertyCommand","_defaultValue","_defaultContentTableValue","_defaultLayoutTableValue","_getSingleValue","valueToSet","_getValueToSet","_getAttribute","firstCellValue","TableCellWidthCommand","TableCellPaddingCommand","TableCellHeightCommand","TableCellBackgroundColorCommand","TableCellVerticalAlignmentCommand","TableCellHorizontalAlignmentCommand","TableCellBorderStyleCommand","TableCellBorderColorCommand","TableCellBorderWidthCommand","VALIGN_VALUES_REG_EXP","ALIGN_VALUES_REG_EXP","TableCellPropertiesEditing","addBorderRules","enableBorderProperties","addPaddingRules","align","enableHorizontalAlignmentProperty","valign","enableVerticalAlignmentProperty","TableCellProperties","TablePropertyCommand","TableBackgroundColorCommand","TableBorderColorCommand","TableBorderStyleCommand","TableBorderWidthCommand","TableWidthCommand","TableHeightCommand","TableAlignmentCommand","FLOAT_VALUES_REG_EXP","TablePropertiesEditing","defaultTableProperties","float","enableAlignmentProperty","enableTableToFigureProperty","TablePropertiesView","alignmentToolbar","backgroundInputCreator","_alignmentLabels","TablePropertiesUI","_defaultContentTableProperties","_defaultLayoutTableProperties","_createTablePropertiesButton","IconTableProperties","TableProperties","isTable","getCaptionFromTableModelElement","tableModelElement","matchTableCaptionViewElement","ToggleTableCaptionCommand","_hideTableCaption","_showTableCaption","tableCaptionEditing","TableCaptionEditing","captionsToMerge","firstCaption","tableCaptionPostFixer","TableCaptionUI","TableCaption","modelElementToPlainText","childText","WordCount","_config","_outputView","_wordsMatchRegExp","defineProperties","characters","_getCharacters","_getText","_getWords","features","isRegExpUnicodePropertySupported","throttleMs","throttle","_refreshStats","onUpdate","container","wordCountContainer","displayWords","displayCharacters","txt","CraftImageInsertUI","_ImageInsertUI","_classCallCheck","_callSuper","_inherits","_this","_assetSources","_createToolbarImageButton","_this2","_showImageSelectModal","_this3","criteria","Craft","createElementSelectorModal","storageKey","defaultSiteId","transforms","multiSelect","autoFocusSearchBox","onSelect","assets","transform","_processAssetUrls","closeOtherModals","_this4","defaultTransform","queue","Queue","urls","_step","_iterator","_createForOfIteratorHelper","_loop","asset","hasTransform","_isTransformUrl","_getTransformUrl","_buildAssetUrl","f","assetId","assetUrl","handle","_this5","sendActionRequest","_ref","alert","ImageInsertUI","CraftLinkUI","_Plugin","siteDropdownView","siteDropdownItemModels","localizedRefHandleRE","_linkUI","LinkUI","_createToolbarLinkButton","isMultiSite","_modifyFormViewTemplate","refHandlesPattern","craftcms","localizedRefHandles","linkOptions","linkOption","_showElementSelectorModal","_getLinkListItemDefinitions","onCancel","elementType","refHandle","siteId","Range","path","sites","site","_toConsumableArray","_urlInputRefMatch","ref","newUrl","_urlInputValue","urlInputIdx","_toggleSiteDropdownView","_selectSiteDropdownItem","itemModel","TransformImageCommand","_Command","_element","srcInfo","_srcInfo","hash","ImageTransformEditing","ImageUtils","transformImageCommand","RESIZE_ICON","IconObjectSizeMedium","ImageTransformUI","_registerImageTransformDropdown","originalSizeOption","DropdownButtonView","_getOptionLabelValue","_getTransformDropdownListItemDefinitions","ImageTransform","ImageEditorCommand","response","baseSrc","settings","allowSavingAsNew","onSave","_reloadImage","allowDegreeFractions","isImagick","AssetImageEditor","_getAllImageAssets","ImageEditorEditing","imageEditorCommand","ImageEditorUI","_registerImageEditorButton","ImageEditor","stringifyLanguageAttribute","languageCode","textDirection","getLanguageDirection","TextPartLanguageCommand","TextPartLanguageEditing","textPartLanguage","lang","parseLanguageAttribute","TextPartLanguageUI","_getItemMetadata","languageCommand","selectedLanguageTitle","ListSeparatorView","removeTitle","TextPartLanguage","_regeneratorRuntime","asyncIterator","u","Generator","Context","makeInvokeMethod","tryCatch","h","l","GeneratorFunction","GeneratorFunctionPrototype","p","g","defineIteratorMethods","_invoke","AsyncIterator","_typeof","__await","callInvokeWithMethodAndArg","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","resultName","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","displayName","isGeneratorFunction","mark","__proto__","awrap","async","charAt","rval","complete","finish","delegateYield","asyncGeneratorStep","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","_slicedToArray","allPlugins","selectAll","AutoLink","LinkEditing","Table","normalizeToolbarItems","group","$","normalizeToolbarItem","configOption","pluginButtonMap","registerPackage","pkg","pluginNames","_Object$entries","_Object$entries$_i","_i2","_Object$entries2","_Object$entries2$_i","v2","findPlugin","trackChangesInSourceMode","sourceEditing","$editorElement","$sourceElement","ns","random","$sourceEditingContainer","off","headingShortcuts","headingOptions","_callee","removePlugins","_context","_ref2","_ref3","licenseKey","viewEditableRoot","accessibleFieldName","describedBy","_next","_throw","_x","_x2"],"sourceRoot":""}